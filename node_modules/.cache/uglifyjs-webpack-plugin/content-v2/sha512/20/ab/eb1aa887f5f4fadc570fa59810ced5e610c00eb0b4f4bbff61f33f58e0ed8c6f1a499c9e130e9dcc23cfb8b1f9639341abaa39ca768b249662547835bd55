{"code":"!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=710)}([function(t,e,r){\"use strict\";(function(t){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nvar n=r(718),i=r(357),o=r(358);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError(\"Invalid typed array length\");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if(\"number\"==typeof t){if(\"string\"==typeof e)throw new Error(\"If encoding is specified then the first argument must be a string\");return h(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(e.byteLength<r+(n||0))throw new RangeError(\"'length' is out of bounds\");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=l(t,e);return t}(t,e,r,n):\"string\"==typeof e?function(t,e,r){\"string\"==typeof r&&\"\"!==r||(r=\"utf8\");if(!u.isEncoding(r))throw new TypeError('\"encoding\" must be a valid string encoding');var n=0|d(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if(\"undefined\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return\"number\"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):l(t,e);if(\"Buffer\"===e.type&&o(e.data))return l(t,e.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(t,e)}function f(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be a number');if(t<0)throw new RangeError('\"size\" argument must not be negative')}function h(t,e){if(f(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+s().toString(16)+\" bytes\");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;\"string\"!=typeof t&&(t=\"\"+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":case void 0:return U(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return F(t).length;default:if(n)return U(t).length;e=(\"\"+e).toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,i);if(\"number\"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function g(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(c(t,o+l)!==c(e,l)){h=!1;break}if(h)return o}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function v(t,e,r,n){return q(U(e,t.length-r),t,r,n)}function _(t,e,r,n){return q(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return _(t,e,r,n)}function S(t,e,r,n){return q(F(e),t,r,n)}function k(t,e,r,n){return q(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var r=\"\",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\"function\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?a(t,e):void 0!==r?\"string\"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError(\"Arguments must be Buffers\");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!u.isBuffer(s))throw new TypeError('\"list\" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?\"\":0===arguments.length?A(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(e>>>=0))return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return I(this,e,r);case\"utf8\":case\"utf-8\":return A(this,e,r);case\"ascii\":return T(this,e,r);case\"latin1\":case\"binary\":return B(this,e,r);case\"base64\":return E(this,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return C(this,e,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t=\"\",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\"hex\",0,r).match(/.{2}/g).join(\" \"),this.length>r&&(t+=\" ... \")),\"<Buffer \"+t+\">\"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError(\"out of range index\");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r),h=0;h<a;++h)if(c[h]!==f[h]){o=c[h],s=f[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n=\"utf8\",r=this.length,e=0;else if(void 0===r&&\"string\"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");e|=0,isFinite(r)?(r|=0,void 0===n&&(n=\"utf8\")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var o=!1;;)switch(n){case\"hex\":return b(this,t,e,r);case\"utf8\":case\"utf-8\":return v(this,t,e,r);case\"ascii\":return _(this,t,e,r);case\"latin1\":case\"binary\":return w(this,t,e,r);case\"base64\":return S(this,t,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return k(this,t,e,r);default:if(o)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function T(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function B(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",o=e;o<r;++o)i+=D(t[o]);return i}function C(t,e,r){for(var n=t.slice(e,r),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>r)throw new RangeError(\"Trying to access beyond buffer length\")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('\"value\" argument is out of bounds');if(r+n>t.length)throw new RangeError(\"Index out of range\")}function O(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function j(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function N(t,e,r,n,o){return o||j(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,o){return o||j(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if(\"string\"==typeof t){if(\"string\"==typeof e?(n=e,e=0,r=this.length):\"string\"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!u.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n)}else\"number\"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError(\"Out of range index\");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),\"number\"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:U(new u(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var K=/[^+\\/0-9A-Za-z-_]/g;function D(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}(t).replace(K,\"\")).length<2)return\"\";for(;t.length%4!=0;)t+=\"=\";return t}(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(5))},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(r(247));e.default=n.default,t.exports=e.default},function(t,e,r){var n=r(0),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),o(i,s),s.from=function(t,e,r){if(\"number\"==typeof t)throw new TypeError(\"Argument must not be a number\");return i(t,e,r)},s.alloc=function(t,e,r){if(\"number\"!=typeof t)throw new TypeError(\"Argument must be a number\");var n=i(t);return void 0!==e?\"string\"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if(\"number\"!=typeof t)throw new TypeError(\"Argument must be a number\");return i(t)},s.allocUnsafeSlow=function(t){if(\"number\"!=typeof t)throw new TypeError(\"Argument must be a number\");return n.SlowBuffer(t)}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error(\"First argument to waterfall must be an array of functions\"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(99)),i=c(r(65)),o=c(r(189)),s=c(r(110)),a=c(r(111)),u=c(r(38));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&\"env\"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(922)).log=function(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?\"%c\":\"\")+this.namespace+(r?\" %c\":\" \")+t[0]+(r?\"%c \":\" \")+\"+\"+e.humanize(this.diff),!r)return;var n=\"color: \"+this.color;t.splice(1,0,n,\"color: inherit\");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){\"%%\"!==t&&\"%c\"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem(\"debug\"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if(\"undefined\"!=typeof window&&window.process&&\"renderer\"===window.process.type)return!0;if(\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))return!1;return\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},e.storage=\"undefined\"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}},e.enable(i())}).call(this,r(7))},function(t,e){var r,n,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function s(){throw new Error(\"clearTimeout has not been defined\")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n=\"function\"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],f=!1,h=-1;function l(){f&&u&&(f=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!f){var t=a(l);f=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||f||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,r){var n=r(414);t.exports=n(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\")},function(t,e,r){\"use strict\";var n=r(889),i=r(895),o=r(900);for(var s in(e=t.exports=r(76)).pull=e,n)e[s]=n[s];for(var s in o)e[s]=o[s];for(var s in i)e[s]=i[s]},function(t,e,r){\"use strict\";(function(t){const n=r(8),i=r(415);e.names=i.names,e.codes=i.codes,e.defaultLengths=i.defaultLengths;const o=r(20);function s(t){e.decode(t)}e.toHexString=function(e){if(!t.isBuffer(e))throw new Error(\"must be passed a buffer\");return e.toString(\"hex\")},e.fromHexString=function(e){return t.from(e,\"hex\")},e.toB58String=function(e){if(!t.isBuffer(e))throw new Error(\"must be passed a buffer\");return n.encode(e)},e.fromB58String=function(e){let r=e;return t.isBuffer(e)&&(r=e.toString()),t.from(n.decode(r))},e.decode=function(r){if(!t.isBuffer(r))throw new Error(\"multihash must be a Buffer\");if(r.length<3)throw new Error(\"multihash too short. must be > 3 bytes.\");let n=o.decode(r);if(!e.isValidCode(n))throw new Error(`multihash unknown function code: 0x${n.toString(16)}`);r=r.slice(o.decode.bytes);let s=o.decode(r);if(s<1)throw new Error(`multihash invalid length: 0x${s.toString(16)}`);if((r=r.slice(o.decode.bytes)).length!==s)throw new Error(`multihash length inconsistent: 0x${r.toString(\"hex\")}`);return{code:n,name:i.codes[n],length:s,digest:r}},e.encode=function(r,n,i){if(!r||!n)throw new Error(\"multihash encode requires at least two args: digest, code\");const s=e.coerceCode(n);if(!t.isBuffer(r))throw new Error(\"digest should be a Buffer\");if(null==i&&(i=r.length),i&&r.length!==i)throw new Error(\"digest length should be equal to specified length.\");return t.concat([t.from(o.encode(s)),t.from(o.encode(i)),r])},e.coerceCode=function(t){let r=t;if(\"string\"==typeof t){if(!i.names[t])throw new Error(`Unrecognized hash function named: ${t}`);r=i.names[t]}if(\"number\"!=typeof r)throw new Error(`Hash function code should be a number. Got: ${r}`);if(!i.codes[r]&&!e.isAppCode(r))throw new Error(`Unrecognized function code: ${r}`);return r},e.isAppCode=function(t){return t>0&&t<16},e.isValidCode=function(t){return!!e.isAppCode(t)||!!i.codes[t]},e.validate=s,e.prefix=function(t){return s(t),t.slice(0,2)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){var n=r(984),i=r(988);t.exports=function(t,r){if(r||(r={}),!t)throw new Error(\"Pass in a .proto string or a protobuf-schema parsed object\");var o=\"object\"!=typeof t||e.isBuffer(t)?n.parse(t):t,s=function(){var t=this;i(o,r.encodings||{}).forEach(function(e){t[e.name]=function(t){if(!t)return null;var e={};return Object.keys(t).forEach(function(r){e[r]=t[r].value}),e}(e.values)||e})};return s.prototype.toString=function(){return n.stringify(o)},s.prototype.toJSON=function(){return o},new s}}).call(this,r(0).Buffer)},function(t,e){t.exports={options:{usePureJavaScript:!1}}},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(416),o=r(887),s=r(185),a=r(417),u=r(10),c=r(888);class f{constructor(t,r,s){if(f.isCID(t)){let r=t;return this.version=r.version,this.codec=r.codec,void(this.multihash=e.from(r.multihash))}if(\"string\"==typeof t)if(i.isEncoded(t)){const e=i.decode(t);t=parseInt(e.slice(0,1).toString(\"hex\"),16),r=o.getCodec(e.slice(1)),s=o.rmPrefix(e.slice(1))}else r=\"dag-pb\",s=n.fromB58String(t),t=0;else if(e.isBuffer(t)){const e=t.slice(0,1),n=parseInt(e.toString(\"hex\"),16);if(0===n||1===n){const e=t;t=n,r=o.getCodec(e.slice(1)),s=o.rmPrefix(e.slice(1))}else r=\"dag-pb\",s=t,t=0}this.codec=r,this.version=t,this.multihash=s,f.validateCID(this)}get buffer(){switch(this.version){case 0:return this.multihash;case 1:return e.concat([e.from(\"01\",\"hex\"),e.from(a[this.codec]),this.multihash]);default:throw new Error(\"unsupported version\")}}get prefix(){return e.concat([e.from(`0${this.version}`,\"hex\"),a[this.codec],u.prefix(this.multihash)])}toV0(){if(\"dag-pb\"!==this.codec)throw new Error(\"Cannot convert a non dag-pb CID to CIDv0\");return new f(0,this.codec,this.multihash)}toV1(){return new f(1,this.codec,this.multihash)}toBaseEncodedString(t){switch(t=t||\"base58btc\",this.version){case 0:if(\"base58btc\"!==t)throw new Error(\"not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()\");return n.toB58String(this.multihash);case 1:return i.encode(t,this.buffer).toString();default:throw new Error(\"Unsupported version\")}}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(t){return this.codec===t.codec&&this.version===t.version&&this.multihash.equals(t.multihash)}static isCID(t){return!c.checkCIDComponents(t)}static validateCID(t){let e=c.checkCIDComponents(t);if(e)throw new Error(e)}}f.codecs=s,t.exports=f}).call(this,r(0).Buffer)},function(t,e,r){t.exports=r(12),r(106),r(1108),r(82),r(288),r(515),r(212),r(1110),r(152),r(1111),r(517),r(1112),r(514),r(290),r(118),r(510),r(512),r(1113),r(504),r(511),r(508),r(292),r(71),r(509),r(1114),r(1115),r(503),r(18)},function(t,e,r){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction n(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function i(t){return e.Buffer&&\"function\"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=r(112),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,u=\"foo\"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(t){return!i(t)&&(\"function\"==typeof e.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=g,l=/\\s*function\\s+([^\\(\\s]*)\\s*/;function p(t){if(o.isFunction(t)){if(u)return t.name;var e=t.toString().match(l);return e&&e[1]}}function d(t,e){return\"string\"==typeof t?t.length<e?t:t.slice(0,e):t}function y(t){if(u||!o.isFunction(t))return o.inspect(t);var e=p(t);return\"[Function\"+(e?\": \"+e:\"\")+\"]\"}function m(t,e,r,n,i){throw new h.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function g(t,e){t||m(t,!0,e,\"==\",h.ok)}function b(t,e,r,s){if(t===e)return!0;if(i(t)&&i(e))return 0===n(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&\"object\"==typeof t||null!==e&&\"object\"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var u=(s=s||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),function(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=v(t),s=v(e);if(i&&!s||!i&&s)return!1;if(i)return t=a.call(t),e=a.call(e),b(t,e,r);var u,c,f=S(t),h=S(e);if(f.length!==h.length)return!1;for(f.sort(),h.sort(),c=f.length-1;c>=0;c--)if(f[c]!==h[c])return!1;for(c=f.length-1;c>=0;c--)if(u=f[c],!b(t[u],e[u],r,n))return!1;return!0}(t,e,r,s))}return r?t===e:t==e}function v(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}function _(t,e){if(!t||!e)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function w(t,e,r,n){var i;if(\"function\"!=typeof e)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?\" (\"+r.name+\").\":\".\")+(n?\" \"+n:\".\"),t&&!i&&m(i,r,\"Missing expected exception\"+n);var s=\"string\"==typeof n,a=!t&&o.isError(i),u=!t&&i&&!r;if((a&&s&&_(i,r)||u)&&m(i,r,\"Got unwanted exception\"+n),t&&i&&r&&!_(i,r)||!t&&i)throw i}h.AssertionError=function(t){this.name=\"AssertionError\",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return d(y(t.actual),128)+\" \"+t.operator+\" \"+d(y(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf(\"\\n\"+i);if(o>=0){var s=n.indexOf(\"\\n\",o+1);n=n.substring(s+1)}this.stack=n}}},o.inherits(h.AssertionError,Error),h.fail=m,h.ok=g,h.equal=function(t,e,r){t!=e&&m(t,e,r,\"==\",h.equal)},h.notEqual=function(t,e,r){t==e&&m(t,e,r,\"!=\",h.notEqual)},h.deepEqual=function(t,e,r){b(t,e,!1)||m(t,e,r,\"deepEqual\",h.deepEqual)},h.deepStrictEqual=function(t,e,r){b(t,e,!0)||m(t,e,r,\"deepStrictEqual\",h.deepStrictEqual)},h.notDeepEqual=function(t,e,r){b(t,e,!1)&&m(t,e,r,\"notDeepEqual\",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,r,n){b(e,r,!0)&&m(e,r,n,\"notDeepStrictEqual\",t)},h.strictEqual=function(t,e,r){t!==e&&m(t,e,r,\"===\",h.strictEqual)},h.notStrictEqual=function(t,e,r){t===e&&m(t,e,r,\"!==\",h.notStrictEqual)},h.throws=function(t,e,r){w(!0,t,e,r)},h.doesNotThrow=function(t,e,r){w(!1,t,e,r)},h.ifError=function(t){if(t)throw t};var S=Object.keys||function(t){var e=[];for(var r in t)s.call(t,r)&&e.push(r);return e}}).call(this,r(5))},function(t,e,r){(function(t){!function(t,e){\"use strict\";function n(t,e){if(!t)throw new Error(e||\"Assertion failed\")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(\"le\"!==e&&\"be\"!==e||(r=e,e=10),this._init(t||0,e||10,r||\"be\"))}var s;\"object\"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(801).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&\"object\"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if(\"number\"==typeof t)return this._initNumber(t,e,r);if(\"object\"==typeof t)return this._initArray(t,e,r);\"hex\"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;\"-\"===(t=t.toString().replace(/\\s+/g,\"\"))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),\"-\"===t[0]&&(this.negative=1),this.strip(),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n(\"number\"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if(\"be\"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if(\"le\"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"};var c=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=l;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||\"hex\"===t){r=\"\";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],p=h[t];r=\"\";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?y+r:c[l-y.length]+y+r}for(this.isZero()&&(r=\"0\"+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}n(!1,\"Base should be between 2 and 36\")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,\"Number can only safely store up to 53 bits\"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,\"byte array longer than desired length\"),n(o>0,\"Requested array length <= 0\"),this.strip();var s,a,u=\"le\"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n(\"number\"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n(\"number\"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],h=8191&f,l=f>>>13,p=0|s[1],d=8191&p,y=p>>>13,m=0|s[2],g=8191&m,b=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],k=8191&S,E=S>>>13,A=0|s[5],x=8191&A,T=A>>>13,B=0|s[6],I=8191&B,C=B>>>13,M=0|s[7],P=8191&M,O=M>>>13,R=0|s[8],j=8191&R,N=R>>>13,L=0|s[9],K=8191&L,D=L>>>13,U=0|a[0],F=8191&U,q=U>>>13,H=0|a[1],z=8191&H,V=H>>>13,G=0|a[2],W=8191&G,$=G>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],ht=8191&ft,lt=ft>>>13,pt=0|a[9],dt=8191&pt,yt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(c+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(l,F)|0))<<13)|0;c=((o=Math.imul(l,q))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(d,F),i=(i=Math.imul(d,q))+Math.imul(y,F)|0,o=Math.imul(y,q);var gt=(c+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(l,z)|0))<<13)|0;c=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,q))+Math.imul(b,F)|0,o=Math.imul(b,q),n=n+Math.imul(d,z)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,V)|0;var bt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(l,W)|0))<<13)|0;c=((o=o+Math.imul(l,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,q))+Math.imul(w,F)|0,o=Math.imul(w,q),n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,V)|0,n=n+Math.imul(d,W)|0,i=(i=i+Math.imul(d,$)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,$)|0;var vt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,q))+Math.imul(E,F)|0,o=Math.imul(E,q),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,z)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,$)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var _t=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,q))+Math.imul(T,F)|0,o=Math.imul(T,q),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(E,z)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,q))+Math.imul(C,F)|0,o=Math.imul(C,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,q))+Math.imul(O,F)|0,o=Math.imul(O,q),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var kt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,q))+Math.imul(N,F)|0,o=Math.imul(N,q),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(K,F),i=(i=Math.imul(K,q))+Math.imul(D,F)|0,o=Math.imul(D,q),n=n+Math.imul(j,z)|0,i=(i=i+Math.imul(j,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ct)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,lt)|0;var At=(c+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,yt)|0)+Math.imul(l,dt)|0))<<13)|0;c=((o=o+Math.imul(l,yt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(K,z),i=(i=Math.imul(K,V))+Math.imul(D,z)|0,o=Math.imul(D,V),n=n+Math.imul(j,W)|0,i=(i=i+Math.imul(j,$)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,lt)|0;var xt=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,yt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,W),i=(i=Math.imul(K,$))+Math.imul(D,W)|0,o=Math.imul(D,$),n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,lt)|0;var Tt=(c+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,yt)|0)+Math.imul(b,dt)|0))<<13)|0;c=((o=o+Math.imul(b,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(K,J),i=(i=Math.imul(K,Z))+Math.imul(D,J)|0,o=Math.imul(D,Z),n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(_,dt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,dt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,Q),i=(i=Math.imul(K,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,lt)|0;var It=(c+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(E,dt)|0))<<13)|0;c=((o=o+Math.imul(E,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,rt),i=(i=Math.imul(K,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,lt)|0;var Ct=(c+(n=n+Math.imul(x,dt)|0)|0)+((8191&(i=(i=i+Math.imul(x,yt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(K,ot),i=(i=Math.imul(K,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Mt=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,yt)|0)+Math.imul(C,dt)|0))<<13)|0;c=((o=o+Math.imul(C,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(K,ut),i=(i=Math.imul(K,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(j,ht)|0,i=(i=i+Math.imul(j,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Pt=(c+(n=n+Math.imul(P,dt)|0)|0)+((8191&(i=(i=i+Math.imul(P,yt)|0)+Math.imul(O,dt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(K,ht),i=(i=Math.imul(K,lt))+Math.imul(D,ht)|0,o=Math.imul(D,lt);var Ot=(c+(n=n+Math.imul(j,dt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(N,dt)|0))<<13)|0;c=((o=o+Math.imul(N,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Rt=(c+(n=Math.imul(K,dt))|0)+((8191&(i=(i=Math.imul(K,yt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=mt,u[1]=gt,u[2]=bt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=kt,u[8]=Et,u[9]=At,u[10]=xt,u[11]=Tt,u[12]=Bt,u[13]=It,u[14]=Ct,u[15]=Mt,u[16]=Pt,u[17]=Ot,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(p=l),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?l(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;a=67108863&(l=l+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var h=u,l=c,p=0;p<s;p++){var d=r[f+p],y=n[f+p],m=r[f+p+s],g=n[f+p+s],b=h*m-l*g;g=h*g+l*m,m=b,r[f+p]=d+m,n[f+p]=y+g,r[f+p+s]=d-m,n[f+p+s]=y-g,p!==a&&(b=u*h-c*l,l=u*l+c*h,h=b)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,h,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*h[p];u[p]=a[p]*h[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n(\"number\"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n(\"number\"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n(\"number\"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,\"imaskn works only with positive numbers\"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n(\"number\"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n(\"number\"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if(\"mod\"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(i,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=l)}return a&&a.strip(),n.strip(),\"div\"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),\"mod\"!==e&&(i=a.div.neg()),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),\"mod\"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?\"div\"===e?{div:this.divn(t.words[0]),mod:null}:\"mod\"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,\"div\",!1).div},o.prototype.mod=function(t){return this.divmod(t,\"mod\",!1).mod},o.prototype.umod=function(t){return this.divmod(t,\"mod\",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),h=e.clone();!e.isZero();){for(var l=0,p=1;0==(e.words[0]&p)&&l<26;++l,p<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var d=0,y=1;0==(r.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,l=1;0==(r.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n(\"number\"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,\"Number is too big\");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,\"Already a number in reduction context\"),n(0===this.negative,\"red works only with positives\"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,\"Already a number in reduction context\"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,\"redAdd works only with red numbers\"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,\"redSub works only with red numbers\"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,\"redISub works only with red numbers\"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,\"redShl works only with red numbers\"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}function v(){g.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}function _(){g.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}function w(){g.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}function S(t){if(\"string\"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),\"modulus must be greater than 1\"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(b,g),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,g),i(_,g),i(w,g),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if(\"k256\"===t)e=new b;else if(\"p224\"===t)e=new v;else if(\"p192\"===t)e=new _;else{if(\"p25519\"!==t)throw new Error(\"Unknown prime \"+t);e=new w}return m[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,\"red works only with positives\"),n(t.red,\"red works only with red numbers\")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),\"red works only with positives\"),n(t.red&&t.red===e.red,\"red works only with red numbers\")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,i),l=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var y=p,m=0;0!==y.cmp(a);m++)y=y.redSqr();n(m<d);var g=this.pow(h,new o(1).iushln(d-m-1));l=l.redMul(g),h=g.redSqr(),p=p.redMul(h),d=m}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(26)(t))},function(t,e,r){(function(t,n){var i;\n/**\n * @license\n * lodash 3.10.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */(function(){var o,s=\"3.10.1\",a=1,u=2,c=4,f=8,h=16,l=32,p=64,d=128,y=256,m=30,g=\"...\",b=150,v=16,_=200,w=1,S=2,k=\"Expected a function\",E=\"__lodash_placeholder__\",A=\"[object Arguments]\",x=\"[object Array]\",T=\"[object Boolean]\",B=\"[object Date]\",I=\"[object Error]\",C=\"[object Function]\",M=\"[object Number]\",P=\"[object Object]\",O=\"[object RegExp]\",R=\"[object String]\",j=\"[object ArrayBuffer]\",N=\"[object Float32Array]\",L=\"[object Float64Array]\",K=\"[object Int8Array]\",D=\"[object Int16Array]\",U=\"[object Int32Array]\",F=\"[object Uint8Array]\",q=\"[object Uint8ClampedArray]\",H=\"[object Uint16Array]\",z=\"[object Uint32Array]\",V=/\\b__p \\+= '';/g,G=/\\b(__p \\+=) '' \\+/g,W=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,$=/&(?:amp|lt|gt|quot|#39|#96);/g,Y=/[&<>\"'`]/g,J=RegExp($.source),Z=RegExp(Y.source),X=/<%-([\\s\\S]+?)%>/g,Q=/<%([\\s\\S]+?)%>/g,tt=/<%=([\\s\\S]+?)%>/g,et=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,rt=/^\\w*$/,nt=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,it=/^[:!,]|[\\\\^$.*+?()[\\]{}|\\/]|(^[0-9a-fA-Fnrtuvx])|([\\n\\r\\u2028\\u2029])/g,ot=RegExp(it.source),st=/[\\u0300-\\u036f\\ufe20-\\ufe23]/g,at=/\\\\(\\\\)?/g,ut=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,ct=/\\w*$/,ft=/^0[xX]/,ht=/^\\[object .+?Constructor\\]$/,lt=/^\\d+$/,pt=/[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g,dt=/($^)/,yt=/['\\n\\r\\u2028\\u2029\\\\]/g,mt=function(){var t=\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",e=\"[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+\";return RegExp(t+\"+(?=\"+t+e+\")|\"+t+\"?\"+e+\"|\"+t+\"+|[0-9]+\",\"g\")}(),gt=[\"Array\",\"ArrayBuffer\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Math\",\"Number\",\"Object\",\"RegExp\",\"Set\",\"String\",\"_\",\"clearTimeout\",\"isFinite\",\"parseFloat\",\"parseInt\",\"setTimeout\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\"],bt=-1,vt={};vt[N]=vt[L]=vt[K]=vt[D]=vt[U]=vt[F]=vt[q]=vt[H]=vt[z]=!0,vt[A]=vt[x]=vt[j]=vt[T]=vt[B]=vt[I]=vt[C]=vt[\"[object Map]\"]=vt[M]=vt[P]=vt[O]=vt[\"[object Set]\"]=vt[R]=vt[\"[object WeakMap]\"]=!1;var _t={};_t[A]=_t[x]=_t[j]=_t[T]=_t[B]=_t[N]=_t[L]=_t[K]=_t[D]=_t[U]=_t[M]=_t[P]=_t[O]=_t[R]=_t[F]=_t[q]=_t[H]=_t[z]=!0,_t[I]=_t[C]=_t[\"[object Map]\"]=_t[\"[object Set]\"]=_t[\"[object WeakMap]\"]=!1;var wt={\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"Ç\":\"C\",\"ç\":\"c\",\"Ð\":\"D\",\"ð\":\"d\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"Ñ\":\"N\",\"ñ\":\"n\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"Ý\":\"Y\",\"ý\":\"y\",\"ÿ\":\"y\",\"Æ\":\"Ae\",\"æ\":\"ae\",\"Þ\":\"Th\",\"þ\":\"th\",\"ß\":\"ss\"},St={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"`\":\"&#96;\"},kt={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\",\"&#96;\":\"`\"},Et={function:!0,object:!0},At={0:\"x30\",1:\"x31\",2:\"x32\",3:\"x33\",4:\"x34\",5:\"x35\",6:\"x36\",7:\"x37\",8:\"x38\",9:\"x39\",A:\"x41\",B:\"x42\",C:\"x43\",D:\"x44\",E:\"x45\",F:\"x46\",a:\"x61\",b:\"x62\",c:\"x63\",d:\"x64\",e:\"x65\",f:\"x66\",n:\"x6e\",r:\"x72\",t:\"x74\",u:\"x75\",v:\"x76\",x:\"x78\"},xt={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Tt=Et[typeof e]&&e&&!e.nodeType&&e,Bt=Et[typeof t]&&t&&!t.nodeType&&t,It=Tt&&Bt&&\"object\"==typeof n&&n&&n.Object&&n,Ct=Et[typeof self]&&self&&self.Object&&self,Mt=Et[typeof window]&&window&&window.Object&&window,Pt=(Bt&&Bt.exports,It||Mt!==(this&&this.window)&&Mt||Ct||this);function Ot(t,e){if(t!==e){var r=null===t,n=t===o,i=t==t,s=null===e,a=e===o,u=e==e;if(t>e&&!s||!i||r&&!a&&u||n&&u)return 1;if(t<e&&!r||!u||s&&!n&&i||a&&i)return-1}return 0}function Rt(t,e,r){for(var n=t.length,i=r?n:-1;r?i--:++i<n;)if(e(t[i],i,t))return i;return-1}function jt(t,e,r){if(e!=e)return Vt(t,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Nt(t){return\"function\"==typeof t||!1}function Lt(t){return null==t?\"\":t+\"\"}function Kt(t,e){for(var r=-1,n=t.length;++r<n&&e.indexOf(t.charAt(r))>-1;);return r}function Dt(t,e){for(var r=t.length;r--&&e.indexOf(t.charAt(r))>-1;);return r}function Ut(t,e){return Ot(t.criteria,e.criteria)||t.index-e.index}function Ft(t){return wt[t]}function qt(t){return St[t]}function Ht(t,e,r){return e?t=At[t]:r&&(t=xt[t]),\"\\\\\"+t}function zt(t){return\"\\\\\"+xt[t]}function Vt(t,e,r){for(var n=t.length,i=e+(r?0:-1);r?i--:++i<n;){var o=t[i];if(o!=o)return i}return-1}function Gt(t){return!!t&&\"object\"==typeof t}function Wt(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function $t(t,e){for(var r=-1,n=t.length,i=-1,o=[];++r<n;)t[r]===e&&(t[r]=E,o[++i]=r);return o}function Yt(t){for(var e=-1,r=t.length;++e<r&&Wt(t.charCodeAt(e)););return e}function Jt(t){for(var e=t.length;e--&&Wt(t.charCodeAt(e)););return e}function Zt(t){return kt[t]}var Xt=function t(e){var r=(e=e?Xt.defaults(Pt.Object(),e,Xt.pick(Pt,gt)):Pt).Array,n=e.Date,i=e.Error,wt=e.Function,St=e.Math,kt=e.Number,Et=e.Object,At=e.RegExp,xt=e.String,Tt=e.TypeError,Bt=r.prototype,It=Et.prototype,Ct=xt.prototype,Mt=wt.prototype.toString,Wt=It.hasOwnProperty,Qt=0,te=It.toString,ee=Pt._,re=At(\"^\"+Mt.call(Wt).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),ne=e.ArrayBuffer,ie=e.clearTimeout,oe=e.parseFloat,se=St.pow,ae=It.propertyIsEnumerable,ue=bn(e,\"Set\"),ce=e.setTimeout,fe=Bt.splice,he=e.Uint8Array,le=bn(e,\"WeakMap\"),pe=St.ceil,de=bn(Et,\"create\"),ye=St.floor,me=bn(r,\"isArray\"),ge=e.isFinite,be=bn(Et,\"keys\"),ve=St.max,_e=St.min,we=bn(n,\"now\"),Se=e.parseInt,ke=St.random,Ee=kt.NEGATIVE_INFINITY,Ae=kt.POSITIVE_INFINITY,xe=4294967295,Te=xe-1,Be=xe>>>1,Ie=9007199254740991,Ce=le&&new le,Me={};function Pe(t){if(Gt(t)&&!zi(t)&&!(t instanceof je)){if(t instanceof Re)return t;if(Wt.call(t,\"__chain__\")&&Wt.call(t,\"__wrapped__\"))return Rn(t)}return new Re(t)}function Oe(){}function Re(t,e,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!e}Pe.support={};function je(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function Ne(){this.__data__={}}function Le(t){var e=t?t.length:0;for(this.data={hash:de(null),set:new ue};e--;)this.push(t[e])}function Ke(t,e){var r=t.data;return(\"string\"==typeof e||$i(e)?r.set.has(e):r.hash[e])?0:-1}function De(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Ue(t,e){for(var r=-1,n=t.length;++r<n&&!1!==e(t[r],r,t););return t}function Fe(t,e){for(var r=-1,n=t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function qe(t,e){for(var r=-1,n=t.length,i=-1,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[++i]=s)}return o}function He(t,e){for(var n=-1,i=t.length,o=r(i);++n<i;)o[n]=e(t[n],n,t);return o}function ze(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Ve(t,e,r,n){var i=-1,o=t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Ge(t,e){for(var r=-1,n=t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function We(t,e,r,n){return t!==o&&Wt.call(n,r)?t:e}function $e(t,e,r){for(var n=-1,i=mo(e),s=i.length;++n<s;){var a=i[n],u=t[a],c=r(u,e[a],a,t,e);(c==c?c===u:u!=u)&&(u!==o||a in t)||(t[a]=c)}return t}function Ye(t,e){return null==e?t:Ze(e,mo(e),t)}function Je(t,e){for(var n=-1,i=null==t,s=!i&&_n(t),a=s?t.length:0,u=e.length,c=r(u);++n<u;){var f=e[n];c[n]=s?wn(f,a)?t[f]:o:i?o:t[f]}return c}function Ze(t,e,r){r||(r={});for(var n=-1,i=e.length;++n<i;){var o=e[n];r[o]=t[o]}return r}function Xe(t,e,r){var n=typeof t;return\"function\"==n?e===o?t:jr(t,e,r):null==t?No:\"object\"==n?vr(t):e===o?qo(t):_r(t,e)}function Qe(t,e,r,n,i,s,a){var u;if(r&&(u=i?r(t,n,i):r(t)),u!==o)return u;if(!$i(t))return t;var c=zi(t);if(c){if(u=function(t){var e=t.length,r=new t.constructor(e);return e&&\"string\"==typeof t[0]&&Wt.call(t,\"index\")&&(r.index=t.index,r.input=t.input),r}(t),!e)return De(t,u)}else{var f=te.call(t),h=f==C;if(f!=P&&f!=A&&(!h||i))return _t[f]?function(t,e,r){var n=t.constructor;switch(e){case j:return Nr(t);case T:case B:return new n(+t);case N:case L:case K:case D:case U:case F:case q:case H:case z:var i=t.buffer;return new n(r?Nr(i):i,t.byteOffset,t.length);case M:case R:return new n(t);case O:var o=new n(t.source,ct.exec(t));o.lastIndex=t.lastIndex}return o}(t,f,e):i?t:{};if(u=function(t){var e=t.constructor;return\"function\"==typeof e&&e instanceof e||(e=Et),new e}(h?{}:t),!e)return Ye(u,t)}s||(s=[]),a||(a=[]);for(var l=s.length;l--;)if(s[l]==t)return a[l];return s.push(t),a.push(u),(c?Ue:lr)(t,function(n,i){u[i]=Qe(n,e,r,i,t,s,a)}),u}Pe.templateSettings={escape:X,evaluate:Q,interpolate:tt,variable:\"\",imports:{_:Pe}};var tr=function(){function t(){}return function(e){if($i(e)){t.prototype=e;var r=new t;t.prototype=o}return r||{}}}();function er(t,e,r){if(\"function\"!=typeof t)throw new Tt(k);return ce(function(){t.apply(o,r)},e)}function rr(t,e){var r=t?t.length:0,n=[];if(!r)return n;var i=-1,o=yn(),s=o==jt,a=s&&e.length>=_?Hr(e):null,u=e.length;a&&(o=Ke,s=!1,e=a);t:for(;++i<r;){var c=t[i];if(s&&c==c){for(var f=u;f--;)if(e[f]===c)continue t;n.push(c)}else o(e,c,0)<0&&n.push(c)}return n}var nr=Fr(lr),ir=Fr(pr,!0);function or(t,e){var r=!0;return nr(t,function(t,n,i){return r=!!e(t,n,i)}),r}function sr(t,e){var r=[];return nr(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function ar(t,e,r,n){var i;return r(t,function(t,r,o){if(e(t,r,o))return i=n?r:t,!1}),i}function ur(t,e,r,n){n||(n=[]);for(var i=-1,o=t.length;++i<o;){var s=t[i];Gt(s)&&_n(s)&&(r||zi(s)||Hi(s))?e?ur(s,e,r,n):ze(n,s):r||(n[n.length]=s)}return n}var cr=qr(),fr=qr(!0);function hr(t,e){return cr(t,e,go)}function lr(t,e){return cr(t,e,mo)}function pr(t,e){return fr(t,e,mo)}function dr(t,e){for(var r=-1,n=e.length,i=-1,o=[];++r<n;){var s=e[r];Wi(t[s])&&(o[++i]=s)}return o}function yr(t,e,r){if(null!=t){r!==o&&r in Pn(t)&&(e=[r]);for(var n=0,i=e.length;null!=t&&n<i;)t=t[e[n++]];return n&&n==i?t:o}}function mr(t,e,r,n,i,s){return t===e||(null==t||null==e||!$i(t)&&!Gt(e)?t!=t&&e!=e:function(t,e,r,n,i,s,a){var u=zi(t),c=zi(e),f=x,h=x;u||((f=te.call(t))==A?f=P:f!=P&&(u=to(t))),c||((h=te.call(e))==A?h=P:h!=P&&(c=to(e)));var l=f==P,p=h==P,d=f==h;if(d&&!u&&!l)return function(t,e,r){switch(r){case T:case B:return+t==+e;case I:return t.name==e.name&&t.message==e.message;case M:return t!=+t?e!=+e:t==+e;case O:case R:return t==e+\"\"}return!1}(t,e,f);if(!i){var y=l&&Wt.call(t,\"__wrapped__\"),m=p&&Wt.call(e,\"__wrapped__\");if(y||m)return r(y?t.value():t,m?e.value():e,n,i,s,a)}if(!d)return!1;s||(s=[]),a||(a=[]);for(var g=s.length;g--;)if(s[g]==t)return a[g]==e;s.push(t),a.push(e);var b=(u?function(t,e,r,n,i,s,a){var u=-1,c=t.length,f=e.length;if(c!=f&&!(i&&f>c))return!1;for(;++u<c;){var h=t[u],l=e[u],p=n?n(i?l:h,i?h:l,u):o;if(p!==o){if(p)continue;return!1}if(i){if(!Ge(e,function(t){return h===t||r(h,t,n,i,s,a)}))return!1}else if(h!==l&&!r(h,l,n,i,s,a))return!1}return!0}:function(t,e,r,n,i,s,a){var u=mo(t),c=u.length,f=mo(e).length;if(c!=f&&!i)return!1;for(var h=c;h--;){var l=u[h];if(!(i?l in e:Wt.call(e,l)))return!1}for(var p=i;++h<c;){l=u[h];var d=t[l],y=e[l],m=n?n(i?y:d,i?d:y,l):o;if(!(m===o?r(d,y,n,i,s,a):m))return!1;p||(p=\"constructor\"==l)}if(!p){var g=t.constructor,b=e.constructor;if(g!=b&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof g&&g instanceof g&&\"function\"==typeof b&&b instanceof b))return!1}return!0})(t,e,r,n,i,s,a);return s.pop(),a.pop(),b}(t,e,mr,r,n,i,s))}function gr(t,e,r){var n=e.length,i=n,s=!r;if(null==t)return!i;for(t=Pn(t);n--;){var a=e[n];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<i;){var u=(a=e[n])[0],c=t[u],f=a[1];if(s&&a[2]){if(c===o&&!(u in t))return!1}else{var h=r?r(c,f,u):o;if(!(h===o?mr(f,c,r,!0):h))return!1}}return!0}function br(t,e){var n=-1,i=_n(t)?r(t.length):[];return nr(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function vr(t){var e=gn(t);if(1==e.length&&e[0][2]){var r=e[0][0],n=e[0][1];return function(t){return null!=t&&t[r]===n&&(n!==o||r in Pn(t))}}return function(t){return gr(t,e)}}function _r(t,e){var r=zi(t),n=kn(t)&&xn(e),i=t+\"\";return t=On(t),function(s){if(null==s)return!1;var a=i;if(s=Pn(s),(r||!n)&&!(a in s)){if(null==(s=1==t.length?s:yr(s,Ar(t,0,-1))))return!1;a=Hn(t),s=Pn(s)}return s[a]===e?e!==o||a in s:mr(e,s[a],o,!0)}}function wr(t){return function(e){return null==e?o:e[t]}}function Sr(t,e){for(var r=t?e.length:0;r--;){var n=e[r];if(n!=i&&wn(n)){var i=n;fe.call(t,n,1)}}return t}function kr(t,e){return t+ye(ke()*(e-t+1))}var Er=Ce?function(t,e){return Ce.set(t,e),t}:No;function Ar(t,e,n){var i=-1,s=t.length;(e=null==e?0:+e||0)<0&&(e=-e>s?0:s+e),(n=n===o||n>s?s:+n||0)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var a=r(s);++i<s;)a[i]=t[i+e];return a}function xr(t,e){var r;return nr(t,function(t,n,i){return!(r=e(t,n,i))}),!!r}function Tr(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function Br(t,e,r){var n=ln(),i=-1;return e=He(e,function(t){return n(t)}),Tr(br(t,function(t){return{criteria:He(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var u=Ot(i[n],o[n]);if(u){if(n>=a)return u;var c=r[n];return u*(\"asc\"===c||!0===c?1:-1)}}return t.index-e.index}(t,e,r)})}function Ir(t,e){var r=-1,n=yn(),i=t.length,o=n==jt,s=o&&i>=_,a=s?Hr():null,u=[];a?(n=Ke,o=!1):(s=!1,a=e?[]:u);t:for(;++r<i;){var c=t[r],f=e?e(c,r,t):c;if(o&&c==c){for(var h=a.length;h--;)if(a[h]===f)continue t;e&&a.push(f),u.push(c)}else n(a,f,0)<0&&((e||s)&&a.push(f),u.push(c))}return u}function Cr(t,e){for(var n=-1,i=e.length,o=r(i);++n<i;)o[n]=t[e[n]];return o}function Mr(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Ar(t,n?0:o,n?o+1:i):Ar(t,n?o+1:0,n?i:o)}function Pr(t,e){var r=t;r instanceof je&&(r=r.value());for(var n=-1,i=e.length;++n<i;){var o=e[n];r=o.func.apply(o.thisArg,ze([r],o.args))}return r}function Or(t,e,r){var n=0,i=t?t.length:n;if(\"number\"==typeof e&&e==e&&i<=Be){for(;n<i;){var o=n+i>>>1,s=t[o];(r?s<=e:s<e)&&null!==s?n=o+1:i=o}return i}return Rr(t,e,No,r)}function Rr(t,e,r,n){e=r(e);for(var i=0,s=t?t.length:0,a=e!=e,u=null===e,c=e===o;i<s;){var f=ye((i+s)/2),h=r(t[f]),l=h!==o,p=h==h;if(a)var d=p||n;else d=u?p&&l&&(n||null!=h):c?p&&(n||l):null!=h&&(n?h<=e:h<e);d?i=f+1:s=f}return _e(s,Te)}function jr(t,e,r){if(\"function\"!=typeof t)return No;if(e===o)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)};case 5:return function(r,n,i,o,s){return t.call(e,r,n,i,o,s)}}return function(){return t.apply(e,arguments)}}function Nr(t){var e=new ne(t.byteLength);return new he(e).set(new he(t)),e}function Lr(t,e,n){for(var i=n.length,o=-1,s=ve(t.length-i,0),a=-1,u=e.length,c=r(u+s);++a<u;)c[a]=e[a];for(;++o<i;)c[n[o]]=t[o];for(;s--;)c[a++]=t[o++];return c}function Kr(t,e,n){for(var i=-1,o=n.length,s=-1,a=ve(t.length-o,0),u=-1,c=e.length,f=r(a+c);++s<a;)f[s]=t[s];for(var h=s;++u<c;)f[h+u]=e[u];for(;++i<o;)f[h+n[i]]=t[s++];return f}function Dr(t,e){return function(r,n,i){var o=e?e():{};if(n=ln(n,i,3),zi(r))for(var s=-1,a=r.length;++s<a;){var u=r[s];t(o,u,n(u,s,r),r)}else nr(r,function(e,r,i){t(o,e,n(e,r,i),i)});return o}}function Ur(t){return Fi(function(e,r){var n=-1,i=null==e?0:r.length,s=i>2?r[i-2]:o,a=i>2?r[2]:o,u=i>1?r[i-1]:o;for(\"function\"==typeof s?(s=jr(s,u,5),i-=2):i-=(s=\"function\"==typeof u?u:o)?1:0,a&&Sn(r[0],r[1],a)&&(s=i<3?o:s,i=1);++n<i;){var c=r[n];c&&t(e,c,s)}return e})}function Fr(t,e){return function(r,n){var i=r?mn(r):0;if(!An(i))return t(r,n);for(var o=e?i:-1,s=Pn(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function qr(t){return function(e,r,n){for(var i=Pn(e),o=n(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var u=o[a];if(!1===r(i[u],u,i))break}return e}}function Hr(t){return de&&ue?new Le(t):null}function zr(t){return function(e){for(var r=-1,n=Oo(Ao(e)),i=n.length,o=\"\";++r<i;)o=t(o,n[r],r);return o}}function Vr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=tr(t.prototype),n=t.apply(r,e);return $i(n)?n:r}}function Gr(t){return function e(r,n,i){i&&Sn(r,n,i)&&(n=o);var s=hn(r,t,o,o,o,o,o,n);return s.placeholder=e.placeholder,s}}function Wr(t,e){return Fi(function(r){var n=r[0];return null==n?n:(r.push(e),t.apply(o,r))})}function $r(t,e){return function(r,n,i){if(i&&Sn(r,n,i)&&(n=o),1==(n=ln(n,i,3)).length){var s=function(t,e,r,n){for(var i=-1,o=t.length,s=n,a=s;++i<o;){var u=t[i],c=+e(u);r(c,s)&&(s=c,a=u)}return a}(r=zi(r)?r:Mn(r),n,t,e);if(!r.length||s!==e)return s}return function(t,e,r,n){var i=n,o=i;return nr(t,function(t,s,a){var u=+e(t,s,a);(r(u,i)||u===n&&u===o)&&(i=u,o=t)}),o}(r,n,t,e)}}function Yr(t,e){return function(r,n,i){if(n=ln(n,i,3),zi(r)){var s=Rt(r,n,e);return s>-1?r[s]:o}return ar(r,n,t)}}function Jr(t){return function(e,r,n){return e&&e.length?Rt(e,r=ln(r,n,3),t):-1}}function Zr(t){return function(e,r,n){return ar(e,r=ln(r,n,3),t,!0)}}function Xr(t){return function(){for(var e,n=arguments.length,i=t?n:-1,s=0,a=r(n);t?i--:++i<n;){var u=a[s++]=arguments[i];if(\"function\"!=typeof u)throw new Tt(k);!e&&Re.prototype.thru&&\"wrapper\"==dn(u)&&(e=new Re([],!0))}for(i=e?-1:n;++i<n;){var c=dn(u=a[i]),h=\"wrapper\"==c?pn(u):o;e=h&&En(h[0])&&h[1]==(d|f|l|y)&&!h[4].length&&1==h[9]?e[dn(h[0])].apply(e,h[3]):1==u.length&&En(u)?e[c]():e.thru(u)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&zi(r)&&r.length>=_)return e.plant(r).value();for(var i=0,o=n?a[i].apply(this,t):r;++i<n;)o=a[i].call(this,o);return o}}}function Qr(t,e){return function(r,n,i){return\"function\"==typeof n&&i===o&&zi(r)?t(r,n):e(r,jr(n,i,3))}}function tn(t){return function(e,r,n){return\"function\"==typeof r&&n===o||(r=jr(r,n,3)),t(e,r,go)}}function en(t){return function(e,r,n){return\"function\"==typeof r&&n===o||(r=jr(r,n,3)),t(e,r)}}function rn(t){return function(e,r,n){var i={};return r=ln(r,n,3),lr(e,function(e,n,o){var s=r(e,n,o);n=t?s:n,e=t?e:s,i[n]=e}),i}}function nn(t){return function(e,r,n){return e=Lt(e),(t?e:\"\")+un(e,r,n)+(t?\"\":e)}}function on(t){var e=Fi(function(r,n){var i=$t(n,e.placeholder);return hn(r,t,o,n,i)});return e}function sn(t,e){return function(r,n,i,s){var a=arguments.length<3;return\"function\"==typeof n&&s===o&&zi(r)?t(r,n,i,a):function(t,e,r,n,i){return i(t,function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)}),r}(r,ln(n,s,4),i,a,e)}}function an(t,e,n,i,s,y,m,g,b,v){var _=e&d,w=e&a,S=e&u,k=e&f,E=e&c,A=e&h,x=S?o:Vr(t);return function c(){for(var f=arguments.length,h=f,d=r(f);h--;)d[h]=arguments[h];if(i&&(d=Lr(d,i,s)),y&&(d=Kr(d,y,m)),k||A){var T=c.placeholder,B=$t(d,T);if((f-=B.length)<v){var I=g?De(g):o,C=ve(v-f,0);e|=k?l:p,e&=~(k?p:l),E||(e&=~(a|u));var M=[t,e,n,k?d:o,k?B:o,k?o:d,k?o:B,I,b,C],P=an.apply(o,M);return En(t)&&In(P,M),P.placeholder=T,P}}var O=w?n:this,R=S?O[t]:t;return g&&(d=function(t,e){for(var r=t.length,n=_e(e.length,r),i=De(t);n--;){var s=e[n];t[n]=wn(s,r)?i[s]:o}return t}(d,g)),_&&b<d.length&&(d.length=b),this&&this!==Pt&&this instanceof c&&(R=x||Vr(t)),R.apply(O,d)}}function un(t,e,r){var n=t.length;if(n>=(e=+e)||!ge(e))return\"\";var i=e-n;return Io(r=null==r?\" \":r+\"\",pe(i/r.length)).slice(0,i)}function cn(t){var e=St[t];return function(t,r){return(r=r===o?0:+r||0)?(r=se(10,r),e(t*r)/r):e(t)}}function fn(t){return function(e,r,n,i){var o=ln(n);return null==n&&o===Xe?Or(e,r,t):Rr(e,r,o(n,i,1),t)}}function hn(t,e,n,i,s,h,m,g){var b=e&u;if(!b&&\"function\"!=typeof t)throw new Tt(k);var v=i?i.length:0;if(v||(e&=~(l|p),i=s=o),v-=s?s.length:0,e&p){var _=i,w=s;i=s=o}var S=b?o:pn(t),A=[t,e,n,i,s,_,w,h,m,g];if(S&&(function(t,e){var r=t[1],n=e[1],i=r|n,o=i<d,s=n==d&&r==f||n==d&&r==y&&t[7].length<=e[8]||n==(d|y)&&r==f;if(!o&&!s)return t;n&a&&(t[2]=e[2],i|=r&a?0:c);var u=e[3];if(u){var h=t[3];t[3]=h?Lr(h,u,e[4]):De(u),t[4]=h?$t(t[3],E):De(e[4])}(u=e[5])&&(h=t[5],t[5]=h?Kr(h,u,e[6]):De(u),t[6]=h?$t(t[5],E):De(e[6])),(u=e[7])&&(t[7]=De(u)),n&d&&(t[8]=null==t[8]?e[8]:_e(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(A,S),e=A[1],g=A[9]),A[9]=null==g?b?0:t.length:ve(g-v,0)||0,e==a)var x=function(t,e){var r=Vr(t);return function n(){return(this&&this!==Pt&&this instanceof n?r:t).apply(e,arguments)}}(A[0],A[2]);else x=e!=l&&e!=(a|l)||A[4].length?an.apply(o,A):function(t,e,n,i){var o=e&a,s=Vr(t);return function e(){for(var a=-1,u=arguments.length,c=-1,f=i.length,h=r(f+u);++c<f;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return(this&&this!==Pt&&this instanceof e?s:t).apply(o?n:this,h)}}.apply(o,A);return(S?Er:In)(x,A)}function ln(t,e,r){var n=Pe.callback||jo;return n=n===jo?Xe:n,r?n(t,e,r):n}var pn=Ce?function(t){return Ce.get(t)}:Fo;function dn(t){for(var e=t.name,r=Me[e],n=r?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function yn(t,e,r){var n=Pe.indexOf||Fn;return n=n===Fn?jt:n,t?n(t,e,r):n}var mn=wr(\"length\");function gn(t){for(var e=wo(t),r=e.length;r--;)e[r][2]=xn(e[r][1]);return e}function bn(t,e){var r=null==t?o:t[e];return Yi(r)?r:o}function vn(t,e,r){null==t||kn(e,t)||(t=1==(e=On(e)).length?t:yr(t,Ar(e,0,-1)),e=Hn(e));var n=null==t?t:t[e];return null==n?o:n.apply(t,r)}function _n(t){return null!=t&&An(mn(t))}function wn(t,e){return t=\"number\"==typeof t||lt.test(t)?+t:-1,e=null==e?Ie:e,t>-1&&t%1==0&&t<e}function Sn(t,e,r){if(!$i(r))return!1;var n=typeof e;if(\"number\"==n?_n(r)&&wn(e,r.length):\"string\"==n&&e in r){var i=r[e];return t==t?t===i:i!=i}return!1}function kn(t,e){var r=typeof t;return!!(\"string\"==r&&rt.test(t)||\"number\"==r)||!zi(t)&&(!et.test(t)||null!=e&&t in Pn(e))}function En(t){var e=dn(t);if(!(e in je.prototype))return!1;var r=Pe[e];if(t===r)return!0;var n=pn(r);return!!n&&t===n[0]}function An(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=Ie}function xn(t){return t==t&&!$i(t)}function Tn(t,e){t=Pn(t);for(var r=-1,n=e.length,i={};++r<n;){var o=e[r];o in t&&(i[o]=t[o])}return i}function Bn(t,e){var r={};return hr(t,function(t,n,i){e(t,n,i)&&(r[n]=t)}),r}var In=function(){var t=0,e=0;return function(r,n){var i=Ei(),o=v-(i-e);if(e=i,o>0){if(++t>=b)return r}else t=0;return Er(r,n)}}();function Cn(t){for(var e=go(t),r=e.length,n=r&&t.length,i=!!n&&An(n)&&(zi(t)||Hi(t)),o=-1,s=[];++o<r;){var a=e[o];(i&&wn(a,n)||Wt.call(t,a))&&s.push(a)}return s}function Mn(t){return null==t?[]:_n(t)?$i(t)?t:Et(t):ko(t)}function Pn(t){return $i(t)?t:Et(t)}function On(t){if(zi(t))return t;var e=[];return Lt(t).replace(nt,function(t,r,n,i){e.push(n?i.replace(at,\"$1\"):r||t)}),e}function Rn(t){return t instanceof je?t.clone():new Re(t.__wrapped__,t.__chain__,De(t.__actions__))}var jn=Fi(function(t,e){return Gt(t)&&_n(t)?rr(t,ur(e,!1,!0)):[]});function Nn(t,e,r){return t&&t.length?((r?Sn(t,e,r):null==e)&&(e=1),Ar(t,e<0?0:e)):[]}function Ln(t,e,r){var n=t?t.length:0;return n?((r?Sn(t,e,r):null==e)&&(e=1),Ar(t,0,(e=n-(+e||0))<0?0:e)):[]}var Kn=Jr(),Dn=Jr(!0);function Un(t){return t?t[0]:o}function Fn(t,e,r){var n=t?t.length:0;if(!n)return-1;if(\"number\"==typeof r)r=r<0?ve(n+r,0):r;else if(r){var i=Or(t,e);return i<n&&(e==e?e===t[i]:t[i]!=t[i])?i:-1}return jt(t,e,r||0)}var qn=Fi(function(t){for(var e=t.length,n=e,i=r(h),o=yn(),s=o==jt,a=[];n--;){var u=t[n]=_n(u=t[n])?u:[];i[n]=s&&u.length>=120?Hr(n&&u):null}var c=t[0],f=-1,h=c?c.length:0,l=i[0];t:for(;++f<h;)if(u=c[f],(l?Ke(l,u):o(a,u,0))<0){for(n=e;--n;){var p=i[n];if((p?Ke(p,u):o(t[n],u,0))<0)continue t}l&&l.push(u),a.push(u)}return a});function Hn(t){var e=t?t.length:0;return e?t[e-1]:o}var zn=Fi(function(t,e){var r=Je(t,e=ur(e));return Sr(t,e.sort(Ot)),r});function Vn(t){return Nn(t,1)}var Gn=fn(),Wn=fn(!0);var $n=Fi(function(t){return Ir(ur(t,!1,!0))});function Yn(t,e,r,n){if(!t||!t.length)return[];null!=e&&\"boolean\"!=typeof e&&(r=Sn(t,e,n=r)?o:e,e=!1);var i=ln();return null==r&&i===Xe||(r=i(r,n,3)),e&&yn()==jt?function(t,e){for(var r,n=-1,i=t.length,o=-1,s=[];++n<i;){var a=t[n],u=e?e(a,n,t):a;n&&r===u||(r=u,s[++o]=a)}return s}(t,r):Ir(t,r)}function Jn(t){if(!t||!t.length)return[];var e=-1,n=0;t=qe(t,function(t){if(_n(t))return n=ve(t.length,n),!0});for(var i=r(n);++e<n;)i[e]=He(t,wr(e));return i}function Zn(t,e,r){if(!t||!t.length)return[];var n=Jn(t);return null==e?n:(e=jr(e,r,4),He(n,function(t){return Ve(t,e,o,!0)}))}var Xn=Fi(function(t,e){return _n(t)?rr(t,e):[]});var Qn=Fi(Jn);function ti(t,e){var r=-1,n=t?t.length:0,i={};for(!n||e||zi(t[0])||(e=[]);++r<n;){var o=t[r];e?i[o]=e[r]:o&&(i[o[0]]=o[1])}return i}var ei=Fi(function(t){var e=t.length,r=e>2?t[e-2]:o,n=e>1?t[e-1]:o;return e>2&&\"function\"==typeof r?e-=2:(r=e>1&&\"function\"==typeof n?(--e,n):o,n=o),t.length=e,Zn(t,r,n)});function ri(t){var e=Pe(t);return e.__chain__=!0,e}function ni(t,e,r){return e.call(r,t)}var ii=Fi(function(t){return t=ur(t),this.thru(function(e){return function(t,e){for(var n=-1,i=t.length,o=-1,s=e.length,a=r(i+s);++n<i;)a[n]=t[n];for(;++o<s;)a[n++]=e[o];return a}(zi(e)?e:[Pn(e)],t)})});var oi=Fi(function(t,e){return Je(t,ur(e))}),si=Dr(function(t,e,r){Wt.call(t,r)?++t[r]:t[r]=1});function ai(t,e,r){var n=zi(t)?Fe:or;return r&&Sn(t,e,r)&&(e=o),\"function\"==typeof e&&r===o||(e=ln(e,r,3)),n(t,e)}function ui(t,e,r){return(zi(t)?qe:sr)(t,e=ln(e,r,3))}var ci=Yr(nr),fi=Yr(ir,!0);var hi=Qr(Ue,nr),li=Qr(function(t,e){for(var r=t.length;r--&&!1!==e(t[r],r,t););return t},ir),pi=Dr(function(t,e,r){Wt.call(t,r)?t[r].push(e):t[r]=[e]});function di(t,e,r,n){var i=t?mn(t):0;return An(i)||(i=(t=ko(t)).length),r=\"number\"!=typeof r||n&&Sn(e,r,n)?0:r<0?ve(i+r,0):r||0,\"string\"==typeof t||!zi(t)&&Qi(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&yn(t,e,r)>-1}var yi=Dr(function(t,e,r){t[r]=e}),mi=Fi(function(t,e,n){var i=-1,s=\"function\"==typeof e,a=kn(e),u=_n(t)?r(t.length):[];return nr(t,function(t){var r=s?e:a&&null!=t?t[e]:o;u[++i]=r?r.apply(t,n):vn(t,e,n)}),u});function gi(t,e,r){return(zi(t)?He:br)(t,e=ln(e,r,3))}var bi=Dr(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});var vi=sn(Ve,nr),_i=sn(function(t,e,r,n){var i=t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r},ir);function wi(t,e,r){if(r?Sn(t,e,r):null==e)return(n=(t=Mn(t)).length)>0?t[kr(0,n-1)]:o;var n,i=-1,s=ro(t),a=(n=s.length)-1;for(e=_e(e<0?0:+e||0,n);++i<e;){var u=kr(i,a),c=s[u];s[u]=s[i],s[i]=c}return s.length=e,s}function Si(t,e,r){var n=zi(t)?Ge:xr;return r&&Sn(t,e,r)&&(e=o),\"function\"==typeof e&&r===o||(e=ln(e,r,3)),n(t,e)}var ki=Fi(function(t,e){if(null==t)return[];var r=e[2];return r&&Sn(e[0],e[1],r)&&(e.length=1),Br(t,ur(e),[])});var Ei=we||function(){return(new n).getTime()};function Ai(t,e){var r;if(\"function\"!=typeof e){if(\"function\"!=typeof t)throw new Tt(k);var n=t;t=e,e=n}return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=o),r}}var xi=Fi(function(t,e,r){var n=a;if(r.length){var i=$t(r,xi.placeholder);n|=l}return hn(t,n,e,r,i)}),Ti=Fi(function(t,e){for(var r=-1,n=(e=e.length?ur(e):yo(t)).length;++r<n;){var i=e[r];t[i]=hn(t[i],a,t)}return t}),Bi=Fi(function(t,e,r){var n=a|u;if(r.length){var i=$t(r,Bi.placeholder);n|=l}return hn(e,n,t,r,i)}),Ii=Gr(f),Ci=Gr(h);function Mi(t,e,r){var n,i,s,a,u,c,f,h=0,l=!1,p=!0;if(\"function\"!=typeof t)throw new Tt(k);if(e=e<0?0:+e||0,!0===r){var d=!0;p=!1}else $i(r)&&(d=!!r.leading,l=\"maxWait\"in r&&ve(+r.maxWait||0,e),p=\"trailing\"in r?!!r.trailing:p);function y(e,r){r&&ie(r),i=c=f=o,e&&(h=Ei(),s=t.apply(u,n),c||i||(n=u=o))}function m(){var t=e-(Ei()-a);t<=0||t>e?y(f,i):c=ce(m,t)}function g(){y(p,c)}function b(){if(n=arguments,a=Ei(),u=this,f=p&&(c||!d),!1===l)var r=d&&!c;else{i||d||(h=a);var y=l-(a-h),b=y<=0||y>l;b?(i&&(i=ie(i)),h=a,s=t.apply(u,n)):i||(i=ce(g,y))}return b&&c?c=ie(c):c||e===l||(c=ce(m,e)),r&&(b=!0,s=t.apply(u,n)),!b||c||i||(n=u=o),s}return b.cancel=function(){c&&ie(c),i&&ie(i),h=0,i=c=f=o},b}var Pi=Fi(function(t,e){return er(t,1,e)}),Oi=Fi(function(t,e,r){return er(t,e,r)}),Ri=Xr(),ji=Xr(!0);function Ni(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new Tt(k);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new Ni.Cache,r}var Li=Fi(function(t,e){if(e=ur(e),\"function\"!=typeof t||!Fe(e,Nt))throw new Tt(k);var r=e.length;return Fi(function(n){for(var i=_e(n.length,r);i--;)n[i]=e[i](n[i]);return t.apply(this,n)})});var Ki=on(l),Di=on(p),Ui=Fi(function(t,e){return hn(t,y,o,o,o,ur(e))});function Fi(t,e){if(\"function\"!=typeof t)throw new Tt(k);return e=ve(e===o?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,o=ve(n.length-e,0),s=r(o);++i<o;)s[i]=n[e+i];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var a=r(e+1);for(i=-1;++i<e;)a[i]=n[i];return a[e]=s,t.apply(this,a)}}function qi(t,e){return t>e}function Hi(t){return Gt(t)&&_n(t)&&Wt.call(t,\"callee\")&&!ae.call(t,\"callee\")}var zi=me||function(t){return Gt(t)&&An(t.length)&&te.call(t)==x};function Vi(t,e,r,n){var i=(r=\"function\"==typeof r?jr(r,n,3):o)?r(t,e):o;return i===o?mr(t,e,r):!!i}function Gi(t){return Gt(t)&&\"string\"==typeof t.message&&te.call(t)==I}function Wi(t){return $i(t)&&te.call(t)==C}function $i(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function Yi(t){return null!=t&&(Wi(t)?re.test(Mt.call(t)):Gt(t)&&ht.test(t))}function Ji(t){return\"number\"==typeof t||Gt(t)&&te.call(t)==M}function Zi(t){var e,r;return!(!Gt(t)||te.call(t)!=P||Hi(t)||!(Wt.call(t,\"constructor\")||\"function\"!=typeof(e=t.constructor)||e instanceof e))&&(hr(t,function(t,e){r=e}),r===o||Wt.call(t,r))}function Xi(t){return $i(t)&&te.call(t)==O}function Qi(t){return\"string\"==typeof t||Gt(t)&&te.call(t)==R}function to(t){return Gt(t)&&An(t.length)&&!!vt[te.call(t)]}function eo(t,e){return t<e}function ro(t){var e=t?mn(t):0;return An(e)?e?De(t):[]:ko(t)}function no(t){return Ze(t,go(t))}var io=Ur(function t(e,r,n,i,s){if(!$i(e))return e;var a=_n(r)&&(zi(r)||to(r)),u=a?o:mo(r);return Ue(u||r,function(c,f){if(u&&(c=r[f=c]),Gt(c))i||(i=[]),s||(s=[]),function(t,e,r,n,i,s,a){for(var u=s.length,c=e[r];u--;)if(s[u]==c)return void(t[r]=a[u]);var f=t[r],h=i?i(f,c,r,t,e):o,l=h===o;l&&(h=c,_n(c)&&(zi(c)||to(c))?h=zi(f)?f:_n(f)?De(f):[]:Zi(c)||Hi(c)?h=Hi(f)?no(f):Zi(f)?f:{}:l=!1),s.push(c),a.push(h),l?t[r]=n(h,c,i,s,a):(h==h?h!==f:f==f)&&(t[r]=h)}(e,r,f,t,n,i,s);else{var h=e[f],l=n?n(h,c,f,e,r):o,p=l===o;p&&(l=c),l===o&&(!a||f in e)||!p&&(l==l?l===h:h!=h)||(e[f]=l)}}),e}),oo=Ur(function(t,e,r){return r?$e(t,e,r):Ye(t,e)});var so=Wr(oo,function(t,e){return t===o?e:t}),ao=Wr(io,function t(e,r){return e===o?r:io(e,r,t)}),uo=Zr(lr),co=Zr(pr),fo=tn(cr),ho=tn(fr),lo=en(lr),po=en(pr);function yo(t){return dr(t,go(t))}var mo=be?function(t){var e=null==t?o:t.constructor;return\"function\"==typeof e&&e.prototype===t||\"function\"!=typeof t&&_n(t)?Cn(t):$i(t)?be(t):[]}:Cn;function go(t){if(null==t)return[];$i(t)||(t=Et(t));var e=t.length;e=e&&An(e)&&(zi(t)||Hi(t))&&e||0;for(var n=t.constructor,i=-1,o=\"function\"==typeof n&&n.prototype===t,s=r(e),a=e>0;++i<e;)s[i]=i+\"\";for(var u in t)a&&wn(u,e)||\"constructor\"==u&&(o||!Wt.call(t,u))||s.push(u);return s}var bo=rn(!0),vo=rn(),_o=Fi(function(t,e){if(null==t)return{};if(\"function\"!=typeof e[0])return e=He(ur(e),xt),Tn(t,rr(go(t),e));var r=jr(e[0],e[1],3);return Bn(t,function(t,e,n){return!r(t,e,n)})});function wo(t){t=Pn(t);for(var e=-1,n=mo(t),i=n.length,o=r(i);++e<i;){var s=n[e];o[e]=[s,t[s]]}return o}var So=Fi(function(t,e){return null==t?{}:\"function\"==typeof e[0]?Bn(t,jr(e[0],e[1],3)):Tn(t,ur(e))});function ko(t){return Cr(t,mo(t))}var Eo=zr(function(t,e,r){return e=e.toLowerCase(),t+(r?e.charAt(0).toUpperCase()+e.slice(1):e)});function Ao(t){return(t=Lt(t))&&t.replace(pt,Ft).replace(st,\"\")}var xo=zr(function(t,e,r){return t+(r?\"-\":\"\")+e.toLowerCase()});var To=nn(),Bo=nn(!0);function Io(t,e){var r=\"\";if(t=Lt(t),(e=+e)<1||!t||!ge(e))return r;do{e%2&&(r+=t),e=ye(e/2),t+=t}while(e);return r}var Co=zr(function(t,e,r){return t+(r?\"_\":\"\")+e.toLowerCase()}),Mo=zr(function(t,e,r){return t+(r?\" \":\"\")+(e.charAt(0).toUpperCase()+e.slice(1))});function Po(t,e,r){var n=t;return(t=Lt(t))?(r?Sn(n,e,r):null==e)?t.slice(Yt(t),Jt(t)+1):(e+=\"\",t.slice(Kt(t,e),Dt(t,e)+1)):t}function Oo(t,e,r){return r&&Sn(t,e,r)&&(e=o),(t=Lt(t)).match(e||mt)||[]}var Ro=Fi(function(t,e){try{return t.apply(o,e)}catch(t){return Gi(t)?t:new i(t)}});function jo(t,e,r){return r&&Sn(t,e,r)&&(e=o),Gt(t)?Lo(t):Xe(t,e)}function No(t){return t}function Lo(t){return vr(Qe(t,!0))}var Ko=Fi(function(t,e){return function(r){return vn(r,t,e)}}),Do=Fi(function(t,e){return function(r){return vn(t,r,e)}});function Uo(t,e,r){if(null==r){var n=$i(e),i=n?mo(e):o,s=i&&i.length?dr(e,i):o;(s?s.length:n)||(s=!1,r=e,e=t,t=this)}s||(s=dr(e,mo(e)));var a=!0,u=-1,c=Wi(t),f=s.length;!1===r?a=!1:$i(r)&&\"chain\"in r&&(a=r.chain);for(;++u<f;){var h=s[u],l=e[h];t[h]=l,c&&(t.prototype[h]=function(e){return function(){var r=this.__chain__;if(a||r){var n=t(this.__wrapped__);return(n.__actions__=De(this.__actions__)).push({func:e,args:arguments,thisArg:t}),n.__chain__=r,n}return e.apply(t,ze([this.value()],arguments))}}(l))}return t}function Fo(){}function qo(t){return kn(t)?wr(t):function(t){var e=t+\"\";return t=On(t),function(r){return yr(r,t,e)}}(t)}var Ho=cn(\"ceil\"),zo=cn(\"floor\"),Vo=$r(qi,Ee),Go=$r(eo,Ae),Wo=cn(\"round\");return Pe.prototype=Oe.prototype,Re.prototype=tr(Oe.prototype),Re.prototype.constructor=Re,je.prototype=tr(Oe.prototype),je.prototype.constructor=je,Ne.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ne.prototype.get=function(t){return\"__proto__\"==t?o:this.__data__[t]},Ne.prototype.has=function(t){return\"__proto__\"!=t&&Wt.call(this.__data__,t)},Ne.prototype.set=function(t,e){return\"__proto__\"!=t&&(this.__data__[t]=e),this},Le.prototype.push=function(t){var e=this.data;\"string\"==typeof t||$i(t)?e.set.add(t):e.hash[t]=!0},Ni.Cache=Ne,Pe.after=function(t,e){if(\"function\"!=typeof e){if(\"function\"!=typeof t)throw new Tt(k);var r=t;t=e,e=r}return t=ge(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},Pe.ary=function(t,e,r){return r&&Sn(t,e,r)&&(e=o),e=t&&null==e?t.length:ve(+e||0,0),hn(t,d,o,o,o,o,e)},Pe.assign=oo,Pe.at=oi,Pe.before=Ai,Pe.bind=xi,Pe.bindAll=Ti,Pe.bindKey=Bi,Pe.callback=jo,Pe.chain=ri,Pe.chunk=function(t,e,n){e=(n?Sn(t,e,n):null==e)?1:ve(ye(e)||1,1);for(var i=0,o=t?t.length:0,s=-1,a=r(pe(o/e));i<o;)a[++s]=Ar(t,i,i+=e);return a},Pe.compact=function(t){for(var e=-1,r=t?t.length:0,n=-1,i=[];++e<r;){var o=t[e];o&&(i[++n]=o)}return i},Pe.constant=function(t){return function(){return t}},Pe.countBy=si,Pe.create=function(t,e,r){var n=tr(t);return r&&Sn(t,e,r)&&(e=o),e?Ye(n,e):n},Pe.curry=Ii,Pe.curryRight=Ci,Pe.debounce=Mi,Pe.defaults=so,Pe.defaultsDeep=ao,Pe.defer=Pi,Pe.delay=Oi,Pe.difference=jn,Pe.drop=Nn,Pe.dropRight=Ln,Pe.dropRightWhile=function(t,e,r){return t&&t.length?Mr(t,ln(e,r,3),!0,!0):[]},Pe.dropWhile=function(t,e,r){return t&&t.length?Mr(t,ln(e,r,3),!0):[]},Pe.fill=function(t,e,r,n){var i=t?t.length:0;return i?(r&&\"number\"!=typeof r&&Sn(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=null==r?0:+r||0)<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:+n||0)<0&&(n+=i),i=r>n?0:n>>>0,r>>>=0;r<i;)t[r++]=e;return t}(t,e,r,n)):[]},Pe.filter=ui,Pe.flatten=function(t,e,r){var n=t?t.length:0;return r&&Sn(t,e,r)&&(e=!1),n?ur(t,e):[]},Pe.flattenDeep=function(t){return t&&t.length?ur(t,!0):[]},Pe.flow=Ri,Pe.flowRight=ji,Pe.forEach=hi,Pe.forEachRight=li,Pe.forIn=fo,Pe.forInRight=ho,Pe.forOwn=lo,Pe.forOwnRight=po,Pe.functions=yo,Pe.groupBy=pi,Pe.indexBy=yi,Pe.initial=function(t){return Ln(t,1)},Pe.intersection=qn,Pe.invert=function(t,e,r){r&&Sn(t,e,r)&&(e=o);for(var n=-1,i=mo(t),s=i.length,a={};++n<s;){var u=i[n],c=t[u];e?Wt.call(a,c)?a[c].push(u):a[c]=[u]:a[c]=u}return a},Pe.invoke=mi,Pe.keys=mo,Pe.keysIn=go,Pe.map=gi,Pe.mapKeys=bo,Pe.mapValues=vo,Pe.matches=Lo,Pe.matchesProperty=function(t,e){return _r(t,Qe(e,!0))},Pe.memoize=Ni,Pe.merge=io,Pe.method=Ko,Pe.methodOf=Do,Pe.mixin=Uo,Pe.modArgs=Li,Pe.negate=function(t){if(\"function\"!=typeof t)throw new Tt(k);return function(){return!t.apply(this,arguments)}},Pe.omit=_o,Pe.once=function(t){return Ai(2,t)},Pe.pairs=wo,Pe.partial=Ki,Pe.partialRight=Di,Pe.partition=bi,Pe.pick=So,Pe.pluck=function(t,e){return gi(t,qo(e))},Pe.property=qo,Pe.propertyOf=function(t){return function(e){return yr(t,On(e),e+\"\")}},Pe.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var r=0,n=yn(),i=t.length;++r<i;)for(var o=0,s=t[r];(o=n(e,s,o))>-1;)fe.call(e,o,1);return e},Pe.pullAt=zn,Pe.range=function(t,e,n){n&&Sn(t,e,n)&&(e=n=o),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,s=ve(pe((e-t)/(n||1)),0),a=r(s);++i<s;)a[i]=t,t+=n;return a},Pe.rearg=Ui,Pe.reject=function(t,e,r){var n=zi(t)?qe:sr;return e=ln(e,r,3),n(t,function(t,r,n){return!e(t,r,n)})},Pe.remove=function(t,e,r){var n=[];if(!t||!t.length)return n;var i=-1,o=[],s=t.length;for(e=ln(e,r,3);++i<s;){var a=t[i];e(a,i,t)&&(n.push(a),o.push(i))}return Sr(t,o),n},Pe.rest=Vn,Pe.restParam=Fi,Pe.set=function(t,e,r){if(null==t)return t;for(var n=e+\"\",i=-1,o=(e=null!=t[n]||kn(e,t)?[n]:On(e)).length,s=o-1,a=t;null!=a&&++i<o;){var u=e[i];$i(a)&&(i==s?a[u]=r:null==a[u]&&(a[u]=wn(e[i+1])?[]:{})),a=a[u]}return t},Pe.shuffle=function(t){return wi(t,Ae)},Pe.slice=function(t,e,r){var n=t?t.length:0;return n?(r&&\"number\"!=typeof r&&Sn(t,e,r)&&(e=0,r=n),Ar(t,e,r)):[]},Pe.sortBy=function(t,e,r){if(null==t)return[];r&&Sn(t,e,r)&&(e=o);var n=-1;return e=ln(e,r,3),Tr(br(t,function(t,r,i){return{criteria:e(t,r,i),index:++n,value:t}}),Ut)},Pe.sortByAll=ki,Pe.sortByOrder=function(t,e,r,n){return null==t?[]:(n&&Sn(e,r,n)&&(r=o),zi(e)||(e=null==e?[]:[e]),zi(r)||(r=null==r?[]:[r]),Br(t,e,r))},Pe.spread=function(t){if(\"function\"!=typeof t)throw new Tt(k);return function(e){return t.apply(this,e)}},Pe.take=function(t,e,r){return t&&t.length?((r?Sn(t,e,r):null==e)&&(e=1),Ar(t,0,e<0?0:e)):[]},Pe.takeRight=function(t,e,r){var n=t?t.length:0;return n?((r?Sn(t,e,r):null==e)&&(e=1),Ar(t,(e=n-(+e||0))<0?0:e)):[]},Pe.takeRightWhile=function(t,e,r){return t&&t.length?Mr(t,ln(e,r,3),!1,!0):[]},Pe.takeWhile=function(t,e,r){return t&&t.length?Mr(t,ln(e,r,3)):[]},Pe.tap=function(t,e,r){return e.call(r,t),t},Pe.throttle=function(t,e,r){var n=!0,i=!0;if(\"function\"!=typeof t)throw new Tt(k);return!1===r?n=!1:$i(r)&&(n=\"leading\"in r?!!r.leading:n,i=\"trailing\"in r?!!r.trailing:i),Mi(t,e,{leading:n,maxWait:+e,trailing:i})},Pe.thru=ni,Pe.times=function(t,e,n){if((t=ye(t))<1||!ge(t))return[];var i=-1,o=r(_e(t,xe));for(e=jr(e,n,1);++i<t;)i<xe?o[i]=e(i):e(i);return o},Pe.toArray=ro,Pe.toPlainObject=no,Pe.transform=function(t,e,r,n){var i=zi(t)||to(t);if(e=ln(e,n,4),null==r)if(i||$i(t)){var s=t.constructor;r=i?zi(t)?new s:[]:tr(Wi(s)?s.prototype:o)}else r={};return(i?Ue:lr)(t,function(t,n,i){return e(r,t,n,i)}),r},Pe.union=$n,Pe.uniq=Yn,Pe.unzip=Jn,Pe.unzipWith=Zn,Pe.values=ko,Pe.valuesIn=function(t){return Cr(t,go(t))},Pe.where=function(t,e){return ui(t,vr(e))},Pe.without=Xn,Pe.wrap=function(t,e){return hn(e=null==e?No:e,l,o,[t],[])},Pe.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var r=arguments[t];if(_n(r))var n=n?ze(rr(n,r),rr(r,n)):r}return n?Ir(n):[]},Pe.zip=Qn,Pe.zipObject=ti,Pe.zipWith=ei,Pe.backflow=ji,Pe.collect=gi,Pe.compose=ji,Pe.each=hi,Pe.eachRight=li,Pe.extend=oo,Pe.iteratee=jo,Pe.methods=yo,Pe.object=ti,Pe.select=ui,Pe.tail=Vn,Pe.unique=Yn,Uo(Pe,Pe),Pe.add=function(t,e){return(+t||0)+(+e||0)},Pe.attempt=Ro,Pe.camelCase=Eo,Pe.capitalize=function(t){return(t=Lt(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Pe.ceil=Ho,Pe.clone=function(t,e,r,n){return e&&\"boolean\"!=typeof e&&Sn(t,e,r)?e=!1:\"function\"==typeof e&&(n=r,r=e,e=!1),\"function\"==typeof r?Qe(t,e,jr(r,n,1)):Qe(t,e)},Pe.cloneDeep=function(t,e,r){return\"function\"==typeof e?Qe(t,!0,jr(e,r,1)):Qe(t,!0)},Pe.deburr=Ao,Pe.endsWith=function(t,e,r){e+=\"\";var n=(t=Lt(t)).length;return r=r===o?n:_e(r<0?0:+r||0,n),(r-=e.length)>=0&&t.indexOf(e,r)==r},Pe.escape=function(t){return(t=Lt(t))&&Z.test(t)?t.replace(Y,qt):t},Pe.escapeRegExp=function(t){return(t=Lt(t))&&ot.test(t)?t.replace(it,Ht):t||\"(?:)\"},Pe.every=ai,Pe.find=ci,Pe.findIndex=Kn,Pe.findKey=uo,Pe.findLast=fi,Pe.findLastIndex=Dn,Pe.findLastKey=co,Pe.findWhere=function(t,e){return ci(t,vr(e))},Pe.first=Un,Pe.floor=zo,Pe.get=function(t,e,r){var n=null==t?o:yr(t,On(e),e+\"\");return n===o?r:n},Pe.gt=qi,Pe.gte=function(t,e){return t>=e},Pe.has=function(t,e){if(null==t)return!1;var r=Wt.call(t,e);if(!r&&!kn(e)){if(null==(t=1==(e=On(e)).length?t:yr(t,Ar(e,0,-1))))return!1;e=Hn(e),r=Wt.call(t,e)}return r||An(t.length)&&wn(e,t.length)&&(zi(t)||Hi(t))},Pe.identity=No,Pe.includes=di,Pe.indexOf=Fn,Pe.inRange=function(t,e,r){return e=+e||0,r===o?(r=e,e=0):r=+r||0,t>=_e(e,r)&&t<ve(e,r)},Pe.isArguments=Hi,Pe.isArray=zi,Pe.isBoolean=function(t){return!0===t||!1===t||Gt(t)&&te.call(t)==T},Pe.isDate=function(t){return Gt(t)&&te.call(t)==B},Pe.isElement=function(t){return!!t&&1===t.nodeType&&Gt(t)&&!Zi(t)},Pe.isEmpty=function(t){return null==t||(_n(t)&&(zi(t)||Qi(t)||Hi(t)||Gt(t)&&Wi(t.splice))?!t.length:!mo(t).length)},Pe.isEqual=Vi,Pe.isError=Gi,Pe.isFinite=function(t){return\"number\"==typeof t&&ge(t)},Pe.isFunction=Wi,Pe.isMatch=function(t,e,r,n){return r=\"function\"==typeof r?jr(r,n,3):o,gr(t,gn(e),r)},Pe.isNaN=function(t){return Ji(t)&&t!=+t},Pe.isNative=Yi,Pe.isNull=function(t){return null===t},Pe.isNumber=Ji,Pe.isObject=$i,Pe.isPlainObject=Zi,Pe.isRegExp=Xi,Pe.isString=Qi,Pe.isTypedArray=to,Pe.isUndefined=function(t){return t===o},Pe.kebabCase=xo,Pe.last=Hn,Pe.lastIndexOf=function(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=n;if(\"number\"==typeof r)i=(r<0?ve(n+r,0):_e(r||0,n-1))+1;else if(r){var o=t[i=Or(t,e,!0)-1];return(e==e?e===o:o!=o)?i:-1}if(e!=e)return Vt(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},Pe.lt=eo,Pe.lte=function(t,e){return t<=e},Pe.max=Vo,Pe.min=Go,Pe.noConflict=function(){return Pt._=ee,this},Pe.noop=Fo,Pe.now=Ei,Pe.pad=function(t,e,r){e=+e;var n=(t=Lt(t)).length;if(n>=e||!ge(e))return t;var i=(e-n)/2,o=ye(i);return(r=un(\"\",pe(i),r)).slice(0,o)+t+r},Pe.padLeft=To,Pe.padRight=Bo,Pe.parseInt=function(t,e,r){return(r?Sn(t,e,r):null==e)?e=0:e&&(e=+e),t=Po(t),Se(t,e||(ft.test(t)?16:10))},Pe.random=function(t,e,r){r&&Sn(t,e,r)&&(e=r=o);var n=null==t,i=null==e;if(null==r&&(i&&\"boolean\"==typeof t?(r=t,t=1):\"boolean\"==typeof e&&(r=e,i=!0)),n&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,r||t%1||e%1){var s=ke();return _e(t+s*(e-t+oe(\"1e-\"+((s+\"\").length-1))),e)}return kr(t,e)},Pe.reduce=vi,Pe.reduceRight=_i,Pe.repeat=Io,Pe.result=function(t,e,r){var n=null==t?o:t[e];return n===o&&(null==t||kn(e,t)||(n=null==(t=1==(e=On(e)).length?t:yr(t,Ar(e,0,-1)))?o:t[Hn(e)]),n=n===o?r:n),Wi(n)?n.call(t):n},Pe.round=Wo,Pe.runInContext=t,Pe.size=function(t){var e=t?mn(t):0;return An(e)?e:mo(t).length},Pe.snakeCase=Co,Pe.some=Si,Pe.sortedIndex=Gn,Pe.sortedLastIndex=Wn,Pe.startCase=Mo,Pe.startsWith=function(t,e,r){return t=Lt(t),r=null==r?0:_e(r<0?0:+r||0,t.length),t.lastIndexOf(e,r)==r},Pe.sum=function(t,e,r){return r&&Sn(t,e,r)&&(e=o),1==(e=ln(e,r,3)).length?function(t,e){for(var r=t.length,n=0;r--;)n+=+e(t[r])||0;return n}(zi(t)?t:Mn(t),e):function(t,e){var r=0;return nr(t,function(t,n,i){r+=+e(t,n,i)||0}),r}(t,e)},Pe.template=function(t,e,r){var n=Pe.templateSettings;r&&Sn(t,e,r)&&(e=r=o),t=Lt(t);var i,s,a=$e(Ye({},(e=$e(Ye({},r||e),n,We)).imports),n.imports,We),u=mo(a),c=Cr(a,u),f=0,h=e.interpolate||dt,l=\"__p += '\",p=At((e.escape||dt).source+\"|\"+h.source+\"|\"+(h===tt?ut:dt).source+\"|\"+(e.evaluate||dt).source+\"|$\",\"g\"),d=\"//# sourceURL=\"+(\"sourceURL\"in e?e.sourceURL:\"lodash.templateSources[\"+ ++bt+\"]\")+\"\\n\";t.replace(p,function(e,r,n,o,a,u){return n||(n=o),l+=t.slice(f,u).replace(yt,zt),r&&(i=!0,l+=\"' +\\n__e(\"+r+\") +\\n'\"),a&&(s=!0,l+=\"';\\n\"+a+\";\\n__p += '\"),n&&(l+=\"' +\\n((__t = (\"+n+\")) == null ? '' : __t) +\\n'\"),f=u+e.length,e}),l+=\"';\\n\";var y=e.variable;y||(l=\"with (obj) {\\n\"+l+\"\\n}\\n\"),l=(s?l.replace(V,\"\"):l).replace(G,\"$1\").replace(W,\"$1;\"),l=\"function(\"+(y||\"obj\")+\") {\\n\"+(y?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(i?\", __e = _.escape\":\"\")+(s?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+l+\"return __p\\n}\";var m=Ro(function(){return wt(u,d+\"return \"+l).apply(o,c)});if(m.source=l,Gi(m))throw m;return m},Pe.trim=Po,Pe.trimLeft=function(t,e,r){var n=t;return(t=Lt(t))?(r?Sn(n,e,r):null==e)?t.slice(Yt(t)):t.slice(Kt(t,e+\"\")):t},Pe.trimRight=function(t,e,r){var n=t;return(t=Lt(t))?(r?Sn(n,e,r):null==e)?t.slice(0,Jt(t)+1):t.slice(0,Dt(t,e+\"\")+1):t},Pe.trunc=function(t,e,r){r&&Sn(t,e,r)&&(e=o);var n=m,i=g;if(null!=e)if($i(e)){var s=\"separator\"in e?e.separator:s;n=\"length\"in e?+e.length||0:n,i=\"omission\"in e?Lt(e.omission):i}else n=+e||0;if(n>=(t=Lt(t)).length)return t;var a=n-i.length;if(a<1)return i;var u=t.slice(0,a);if(null==s)return u+i;if(Xi(s)){if(t.slice(a).search(s)){var c,f,h=t.slice(0,a);for(s.global||(s=At(s.source,(ct.exec(s)||\"\")+\"g\")),s.lastIndex=0;c=s.exec(h);)f=c.index;u=u.slice(0,null==f?a:f)}}else if(t.indexOf(s,a)!=a){var l=u.lastIndexOf(s);l>-1&&(u=u.slice(0,l))}return u+i},Pe.unescape=function(t){return(t=Lt(t))&&J.test(t)?t.replace($,Zt):t},Pe.uniqueId=function(t){var e=++Qt;return Lt(t)+e},Pe.words=Oo,Pe.all=ai,Pe.any=Si,Pe.contains=di,Pe.eq=Vi,Pe.detect=ci,Pe.foldl=vi,Pe.foldr=_i,Pe.head=Un,Pe.include=di,Pe.inject=vi,Uo(Pe,function(){var t={};return lr(Pe,function(e,r){Pe.prototype[r]||(t[r]=e)}),t}(),!1),Pe.sample=wi,Pe.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return wi(e,t)}):wi(this.value())},Pe.VERSION=s,Ue([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],function(t){Pe[t].placeholder=Pe}),Ue([\"drop\",\"take\"],function(t,e){je.prototype[t]=function(r){var n=this.__filtered__;if(n&&!e)return new je(this);r=null==r?1:ve(ye(r)||0,0);var i=this.clone();return n?i.__takeCount__=_e(i.__takeCount__,r):i.__views__.push({size:r,type:t+(i.__dir__<0?\"Right\":\"\")}),i},je.prototype[t+\"Right\"]=function(e){return this.reverse()[t](e).reverse()}}),Ue([\"filter\",\"map\",\"takeWhile\"],function(t,e){var r=e+1,n=r!=S;je.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:ln(t,e,1),type:r}),i.__filtered__=i.__filtered__||n,i}}),Ue([\"first\",\"last\"],function(t,e){var r=\"take\"+(e?\"Right\":\"\");je.prototype[t]=function(){return this[r](1).value()[0]}}),Ue([\"initial\",\"rest\"],function(t,e){var r=\"drop\"+(e?\"\":\"Right\");je.prototype[t]=function(){return this.__filtered__?new je(this):this[r](1)}}),Ue([\"pluck\",\"where\"],function(t,e){var r=e?\"filter\":\"map\",n=e?vr:qo;je.prototype[t]=function(t){return this[r](n(t))}}),je.prototype.compact=function(){return this.filter(No)},je.prototype.reject=function(t,e){return t=ln(t,e,1),this.filter(function(e){return!t(e)})},je.prototype.slice=function(t,e){t=null==t?0:+t||0;var r=this;return r.__filtered__&&(t>0||e<0)?new je(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==o&&(r=(e=+e||0)<0?r.dropRight(-e):r.take(e-t)),r)},je.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},je.prototype.toArray=function(){return this.take(Ae)},lr(je.prototype,function(t,e){var r=/^(?:filter|map|reject)|While$/.test(e),n=/^(?:first|last)$/.test(e),i=Pe[n?\"take\"+(\"last\"==e?\"Right\":\"\"):e];i&&(Pe.prototype[e]=function(){var e=n?[1]:arguments,s=this.__chain__,a=this.__wrapped__,u=!!this.__actions__.length,c=a instanceof je,f=e[0],h=c||zi(a);h&&r&&\"function\"==typeof f&&1!=f.length&&(c=h=!1);var l=function(t){return n&&s?i(t,1)[0]:i.apply(o,ze([t],e))},p={func:ni,args:[l],thisArg:o},d=c&&!u;if(n&&!s)return d?((a=a.clone()).__actions__.push(p),t.call(a)):i.call(o,this.value())[0];if(!n&&h){a=d?a:new je(this);var y=t.apply(a,e);return y.__actions__.push(p),new Re(y,s)}return this.thru(l)})}),Ue([\"join\",\"pop\",\"push\",\"replace\",\"shift\",\"sort\",\"splice\",\"split\",\"unshift\"],function(t){var e=(/^(?:replace|split)$/.test(t)?Ct:Bt)[t],r=/^(?:push|sort|unshift)$/.test(t)?\"tap\":\"thru\",n=/^(?:join|pop|replace|shift)$/.test(t);Pe.prototype[t]=function(){var t=arguments;return n&&!this.__chain__?e.apply(this.value(),t):this[r](function(r){return e.apply(r,t)})}}),lr(je.prototype,function(t,e){var r=Pe[e];if(r){var n=r.name;(Me[n]||(Me[n]=[])).push({name:e,func:r})}}),Me[an(o,u).name]=[{name:\"wrapper\",func:o}],je.prototype.clone=function(){var t=new je(this.__wrapped__);return t.__actions__=De(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=De(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=De(this.__views__),t},je.prototype.reverse=function(){if(this.__filtered__){var t=new je(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},je.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=zi(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case\"drop\":t+=s;break;case\"dropRight\":e-=s;break;case\"take\":e=_e(e,t+s);break;case\"takeRight\":t=ve(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,f=this.__iteratees__,h=f.length,l=0,p=_e(u,this.__takeCount__);if(!r||i<_||i==u&&p==u)return Pr(n&&r?t.reverse():t,this.__actions__);var d=[];t:for(;u--&&l<p;){for(var y=-1,m=t[c+=e];++y<h;){var g=f[y],b=g.iteratee,v=g.type,k=b(m);if(v==S)m=k;else if(!k){if(v==w)continue t;break t}}d[l++]=m}return d},Pe.prototype.chain=function(){return ri(this)},Pe.prototype.commit=function(){return new Re(this.value(),this.__chain__)},Pe.prototype.concat=ii,Pe.prototype.plant=function(t){for(var e,r=this;r instanceof Oe;){var n=Rn(r);e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},Pe.prototype.reverse=function(){var t=this.__wrapped__,e=function(t){return r&&r.__dir__<0?t:t.reverse()};if(t instanceof je){var r=t;return this.__actions__.length&&(r=new je(this)),(r=r.reverse()).__actions__.push({func:ni,args:[e],thisArg:o}),new Re(r,this.__chain__)}return this.thru(e)},Pe.prototype.toString=function(){return this.value()+\"\"},Pe.prototype.run=Pe.prototype.toJSON=Pe.prototype.valueOf=Pe.prototype.value=function(){return Pr(this.__wrapped__,this.__actions__)},Pe.prototype.collect=Pe.prototype.map,Pe.prototype.head=Pe.prototype.first,Pe.prototype.select=Pe.prototype.filter,Pe.prototype.tail=Pe.prototype.rest,Pe}();Pt._=Xt,(i=function(){return Xt}.call(e,r,e,t))===o||(t.exports=i)}).call(this)}).call(this,r(26)(t),r(5))},function(t,e,r){(function(e,n,i){var o=r(12),s=r(1107),a=t.exports=o.util=o.util||{};function u(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error(\"Only 8, 16, 24, or 32 bits supported: \"+t)}function c(t){if(this.data=\"\",this.read=0,\"string\"==typeof t)this.data=t;else if(a.isArrayBuffer(t)||a.isArrayBufferView(t))if(void 0!==i&&t instanceof i)this.data=t.toString(\"binary\");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(t){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof c||\"object\"==typeof t&&\"string\"==typeof t.data&&\"number\"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}!function(){if(void 0!==e&&e.nextTick)return a.nextTick=e.nextTick,void(a.setImmediate=\"function\"==typeof n?n:a.nextTick);if(\"function\"==typeof n)return a.setImmediate=function(){return n.apply(void 0,arguments)},void(a.nextTick=function(t){return n(t)});if(a.setImmediate=function(t){setTimeout(t,0)},\"undefined\"!=typeof window&&\"function\"==typeof window.postMessage){var t=\"forge.setImmediate\",r=[];a.setImmediate=function(e){r.push(e),1===r.length&&window.postMessage(t,\"*\")},window.addEventListener(\"message\",function(e){if(e.source===window&&e.data===t){e.stopPropagation();var n=r.slice();r.length=0,n.forEach(function(t){t()})}},!0)}if(\"undefined\"!=typeof MutationObserver){var i=Date.now(),o=!0,s=document.createElement(\"div\");r=[];new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})}).observe(s,{attributes:!0});var u=a.setImmediate;a.setImmediate=function(t){Date.now()-i>15?(i=Date.now(),u(t)):(r.push(t),1===r.length&&s.setAttribute(\"a\",o=!o))}}a.nextTick=a.setImmediate}(),a.isNodejs=void 0!==e&&e.versions&&e.versions.node,a.isArray=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},a.isArrayBuffer=function(t){return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},a.isArrayBufferView=function(t){return t&&a.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},a.ByteBuffer=c,a.ByteStringBuffer=c;a.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},a.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},a.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},a.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(a.encodeUtf8(t))},a.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},a.ByteStringBuffer.prototype.putInt=function(t,e){u(e);var r=\"\";do{e-=8,r+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(r)},a.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},a.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},a.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},a.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},a.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},a.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},a.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},a.ByteStringBuffer.prototype.getInt=function(t){u(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},a.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},a.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e=\"\":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},a.ByteStringBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},a.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},a.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var t=a.createBuffer(this.data);return t.read=this.read,t},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data=\"\",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var t=\"\",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+=\"0\"),t+=r.toString(16)}return t},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.DataBuffer=function(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=a.isArrayBuffer(t),n=a.isArrayBufferView(t);if(r||n)return this.data=r?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write=\"writeOffset\"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==t&&void 0!==t&&this.putBytes(t),\"writeOffset\"in e&&(this.write=e.writeOffset)},a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},a.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},a.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},a.DataBuffer.prototype.putBytes=function(t,e){if(a.isArrayBufferView(t)){var r=(n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(a.isArrayBuffer(t)){var n=new Uint8Array(t);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(t instanceof a.DataBuffer||\"object\"==typeof t&&\"number\"==typeof t.read&&\"number\"==typeof t.write&&a.isArrayBufferView(t.data)){n=new Uint8Array(t.data.byteLength,t.read,t.length());return this.accommodate(n.byteLength),new Uint8Array(t.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(t instanceof a.ByteStringBuffer&&(t=t.data,e=\"binary\"),e=e||\"binary\",\"string\"==typeof t){var i;if(\"hex\"===e)return this.accommodate(Math.ceil(t.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(t,i,this.write),this;if(\"base64\"===e)return this.accommodate(3*Math.ceil(t.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(t,i,this.write),this;if(\"utf8\"===e&&(t=a.encodeUtf8(t),e=\"binary\"),\"binary\"===e||\"raw\"===e)return this.accommodate(t.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(i),this;if(\"utf16\"===e)return this.accommodate(2*t.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(i),this;throw new Error(\"Invalid encoding: \"+e)}throw Error(\"Invalid parameter: \"+t)},a.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},a.DataBuffer.prototype.putString=function(t){return this.putBytes(t,\"utf16\")},a.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(t,e){u(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},a.DataBuffer.prototype.putSignedInt=function(t,e){return u(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},a.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},a.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},a.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},a.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},a.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},a.DataBuffer.prototype.getInt=function(t){u(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},a.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},a.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e=\"\":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},a.DataBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},a.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},a.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var t=\"\",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+=\"0\"),t+=r.toString(16)}return t},a.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(\"binary\"===(t=t||\"utf8\")||\"raw\"===t)return a.binary.raw.encode(e);if(\"hex\"===t)return a.binary.hex.encode(e);if(\"base64\"===t)return a.binary.base64.encode(e);if(\"utf8\"===t)return a.text.utf8.decode(e);if(\"utf16\"===t)return a.text.utf16.decode(e);throw new Error(\"Invalid encoding: \"+t)},a.createBuffer=function(t,e){return e=e||\"raw\",void 0!==t&&\"utf8\"===e&&(t=a.encodeUtf8(t)),new a.ByteBuffer(t)},a.fillString=function(t,e){for(var r=\"\";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},a.xorBytes=function(t,e,r){for(var n=\"\",i=\"\",o=\"\",s=0,a=0;r>0;--r,++s)i=t.charCodeAt(s)^e.charCodeAt(s),a>=10&&(n+=o,o=\"\",a=0),o+=String.fromCharCode(i),++a;return n+=o},a.hexToBytes=function(t){var e=\"\",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},a.bytesToHex=function(t){return a.createBuffer(t).toHex()},a.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var f=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",h=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],l=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";a.encode64=function(t,e){for(var r,n,i,o=\"\",s=\"\",a=0;a<t.length;)r=t.charCodeAt(a++),n=t.charCodeAt(a++),i=t.charCodeAt(a++),o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+=\"==\":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?\"=\":f.charAt(63&i)),e&&o.length>e&&(s+=o.substr(0,e)+\"\\r\\n\",o=o.substr(e));return s+=o},a.decode64=function(t){t=t.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");for(var e,r,n,i,o=\"\",s=0;s<t.length;)e=h[t.charCodeAt(s++)-43],r=h[t.charCodeAt(s++)-43],n=h[t.charCodeAt(s++)-43],i=h[t.charCodeAt(s++)-43],o+=String.fromCharCode(e<<2|r>>4),64!==n&&(o+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},a.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},a.decodeUtf8=function(t){return decodeURIComponent(escape(t))},a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}},a.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},a.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var i=0,o=r=r||0;for(1&t.length&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n},a.binary.base64.encode=function(t,e){for(var r,n,i,o=\"\",s=\"\",a=0;a<t.byteLength;)r=t[a++],n=t[a++],i=t[a++],o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+=\"==\":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?\"=\":f.charAt(63&i)),e&&o.length>e&&(s+=o.substr(0,e)+\"\\r\\n\",o=o.substr(e));return s+=o},a.binary.base64.decode=function(t,e,r){var n,i,o,s,a=e;a||(a=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");for(var u=0,c=r=r||0;u<t.length;)n=h[t.charCodeAt(u++)-43],i=h[t.charCodeAt(u++)-43],o=h[t.charCodeAt(u++)-43],s=h[t.charCodeAt(u++)-43],a[c++]=n<<2|i>>4,64!==o&&(a[c++]=(15&i)<<4|o>>2,64!==s&&(a[c++]=(3&o)<<6|s));return e?c-r:a.subarray(0,c)},a.binary.base58.encode=function(t,e){return a.binary.baseN.encode(t,l,e)},a.binary.base58.decode=function(t,e){return a.binary.baseN.decode(t,l,e)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(t,e,r){t=a.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n},a.text.utf8.decode=function(t){return a.decodeUtf8(String.fromCharCode.apply(null,t))},a.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,s=r,a=0;a<t.length;++a)i[s++]=t.charCodeAt(a),o+=2;return e?o-r:n},a.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},a.deflate=function(t,e,r){if(e=a.decode64(t.deflate(a.encode64(e)).rval),r){var n=2;32&e.charCodeAt(1)&&(n=6),e=e.substring(n,e.length-4)}return e},a.inflate=function(t,e,r){var n=t.inflate(a.encode64(e)).rval;return null===n?null:a.decode64(n)};var p=function(t,e,r){if(!t)throw new Error(\"WebStorage not available.\");var n;if(null===r?n=t.removeItem(e):(r=a.encode64(JSON.stringify(r)),n=t.setItem(e,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},d=function(t,e){if(!t)throw new Error(\"WebStorage not available.\");var r=t.getItem(e);if(t.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(a.decode64(r))),r},y=function(t,e,r,n){var i=d(t,e);null===i&&(i={}),i[r]=n,p(t,e,i)},m=function(t,e,r){var n=d(t,e);return null!==n&&(n=r in n?n[r]:null),n},g=function(t,e,r){var n=d(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),p(t,e,n)}},b=function(t,e){p(t,e,null)},v=function(t,e,r){var n,i=null;void 0===r&&(r=[\"web\",\"flash\"]);var o=!1,s=null;for(var a in r){n=r[a];try{if(\"flash\"===n||\"both\"===n){if(null===e[0])throw new Error(\"Flash local storage not available.\");i=t.apply(this,e),o=\"flash\"===n}\"web\"!==n&&\"both\"!==n||(e[0]=localStorage,i=t.apply(this,e),o=!0)}catch(t){s=t}if(o)break}if(!o)throw s;return i};a.setItem=function(t,e,r,n,i){v(y,arguments,i)},a.getItem=function(t,e,r,n){return v(m,arguments,n)},a.removeItem=function(t,e,r,n){v(g,arguments,n)},a.clearItems=function(t,e,r){v(b,arguments,r)},a.parseUrl=function(t){var e=/^(https?):\\/\\/([^:&^\\/]*):?(\\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&\"http\"===n.scheme?n.fullHost+=\":\"+n.port:443!==n.port&&\"https\"===n.scheme&&(n.fullHost+=\":\"+n.port):\"http\"===n.scheme?n.port=80:\"https\"===n.scheme&&(n.port=443),n.full=n.scheme+\"://\"+n.fullHost),n};var _=null;a.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split(\"&\"),n=0;n<r.length;n++){var i,o,s=r[n].indexOf(\"=\");s>0?(i=r[n].substring(0,s),o=r[n].substring(s+1)):(i=r[n],o=null),i in e||(e[i]=[]),i in Object.prototype||null===o||e[i].push(unescape(o))}return e};return void 0===t?(null===_&&(_=\"undefined\"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),e=_):e=r(t),e},a.parseFragment=function(t){var e=t,r=\"\",n=t.indexOf(\"?\");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split(\"/\");return i.length>0&&\"\"===i[0]&&i.shift(),{pathString:e,queryString:r,path:i,query:\"\"===r?{}:a.getQueryVariables(r)}},a.makeRequest=function(t){var e=a.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(t){return void 0===t?e.path:e.path[t]},getQuery:function(t,r){var n;return void 0===t?n=e.query:(n=e.query[t])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(t,e){var n=r.getQuery(t);return n?n[n.length-1]:e}};return r},a.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join(\"/\"):t;var n=jQuery.param(e||{});return r=r||\"\",t+(n.length>0?\"?\"+n:\"\")+(r.length>0?\"#\"+r:\"\")},a.setPath=function(t,e,r){if(\"object\"==typeof t&&null!==t)for(var n=0,i=e.length;n<i;){var o=e[n++];if(n==i)t[o]=r;else{var s=o in t;(!s||s&&\"object\"!=typeof t[o]||s&&null===t[o])&&(t[o]={}),t=t[o]}}},a.getPath=function(t,e,r){for(var n=0,i=e.length,o=!0;o&&n<i&&\"object\"==typeof t&&null!==t;){var s=e[n++];(o=s in t)&&(t=t[s])}return o?t:r},a.deletePath=function(t,e){if(\"object\"==typeof t&&null!==t)for(var r=0,n=e.length;r<n;){var i=e[r++];if(r==n)delete t[i];else{if(!(i in t)||\"object\"!=typeof t[i]||null===t[i])break;t=t[i]}}},a.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},a.format=function(t){for(var e,r,n=/%./g,i=0,o=[],s=0;e=n.exec(t);){(r=t.substring(s,n.lastIndex-2)).length>0&&o.push(r),s=n.lastIndex;var a=e[0][1];switch(a){case\"s\":case\"o\":i<arguments.length?o.push(arguments[1+i++]):o.push(\"<?>\");break;case\"%\":o.push(\"%\");break;default:o.push(\"<%\"+a+\"?>\")}}return o.push(t.substring(s)),o.join(\"\")},a.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,s=void 0===r?\",\":r,a=void 0===n?\".\":n,u=i<0?\"-\":\"\",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+\"\",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+a:\"\")+c.substr(f).replace(/(\\d{3})(?=\\d)/g,\"$1\"+a)+(o?s+Math.abs(i-c).toFixed(o).slice(2):\"\")},a.formatSize=function(t){return t=t>=1073741824?a.formatNumber(t/1073741824,2,\".\",\"\")+\" GiB\":t>=1048576?a.formatNumber(t/1048576,2,\".\",\"\")+\" MiB\":t>=1024?a.formatNumber(t/1024,0)+\" KiB\":a.formatNumber(t,0)+\" bytes\"},a.bytesFromIP=function(t){return-1!==t.indexOf(\".\")?a.bytesFromIPv4(t):-1!==t.indexOf(\":\")?a.bytesFromIPv6(t):null},a.bytesFromIPv4=function(t){if(4!==(t=t.split(\".\")).length)return null;for(var e=a.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()},a.bytesFromIPv6=function(t){for(var e=0,r=2*(8-(t=t.split(\":\").filter(function(t){return 0===t.length&&++e,!0})).length+e),n=a.createBuffer(),i=0;i<8;++i)if(t[i]&&0!==t[i].length){var o=a.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},a.bytesToIP=function(t){return 4===t.length?a.bytesToIPv4(t):16===t.length?a.bytesToIPv6(t):null},a.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(\".\")},a.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=a.bytesToHex(t[i]+t[i+1]);\"0\"===o[0]&&\"0\"!==o;)o=o.substr(1);if(\"0\"===o){var s=r[r.length-1],u=e.length;s&&u===s.end+1?(s.end=u,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}e.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(e.splice(c.start,c.end-c.start+1,\"\"),0===c.start&&e.unshift(\"\"),7===c.end&&e.push(\"\"))}return e.join(\":\")},a.estimateCores=function(t,e){if(\"function\"==typeof t&&(e=t,t={}),t=t||{},\"cores\"in a&&!t.update)return e(null,a.cores);if(\"undefined\"!=typeof navigator&&\"hardwareConcurrency\"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,e(null,a.cores);if(\"undefined\"==typeof Worker)return a.cores=1,e(null,a.cores);if(\"undefined\"==typeof Blob)return a.cores=2,e(null,a.cores);var r=URL.createObjectURL(new Blob([\"(\",function(){self.addEventListener(\"message\",function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})})}.toString(),\")()\"],{type:\"application/javascript\"}));!function t(n,i,o){if(0===i){var s=Math.floor(n.reduce(function(t,e){return t+e},0)/n.length);return a.cores=Math.max(1,s),URL.revokeObjectURL(r),e(null,a.cores)}!function(t,e){for(var n=[],i=[],o=0;o<t;++o){var s=new Worker(r);s.addEventListener(\"message\",function(r){if(i.push(r.data),i.length===t){for(var o=0;o<t;++o)n[o].terminate();e(null,i)}}),n.push(s)}for(var o=0;o<t;++o)n[o].postMessage(o)}(o,function(e,r){n.push(function(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],o=r[n]=[],s=0;s<t;++s)if(n!==s){var a=e[s];(i.st>a.st&&i.st<a.et||a.st>i.st&&a.st<i.et)&&o.push(s)}return r.reduce(function(t,e){return Math.max(t,e.length)},0)}(o,r)),t(n,i-1,o)})}([],5,16)}}).call(this,r(7),r(32).setImmediate,r(0).Buffer)},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return\"function\"==typeof t}function i(t){return\"object\"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function(t){return\"number\"==typeof t}(t)||t<0||isNaN(t))throw TypeError(\"n must be a positive number\");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,s,a,u,c;if(this._events||(this._events={}),\"error\"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified \"error\" event. ('+e+\")\");throw f.context=e,f}if(o(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),s=(c=r.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var s;if(!n(e))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[t].length),\"function\"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError(\"listener must be a function\");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit(\"removeListener\",t,e);else if(i(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit(\"removeListener\",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)\"removeListener\"!==e&&this.removeAllListeners(e);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){t.exports={encode:r(879),decode:r(880),encodingLength:r(881)}},function(t,e,r){\"use strict\";var n=r(68),i=r(17);t.exports={checkState:function(t,e){if(!t)throw new n.InvalidState(e)},checkArgument:function(t,e,r,i){if(!t)throw new n.InvalidArgument(e,r,i)},checkArgumentType:function(t,e,o){if(o=o||\"(unknown name)\",i.isString(e)){if(\"Buffer\"===e){if(!r(23).isBuffer(t))throw new n.InvalidArgumentType(t,e,o)}else if(typeof t!==e)throw new n.InvalidArgumentType(t,e,o)}else if(!(t instanceof e))throw new n.InvalidArgumentType(t,e.name,o)}}},function(t,e,r){\n/** PROMISIFY CALLBACK-STYLE FUNCTIONS TO ES6 PROMISES\n*\n* EXAMPLE:\n* const fn = promisify( (callback) => callback(null, \"Hello world!\") );\n* fn((err, str) => console.log(str));\n* fn().then((str) => console.log(str));\n* //Both functions, will log 'Hello world!'\n*\n* Note: The function you pass, may have any arguments you want, but the latest\n* have to be the callback, which you will call with: next(err, value)\n*\n* @param method: Function/Array/Map = The function(s) to promisify\n* @param options: Map =\n*  \"context\" (default is function): The context which to apply the called function\n*  \"replace\" (default is falsy): When passed an array/map, if to replace the original object\n*\n* @return: A promise if passed a function, otherwise the object with the promises\n*\n* @license: MIT\n* @version: 1.0.3\n* @author: Manuel Di Iorio\n**/\nvar n=function(t,e){return function(){var r=Array.prototype.slice.call(arguments),n=r.length-1,i=r&&r.length>0?r[n]:null;return(\"function\"==typeof i?i:null)?t.apply(e,r):new Promise(function(n,i){r.push(function(t,e){if(t)return i(t);n(e)}),t.apply(e,r)})}};t.exports=function(t,e){e=e||{};var r=Object.prototype.toString.call(t);if(\"[object Object]\"===r||\"[object Array]\"===r){var i=e.replace?t:{};for(var o in t)t.hasOwnProperty(o)&&(i[o]=n(t[o]));return i}return n(t,e.context||t)}},function(t,e,r){\"use strict\";(function(e){var n=r(0),i=r(15),o=r(28),s=r(21);function a(t,e){if(t.length!==e.length)return!1;for(var r=t.length,n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}t.exports={fill:function(t,e){s.checkArgumentType(t,\"Buffer\",\"buffer\"),s.checkArgumentType(e,\"number\",\"value\");for(var r=t.length,n=0;n<r;n++)t[n]=e;return t},copy:function(t){var r=new e(t.length);return t.copy(r),r},isBuffer:function(t){return n.Buffer.isBuffer(t)||t instanceof Uint8Array},emptyBuffer:function(t){s.checkArgumentType(t,\"number\",\"bytes\");for(var e=new n.Buffer(t),r=0;r<t;r++)e.write(\"\\0\",r);return e},concat:n.Buffer.concat,equals:a,equal:a,integerAsSingleByteBuffer:function(t){return s.checkArgumentType(t,\"number\",\"integer\"),new n.Buffer([255&t])},integerAsBuffer:function(t){s.checkArgumentType(t,\"number\",\"integer\");var r=[];return r.push(t>>24&255),r.push(t>>16&255),r.push(t>>8&255),r.push(255&t),new e(r)},integerFromBuffer:function(t){return s.checkArgumentType(t,\"Buffer\",\"buffer\"),t[0]<<24|t[1]<<16|t[2]<<8|t[3]},integerFromSingleByteBuffer:function(t){return s.checkArgumentType(t,\"Buffer\",\"buffer\"),t[0]},bufferToHex:function(t){return s.checkArgumentType(t,\"Buffer\",\"buffer\"),t.toString(\"hex\")},reverse:function(t){for(var e=new n.Buffer(t.length),r=0;r<t.length;r++)e[r]=t[t.length-r-1];return e},hexToBuffer:function(t){return i(o.isHexa(t)),new n.Buffer(t,\"hex\")}},t.exports.NULL_HASH=t.exports.fill(new e(32),0),t.exports.EMPTY_BUFFER=new e(0)}).call(this,r(0).Buffer)},function(t,e){function r(t,e){if(!t)throw new Error(e||\"Assertion failed\")}t.exports=r,r.equal=function(t,e,r){if(t!=e)throw new Error(r||\"Assertion failed: \"+t+\" != \"+e)}},function(t,e,r){var n=r(475),i=r(265),o=n.tfJSON,s=n.TfTypeError,a=n.TfPropertyTypeError,u=n.tfSubError,c=n.getValueTypeName,f={arrayOf:function(t){function e(e,r){return!!i.Array(e)&&(!i.Nil(e)&&e.every(function(e,n){try{return l(t,e,r)}catch(t){throw u(t,n)}}))}return t=h(t),e.toJSON=function(){return\"[\"+o(t)+\"]\"},e},maybe:function t(e){function r(r,n){return i.Nil(r)||e(r,n,t)}return e=h(e),r.toJSON=function(){return\"?\"+o(e)},r},map:function(t,e){function r(r,n){if(!i.Object(r))return!1;if(i.Nil(r))return!1;for(var o in r){try{e&&l(e,o,n)}catch(t){throw u(t,o,\"key\")}try{var s=r[o];l(t,s,n)}catch(t){throw u(t,o)}}return!0}return t=h(t),e&&(e=h(e)),r.toJSON=e?function(){return\"{\"+o(e)+\": \"+o(t)+\"}\"}:function(){return\"{\"+o(t)+\"}\"},r},object:function(t){var e={};for(var r in t)e[r]=h(t[r]);function n(t,r){if(!i.Object(t))return!1;if(i.Nil(t))return!1;var n;try{for(n in e){l(e[n],t[n],r)}}catch(t){throw u(t,n)}if(r)for(n in t)if(!e[n])throw new a(void 0,n);return!0}return n.toJSON=function(){return o(e)},n},oneOf:function(){var t=[].slice.call(arguments).map(h);function e(e,r){return t.some(function(t){try{return l(t,e,r)}catch(t){return!1}})}return e.toJSON=function(){return t.map(o).join(\"|\")},e},quacksLike:function(t){function e(e){return t===c(e)}return e.toJSON=function(){return t},e},tuple:function(){var t=[].slice.call(arguments).map(h);function e(e,r){return!i.Nil(e)&&(!i.Nil(e.length)&&((!r||e.length===t.length)&&t.every(function(t,n){try{return l(t,e[n],r)}catch(t){throw u(t,n)}})))}return e.toJSON=function(){return\"(\"+t.map(o).join(\", \")+\")\"},e},value:function(t){function e(e){return e===t}return e.toJSON=function(){return t},e}};function h(t){return i.String(t)?\"?\"===t[0]?f.maybe(t.slice(1)):i[t]||f.quacksLike(t):t&&i.Object(t)?i.Array(t)?f.arrayOf(t[0]):f.object(t):i.Function(t)?t:f.value(t)}function l(t,e,r,n){if(i.Function(t)){if(t(e,r))return!0;throw new s(n||t,e)}return l(h(t),e,r)}for(var p in i)l[p]=i[p];for(p in f)l[p]=f[p];var d=r(1013);for(p in d)l[p]=d[p];l.async=function t(e,r,n,i){if(\"function\"==typeof n)return t(e,r,!1,n);try{l(e,r,n)}catch(t){return i(t)}i()},l.compile=h,l.TfTypeError=s,l.TfPropertyTypeError=a,t.exports=l},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){var n=r(3).Buffer,i=r(264),o=r(474),s=r(25),a=r(29),u=r(476),c=r(44),f=r(1014),h=c.OP_RESERVED;function l(t){return a.Buffer(t)||function(t){return a.Number(t)&&(t===c.OP_0||t>=c.OP_1&&t<=c.OP_16||t===c.OP_1NEGATE)}(t)}function p(t){return a.Array(t)&&t.every(l)}function d(t){return 0===t.length?c.OP_0:1===t.length?t[0]>=1&&t[0]<=16?h+t[0]:129===t[0]?c.OP_1NEGATE:void 0:void 0}function y(t){if(n.isBuffer(t))return t;s(a.Array,t);var e=t.reduce(function(t,e){return n.isBuffer(e)?1===e.length&&void 0!==d(e)?t+1:t+o.encodingLength(e.length)+e.length:t+1},0),r=n.allocUnsafe(e),i=0;if(t.forEach(function(t){if(n.isBuffer(t)){var e=d(t);if(void 0!==e)return r.writeUInt8(e,i),void(i+=1);i+=o.encode(r,t.length,i),t.copy(r,i),i+=t.length}else r.writeUInt8(t,i),i+=1}),i!==r.length)throw new Error(\"Could not decode chunks\");return r}function m(t){if(a.Array(t))return t;s(a.Buffer,t);for(var e=[],r=0;r<t.length;){var n=t[r];if(n>c.OP_0&&n<=c.OP_PUSHDATA4){var i=o.decode(t,r);if(null===i)return[];if((r+=i.size)+i.number>t.length)return[];var u=t.slice(r,r+i.number);r+=i.number;var f=d(u);void 0!==f?e.push(f):e.push(u)}else e.push(n),r+=1}return e}function g(t){var e=-129&t;return e>0&&e<4}t.exports={compile:y,decompile:m,fromASM:function(t){return s(a.String,t),y(t.split(\" \").map(function(t){return void 0!==c[t]?c[t]:(s(a.Hex,t),n.from(t,\"hex\"))}))},toASM:function(t){return n.isBuffer(t)&&(t=m(t)),t.map(function(t){if(n.isBuffer(t)){var e=d(t);if(void 0===e)return t.toString(\"hex\");t=e}return f[t]}).join(\" \")},toStack:function(t){return t=m(t),s(p,t),t.map(function(t){return n.isBuffer(t)?t:t===c.OP_0?n.allocUnsafe(0):u.encode(t-h)})},number:r(476),isCanonicalPubKey:function(t){if(!n.isBuffer(t))return!1;if(t.length<33)return!1;switch(t[0]){case 2:case 3:return 33===t.length;case 4:return 65===t.length}return!1},isCanonicalSignature:function(t){return!!n.isBuffer(t)&&!!g(t[t.length-1])&&i.check(t.slice(0,-1))},isPushOnly:p,isDefinedHashType:g}},function(t,e,r){\"use strict\";var n=r(17),i=function(t){return!!n.isString(t)&&/^[0-9a-fA-F]+$/.test(t)};t.exports={isValidJSON:function(t){var e;if(!n.isString(t))return!1;try{e=JSON.parse(t)}catch(t){return!1}return\"object\"==typeof e},isHexa:i,isHexaString:i,cloneArray:function(t){return[].concat(t)},defineImmutable:function(t,e){return Object.keys(e).forEach(function(r){Object.defineProperty(t,r,{configurable:!1,enumerable:!0,value:e[r]})}),t},isNaturalNumber:function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t&&t>=0}}},function(t,e,r){var n=r(25),i=Math.pow(2,31)-1;function o(t){return n.String(t)&&t.match(/^(m\\/)?(\\d+'?\\/)*\\d+'?$/)}o.toJSON=function(){return\"BIP32 derivation path\"};var s=21e14;var a=n.quacksLike(\"BigInteger\"),u=n.quacksLike(\"Point\"),c=n.compile({r:a,s:a}),f=n.compile({messagePrefix:n.oneOf(n.Buffer,n.String),bip32:{public:n.UInt32,private:n.UInt32},pubKeyHash:n.UInt8,scriptHash:n.UInt8,wif:n.UInt8}),h={BigInt:a,BIP32Path:o,Buffer256bit:n.BufferN(32),ECPoint:u,ECSignature:c,Hash160bit:n.BufferN(20),Hash256bit:n.BufferN(32),Network:f,Satoshi:function(t){return n.UInt53(t)&&t<=s},UInt31:function(t){return n.UInt32(t)&&t<=i}};for(var l in n)h[l]=n[l];t.exports=h},function(t,e,r){\"use strict\";(function(e){var n=r(80),i=r(21),o=r(17),s=function(t){for(var r=new e(t.length),n=0;n<t.length;n++)r[n]=t[t.length-1-n];return r};n.Zero=new n(0),n.One=new n(1),n.Minus1=new n(-1),n.fromNumber=function(t){return i.checkArgument(o.isNumber(t)),new n(t)},n.fromString=function(t,e){return i.checkArgument(o.isString(t)),new n(t,e)},n.fromBuffer=function(t,e){void 0!==e&&\"little\"===e.endian&&(t=s(t));var r=t.toString(\"hex\");return new n(r,16)},n.fromSM=function(t,r){var i;if(0===t.length)return n.fromBuffer(new e([0]));var o=\"big\";return r&&(o=r.endian),\"little\"===o&&(t=s(t)),128&t[0]?(t[0]=127&t[0],(i=n.fromBuffer(t)).neg().copy(i)):i=n.fromBuffer(t),i},n.prototype.toNumber=function(){return parseInt(this.toString(10),10)},n.prototype.toBuffer=function(t){var r,i;if(t&&t.size){var o=(i=this.toString(16,2)).length/2;r=new e(i,\"hex\"),o===t.size?r=r:o>t.size?r=n.trim(r,o):o<t.size&&(r=n.pad(r,o,t.size))}else i=this.toString(16,2),r=new e(i,\"hex\");return void 0!==t&&\"little\"===t.endian&&(r=s(r)),r},n.prototype.toSMBigEndian=function(){var t;return-1===this.cmp(n.Zero)?128&(t=this.neg().toBuffer())[0]?t=e.concat([new e([128]),t]):t[0]=128|t[0]:128&(t=this.toBuffer())[0]&&(t=e.concat([new e([0]),t])),1===t.length&0===t[0]&&(t=new e([])),t},n.prototype.toSM=function(t){var e=t?t.endian:\"big\",r=this.toSMBigEndian();return\"little\"===e&&(r=s(r)),r},n.fromScriptNumBuffer=function(t,e,r){var o=r||4;if(i.checkArgument(t.length<=o,new Error(\"script number overflow\")),e&&t.length>0&&0==(127&t[t.length-1])&&(t.length<=1||0==(128&t[t.length-2])))throw new Error(\"non-minimally encoded script number\");return n.fromSM(t,{endian:\"little\"})},n.prototype.toScriptNumBuffer=function(){return this.toSM({endian:\"little\"})},n.prototype.gt=function(t){return this.cmp(t)>0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.lt=function(t){return this.cmp(t)<0},n.trim=function(t,e){return t.slice(e-t.length,t.length)},n.pad=function(t,r,n){for(var i=new e(n),o=0;o<t.length;o++)i[i.length-1-o]=t[t.length-1-o];for(o=0;o<n-r;o++)i[o]=0;return i},t.exports=n}).call(this,r(0).Buffer)},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,h=s.hasOwnProperty,l=Array.isArray,p=Object.keys,d=a.bind,y=Object.create,m=function(){},g=function(t){return t instanceof g?t:this instanceof g?void(this._wrapped=t):new g(t)};void 0!==t&&t.exports&&(e=t.exports=g),e._=g,g.VERSION=\"1.8.3\";var b=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},v=function(t,e,r){return null==t?g.identity:g.isFunction(t)?b(t,e,r):g.isObject(t)?g.matcher(t):g.property(t)};g.iteratee=function(t,e){return v(t,e,1/0)};var _=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},w=function(t){if(!g.isObject(t))return{};if(y)return y(t);m.prototype=t;var e=new m;return m.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},k=Math.pow(2,53)-1,E=S(\"length\"),A=function(t){var e=E(t);return\"number\"==typeof e&&e>=0&&e<=k};function x(t){return function(e,r,n,i){r=b(r,i,4);var o=!A(e)&&g.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}g.each=g.forEach=function(t,e,r){var n,i;if(e=b(e,r),A(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=g.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},g.map=g.collect=function(t,e,r){e=v(e,r);for(var n=!A(t)&&g.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},g.reduce=g.foldl=g.inject=x(1),g.reduceRight=g.foldr=x(-1),g.find=g.detect=function(t,e,r){var n;if(void 0!==(n=A(t)?g.findIndex(t,e,r):g.findKey(t,e,r))&&-1!==n)return t[n]},g.filter=g.select=function(t,e,r){var n=[];return e=v(e,r),g.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},g.reject=function(t,e,r){return g.filter(t,g.negate(v(e)),r)},g.every=g.all=function(t,e,r){e=v(e,r);for(var n=!A(t)&&g.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},g.some=g.any=function(t,e,r){e=v(e,r);for(var n=!A(t)&&g.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},g.contains=g.includes=g.include=function(t,e,r,n){return A(t)||(t=g.values(t)),(\"number\"!=typeof r||n)&&(r=0),g.indexOf(t,e,r)>=0},g.invoke=function(t,e){var r=c.call(arguments,2),n=g.isFunction(e);return g.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},g.pluck=function(t,e){return g.map(t,g.property(e))},g.where=function(t,e){return g.filter(t,g.matcher(e))},g.findWhere=function(t,e){return g.find(t,g.matcher(e))},g.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=A(t)?t:g.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=v(e,r),g.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},g.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=A(t)?t:g.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=v(e,r),g.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},g.shuffle=function(t){for(var e,r=A(t)?t:g.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=g.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},g.sample=function(t,e,r){return null==e||r?(A(t)||(t=g.values(t)),t[g.random(t.length-1)]):g.shuffle(t).slice(0,Math.max(0,e))},g.sortBy=function(t,e,r){return e=v(e,r),g.pluck(g.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),\"value\")};var T=function(t){return function(e,r,n){var i={};return r=v(r,n),g.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};g.groupBy=T(function(t,e,r){g.has(t,r)?t[r].push(e):t[r]=[e]}),g.indexBy=T(function(t,e,r){t[r]=e}),g.countBy=T(function(t,e,r){g.has(t,r)?t[r]++:t[r]=1}),g.toArray=function(t){return t?g.isArray(t)?c.call(t):A(t)?g.map(t,g.identity):g.values(t):[]},g.size=function(t){return null==t?0:A(t)?t.length:g.keys(t).length},g.partition=function(t,e,r){e=v(e,r);var n=[],i=[];return g.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},g.first=g.head=g.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:g.initial(t,t.length-e)},g.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},g.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:g.rest(t,Math.max(0,t.length-e))},g.rest=g.tail=g.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},g.compact=function(t){return g.filter(t,g.identity)};var B=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=E(t);s<a;s++){var u=t[s];if(A(u)&&(g.isArray(u)||g.isArguments(u))){e||(u=B(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=v(r,n);for(var i=E(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function C(t,e,r){return function(n,i,o){var s=0,a=E(n);if(\"number\"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),g.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}g.flatten=function(t,e){return B(t,e,!1)},g.without=function(t){return g.difference(t,c.call(arguments,1))},g.uniq=g.unique=function(t,e,r,n){g.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=v(r,n));for(var i=[],o=[],s=0,a=E(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?g.contains(o,c)||(o.push(c),i.push(u)):g.contains(i,u)||i.push(u)}return i},g.union=function(){return g.uniq(B(arguments,!0,!0))},g.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=E(t);n<i;n++){var o=t[n];if(!g.contains(e,o)){for(var s=1;s<r&&g.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},g.difference=function(t){var e=B(arguments,!0,!0,1);return g.filter(t,function(t){return!g.contains(e,t)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(t){for(var e=t&&g.max(t,E).length||0,r=Array(e),n=0;n<e;n++)r[n]=g.pluck(t,n);return r},g.object=function(t,e){for(var r={},n=0,i=E(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},g.findIndex=I(1),g.findLastIndex=I(-1),g.sortedIndex=function(t,e,r,n){for(var i=(r=v(r,n,1))(e),o=0,s=E(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},g.indexOf=C(1,g.findIndex,g.sortedIndex),g.lastIndexOf=C(-1,g.findLastIndex),g.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var M=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=w(t.prototype),s=t.apply(o,i);return g.isObject(s)?s:o};g.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!g.isFunction(t))throw new TypeError(\"Bind must be called on a function\");var r=c.call(arguments,2),n=function(){return M(t,n,e,this,r.concat(c.call(arguments)))};return n},g.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===g?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return M(t,r,this,this,o)};return r},g.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error(\"bindAll must be passed function names\");for(e=1;e<n;e++)t[r=arguments[e]]=g.bind(t[r],t);return t},g.memoize=function(t,e){var r=function(n){var i=r.cache,o=\"\"+(e?e.apply(this,arguments):n);return g.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},g.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},g.defer=g.partial(g.delay,g,1),g.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:g.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=g.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},g.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=g.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=g.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},g.wrap=function(t,e){return g.partial(e,t)},g.negate=function(t){return function(){return!t.apply(this,arguments)}},g.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},g.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},g.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},g.once=g.partial(g.before,2);var P=!{toString:null}.propertyIsEnumerable(\"toString\"),O=[\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"];function R(t,e){var r=O.length,n=t.constructor,i=g.isFunction(n)&&n.prototype||s,o=\"constructor\";for(g.has(t,o)&&!g.contains(e,o)&&e.push(o);r--;)(o=O[r])in t&&t[o]!==i[o]&&!g.contains(e,o)&&e.push(o)}g.keys=function(t){if(!g.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)g.has(t,r)&&e.push(r);return P&&R(t,e),e},g.allKeys=function(t){if(!g.isObject(t))return[];var e=[];for(var r in t)e.push(r);return P&&R(t,e),e},g.values=function(t){for(var e=g.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},g.mapObject=function(t,e,r){e=v(e,r);for(var n,i=g.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},g.pairs=function(t){for(var e=g.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},g.invert=function(t){for(var e={},r=g.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},g.functions=g.methods=function(t){var e=[];for(var r in t)g.isFunction(t[r])&&e.push(r);return e.sort()},g.extend=_(g.allKeys),g.extendOwn=g.assign=_(g.keys),g.findKey=function(t,e,r){e=v(e,r);for(var n,i=g.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},g.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;g.isFunction(e)?(i=g.allKeys(s),n=b(e,r)):(i=B(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},g.omit=function(t,e,r){if(g.isFunction(e))e=g.negate(e);else{var n=g.map(B(arguments,!1,!1,1),String);e=function(t,e){return!g.contains(n,e)}}return g.pick(t,e,r)},g.defaults=_(g.allKeys,!0),g.create=function(t,e){var r=w(t);return e&&g.extendOwn(r,e),r},g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend({},t):t},g.tap=function(t,e){return e(t),t},g.isMatch=function(t,e){var r=g.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var j=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof g&&(t=t._wrapped),e instanceof g&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case\"[object RegExp]\":case\"[object String]\":return\"\"+t==\"\"+e;case\"[object Number]\":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case\"[object Date]\":case\"[object Boolean]\":return+t==+e}var o=\"[object Array]\"===i;if(!o){if(\"object\"!=typeof t||\"object\"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(g.isFunction(s)&&s instanceof s&&g.isFunction(a)&&a instanceof a)&&\"constructor\"in t&&\"constructor\"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!j(t[u],e[u],r,n))return!1}else{var c,h=g.keys(t);if(u=h.length,g.keys(e).length!==u)return!1;for(;u--;)if(c=h[u],!g.has(e,c)||!j(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};g.isEqual=function(t,e){return j(t,e)},g.isEmpty=function(t){return null==t||(A(t)&&(g.isArray(t)||g.isString(t)||g.isArguments(t))?0===t.length:0===g.keys(t).length)},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=l||function(t){return\"[object Array]\"===f.call(t)},g.isObject=function(t){var e=typeof t;return\"function\"===e||\"object\"===e&&!!t},g.each([\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\",\"Error\"],function(t){g[\"is\"+t]=function(e){return f.call(e)===\"[object \"+t+\"]\"}}),g.isArguments(arguments)||(g.isArguments=function(t){return g.has(t,\"callee\")}),\"function\"!=typeof/./&&\"object\"!=typeof Int8Array&&(g.isFunction=function(t){return\"function\"==typeof t||!1}),g.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&t!==+t},g.isBoolean=function(t){return!0===t||!1===t||\"[object Boolean]\"===f.call(t)},g.isNull=function(t){return null===t},g.isUndefined=function(t){return void 0===t},g.has=function(t,e){return null!=t&&h.call(t,e)},g.noConflict=function(){return r._=i,this},g.identity=function(t){return t},g.constant=function(t){return function(){return t}},g.noop=function(){},g.property=S,g.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(t,e,r){var n=Array(Math.max(0,t));e=b(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.now=Date.now||function(){return(new Date).getTime()};var N={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},L=g.invert(N),K=function(t){var e=function(e){return t[e]},r=\"(?:\"+g.keys(t).join(\"|\")+\")\",n=RegExp(r),i=RegExp(r,\"g\");return function(t){return t=null==t?\"\":\"\"+t,n.test(t)?t.replace(i,e):t}};g.escape=K(N),g.unescape=K(L),g.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),g.isFunction(n)?n.call(t):n};var D=0;g.uniqueId=function(t){var e=++D+\"\";return t?t+e:e},g.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var U=/(.)^/,F={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},q=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g,H=function(t){return\"\\\\\"+F[t]};g.template=function(t,e,r){!e&&r&&(e=r),e=g.defaults({},e,g.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join(\"|\")+\"|$\",\"g\"),i=0,o=\"__p+='\";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(q,H),i=a+e.length,r?o+=\"'+\\n((__t=(\"+r+\"))==null?'':_.escape(__t))+\\n'\":n?o+=\"'+\\n((__t=(\"+n+\"))==null?'':__t)+\\n'\":s&&(o+=\"';\\n\"+s+\"\\n__p+='\"),e}),o+=\"';\\n\",e.variable||(o=\"with(obj||{}){\\n\"+o+\"}\\n\"),o=\"var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\\n\"+o+\"return __p;\\n\";try{var s=new Function(e.variable||\"obj\",\"_\",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,g)},u=e.variable||\"obj\";return a.source=\"function(\"+u+\"){\\n\"+o+\"}\",a},g.chain=function(t){var e=g(t);return e._chain=!0,e};var z=function(t,e){return t._chain?g(e).chain():e};g.mixin=function(t){g.each(g.functions(t),function(e){var r=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),z(this,r.apply(g,t))}})},g.mixin(g),g.each([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(t){var e=o[t];g.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),\"shift\"!==t&&\"splice\"!==t||0!==r.length||delete r[0],z(this,r)}}),g.each([\"concat\",\"join\",\"slice\"],function(t){var e=o[t];g.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return\"\"+this._wrapped},void 0===(n=function(){return g}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){(function(t){var n=void 0!==t&&t||\"undefined\"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(373),e.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(5))},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},function(t,e,r){\"use strict\";var n=e;n.version=r(807).version,n.utils=r(808),n.rand=r(396),n.curve=r(182),n.curves=r(813),n.ec=r(821),n.eddsa=r(825)},function(t,e,r){\"use strict\";const n=r(440),i=r(926),o=r(254);e.Key=n,e.MemoryDatastore=i,e.utils=o},function(t,e,r){\"use strict\";var n=r(714),i=r(715);t.exports={errors:n,formatters:i}},function(t,e,r){var n=r(790),i=r(798),o=r(391);e.createCipher=e.Cipher=n.createCipher,e.createCipheriv=e.Cipheriv=n.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.isAsync=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(187));var i=\"function\"==typeof Symbol;function o(t){return i&&\"AsyncFunction\"===t[Symbol.toStringTag]}e.default=function(t){return o(t)?(0,n.default)(t):t},e.isAsync=o},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r){r=(0,o.default)(r||n.default);var a=(0,s.default)(e);if(!t())return r(null);var u=function(e){if(e)return r(e);if(t())return a(u);var n=(0,i.default)(arguments,1);r.apply(null,[null].concat(n))};a(u)};var n=a(r(65)),i=a(r(110)),o=a(r(111)),s=a(r(38));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){(function(n,i){var o;\n/**\n * [js-sha3]{@link https://github.com/emn178/js-sha3}\n *\n * @version 0.7.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2015-2017\n * @license MIT\n */\n/**\n * [js-sha3]{@link https://github.com/emn178/js-sha3}\n *\n * @version 0.7.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2015-2017\n * @license MIT\n */\n!function(){\"use strict\";var s=\"input is invalid type\",a=\"object\"==typeof window,u=a?window:{};u.JS_SHA3_NO_WINDOW&&(a=!1);var c=!a&&\"object\"==typeof self;!u.JS_SHA3_NO_NODE_JS&&\"object\"==typeof n&&n.versions&&n.versions.node?u=i:c&&(u=self);var f=!u.JS_SHA3_NO_COMMON_JS&&\"object\"==typeof t&&t.exports,h=r(974),l=!u.JS_SHA3_NO_ARRAY_BUFFER&&\"undefined\"!=typeof ArrayBuffer,p=\"0123456789abcdef\".split(\"\"),d=[4,1024,262144,67108864],y=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],g=[224,256,384,512],b=[128,256],v=[\"hex\",\"buffer\",\"arrayBuffer\",\"array\",\"digest\"],_={128:168,256:136};!u.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}),!l||!u.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return\"object\"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var w=function(t,e,r){return function(n){return new N(t,e,t).update(n)[r]()}},S=function(t,e,r){return function(n,i){return new N(t,e,i).update(n)[r]()}},k=function(t,e,r){return function(e,n,i,o){return B[\"cshake\"+t].update(e,n,i,o)[r]()}},E=function(t,e,r){return function(e,n,i,o){return B[\"kmac\"+t].update(e,n,i,o)[r]()}},A=function(t,e,r,n){for(var i=0;i<v.length;++i){var o=v[i];t[o]=e(r,n,o)}return t},x=function(t,e){var r=w(t,e,\"hex\");return r.create=function(){return new N(t,e,t)},r.update=function(t){return r.create().update(t)},A(r,w,t,e)},T=[{name:\"keccak\",padding:[1,256,65536,16777216],bits:g,createMethod:x},{name:\"sha3\",padding:[6,1536,393216,100663296],bits:g,createMethod:x},{name:\"shake\",padding:[31,7936,2031616,520093696],bits:b,createMethod:function(t,e){var r=S(t,e,\"hex\");return r.create=function(r){return new N(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},A(r,S,t,e)}},{name:\"cshake\",padding:d,bits:b,createMethod:function(t,e){var r=_[t],n=k(t,0,\"hex\");return n.create=function(n,i,o){return i||o?new N(t,e,n).bytepad([i,o],r):B[\"shake\"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},A(n,k,t,e)}},{name:\"kmac\",padding:d,bits:b,createMethod:function(t,e){var r=_[t],n=E(t,0,\"hex\");return n.create=function(n,i,o){return new L(t,e,i).bytepad([\"KMAC\",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},A(n,E,t,e)}}],B={},I=[],C=0;C<T.length;++C)for(var M=T[C],P=M.bits,O=0;O<P.length;++O){var R=M.name+\"_\"+P[O];if(I.push(R),B[R]=M.createMethod(P[O],M.padding),\"sha3\"!==M.name){var j=M.name+P[O];I.push(j),B[j]=B[R]}}function N(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function L(t,e,r){N.call(this,t,e,r)}N.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if(\"string\"!==r){if(\"object\"!==r)throw s;if(null===t)throw s;if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw s;e=!0}for(var n,i,o=this.blocks,a=this.byteCount,u=t.length,c=this.blockCount,f=0,h=this.s;f<u;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<c+1;++n)o[n]=0;if(e)for(n=this.start;f<u&&n<a;++f)o[n>>2]|=t[f]<<y[3&n++];else for(n=this.start;f<u&&n<a;++f)(i=t.charCodeAt(f))<128?o[n>>2]|=i<<y[3&n++]:i<2048?(o[n>>2]|=(192|i>>6)<<y[3&n++],o[n>>2]|=(128|63&i)<<y[3&n++]):i<55296||i>=57344?(o[n>>2]|=(224|i>>12)<<y[3&n++],o[n>>2]|=(128|i>>6&63)<<y[3&n++],o[n>>2]|=(128|63&i)<<y[3&n++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++f)),o[n>>2]|=(240|i>>18)<<y[3&n++],o[n>>2]|=(128|i>>12&63)<<y[3&n++],o[n>>2]|=(128|i>>6&63)<<y[3&n++],o[n>>2]|=(128|63&i)<<y[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=o[c],n=0;n<c;++n)h[n]^=o[n];K(h),this.reset=!0}else this.start=n}return this}},N.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},N.prototype.encodeString=function(t){var e,r=typeof t;if(\"string\"!==r){if(\"object\"!==r)throw s;if(null===t)throw s;if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw s;e=!0}var n=0,i=t.length;if(e)n=i;else for(var o=0;o<t.length;++o){var a=t.charCodeAt(o);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(t),n},N.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];K(n)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=\"\";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],a+=p[t>>4&15]+p[15&t]+p[t>>12&15]+p[t>>8&15]+p[t>>20&15]+p[t>>16&15]+p[t>>28&15]+p[t>>24&15];s%e==0&&(K(r),o=0)}return i&&(t=r[o],a+=p[t>>4&15]+p[15&t],i>1&&(a+=p[t>>12&15]+p[t>>8&15]),i>2&&(a+=p[t>>20&15]+p[t>>16&15])),a},N.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)u[s]=r[o];s%e==0&&K(r)}return i&&(u[o]=r[o],t=t.slice(0,a)),t},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&K(n)}return o&&(t=a<<2,e=n[s],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},L.prototype=new N,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var K=function(t){var e,r,n,i,o,s,a,u,c,f,h,l,p,d,y,g,b,v,_,w,S,k,E,A,x,T,B,I,C,M,P,O,R,j,N,L,K,D,U,F,q,H,z,V,G,W,$,Y,J,Z,X,Q,tt,et,rt,nt,it,ot,st,at,ut,ct,ft;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(l=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|c>>>31),r=o^(c<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(f<<1|h>>>31),r=a^(h<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(l<<1|p>>>31),r=c^(p<<1|l>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(i<<1|o>>>31),r=h^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,d=t[0],y=t[1],W=t[11]<<4|t[10]>>>28,$=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,C=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,z=t[41]<<18|t[40]>>>14,j=t[2]<<1|t[3]>>>31,N=t[3]<<1|t[2]>>>31,g=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,J=t[23]<<10|t[22]>>>22,M=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,L=t[14]<<6|t[15]>>>26,K=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,_=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,R=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,x=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,S=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,T=t[18]<<20|t[19]>>>12,B=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,F=t[38]<<8|t[39]>>>24,q=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,E=t[49]<<14|t[48]>>>18,t[0]=d^~g&v,t[1]=y^~b&_,t[10]=A^~T&I,t[11]=x^~B&C,t[20]=j^~L&D,t[21]=N^~K&U,t[30]=V^~W&Y,t[31]=G^~$&J,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=g^~v&w,t[3]=b^~_&S,t[12]=T^~I&M,t[13]=B^~C&P,t[22]=L^~D&F,t[23]=K^~U&q,t[32]=W^~Y&Z,t[33]=$^~J&X,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=v^~w&k,t[5]=_^~S&E,t[14]=I^~M&O,t[15]=C^~P&R,t[24]=D^~F&H,t[25]=U^~q&z,t[34]=Y^~Z&Q,t[35]=J^~X&tt,t[44]=ot^~at&ct,t[45]=st^~ut&ft,t[6]=w^~k&d,t[7]=S^~E&y,t[16]=M^~O&A,t[17]=P^~R&x,t[26]=F^~H&j,t[27]=q^~z&N,t[36]=Z^~Q&V,t[37]=X^~tt&G,t[46]=at^~ct&et,t[47]=ut^~ft&rt,t[8]=k^~d&g,t[9]=E^~y&b,t[18]=O^~A&T,t[19]=R^~x&B,t[28]=H^~j&L,t[29]=z^~N&K,t[38]=Q^~V&W,t[39]=tt^~G&$,t[48]=ct^~et&nt,t[49]=ft^~rt&it,t[0]^=m[n],t[1]^=m[n+1]};if(f)t.exports=B;else{for(C=0;C<I.length;++C)u[I[C]]=B[I[C]];h&&(void 0===(o=function(){return B}.call(e,r,e,t))||(t.exports=o))}}()}).call(this,r(7),r(5))},function(t,e,r){t.exports=r(975)},function(t,e,r){(function(e,n){var i,o=r(977),s=r(979);function a(t,e){return\"function\"!=typeof e?t:t.then(function(t){i(function(){e(null,t)})},function(t){i(function(){e(t)})})}function u(t){return a(this,t)}function c(t){if(t&&s(t)){t.nodeify=u;var e=t.then;return t.then=function(){return c(e.apply(this,arguments))},t}\"function\"==typeof t?t.prototype.nodeify=u:o.prototype.nodeify=u}function f(t){if(!(this instanceof f))return new f(t);o.call(this,t),c(this)}i=\"function\"==typeof e?e:\"object\"==typeof n&&n&&n.nextTick?n.nextTick:function(t){setTimeout(t,0)},t.exports=a,a.extend=c,a.Promise=f,f.prototype=Object.create(o.prototype),f.prototype.constructor=f}).call(this,r(32).setImmediate,r(7))},function(t,e,r){var n=r(981),i=r(982);t.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},function(t){t.exports={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255}},function(t,e,r){\"use strict\";(function(e){var n=r(96),i=r(23),o=r(21),s=t.exports;s.sha1=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash(\"sha1\").update(t).digest()},s.sha1.blocksize=512,s.sha256=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash(\"sha256\").update(t).digest()},s.sha256.blocksize=512,s.sha256sha256=function(t){return o.checkArgument(i.isBuffer(t)),s.sha256(s.sha256(t))},s.ripemd160=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash(\"ripemd160\").update(t).digest()},s.sha256ripemd160=function(t){return o.checkArgument(i.isBuffer(t)),s.ripemd160(s.sha256(t))},s.sha512=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash(\"sha512\").update(t).digest()},s.sha512.blocksize=1024,s.hmac=function(t,r,n){o.checkArgument(i.isBuffer(r)),o.checkArgument(i.isBuffer(n)),o.checkArgument(t.blocksize);var s=t.blocksize/8;if(n.length>s)n=t(n);else if(n<s){var a=new e(s);a.fill(0),n.copy(a),n=a}var u=new e(s);u.fill(92);var c=new e(s);c.fill(54);for(var f=new e(s),h=new e(s),l=0;l<s;l++)f[l]=u[l]^n[l],h[l]=c[l]^n[l];return t(e.concat([f,t(e.concat([h,r]))]))},s.sha256hmac=function(t,e){return s.hmac(s.sha256,t,e)},s.sha512hmac=function(t,e){return s.hmac(s.sha512,t,e)}}).call(this,r(0).Buffer)},function(t,e,r){(function(t,r){var n=200,i=\"Expected a function\",o=\"__lodash_hash_undefined__\",s=1,a=2,u=1/0,c=9007199254740991,f=\"[object Arguments]\",h=\"[object Array]\",l=\"[object Boolean]\",p=\"[object Date]\",d=\"[object Error]\",y=\"[object Function]\",m=\"[object GeneratorFunction]\",g=\"[object Map]\",b=\"[object Number]\",v=\"[object Object]\",_=\"[object RegExp]\",w=\"[object Set]\",S=\"[object String]\",k=\"[object Symbol]\",E=\"[object ArrayBuffer]\",A=\"[object DataView]\",x=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,T=/^\\w*$/,B=/^\\./,I=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,C=/\\\\(\\\\)?/g,M=/^\\[object .+?Constructor\\]$/,P=/^(?:0|[1-9]\\d*)$/,O={};O[\"[object Float32Array]\"]=O[\"[object Float64Array]\"]=O[\"[object Int8Array]\"]=O[\"[object Int16Array]\"]=O[\"[object Int32Array]\"]=O[\"[object Uint8Array]\"]=O[\"[object Uint8ClampedArray]\"]=O[\"[object Uint16Array]\"]=O[\"[object Uint32Array]\"]=!0,O[f]=O[h]=O[E]=O[l]=O[A]=O[p]=O[d]=O[y]=O[g]=O[b]=O[v]=O[_]=O[w]=O[S]=O[\"[object WeakMap]\"]=!1;var R=\"object\"==typeof t&&t&&t.Object===Object&&t,j=\"object\"==typeof self&&self&&self.Object===Object&&self,N=R||j||Function(\"return this\")(),L=\"object\"==typeof e&&e&&!e.nodeType&&e,K=L&&\"object\"==typeof r&&r&&!r.nodeType&&r,D=K&&K.exports===L&&R.process,U=function(){try{return D&&D.binding(\"util\")}catch(t){}}(),F=U&&U.isTypedArray;function q(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function H(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function G(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var W=Array.prototype,$=Function.prototype,Y=Object.prototype,J=N[\"__core-js_shared__\"],Z=function(){var t=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),X=$.toString,Q=Y.hasOwnProperty,tt=Y.toString,et=RegExp(\"^\"+X.call(Q).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),rt=N.Symbol,nt=N.Uint8Array,it=Y.propertyIsEnumerable,ot=W.splice,st=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),at=Ut(N,\"DataView\"),ut=Ut(N,\"Map\"),ct=Ut(N,\"Promise\"),ft=Ut(N,\"Set\"),ht=Ut(N,\"WeakMap\"),lt=Ut(Object,\"create\"),pt=$t(at),dt=$t(ut),yt=$t(ct),mt=$t(ft),gt=$t(ht),bt=rt?rt.prototype:void 0,vt=bt?bt.valueOf:void 0,_t=bt?bt.toString:void 0;function wt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.__data__=new kt;++e<r;)this.add(t[e])}function At(t){this.__data__=new St(t)}function xt(t,e){var r=Xt(t)||Zt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!Q.call(t,o)||i&&(\"length\"==o||qt(o,n))||r.push(o);return r}function Tt(t,e){for(var r=t.length;r--;)if(Jt(t[r][0],e))return r;return-1}wt.prototype.clear=function(){this.__data__=lt?lt(null):{}},wt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},wt.prototype.get=function(t){var e=this.__data__;if(lt){var r=e[t];return r===o?void 0:r}return Q.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return lt?void 0!==e[t]:Q.call(e,t)},wt.prototype.set=function(t,e){return this.__data__[t]=lt&&void 0===e?o:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ot.call(e,r,1),0))},St.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return Tt(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new wt,map:new(ut||St),string:new wt}},kt.prototype.delete=function(t){return Dt(this,t).delete(t)},kt.prototype.get=function(t){return Dt(this,t).get(t)},kt.prototype.has=function(t){return Dt(this,t).has(t)},kt.prototype.set=function(t,e){return Dt(this,t).set(t,e),this},Et.prototype.add=Et.prototype.push=function(t){return this.__data__.set(t,o),this},Et.prototype.has=function(t){return this.__data__.has(t)},At.prototype.clear=function(){this.__data__=new St},At.prototype.delete=function(t){return this.__data__.delete(t)},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var i=r.__data__;if(!ut||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new kt(i)}return r.set(t,e),this};var Bt=function(t,e){return function(r,n){if(null==r)return r;if(!Qt(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Object(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}(function(t,e){return t&&It(t,e,se)}),It=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function Ct(t,e){for(var r=0,n=(e=Ht(e,t)?[e]:Lt(e)).length;null!=t&&r<n;)t=t[Wt(e[r++])];return r&&r==n?t:void 0}function Mt(t,e){return null!=t&&e in Object(t)}function Pt(t,e,r,n,i){return t===e||(null==t||null==e||!re(t)&&!ne(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=Xt(t),c=Xt(e),y=h,m=h;u||(y=(y=Ft(t))==f?v:y);c||(m=(m=Ft(e))==f?v:m);var x=y==v&&!z(t),T=m==v&&!z(e),B=y==m;if(B&&!x)return o||(o=new At),u||oe(t)?Kt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!n(new nt(t),new nt(e)));case l:case p:case b:return Jt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+\"\";case g:var c=V;case w:var f=o&a;if(c||(c=G),t.size!=e.size&&!f)return!1;var h=u.get(t);if(h)return h==e;o|=s,u.set(t,e);var y=Kt(c(t),c(e),n,i,o,u);return u.delete(t),y;case k:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,y,r,n,i,o);if(!(i&a)){var I=x&&Q.call(t,\"__wrapped__\"),C=T&&Q.call(e,\"__wrapped__\");if(I||C){var M=I?t.value():t,P=C?e.value():e;return o||(o=new At),r(M,P,n,i,o)}}if(!B)return!1;return o||(o=new At),function(t,e,r,n,i,o){var s=i&a,u=se(t),c=u.length,f=se(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var l=u[h];if(!(s?l in e:Q.call(e,l)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var y=s;++h<c;){l=u[h];var m=t[l],g=e[l];if(n)var b=s?n(g,m,l,e,t,o):n(m,g,l,t,e,o);if(!(void 0===b?m===g||r(m,g,n,i,o):b)){d=!1;break}y||(y=\"constructor\"==l)}if(d&&!y){var v=t.constructor,_=e.constructor;v!=_&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof v&&v instanceof v&&\"function\"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Pt,r,n,i))}function Ot(t){return!(!re(t)||function(t){return!!Z&&Z in t}(t))&&(te(t)||z(t)?et:M).test($t(t))}function Rt(t){return\"function\"==typeof t?t:null==t?ae:\"object\"==typeof t?Xt(t)?function(t,e){if(Ht(t)&&zt(e))return Vt(Wt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Ct(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Ht(e,t)?[e]:Lt(e)).length;for(;++i<o;){var s=Wt(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&ee(o)&&qt(s,o)&&(Xt(t)||Zt(t))}(t,e,Mt)}(r,t):Pt(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=se(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,zt(i)]}return e}(t);if(1==e.length&&e[0][2])return Vt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],h=t[f],l=c[1];if(u&&c[2]){if(void 0===h&&!(f in t))return!1}else{var p=new At;if(n)var d=n(h,l,f,t,e,p);if(!(void 0===d?Pt(l,h,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):function(t){return Ht(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Wt(t)):function(t){return function(e){return Ct(e,t)}}(t)}(t)}function jt(t){if(!function(t){var e=t&&t.constructor,r=\"function\"==typeof e&&e.prototype||Y;return t===r}(t))return st(t);var e=[];for(var r in Object(t))Q.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function Nt(t,e){var r=-1,n=Qt(t)?Array(t.length):[];return Bt(t,function(t,i,o){n[++r]=e(t,i,o)}),n}function Lt(t){return Xt(t)?t:Gt(t)}function Kt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var l=-1,p=!0,d=i&s?new Et:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var y=t[l],m=e[l];if(n)var g=u?n(m,y,l,e,t,o):n(y,m,l,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!H(e,function(t,e){if(!d.has(e)&&(y===t||r(y,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(y!==m&&!r(y,m,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Dt(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function Ut(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ot(r)?r:void 0}var Ft=function(t){return tt.call(t)};function qt(t,e){return!!(e=null==e?c:e)&&(\"number\"==typeof t||P.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t,e){if(Xt(t))return!1;var r=typeof t;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=t&&!ie(t))||(T.test(t)||!x.test(t)||null!=e&&t in Object(e))}function zt(t){return t==t&&!re(t)}function Vt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(at&&Ft(new at(new ArrayBuffer(1)))!=A||ut&&Ft(new ut)!=g||ct&&\"[object Promise]\"!=Ft(ct.resolve())||ft&&Ft(new ft)!=w||ht&&\"[object WeakMap]\"!=Ft(new ht))&&(Ft=function(t){var e=tt.call(t),r=e==v?t.constructor:void 0,n=r?$t(r):void 0;if(n)switch(n){case pt:return A;case dt:return g;case yt:return\"[object Promise]\";case mt:return w;case gt:return\"[object WeakMap]\"}return e});var Gt=Yt(function(t){t=function(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(ie(t))return _t?_t.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}(t)}(t);var e=[];return B.test(t)&&e.push(\"\"),t.replace(I,function(t,r,n,i){e.push(n?i.replace(C,\"$1\"):r||t)}),e});function Wt(t){if(\"string\"==typeof t||ie(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}function $t(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}function Yt(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Yt.Cache||kt),r}function Jt(t,e){return t===e||t!=t&&e!=e}function Zt(t){return function(t){return ne(t)&&Qt(t)}(t)&&Q.call(t,\"callee\")&&(!it.call(t,\"callee\")||tt.call(t)==f)}Yt.Cache=kt;var Xt=Array.isArray;function Qt(t){return null!=t&&ee(t.length)&&!te(t)}function te(t){var e=re(t)?tt.call(t):\"\";return e==y||e==m}function ee(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=c}function re(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function ne(t){return!!t&&\"object\"==typeof t}function ie(t){return\"symbol\"==typeof t||ne(t)&&tt.call(t)==k}var oe=F?function(t){return function(e){return t(e)}}(F):function(t){return ne(t)&&ee(t.length)&&!!O[tt.call(t)]};function se(t){return Qt(t)?xt(t):jt(t)}function ae(t){return t}r.exports=function(t,e){return(Xt(t)?q:Nt)(t,Rt(e))}}).call(this,r(5),r(26)(t))},function(t,e,r){\"use strict\";const n=r(11)(r(1287)).Data,i=[\"raw\",\"directory\",\"file\",\"metadata\",\"symlink\",\"hamt-sharded-directory\"],o=[\"directory\",\"hamt-sharded-directory\"];function s(t,e){if(!(this instanceof s))return new s(t,e);if(-1===i.indexOf(t))throw new Error(\"Type: \"+t+\" is not valid\");this.type=t,this.data=e,this.blockSizes=[],this.addBlockSize=(t=>{this.blockSizes.push(t)}),this.removeBlockSize=(t=>{this.blockSizes.splice(t,1)}),this.fileSize=(()=>{if(o.indexOf(this.type)>=0)return;let t=0;return this.blockSizes.forEach(e=>{t+=e}),e&&(t+=e.length),t}),this.marshal=(()=>{let t;switch(this.type){case\"raw\":t=n.DataType.Raw;break;case\"directory\":t=n.DataType.Directory;break;case\"file\":t=n.DataType.File;break;case\"metadata\":t=n.DataType.Metadata;break;case\"symlink\":t=n.DataType.Symlink;break;case\"hamt-sharded-directory\":t=n.DataType.HAMTShard;break;default:throw new Error(`Unkown type: \"${this.type}\"`)}let e=this.fileSize(),r=this.data;this.data&&this.data.length||(r=void 0);let i=this.blockSizes;return this.blockSizes&&this.blockSizes.length||(i=void 0),n.encode({Type:t,Data:r,filesize:e,blocksizes:i,hashType:this.hashType,fanout:this.fanout})})}s.unmarshal=(t=>{const e=n.decode(t);e.Data||(e.Data=void 0);const r=new s(i[e.Type],e.Data);return r.blockSizes=e.blocksizes,r}),t.exports=s},function(t,e,r){\"use strict\";e.DAGNode=r(198),e.DAGLink=r(101),e.resolver=r(463),e.util=r(260)},function(t,e,r){\"use strict\";e.Connection=r(1305)},function(t,e,r){\"use strict\";const n=r(176);t.exports={addLink:r(355),bufferPullStreamSource:r(1713),countStreamBytes:r(1714),createLock:r(1715),createNode:r(701),endPullStream:r(702),limitStreamBytes:r(1730),loadNode:r(1731),toSourcesAndDestination:r(1732),toSources:r(703),traverseTo:r(1733),updateMfsRoot:r(1735),updateTree:r(1736),validatePath:r(705),withMfsRoot:r(704),zeros:r(1737),FILE_SEPARATOR:n.FILE_SEPARATOR,MAX_CHUNK_SIZE:n.MAX_CHUNK_SIZE,MAX_LINKS:n.MAX_LINKS,FILE_TYPES:n.FILE_TYPES}},function(module,exports,__webpack_require__){var indexOf=__webpack_require__(245),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},defineProp=function(){try{return Object.defineProperty({},\"_\",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(t){return function(t,e,r){t[e]=r}}}(),globals=[\"Array\",\"Boolean\",\"Date\",\"Error\",\"EvalError\",\"Function\",\"Infinity\",\"JSON\",\"Math\",\"NaN\",\"Number\",\"Object\",\"RangeError\",\"ReferenceError\",\"RegExp\",\"String\",\"SyntaxError\",\"TypeError\",\"URIError\",\"decodeURI\",\"decodeURIComponent\",\"encodeURI\",\"encodeURIComponent\",\"escape\",\"eval\",\"isFinite\",\"isNaN\",\"parseFloat\",\"parseInt\",\"undefined\",\"unescape\"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError(\"needs a 'context' argument.\");var e=document.createElement(\"iframe\");e.style||(e.style={}),e.style.display=\"none\",document.body.appendChild(e);var r=e.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,\"null\"),n=r.eval),forEach(Object_keys(t),function(e){r[e]=t[e]}),forEach(globals,function(e){t[e]&&(r[e]=t[e])});var o=Object_keys(r),s=n.call(r,this.code);return forEach(Object_keys(r),function(e){(e in t||-1===indexOf(o,e))&&(t[e]=r[e])}),forEach(globals,function(e){e in t||defineProp(t,e,r[e])}),document.body.removeChild(e),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),r=this.runInContext(e);return forEach(Object_keys(e),function(r){t[r]=e[r]}),r},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var r=Script(e);return r[t].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return\"object\"==typeof t&&forEach(Object_keys(t),function(r){e[r]=t[r]}),e}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(428)),i=o(r(249));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,(0,i.default)((0,o.default)(e)),r)};var n=s(r(252)),i=s(r(438)),o=s(r(38));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";const n=r(1146),i=r(541).ensureMultiaddr,o=r(1180),s=r(15);class a{constructor(t){s(t,\"Missing peerId. Use Peer.create(cb) to create one\"),this.id=t,this.multiaddrs=new o,this.protocols=new Set,this._connectedMultiaddr=void 0}connect(t){if(t=i(t),!this.multiaddrs.has(t)&&t.toString()!==`/ipfs/${this.id.toB58String()}`)throw new Error(\"can't be connected to missing multiaddr from set\");this._connectedMultiaddr=t}disconnect(){this._connectedMultiaddr=void 0}isConnected(){return this._connectedMultiaddr}}a.create=((t,e)=>{if(\"function\"==typeof t)return e=t,t=null,void n.create((t,r)=>{if(t)return e(t);e(null,new a(r))});\"function\"==typeof t.toJSON?e(null,new a(t)):n.createFromJSON(t,(t,r)=>e(t,new a(r)))}),a.isPeerInfo=(t=>Boolean(\"object\"==typeof t&&t.id&&t.multiaddrs)),t.exports=a},function(t,e,r){\"use strict\";const n=r(1264),i=r(1265);e.encode=n,e.decode=i.decode,e.decodeFromReader=i.decodeFromReader},function(t,e){t.exports=function(t,e){\"function\"==typeof t&&(e=t,t=!1);var r,n,i,o=[];function s(t,e){t&&(r=t,n&&f(r)),n=e,c()}function a(t){i=i||t||!0,c()}function u(t){i||(n?f(r,t):o.push(t))}if(t)return{push:u,end:a,source:s,buffer:o};return s.push=u,s.end=a,s.buffer=o,s;function c(){n&&(r?f(r):!o.length&&i?f(i):o.length&&f(null,o.shift()))}function f(t,r){var i=n;if(t&&e){var o=e;e=null,o(!0===t?null:t)}n=null,i(t,r)}}},function(t,e,r){var n=r(31),i=r(716),o=r(362),s=r(721),a=r(722),u=function(t){if(!o.isHexStrict(t))throw new Error(\"The parameter must be a valid HEX string.\");var e=\"\",r=0,n=t.length;for(\"0x\"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},c=function(t){if(!t)return\"0x00\";for(var e=\"\",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?\"0\"+n:n}return\"0x\"+e},f=function(t){if(t=t?t.toLowerCase():\"ether\",!i.unitMap[t])throw new Error('This unit \"'+t+\"\\\" doesn't exist, please use the one of the following units\"+JSON.stringify(i.unitMap,null,2));return t};t.exports={_fireError:function(t,e,r,i){return!n.isObject(t)||t instanceof Error||!t.data||((n.isObject(t.data)||n.isArray(t.data))&&(t.data=JSON.stringify(t.data,null,2)),t=t.message+\"\\n\"+t.data),n.isString(t)&&(t=new Error(t)),n.isFunction(i)&&i(t),n.isFunction(r)&&((e&&n.isFunction(e.listeners)&&e.listeners(\"error\").length||n.isFunction(i))&&e.catch(function(){}),setTimeout(function(){r(t)},1)),e&&n.isFunction(e.emit)&&setTimeout(function(){e.emit(\"error\",t),e.removeAllListeners()},1),e},_jsonInterfaceMethodToString:function(t){if(n.isObject(t)&&t.name&&-1!==t.name.indexOf(\"(\"))return t.name;var e=t.inputs.map(function(t){return t.type}).join(\",\");return t.name+\"(\"+e+\")\"},randomHex:a,_:n,BN:o.BN,isBN:o.isBN,isBigNumber:o.isBigNumber,isHex:o.isHex,isHexStrict:o.isHexStrict,sha3:o.sha3,keccak256:o.sha3,soliditySha3:s,isAddress:o.isAddress,checkAddressChecksum:o.checkAddressChecksum,toChecksumAddress:function(t){if(void 0===t)return\"\";if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address \"'+t+'\" is not a valid Ethereum address.');t=t.toLowerCase().replace(/^0x/i,\"\");for(var e=o.sha3(t).replace(/^0x/i,\"\"),r=\"0x\",n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return r},toHex:o.toHex,toBN:o.toBN,bytesToHex:o.bytesToHex,hexToBytes:o.hexToBytes,hexToNumberString:o.hexToNumberString,hexToNumber:o.hexToNumber,toDecimal:o.hexToNumber,numberToHex:o.numberToHex,fromDecimal:o.numberToHex,hexToUtf8:o.hexToUtf8,hexToString:o.hexToUtf8,toUtf8:o.hexToUtf8,utf8ToHex:o.utf8ToHex,stringToHex:o.utf8ToHex,fromUtf8:o.utf8ToHex,hexToAscii:u,toAscii:u,asciiToHex:c,fromAscii:c,unitMap:i.unitMap,toWei:function(t,e){if(e=f(e),!o.isBN(t)&&!n.isString(t))throw new Error(\"Please pass numbers as strings or BigNumber objects to avoid precision errors.\");return o.isBN(t)?i.toWei(t,e):i.toWei(t,e).toString(10)},fromWei:function(t,e){if(e=f(e),!o.isBN(t)&&!n.isString(t))throw new Error(\"Please pass numbers as strings or BigNumber objects to avoid precision errors.\");return o.isBN(t)?i.fromWei(t,e):i.fromWei(t,e).toString(10)},padLeft:o.leftPad,leftPad:o.leftPad,padRight:o.rightPad,rightPad:o.rightPad,toTwosComplement:o.toTwosComplement}},function(t,e,r){(e=t.exports=r(370)).Stream=e,e.Readable=e,e.Writable=r(232),e.Duplex=r(93),e.Transform=r(374),e.PassThrough=r(745)},function(t,e,r){\"use strict\";(function(e){var n=r(23),i=r(15),o=function t(e){if(!(this instanceof t))return new t(e);e?this.set(e):this.bufs=[]};o.prototype.set=function(t){return this.bufs=t.bufs||this.bufs||[],this},o.prototype.toBuffer=function(){return this.concat()},o.prototype.concat=function(){return e.concat(this.bufs)},o.prototype.write=function(t){return i(n.isBuffer(t)),this.bufs.push(t),this},o.prototype.writeReverse=function(t){return i(n.isBuffer(t)),this.bufs.push(n.reverse(t)),this},o.prototype.writeUInt8=function(t){var r=new e(1);return r.writeUInt8(t,0),this.write(r),this},o.prototype.writeUInt16BE=function(t){var r=new e(2);return r.writeUInt16BE(t,0),this.write(r),this},o.prototype.writeUInt16LE=function(t){var r=new e(2);return r.writeUInt16LE(t,0),this.write(r),this},o.prototype.writeUInt32BE=function(t){var r=new e(4);return r.writeUInt32BE(t,0),this.write(r),this},o.prototype.writeInt32LE=function(t){var r=new e(4);return r.writeInt32LE(t,0),this.write(r),this},o.prototype.writeUInt32LE=function(t){var r=new e(4);return r.writeUInt32LE(t,0),this.write(r),this},o.prototype.writeUInt64BEBN=function(t){var e=t.toBuffer({size:8});return this.write(e),this},o.prototype.writeUInt64LEBN=function(t){var e=t.toBuffer({size:8});return this.writeReverse(e),this},o.prototype.writeVarintNum=function(t){var e=o.varintBufNum(t);return this.write(e),this},o.prototype.writeVarintBN=function(t){var e=o.varintBufBN(t);return this.write(e),this},o.varintBufNum=function(t){var r=void 0;return t<253?(r=new e(1)).writeUInt8(t,0):t<65536?((r=new e(3)).writeUInt8(253,0),r.writeUInt16LE(t,1)):t<4294967296?((r=new e(5)).writeUInt8(254,0),r.writeUInt32LE(t,1)):((r=new e(9)).writeUInt8(255,0),r.writeInt32LE(-1&t,1),r.writeUInt32LE(Math.floor(t/4294967296),5)),r},o.varintBufBN=function(t){var r=void 0,n=t.toNumber();if(n<253)(r=new e(1)).writeUInt8(n,0);else if(n<65536)(r=new e(3)).writeUInt8(253,0),r.writeUInt16LE(n,1);else if(n<4294967296)(r=new e(5)).writeUInt8(254,0),r.writeUInt32LE(n,1);else{var i=new o;i.writeUInt8(255),i.writeUInt64LEBN(t);r=i.concat()}return r},t.exports=o}).call(this,r(0).Buffer)},function(t,e){\n/**\n * @file Web Cryptography API shim\n * @author Artem S Vybornov <vybornov@gmail.com>\n * @license MIT\n */\nt.exports=function(t){\"use strict\";if(\"function\"!=typeof Promise)throw\"Promise support required\";var e=t.crypto||t.msCrypto;if(e){var r=e.subtle||e.webkitSubtle;if(r){var n=t.Crypto||e.constructor||Object,i=t.SubtleCrypto||r.constructor||Object,o=(t.CryptoKey||t.Key||Object,t.navigator.userAgent.indexOf(\"Edge/\")>-1),s=!!t.msCrypto&&!o,a=!e.subtle&&!!e.webkitSubtle;if(s||a){var u={KoZIhvcNAQEB:\"1.2.840.113549.1.1.1\"},c={\"1.2.840.113549.1.1.1\":\"KoZIhvcNAQEB\"};if([\"generateKey\",\"importKey\",\"unwrapKey\"].forEach(function(t){var n=r[t];r[t]=function(i,o,u){var c,f,v,k,E=[].slice.call(arguments);switch(t){case\"generateKey\":c=y(i),f=o,v=u;break;case\"importKey\":c=y(u),f=E[3],v=E[4],\"jwk\"===i&&((o=g(o)).alg||(o.alg=m(c)),o.key_ops||(o.key_ops=\"oct\"!==o.kty?\"d\"in o?v.filter(S):v.filter(w):v.slice()),E[1]=function(t){var e=g(t);return s&&(e.extractable=e.ext,delete e.ext),p(unescape(encodeURIComponent(JSON.stringify(e)))).buffer}(o));break;case\"unwrapKey\":c=E[4],f=E[5],v=E[6],E[2]=u._key}if(\"generateKey\"===t&&\"HMAC\"===c.name&&c.hash)return c.length=c.length||{\"SHA-1\":512,\"SHA-256\":512,\"SHA-384\":1024,\"SHA-512\":1024}[c.hash.name],r.importKey(\"raw\",e.getRandomValues(new Uint8Array(c.length+7>>3)),c,f,v);if(a&&\"generateKey\"===t&&\"RSASSA-PKCS1-v1_5\"===c.name&&(!c.modulusLength||c.modulusLength>=2048))return(i=y(i)).name=\"RSAES-PKCS1-v1_5\",delete i.hash,r.generateKey(i,!0,[\"encrypt\",\"decrypt\"]).then(function(t){return Promise.all([r.exportKey(\"jwk\",t.publicKey),r.exportKey(\"jwk\",t.privateKey)])}).then(function(t){return t[0].alg=t[1].alg=m(c),t[0].key_ops=v.filter(w),t[1].key_ops=v.filter(S),Promise.all([r.importKey(\"jwk\",t[0],c,!0,t[0].key_ops),r.importKey(\"jwk\",t[1],c,f,t[1].key_ops)])}).then(function(t){return{publicKey:t[0],privateKey:t[1]}});if((a||s&&\"SHA-1\"===(c.hash||{}).name)&&\"importKey\"===t&&\"jwk\"===i&&\"HMAC\"===c.name&&\"oct\"===o.kty)return r.importKey(\"raw\",p(l(o.k)),u,E[3],E[4]);if(a&&\"importKey\"===t&&(\"spki\"===i||\"pkcs8\"===i))return r.importKey(\"jwk\",function(t){var e=b(t),r=!1;e.length>2&&(r=!0,e.shift());var n={ext:!0};switch(e[0][0]){case\"1.2.840.113549.1.1.1\":var i=[\"n\",\"e\",\"d\",\"p\",\"q\",\"dp\",\"dq\",\"qi\"],o=b(e[1]);r&&o.shift();for(var s=0;s<o.length;s++)o[s][0]||(o[s]=o[s].subarray(1)),n[i[s]]=h(d(o[s]));n.kty=\"RSA\";break;default:throw new TypeError(\"Unsupported key type\")}return n}(o),u,E[3],E[4]);if(s&&\"unwrapKey\"===t)return r.decrypt(E[3],u,o).then(function(t){return r.importKey(i,t,E[4],E[5],E[6])});try{k=n.apply(r,E)}catch(t){return Promise.reject(t)}return s&&(k=new Promise(function(t,e){k.onabort=k.onerror=function(t){e(t)},k.oncomplete=function(e){t(e.target.result)}})),k=k.then(function(t){return\"HMAC\"===c.name&&(c.length||(c.length=8*t.algorithm.length)),0==c.name.search(\"RSA\")&&(c.modulusLength||(c.modulusLength=(t.publicKey||t).algorithm.modulusLength),c.publicExponent||(c.publicExponent=(t.publicKey||t).algorithm.publicExponent)),t=t.publicKey&&t.privateKey?{publicKey:new _(t.publicKey,c,f,v.filter(w)),privateKey:new _(t.privateKey,c,f,v.filter(S))}:new _(t,c,f,v)})}}),[\"exportKey\",\"wrapKey\"].forEach(function(t){var e=r[t];r[t]=function(n,i,o){var u,c=[].slice.call(arguments);switch(t){case\"exportKey\":c[1]=i._key;break;case\"wrapKey\":c[1]=i._key,c[2]=o._key}if((a||s&&\"SHA-1\"===(i.algorithm.hash||{}).name)&&\"exportKey\"===t&&\"jwk\"===n&&\"HMAC\"===i.algorithm.name&&(c[0]=\"raw\"),!a||\"exportKey\"!==t||\"spki\"!==n&&\"pkcs8\"!==n||(c[0]=\"jwk\"),s&&\"wrapKey\"===t)return r.exportKey(n,i).then(function(t){return\"jwk\"===n&&(t=p(unescape(encodeURIComponent(JSON.stringify(g(t)))))),r.encrypt(c[3],o,t)});try{u=e.apply(r,c)}catch(t){return Promise.reject(t)}return s&&(u=new Promise(function(t,e){u.onabort=u.onerror=function(t){e(t)},u.oncomplete=function(e){t(e.target.result)}})),\"exportKey\"===t&&\"jwk\"===n&&(u=u.then(function(t){return(a||s&&\"SHA-1\"===(i.algorithm.hash||{}).name)&&\"HMAC\"===i.algorithm.name?{kty:\"oct\",alg:m(i.algorithm),key_ops:i.usages.slice(),ext:!0,k:h(d(t))}:((t=g(t)).alg||(t.alg=m(i.algorithm)),t.key_ops||(t.key_ops=\"public\"===i.type?i.usages.filter(w):\"private\"===i.type?i.usages.filter(S):i.usages.slice()),t)})),!a||\"exportKey\"!==t||\"spki\"!==n&&\"pkcs8\"!==n||(u=u.then(function(t){return t=function(t){var e,r=[[\"\",null]],n=!1;switch(t.kty){case\"RSA\":for(var i=[\"n\",\"e\",\"d\",\"p\",\"q\",\"dp\",\"dq\",\"qi\"],o=[],s=0;s<i.length&&i[s]in t;s++){var a=o[s]=p(l(t[i[s]]));128&a[0]&&(o[s]=new Uint8Array(a.length+1),o[s].set(a,1))}o.length>2&&(n=!0,o.unshift(new Uint8Array([0]))),r[0][0]=\"1.2.840.113549.1.1.1\",e=o;break;default:throw new TypeError(\"Unsupported key type\")}return r.push(new Uint8Array(v(e)).buffer),n?r.unshift(new Uint8Array([0])):r[1]={tag:3,value:r[1]},new Uint8Array(v(r)).buffer}(g(t))})),u}}),[\"encrypt\",\"decrypt\",\"sign\",\"verify\"].forEach(function(t){var e=r[t];r[t]=function(n,i,o,a){if(s&&(!o.byteLength||a&&!a.byteLength))throw new Error(\"Empy input is not allowed\");var u,c=[].slice.call(arguments),f=y(n);if(s&&\"decrypt\"===t&&\"AES-GCM\"===f.name){var h=n.tagLength>>3;c[2]=(o.buffer||o).slice(0,o.byteLength-h),n.tag=(o.buffer||o).slice(o.byteLength-h)}c[1]=i._key;try{u=e.apply(r,c)}catch(t){return Promise.reject(t)}return s&&(u=new Promise(function(e,r){u.onabort=u.onerror=function(t){r(t)},u.oncomplete=function(r){r=r.target.result;if(\"encrypt\"===t&&r instanceof AesGcmEncryptResult){var n=r.ciphertext,i=r.tag;(r=new Uint8Array(n.byteLength+i.byteLength)).set(new Uint8Array(n),0),r.set(new Uint8Array(i),n.byteLength),r=r.buffer}e(r)}})),u}}),s){var f=r.digest;r.digest=function(t,e){if(!e.byteLength)throw new Error(\"Empy input is not allowed\");var n;try{n=f.call(r,t,e)}catch(t){return Promise.reject(t)}return n=new Promise(function(t,e){n.onabort=n.onerror=function(t){e(t)},n.oncomplete=function(e){t(e.target.result)}})},t.crypto=Object.create(e,{getRandomValues:{value:function(t){return e.getRandomValues(t)}},subtle:{value:r}}),t.CryptoKey=_}a&&(e.subtle=r,t.Crypto=n,t.SubtleCrypto=i,t.CryptoKey=_)}}}function h(t){return btoa(t).replace(/\\=+$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}function l(t){return t=(t+=\"===\").slice(0,-t.length%4),atob(t.replace(/-/g,\"+\").replace(/_/g,\"/\"))}function p(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function d(t){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),String.fromCharCode.apply(String,t)}function y(t){var e={name:(t.name||t||\"\").toUpperCase().replace(\"V\",\"v\")};switch(e.name){case\"SHA-1\":case\"SHA-256\":case\"SHA-384\":case\"SHA-512\":break;case\"AES-CBC\":case\"AES-GCM\":case\"AES-KW\":t.length&&(e.length=t.length);break;case\"HMAC\":t.hash&&(e.hash=y(t.hash)),t.length&&(e.length=t.length);break;case\"RSAES-PKCS1-v1_5\":t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;case\"RSASSA-PKCS1-v1_5\":case\"RSA-OAEP\":t.hash&&(e.hash=y(t.hash)),t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;default:throw new SyntaxError(\"Bad algorithm name\")}return e}function m(t){return{HMAC:{\"SHA-1\":\"HS1\",\"SHA-256\":\"HS256\",\"SHA-384\":\"HS384\",\"SHA-512\":\"HS512\"},\"RSASSA-PKCS1-v1_5\":{\"SHA-1\":\"RS1\",\"SHA-256\":\"RS256\",\"SHA-384\":\"RS384\",\"SHA-512\":\"RS512\"},\"RSAES-PKCS1-v1_5\":{\"\":\"RSA1_5\"},\"RSA-OAEP\":{\"SHA-1\":\"RSA-OAEP\",\"SHA-256\":\"RSA-OAEP-256\"},\"AES-KW\":{128:\"A128KW\",192:\"A192KW\",256:\"A256KW\"},\"AES-GCM\":{128:\"A128GCM\",192:\"A192GCM\",256:\"A256GCM\"},\"AES-CBC\":{128:\"A128CBC\",192:\"A192CBC\",256:\"A256CBC\"}}[t.name][(t.hash||{}).name||t.length||\"\"]}function g(t){(t instanceof ArrayBuffer||t instanceof Uint8Array)&&(t=JSON.parse(decodeURIComponent(escape(d(t)))));var e={kty:t.kty,alg:t.alg,ext:t.ext||t.extractable};switch(e.kty){case\"oct\":e.k=t.k;case\"RSA\":[\"n\",\"e\",\"d\",\"p\",\"q\",\"dp\",\"dq\",\"qi\",\"oth\"].forEach(function(r){r in t&&(e[r]=t[r])});break;default:throw new TypeError(\"Unsupported key type\")}return e}function b(t,e){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e||(e={pos:0,end:t.length}),e.end-e.pos<2||e.end>t.length)throw new RangeError(\"Malformed DER\");var r,n=t[e.pos++],i=t[e.pos++];if(i>=128){if(i&=127,e.end-e.pos<i)throw new RangeError(\"Malformed DER\");for(var o=0;i--;)o<<=8,o|=t[e.pos++];i=o}if(e.end-e.pos<i)throw new RangeError(\"Malformed DER\");switch(n){case 2:r=t.subarray(e.pos,e.pos+=i);break;case 3:if(t[e.pos++])throw new Error(\"Unsupported bit string\");i--;case 4:r=new Uint8Array(t.subarray(e.pos,e.pos+=i)).buffer;break;case 5:r=null;break;case 6:var s=btoa(d(t.subarray(e.pos,e.pos+=i)));if(!(s in u))throw new Error(\"Unsupported OBJECT ID \"+s);r=u[s];break;case 48:r=[];for(var a=e.pos+i;e.pos<a;)r.push(b(t,e));break;default:throw new Error(\"Unsupported DER tag 0x\"+n.toString(16))}return r}function v(t,e){e||(e=[]);var r=0,n=0,i=e.length+2;if(e.push(0,0),t instanceof Uint8Array){r=2,n=t.length;for(var o=0;o<n;o++)e.push(t[o])}else if(t instanceof ArrayBuffer){r=4,n=t.byteLength,t=new Uint8Array(t);for(o=0;o<n;o++)e.push(t[o])}else if(null===t)r=5,n=0;else if(\"string\"==typeof t&&t in c){var s=p(atob(c[t]));r=6,n=s.length;for(o=0;o<n;o++)e.push(s[o])}else if(t instanceof Array){for(o=0;o<t.length;o++)v(t[o],e);r=48,n=e.length-i}else{if(!(\"object\"==typeof t&&3===t.tag&&t.value instanceof ArrayBuffer))throw new Error(\"Unsupported DER value \"+t);r=3,n=(t=new Uint8Array(t.value)).byteLength,e.push(0);for(o=0;o<n;o++)e.push(t[o]);n++}if(n>=128){var a=n;n=4;for(e.splice(i,0,a>>24&255,a>>16&255,a>>8&255,255&a);n>1&&!(a>>24);)a<<=8,n--;n<4&&e.splice(i,4-n),n|=128}return e.splice(i-2,2,r,n),e}function _(t,e,r,n){Object.defineProperties(this,{_key:{value:t},type:{value:t.type,enumerable:!0},extractable:{value:void 0===r?t.extractable:r,enumerable:!0},algorithm:{value:void 0===e?t.algorithm:e,enumerable:!0},usages:{value:void 0===n?t.usages:n,enumerable:!0}})}function w(t){return\"verify\"===t||\"encrypt\"===t||\"wrapKey\"===t}function S(t){return\"sign\"===t||\"decrypt\"===t||\"unwrapKey\"===t}}},function(t,e,r){!function(t){\"use strict\";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error(\"no PRNG\")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=e(),a=e([1]),u=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function y(t,e,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function m(t,e,r,n){return y(t,e,r,n,16)}function g(t,e,r,n){return y(t,e,r,n,32)}function b(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,S=s,k=a,E=u,A=c,x=f,T=h,B=l,I=p,C=d,M=y,P=m,O=g,R=b,j=v,N=_,L=0;L<20;L+=2)w^=(i=(O^=(i=(I^=(i=(A^=(i=w+O|0)<<7|i>>>25)+w|0)<<9|i>>>23)+A|0)<<13|i>>>19)+I|0)<<18|i>>>14,x^=(i=(S^=(i=(R^=(i=(C^=(i=x+S|0)<<7|i>>>25)+x|0)<<9|i>>>23)+C|0)<<13|i>>>19)+R|0)<<18|i>>>14,M^=(i=(T^=(i=(k^=(i=(j^=(i=M+T|0)<<7|i>>>25)+M|0)<<9|i>>>23)+j|0)<<13|i>>>19)+k|0)<<18|i>>>14,N^=(i=(P^=(i=(B^=(i=(E^=(i=N+P|0)<<7|i>>>25)+N|0)<<9|i>>>23)+E|0)<<13|i>>>19)+B|0)<<18|i>>>14,w^=(i=(E^=(i=(k^=(i=(S^=(i=w+E|0)<<7|i>>>25)+w|0)<<9|i>>>23)+S|0)<<13|i>>>19)+k|0)<<18|i>>>14,x^=(i=(A^=(i=(B^=(i=(T^=(i=x+A|0)<<7|i>>>25)+x|0)<<9|i>>>23)+T|0)<<13|i>>>19)+B|0)<<18|i>>>14,M^=(i=(C^=(i=(I^=(i=(P^=(i=M+C|0)<<7|i>>>25)+M|0)<<9|i>>>23)+P|0)<<13|i>>>19)+I|0)<<18|i>>>14,N^=(i=(j^=(i=(R^=(i=(O^=(i=N+j|0)<<7|i>>>25)+N|0)<<9|i>>>23)+O|0)<<13|i>>>19)+R|0)<<18|i>>>14;w=w+o|0,S=S+s|0,k=k+a|0,E=E+u|0,A=A+c|0,x=x+f|0,T=T+h|0,B=B+l|0,I=I+p|0,C=C+d|0,M=M+y|0,P=P+m|0,O=O+g|0,R=R+b|0,j=j+v|0,N=N+_|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=S>>>0&255,t[5]=S>>>8&255,t[6]=S>>>16&255,t[7]=S>>>24&255,t[8]=k>>>0&255,t[9]=k>>>8&255,t[10]=k>>>16&255,t[11]=k>>>24&255,t[12]=E>>>0&255,t[13]=E>>>8&255,t[14]=E>>>16&255,t[15]=E>>>24&255,t[16]=A>>>0&255,t[17]=A>>>8&255,t[18]=A>>>16&255,t[19]=A>>>24&255,t[20]=x>>>0&255,t[21]=x>>>8&255,t[22]=x>>>16&255,t[23]=x>>>24&255,t[24]=T>>>0&255,t[25]=T>>>8&255,t[26]=T>>>16&255,t[27]=T>>>24&255,t[28]=B>>>0&255,t[29]=B>>>8&255,t[30]=B>>>16&255,t[31]=B>>>24&255,t[32]=I>>>0&255,t[33]=I>>>8&255,t[34]=I>>>16&255,t[35]=I>>>24&255,t[36]=C>>>0&255,t[37]=C>>>8&255,t[38]=C>>>16&255,t[39]=C>>>24&255,t[40]=M>>>0&255,t[41]=M>>>8&255,t[42]=M>>>16&255,t[43]=M>>>24&255,t[44]=P>>>0&255,t[45]=P>>>8&255,t[46]=P>>>16&255,t[47]=P>>>24&255,t[48]=O>>>0&255,t[49]=O>>>8&255,t[50]=O>>>16&255,t[51]=O>>>24&255,t[52]=R>>>0&255,t[53]=R>>>8&255,t[54]=R>>>16&255,t[55]=R>>>24&255,t[56]=j>>>0&255,t[57]=j>>>8&255,t[58]=j>>>16&255,t[59]=j>>>24&255,t[60]=N>>>0&255,t[61]=N>>>8&255,t[62]=N>>>16&255,t[63]=N>>>24&255}(t,e,r,n)}function v(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)o^=(i=(g^=(i=(p^=(i=(c^=(i=o+g|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+p|0)<<18|i>>>14,f^=(i=(s^=(i=(b^=(i=(d^=(i=f+s|0)<<7|i>>>25)+f|0)<<9|i>>>23)+d|0)<<13|i>>>19)+b|0)<<18|i>>>14,y^=(i=(h^=(i=(a^=(i=(v^=(i=y+h|0)<<7|i>>>25)+y|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,_^=(i=(m^=(i=(l^=(i=(u^=(i=_+m|0)<<7|i>>>25)+_|0)<<9|i>>>23)+u|0)<<13|i>>>19)+l|0)<<18|i>>>14,o^=(i=(u^=(i=(a^=(i=(s^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,f^=(i=(c^=(i=(l^=(i=(h^=(i=f+c|0)<<7|i>>>25)+f|0)<<9|i>>>23)+h|0)<<13|i>>>19)+l|0)<<18|i>>>14,y^=(i=(d^=(i=(p^=(i=(m^=(i=y+d|0)<<7|i>>>25)+y|0)<<9|i>>>23)+m|0)<<13|i>>>19)+p|0)<<18|i>>>14,_^=(i=(v^=(i=(b^=(i=(g^=(i=_+v|0)<<7|i>>>25)+_|0)<<9|i>>>23)+g|0)<<13|i>>>19)+b|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=f>>>0&255,t[5]=f>>>8&255,t[6]=f>>>16&255,t[7]=f>>>24&255,t[8]=y>>>0&255,t[9]=y>>>8&255,t[10]=y>>>16&255,t[11]=y>>>24&255,t[12]=_>>>0&255,t[13]=_>>>8&255,t[14]=_>>>16&255,t[15]=_>>>24&255,t[16]=h>>>0&255,t[17]=h>>>8&255,t[18]=h>>>16&255,t[19]=h>>>24&255,t[20]=l>>>0&255,t[21]=l>>>8&255,t[22]=l>>>16&255,t[23]=l>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,r,n)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(t,e,r,n,i,o,s){var a,u,c=new Uint8Array(16),f=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(b(f,c,s,_),u=0;u<64;u++)t[e+u]=r[n+u]^f[u];for(a=1,u=8;u<16;u++)a=a+(255&c[u])|0,c[u]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(b(f,c,s,_),u=0;u<i;u++)t[e+u]=r[n+u]^f[u];return 0}function S(t,e,r,n,i){var o,s,a=new Uint8Array(16),u=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(b(u,a,i,_),s=0;s<64;s++)t[e+s]=u[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(b(u,a,i,_),s=0;s<r;s++)t[e+s]=u[s];return 0}function k(t,e,r,n,i){var o=new Uint8Array(32);v(o,n,i,_);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return S(t,e,r,s,o)}function E(t,e,r,n,i,o,s){var a=new Uint8Array(32);v(a,o,s,_);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return w(t,e,r,n,i,u,a)}var A=function(t){var e,r,n,i,o,s,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function x(t,e,r,n,i,o){var s=new A(o);return s.update(r,n,i),s.finish(t,e),0}function T(t,e,r,n,i,o){var s=new Uint8Array(16);return x(s,0,r,n,i,o),m(t,e,s,0)}function B(t,e,r,n,i){var o;if(r<32)return-1;for(E(t,0,e,0,r,n,i),x(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function I(t,e,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(k(s,0,32,n,i),0!==T(e,16,e,32,r-32,s))return-1;for(E(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function C(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function M(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function P(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function O(t,r){var n,i,o,s=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];for(M(a),M(a),M(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,P(a,s,1-o)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function R(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,t),O(n,e),g(r,0,n,0)}function j(t){var e=new Uint8Array(32);return O(e,t),1&e[0]}function N(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function L(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function K(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function D(t,e,r){var n,i,o=0,s=0,a=0,u=0,c=0,f=0,h=0,l=0,p=0,d=0,y=0,m=0,g=0,b=0,v=0,_=0,w=0,S=0,k=0,E=0,A=0,x=0,T=0,B=0,I=0,C=0,M=0,P=0,O=0,R=0,j=0,N=r[0],L=r[1],K=r[2],D=r[3],U=r[4],F=r[5],q=r[6],H=r[7],z=r[8],V=r[9],G=r[10],W=r[11],$=r[12],Y=r[13],J=r[14],Z=r[15];o+=(n=e[0])*N,s+=n*L,a+=n*K,u+=n*D,c+=n*U,f+=n*F,h+=n*q,l+=n*H,p+=n*z,d+=n*V,y+=n*G,m+=n*W,g+=n*$,b+=n*Y,v+=n*J,_+=n*Z,s+=(n=e[1])*N,a+=n*L,u+=n*K,c+=n*D,f+=n*U,h+=n*F,l+=n*q,p+=n*H,d+=n*z,y+=n*V,m+=n*G,g+=n*W,b+=n*$,v+=n*Y,_+=n*J,w+=n*Z,a+=(n=e[2])*N,u+=n*L,c+=n*K,f+=n*D,h+=n*U,l+=n*F,p+=n*q,d+=n*H,y+=n*z,m+=n*V,g+=n*G,b+=n*W,v+=n*$,_+=n*Y,w+=n*J,S+=n*Z,u+=(n=e[3])*N,c+=n*L,f+=n*K,h+=n*D,l+=n*U,p+=n*F,d+=n*q,y+=n*H,m+=n*z,g+=n*V,b+=n*G,v+=n*W,_+=n*$,w+=n*Y,S+=n*J,k+=n*Z,c+=(n=e[4])*N,f+=n*L,h+=n*K,l+=n*D,p+=n*U,d+=n*F,y+=n*q,m+=n*H,g+=n*z,b+=n*V,v+=n*G,_+=n*W,w+=n*$,S+=n*Y,k+=n*J,E+=n*Z,f+=(n=e[5])*N,h+=n*L,l+=n*K,p+=n*D,d+=n*U,y+=n*F,m+=n*q,g+=n*H,b+=n*z,v+=n*V,_+=n*G,w+=n*W,S+=n*$,k+=n*Y,E+=n*J,A+=n*Z,h+=(n=e[6])*N,l+=n*L,p+=n*K,d+=n*D,y+=n*U,m+=n*F,g+=n*q,b+=n*H,v+=n*z,_+=n*V,w+=n*G,S+=n*W,k+=n*$,E+=n*Y,A+=n*J,x+=n*Z,l+=(n=e[7])*N,p+=n*L,d+=n*K,y+=n*D,m+=n*U,g+=n*F,b+=n*q,v+=n*H,_+=n*z,w+=n*V,S+=n*G,k+=n*W,E+=n*$,A+=n*Y,x+=n*J,T+=n*Z,p+=(n=e[8])*N,d+=n*L,y+=n*K,m+=n*D,g+=n*U,b+=n*F,v+=n*q,_+=n*H,w+=n*z,S+=n*V,k+=n*G,E+=n*W,A+=n*$,x+=n*Y,T+=n*J,B+=n*Z,d+=(n=e[9])*N,y+=n*L,m+=n*K,g+=n*D,b+=n*U,v+=n*F,_+=n*q,w+=n*H,S+=n*z,k+=n*V,E+=n*G,A+=n*W,x+=n*$,T+=n*Y,B+=n*J,I+=n*Z,y+=(n=e[10])*N,m+=n*L,g+=n*K,b+=n*D,v+=n*U,_+=n*F,w+=n*q,S+=n*H,k+=n*z,E+=n*V,A+=n*G,x+=n*W,T+=n*$,B+=n*Y,I+=n*J,C+=n*Z,m+=(n=e[11])*N,g+=n*L,b+=n*K,v+=n*D,_+=n*U,w+=n*F,S+=n*q,k+=n*H,E+=n*z,A+=n*V,x+=n*G,T+=n*W,B+=n*$,I+=n*Y,C+=n*J,M+=n*Z,g+=(n=e[12])*N,b+=n*L,v+=n*K,_+=n*D,w+=n*U,S+=n*F,k+=n*q,E+=n*H,A+=n*z,x+=n*V,T+=n*G,B+=n*W,I+=n*$,C+=n*Y,M+=n*J,P+=n*Z,b+=(n=e[13])*N,v+=n*L,_+=n*K,w+=n*D,S+=n*U,k+=n*F,E+=n*q,A+=n*H,x+=n*z,T+=n*V,B+=n*G,I+=n*W,C+=n*$,M+=n*Y,P+=n*J,O+=n*Z,v+=(n=e[14])*N,_+=n*L,w+=n*K,S+=n*D,k+=n*U,E+=n*F,A+=n*q,x+=n*H,T+=n*z,B+=n*V,I+=n*G,C+=n*W,M+=n*$,P+=n*Y,O+=n*J,R+=n*Z,_+=(n=e[15])*N,s+=38*(S+=n*K),a+=38*(k+=n*D),u+=38*(E+=n*U),c+=38*(A+=n*F),f+=38*(x+=n*q),h+=38*(T+=n*H),l+=38*(B+=n*z),p+=38*(I+=n*V),d+=38*(C+=n*G),y+=38*(M+=n*W),m+=38*(P+=n*$),g+=38*(O+=n*Y),b+=38*(R+=n*J),v+=38*(j+=n*Z),o=(n=(o+=38*(w+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=u,t[4]=c,t[5]=f,t[6]=h,t[7]=l,t[8]=p,t[9]=d,t[10]=y,t[11]=m,t[12]=g,t[13]=b,t[14]=v,t[15]=_}function U(t,e){D(t,e,e)}function F(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)U(i,i),2!==n&&4!==n&&D(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function q(t,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),c=e(),f=e(),h=e(),l=e(),p=e(),d=e();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,N(a,n),o=0;o<16;o++)f[o]=a[o],l[o]=c[o]=h[o]=0;for(c[0]=l[0]=1,o=254;o>=0;--o)P(c,f,i=s[o>>>3]>>>(7&o)&1),P(h,l,i),L(p,c,h),K(c,c,h),L(h,f,l),K(f,f,l),U(l,p),U(d,c),D(c,h,c),D(h,f,p),L(p,c,h),K(c,c,h),U(f,c),K(h,l,d),D(c,h,u),L(c,c,l),D(h,h,c),D(c,l,d),D(l,f,a),U(f,p),P(c,f,i),P(h,l,i);for(o=0;o<16;o++)a[o+16]=c[o],a[o+32]=h[o],a[o+48]=f[o],a[o+64]=l[o];var y=a.subarray(32),m=a.subarray(16);return F(y,y),D(m,m,y),O(t,m),0}function H(t,e){return q(t,e,o)}function z(t,e){return n(e,32),H(t,e)}function V(t,e,r){var n=new Uint8Array(32);return q(n,r,e),v(t,i,n,_)}A.prototype.blocks=function(t,e,r){for(var n,i,o,s,a,u,c,f,h,l,p,d,y,m,g,b,v,_,w,S=this.fin?0:2048,k=this.h[0],E=this.h[1],A=this.h[2],x=this.h[3],T=this.h[4],B=this.h[5],I=this.h[6],C=this.h[7],M=this.h[8],P=this.h[9],O=this.r[0],R=this.r[1],j=this.r[2],N=this.r[3],L=this.r[4],K=this.r[5],D=this.r[6],U=this.r[7],F=this.r[8],q=this.r[9];r>=16;)k+=8191&(n=255&t[e+0]|(255&t[e+1])<<8),E+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3),A+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6),x+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9),T+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12),B+=a>>>1&8191,I+=8191&(a>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2),C+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5),f=255&t[e+14]|(255&t[e+15])<<8,l=h=0,l+=k*O,l+=E*(5*q),l+=A*(5*F),l+=x*(5*U),h=(l+=T*(5*D))>>>13,l&=8191,l+=B*(5*K),l+=I*(5*L),l+=C*(5*N),l+=(M+=8191&(c>>>8|f<<8))*(5*j),p=h+=(l+=(P+=f>>>5|S)*(5*R))>>>13,p+=k*R,p+=E*O,p+=A*(5*q),p+=x*(5*F),h=(p+=T*(5*U))>>>13,p&=8191,p+=B*(5*D),p+=I*(5*K),p+=C*(5*L),p+=M*(5*N),h+=(p+=P*(5*j))>>>13,p&=8191,d=h,d+=k*j,d+=E*R,d+=A*O,d+=x*(5*q),h=(d+=T*(5*F))>>>13,d&=8191,d+=B*(5*U),d+=I*(5*D),d+=C*(5*K),d+=M*(5*L),y=h+=(d+=P*(5*N))>>>13,y+=k*N,y+=E*j,y+=A*R,y+=x*O,h=(y+=T*(5*q))>>>13,y&=8191,y+=B*(5*F),y+=I*(5*U),y+=C*(5*D),y+=M*(5*K),m=h+=(y+=P*(5*L))>>>13,m+=k*L,m+=E*N,m+=A*j,m+=x*R,h=(m+=T*O)>>>13,m&=8191,m+=B*(5*q),m+=I*(5*F),m+=C*(5*U),m+=M*(5*D),g=h+=(m+=P*(5*K))>>>13,g+=k*K,g+=E*L,g+=A*N,g+=x*j,h=(g+=T*R)>>>13,g&=8191,g+=B*O,g+=I*(5*q),g+=C*(5*F),g+=M*(5*U),b=h+=(g+=P*(5*D))>>>13,b+=k*D,b+=E*K,b+=A*L,b+=x*N,h=(b+=T*j)>>>13,b&=8191,b+=B*R,b+=I*O,b+=C*(5*q),b+=M*(5*F),v=h+=(b+=P*(5*U))>>>13,v+=k*U,v+=E*D,v+=A*K,v+=x*L,h=(v+=T*N)>>>13,v&=8191,v+=B*j,v+=I*R,v+=C*O,v+=M*(5*q),_=h+=(v+=P*(5*F))>>>13,_+=k*F,_+=E*U,_+=A*D,_+=x*K,h=(_+=T*L)>>>13,_&=8191,_+=B*N,_+=I*j,_+=C*R,_+=M*O,w=h+=(_+=P*(5*q))>>>13,w+=k*q,w+=E*F,w+=A*U,w+=x*D,h=(w+=T*K)>>>13,w&=8191,w+=B*L,w+=I*N,w+=C*j,w+=M*R,k=l=8191&(h=(h=((h+=(w+=P*O)>>>13)<<2)+h|0)+(l&=8191)|0),E=p+=h>>>=13,A=d&=8191,x=y&=8191,T=m&=8191,B=g&=8191,I=b&=8191,C=v&=8191,M=_&=8191,P=w&=8191,e+=16,r-=16;this.h[0]=k,this.h[1]=E,this.h[2]=A,this.h[3]=x,this.h[4]=T,this.h[5]=B,this.h[6]=I,this.h[7]=C,this.h[8]=M,this.h[9]=P},A.prototype.finish=function(t,e){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},A.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var G=B,W=I;var $=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(t,e,r,n){for(var i,o,s,a,u,c,f,h,l,p,d,y,m,g,b,v,_,w,S,k,E,A,x,T,B,I,C=new Int32Array(16),M=new Int32Array(16),P=t[0],O=t[1],R=t[2],j=t[3],N=t[4],L=t[5],K=t[6],D=t[7],U=e[0],F=e[1],q=e[2],H=e[3],z=e[4],V=e[5],G=e[6],W=e[7],Y=0;n>=128;){for(S=0;S<16;S++)k=8*S+Y,C[S]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],M[S]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(S=0;S<80;S++)if(i=P,o=O,s=R,a=j,u=N,c=L,f=K,h=D,l=U,p=F,d=q,y=H,m=z,g=V,b=G,v=W,x=65535&(A=W),T=A>>>16,B=65535&(E=D),I=E>>>16,x+=65535&(A=(z>>>14|N<<18)^(z>>>18|N<<14)^(N>>>9|z<<23)),T+=A>>>16,B+=65535&(E=(N>>>14|z<<18)^(N>>>18|z<<14)^(z>>>9|N<<23)),I+=E>>>16,x+=65535&(A=z&V^~z&G),T+=A>>>16,B+=65535&(E=N&L^~N&K),I+=E>>>16,E=$[2*S],x+=65535&(A=$[2*S+1]),T+=A>>>16,B+=65535&E,I+=E>>>16,E=C[S%16],T+=(A=M[S%16])>>>16,B+=65535&E,I+=E>>>16,B+=(T+=(x+=65535&A)>>>16)>>>16,x=65535&(A=w=65535&x|T<<16),T=A>>>16,B=65535&(E=_=65535&B|(I+=B>>>16)<<16),I=E>>>16,x+=65535&(A=(U>>>28|P<<4)^(P>>>2|U<<30)^(P>>>7|U<<25)),T+=A>>>16,B+=65535&(E=(P>>>28|U<<4)^(U>>>2|P<<30)^(U>>>7|P<<25)),I+=E>>>16,T+=(A=U&F^U&q^F&q)>>>16,B+=65535&(E=P&O^P&R^O&R),I+=E>>>16,h=65535&(B+=(T+=(x+=65535&A)>>>16)>>>16)|(I+=B>>>16)<<16,v=65535&x|T<<16,x=65535&(A=y),T=A>>>16,B=65535&(E=a),I=E>>>16,T+=(A=w)>>>16,B+=65535&(E=_),I+=E>>>16,O=i,R=o,j=s,N=a=65535&(B+=(T+=(x+=65535&A)>>>16)>>>16)|(I+=B>>>16)<<16,L=u,K=c,D=f,P=h,F=l,q=p,H=d,z=y=65535&x|T<<16,V=m,G=g,W=b,U=v,S%16==15)for(k=0;k<16;k++)E=C[k],x=65535&(A=M[k]),T=A>>>16,B=65535&E,I=E>>>16,E=C[(k+9)%16],x+=65535&(A=M[(k+9)%16]),T+=A>>>16,B+=65535&E,I+=E>>>16,_=C[(k+1)%16],x+=65535&(A=((w=M[(k+1)%16])>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25)),T+=A>>>16,B+=65535&(E=(_>>>1|w<<31)^(_>>>8|w<<24)^_>>>7),I+=E>>>16,_=C[(k+14)%16],T+=(A=((w=M[(k+14)%16])>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26))>>>16,B+=65535&(E=(_>>>19|w<<13)^(w>>>29|_<<3)^_>>>6),I+=E>>>16,I+=(B+=(T+=(x+=65535&A)>>>16)>>>16)>>>16,C[k]=65535&B|I<<16,M[k]=65535&x|T<<16;x=65535&(A=U),T=A>>>16,B=65535&(E=P),I=E>>>16,E=t[0],T+=(A=e[0])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(T+=(x+=65535&A)>>>16)>>>16)>>>16,t[0]=P=65535&B|I<<16,e[0]=U=65535&x|T<<16,x=65535&(A=F),T=A>>>16,B=65535&(E=O),I=E>>>16,E=t[1],T+=(A=e[1])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(T+=(x+=65535&A)>>>16)>>>16)>>>16,t[1]=O=65535&B|I<<16,e[1]=F=65535&x|T<<16,x=65535&(A=q),T=A>>>16,B=65535&(E=R),I=E>>>16,E=t[2],T+=(A=e[2])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(T+=(x+=65535&A)>>>16)>>>16)>>>16,t[2]=R=65535&B|I<<16,e[2]=q=65535&x|T<<16,x=65535&(A=H),T=A>>>16,B=65535&(E=j),I=E>>>16,E=t[3],T+=(A=e[3])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(T+=(x+=65535&A)>>>16)>>>16)>>>16,t[3]=j=65535&B|I<<16,e[3]=H=65535&x|T<<16,x=65535&(A=z),T=A>>>16,B=65535&(E=N),I=E>>>16,E=t[4],T+=(A=e[4])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(T+=(x+=65535&A)>>>16)>>>16)>>>16,t[4]=N=65535&B|I<<16,e[4]=z=65535&x|T<<16,x=65535&(A=V),T=A>>>16,B=65535&(E=L),I=E>>>16,E=t[5],T+=(A=e[5])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(T+=(x+=65535&A)>>>16)>>>16)>>>16,t[5]=L=65535&B|I<<16,e[5]=V=65535&x|T<<16,x=65535&(A=G),T=A>>>16,B=65535&(E=K),I=E>>>16,E=t[6],T+=(A=e[6])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(T+=(x+=65535&A)>>>16)>>>16)>>>16,t[6]=K=65535&B|I<<16,e[6]=G=65535&x|T<<16,x=65535&(A=W),T=A>>>16,B=65535&(E=D),I=E>>>16,E=t[7],T+=(A=e[7])>>>16,B+=65535&E,I+=E>>>16,I+=(B+=(T+=(x+=65535&A)>>>16)>>>16)>>>16,t[7]=D=65535&B|I<<16,e[7]=W=65535&x|T<<16,Y+=128,n-=128}return n}function J(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Y(i,o,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,d(s,r-8,a/536870912|0,a<<3),Y(i,o,s,r),n=0;n<8;n++)d(t,8*n,i[n],o[n]);return 0}function Z(t,r){var n=e(),i=e(),o=e(),s=e(),a=e(),u=e(),c=e(),h=e(),l=e();K(n,t[1],t[0]),K(l,r[1],r[0]),D(n,n,l),L(i,t[0],t[1]),L(l,r[0],r[1]),D(i,i,l),D(o,t[3],r[3]),D(o,o,f),D(s,t[2],r[2]),L(s,s,s),K(a,i,n),K(u,s,o),L(c,s,o),L(h,i,n),D(t[0],a,u),D(t[1],h,c),D(t[2],c,u),D(t[3],a,h)}function X(t,e,r){var n;for(n=0;n<4;n++)P(t[n],e[n],r)}function Q(t,r){var n=e(),i=e(),o=e();F(o,r[2]),D(n,r[0],o),D(i,r[1],o),O(t,i),t[31]^=j(n)<<7}function tt(t,e,r){var n,i;for(C(t[0],s),C(t[1],a),C(t[2],a),C(t[3],s),i=255;i>=0;--i)X(t,e,n=r[i/8|0]>>(7&i)&1),Z(e,t),Z(t,t),X(t,e,n)}function et(t,r){var n=[e(),e(),e(),e()];C(n[0],h),C(n[1],l),C(n[2],a),D(n[3],h,l),tt(t,n,r)}function rt(t,r,i){var o,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(i||n(r,32),J(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,et(a,s),Q(t,a),o=0;o<32;o++)r[o+32]=t[o];return 0}var nt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function it(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*nt[i-(n-32)],r=e[i]+128>>8,e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*nt[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*nt[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function ot(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;it(t,r)}function st(t,r,n,i){var o,s,a=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),f=new Float64Array(64),h=[e(),e(),e(),e()];J(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var l=n+64;for(o=0;o<n;o++)t[64+o]=r[o];for(o=0;o<32;o++)t[32+o]=a[32+o];for(J(c,t.subarray(32),n+32),ot(c),et(h,c),Q(t,h),o=32;o<64;o++)t[o]=i[o];for(J(u,t,n+64),ot(u),o=0;o<64;o++)f[o]=0;for(o=0;o<32;o++)f[o]=c[o];for(o=0;o<32;o++)for(s=0;s<32;s++)f[o+s]+=u[o]*a[s];return it(t.subarray(32),f),l}function at(t,r){var n=e(),i=e(),o=e(),u=e(),f=e(),h=e(),l=e();return C(t[2],a),N(t[1],r),U(o,t[1]),D(u,o,c),K(o,o,t[2]),L(u,t[2],u),U(f,u),U(h,f),D(l,h,f),D(n,l,o),D(n,n,u),function(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)U(i,i),1!==n&&D(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}(n,n),D(n,n,o),D(n,n,u),D(n,n,u),D(t[0],n,u),U(i,t[0]),D(i,i,u),R(i,o)&&D(t[0],t[0],p),U(i,t[0]),D(i,i,u),R(i,o)?-1:(j(t[0])===r[31]>>7&&K(t[0],s,t[0]),D(t[3],t[0],t[1]),0)}function ut(t,r,n,i){var o,s=new Uint8Array(32),a=new Uint8Array(64),u=[e(),e(),e(),e()],c=[e(),e(),e(),e()];if(-1,n<64)return-1;if(at(c,i))return-1;for(o=0;o<n;o++)t[o]=r[o];for(o=0;o<32;o++)t[o+32]=i[o];if(J(a,t,n),ot(a),tt(u,c,a),et(c,r.subarray(32)),Z(u,c),Q(s,u),n-=64,g(r,0,s,0)){for(o=0;o<n;o++)t[o]=0;return-1}for(o=0;o<n;o++)t[o]=r[o+64];return n}var ct=32,ft=24,ht=32,lt=32,pt=ft;function dt(t,e){if(t.length!==ct)throw new Error(\"bad key size\");if(e.length!==ft)throw new Error(\"bad nonce size\")}function yt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError(\"unexpected type, use Uint8Array\")}function mt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:E,crypto_stream:k,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:S,crypto_onetimeauth:x,crypto_onetimeauth_verify:T,crypto_verify_16:m,crypto_verify_32:g,crypto_secretbox:B,crypto_secretbox_open:I,crypto_scalarmult:q,crypto_scalarmult_base:H,crypto_box_beforenm:V,crypto_box_afternm:G,crypto_box:function(t,e,r,n,i,o){var s=new Uint8Array(32);return V(s,i,o),G(t,e,r,n,s)},crypto_box_open:function(t,e,r,n,i,o){var s=new Uint8Array(32);return V(s,i,o),W(t,e,r,n,s)},crypto_box_keypair:z,crypto_hash:J,crypto_sign:st,crypto_sign_keypair:rt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:ct,crypto_secretbox_NONCEBYTES:ft,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:ht,crypto_box_SECRETKEYBYTES:lt,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:pt,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){yt(t,e,r),dt(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return B(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){yt(t,e,r),dt(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+16]=t[o];return n.length<32?null:0!==I(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=ct,t.secretbox.nonceLength=ft,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(yt(t,e),32!==t.length)throw new Error(\"bad n size\");if(32!==e.length)throw new Error(\"bad p size\");var r=new Uint8Array(32);return q(r,t,e),r},t.scalarMult.base=function(t){if(yt(t),32!==t.length)throw new Error(\"bad n size\");var e=new Uint8Array(32);return H(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)},t.box.before=function(t,e){yt(t,e),function(t,e){if(t.length!==ht)throw new Error(\"bad public key size\");if(e.length!==lt)throw new Error(\"bad secret key size\")}(t,e);var r=new Uint8Array(32);return V(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(ht),e=new Uint8Array(lt);return z(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(yt(t),t.length!==lt)throw new Error(\"bad secret key size\");var e=new Uint8Array(ht);return H(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=ht,t.box.secretKeyLength=lt,t.box.sharedKeyLength=32,t.box.nonceLength=pt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(yt(t,e),64!==e.length)throw new Error(\"bad secret key size\");var r=new Uint8Array(64+t.length);return st(r,t,t.length,e),r},t.sign.open=function(t,e){if(yt(t,e),32!==e.length)throw new Error(\"bad public key size\");var r=new Uint8Array(t.length),n=ut(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached.verify=function(t,e,r){if(yt(t,e,r),64!==e.length)throw new Error(\"bad signature size\");if(32!==r.length)throw new Error(\"bad public key size\");var n,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(n=0;n<64;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+64]=t[n];return ut(o,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(yt(t),64!==t.length)throw new Error(\"bad secret key size\");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(yt(t),32!==t.length)throw new Error(\"bad seed size\");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return rt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){yt(t);var e=new Uint8Array(64);return J(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return yt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===y(t,0,e,0,t.length))},t.setPRNG=function(t){n=t},function(){var e=\"undefined\"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG(function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];mt(i)})}else(e=r(1131))&&e.randomBytes&&t.setPRNG(function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];mt(i)})}()}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e,r){\"use strict\";const n=r(526);t.exports=((t,e,i)=>{i=i||r(1135)(e);class o{constructor(t){i.validatePublicKey(t),this._key=t}verify(t,e,r){a(r),i.hashAndVerify(this._key,e,t,r)}marshal(){return i.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){a(t),n(this.bytes,\"sha2-256\",t)}}class s{constructor(t,e){this._key=t,this._publicKey=e||i.computePublicKey(t),i.validatePrivateKey(this._key),i.validatePublicKey(this._publicKey)}sign(t,e){a(e),i.hashAndSign(this._key,t,e)}get public(){return new o(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){a(t),n(this.bytes,\"sha2-256\",t)}}function a(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}return{Secp256k1PublicKey:o,Secp256k1PrivateKey:s,unmarshalSecp256k1PrivateKey:function(t,e){e(null,new s(t),null)},unmarshalSecp256k1PublicKey:function(t){return new o(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),a(e),i.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new s(r)}catch(t){return e(t)}e(null,n)})}}})},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(33),o=r(1182),s=r(299),a=r(20),u=r(8),c=r(64),f=new Error(\"Sorry, Not Implemented Yet.\"),h=c.proto(function(t){if(!(this instanceof h))return new h(t);if(null==t&&(t=\"\"),t instanceof e)this.buffer=o.fromBuffer(t);else if(\"string\"==typeof t||t instanceof String){if(t.length>0&&\"/\"!==t.charAt(0))throw new Error(`multiaddr \"${t}\" must start with a \"/\"`);this.buffer=o.fromString(t)}else{if(!(t.buffer&&t.protos&&t.protoCodes))throw new Error(\"addr must be a string, Buffer, or another Multiaddr\");this.buffer=o.fromBuffer(t.buffer)}},{className:\"Multiaddr\",symbolName:\"@multiformats/js-multiaddr/multiaddr\"});h.prototype.toString=function(){return o.bufferToString(this.buffer)},h.prototype.toOptions=function(){const t={},e=this.toString().split(\"/\");return t.family=\"ip4\"===e[1]?\"ipv4\":\"ipv6\",t.host=e[2],t.transport=e[3],t.port=e[4],t},h.prototype.inspect=function(){return\"<Multiaddr \"+this.buffer.toString(\"hex\")+\" - \"+o.bufferToString(this.buffer)+\">\"},h.prototype.protos=function(){return n(this.protoCodes(),function(t){return i(s(t))})},h.prototype.protoCodes=function(){const t=[],e=this.buffer;let r=0;for(;r<e.length;){const n=a.decode(e,r),i=a.decode.bytes,u=s(n);r+=o.sizeForAddr(u,e.slice(r+i))+i,t.push(n)}return t},h.prototype.protoNames=function(){return n(this.protos(),function(t){return t.name})},h.prototype.tuples=function(){return o.bufferToTuples(this.buffer)},h.prototype.stringTuples=function(){const t=o.bufferToTuples(this.buffer);return o.tuplesToStringTuples(t)},h.prototype.encapsulate=function(t){return t=h(t),h(this.toString()+t.toString())},h.prototype.decapsulate=function(t){t=t.toString();const e=this.toString(),r=e.lastIndexOf(t);if(r<0)throw new Error(\"Address \"+this+\" does not contain subaddress: \"+t);return h(e.slice(0,r))},h.prototype.getPeerId=function(){let t=null;try{t=this.stringTuples().filter(t=>{if(t[0]===s.names.ipfs.code)return!0})[0][1],u.decode(t)}catch(e){t=null}return t},h.prototype.equals=function(t){return this.buffer.equals(t.buffer)},h.prototype.nodeAddress=function(){const t=this.protoCodes(),e=this.protoNames(),r=this.toString().split(\"/\").slice(1);if(r.length<4)throw new Error('multiaddr must have a valid format: \"/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}\".');if(4!==t[0]&&41!==t[0]&&54!==t[0]&&55!==t[0])throw new Error(`no protocol with name: \"'${e[0]}'\". Must have a valid family name: \"{ip4, ip6, dns4, dns6}\".`);if(\"tcp\"!==r[2]&&\"udp\"!==r[2])throw new Error(`no protocol with name: \"'${e[1]}'\". Must have a valid transport protocol: \"{tcp, udp}\".`);return{family:41===t[0]||55===t[0]?6:4,address:r[1],port:r[3]}},h.fromNodeAddress=function(t,e){if(!t)throw new Error(\"requires node address object\");if(!e)throw new Error(\"requires transport protocol\");const r=\"IPv6\"===t.family?\"ip6\":\"ip4\";return h(\"/\"+[r,t.address,e,t.port].join(\"/\"))},h.prototype.isThinWaistAddress=function(t){const e=(t||this).protos();return 2===e.length&&((4===e[0].code||41===e[0].code)&&(6===e[1].code||17===e[1].code))},h.prototype.fromStupidString=function(t){throw f},h.protocols=s,h.isName=function(t){return!!h.isMultiaddr(t)&&t.protos().some(t=>t.resolvable)},h.resolve=function(t,e){return h.isMultiaddr(t)&&h.isName(t)?e(new Error(\"not implemented yet\")):e(new Error(\"not a valid name\"))},t.exports=h}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";t.exports=function(t,{className:e,symbolName:r}){const n=Symbol.for(r),i={[e]:class extends t{constructor(...t){super(...t),Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return i[`is${e}`]=(t=>!(!t||!t[n])),i},t.exports.proto=function(t,{className:e,symbolName:r,withoutNew:n}){const i=Symbol.for(r),o={[e]:function(...e){if(n&&!(this instanceof o))return new o(...e);const r=t.call(this,...e)||this;return r&&!r[i]&&Object.defineProperty(r,i,{value:!0}),r}}[e];return o.prototype=Object.create(t.prototype),o.prototype.constructor=o,Object.defineProperty(o.prototype,Symbol.toStringTag,{get:()=>e}),o[`is${e}`]=(t=>!(!t||!t[i])),o}},function(t,e){t.exports=function(){}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){(0,i.default)(n.default,t,e)};var n=o(r(252)),i=o(r(428));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(973);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(17);var i=function(t,e){var r=function(){if(n.isString(e.message))this.message=function(t,e){return t.replace(\"{0}\",e[0]).replace(\"{1}\",e[1]).replace(\"{2}\",e[2])}(e.message,arguments);else{if(!n.isFunction(e.message))throw new Error(\"Invalid error definition for \"+e.name);this.message=e.message.apply(null,arguments)}this.stack=this.message+\"\\n\"+(new Error).stack};return(r.prototype=Object.create(t.prototype)).name=t.prototype.name+e.name,t[e.name]=r,e.errors&&o(r,e.errors),r},o=function(t,e){n.each(e,function(e){i(t,e)})},s={Error:function(){this.message=\"Internal error\",this.stack=this.message+\"\\n\"+(new Error).stack}};s.Error.prototype=Object.create(Error.prototype),s.Error.prototype.name=\"bitcore.Error\";var a=r(1072);!function(t,e){o(t,e)}(s.Error,a),t.exports=s.Error,t.exports.extend=function(t){return i(s.Error,t)}},function(t,e,r){\"use strict\";(function(e){var n=r(30),i=r(17),o=r(21),s=r(23),a=r(28),u=function t(e,r){if(!(this instanceof t))return new t(e,r);if(e instanceof n)this.set({r:e,s:r});else if(e){var i=e;this.set(i)}};u.prototype.set=function(t){return this.r=t.r||this.r||void 0,this.s=t.s||this.s||void 0,this.i=void 0!==t.i?t.i:this.i,this.compressed=void 0!==t.compressed?t.compressed:this.compressed,this.nhashtype=t.nhashtype||this.nhashtype||void 0,this},u.fromCompact=function(t){o.checkArgument(s.isBuffer(t),\"Argument is expected to be a Buffer\");var e=new u,r=!0,i=t.slice(0,1)[0]-27-4;i<0&&(r=!1,i+=4);var a=t.slice(1,33),c=t.slice(33,65);return o.checkArgument(0===i||1===i||2===i||3===i,new Error(\"i must be 0, 1, 2, or 3\")),o.checkArgument(32===a.length,new Error(\"r must be 32 bytes\")),o.checkArgument(32===c.length,new Error(\"s must be 32 bytes\")),e.compressed=r,e.i=i,e.r=n.fromBuffer(a),e.s=n.fromBuffer(c),e},u.fromDER=u.fromBuffer=function(t,e){var r=u.parseDER(t,e),n=new u;return n.r=r.r,n.s=r.s,n},u.fromTxFormat=function(t){var e=t.readUInt8(t.length-1),r=t.slice(0,t.length-1),n=new u.fromDER(r,!1);return n.nhashtype=e,n},u.fromString=function(t){var r=new e(t,\"hex\");return u.fromDER(r)},u.parseDER=function(t,e){o.checkArgument(s.isBuffer(t),new Error(\"DER formatted signature should be a buffer\")),i.isUndefined(e)&&(e=!0);var r=t[0];o.checkArgument(48===r,new Error(\"Header byte should be 0x30\"));var a=t[1],u=t.slice(2).length;o.checkArgument(!e||a===u,new Error(\"Length byte should length of what follows\")),a=a<u?a:u;var c=t[2];o.checkArgument(2===c,new Error(\"Integer byte for r should be 0x02\"));var f=t[3],h=t.slice(4,4+f),l=n.fromBuffer(h),p=0===t[4];o.checkArgument(f===h.length,new Error(\"Length of r incorrect\"));var d=t[4+f+0];o.checkArgument(2===d,new Error(\"Integer byte for s should be 0x02\"));var y=t[4+f+1],m=t.slice(4+f+2,4+f+2+y),g=n.fromBuffer(m),b=0===t[4+f+2+2];o.checkArgument(y===m.length,new Error(\"Length of s incorrect\"));var v=4+f+2+y;return o.checkArgument(a===v-2,new Error(\"Length of signature incorrect\")),{header:r,length:a,rheader:c,rlength:f,rneg:p,rbuf:h,r:l,sheader:d,slength:y,sneg:b,sbuf:m,s:g}},u.prototype.toCompact=function(t,r){if(t=\"number\"==typeof t?t:this.i,r=\"boolean\"==typeof r?r:this.compressed,0!==t&&1!==t&&2!==t&&3!==t)throw new Error(\"i must be equal to 0, 1, 2, or 3\");var n=t+27+4;!1===r&&(n-=4);var i=new e([n]),o=this.r.toBuffer({size:32}),s=this.s.toBuffer({size:32});return e.concat([i,o,s])},u.prototype.toBuffer=u.prototype.toDER=function(){var t=this.r.toBuffer(),r=this.s.toBuffer(),n=!!(128&t[0]),i=!!(128&r[0]),o=n?e.concat([new e([0]),t]):t,s=i?e.concat([new e([0]),r]):r,a=o.length,u=s.length,c=2+a+2+u;return e.concat([new e([48,c,2,a]),o,new e([2,u]),s])},u.prototype.toString=function(){return this.toDER().toString(\"hex\")},u.isTxDER=function(t){if(t.length<9)return!1;if(t.length>73)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-3)return!1;var e=t[3];if(5+e>=t.length)return!1;var r=t[5+e];if(e+r+7!==t.length)return!1;var n=t.slice(4);if(2!==t[2])return!1;if(0===e)return!1;if(128&n[0])return!1;if(e>1&&0===n[0]&&!(128&n[1]))return!1;var i=t.slice(6+e);return 2===t[6+e-2]&&(0!==r&&(!(128&i[0])&&!(r>1&&0===i[0]&&!(128&i[1]))))},u.prototype.hasLowS=function(){return!this.s.lt(new n(1))&&!this.s.gt(new n(\"7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0\",\"hex\"))},u.prototype.hasDefinedHashtype=function(){if(!a.isNaturalNumber(this.nhashtype))return!1;var t=this.nhashtype&~u.SIGHASH_ANYONECANPAY;return!(t<u.SIGHASH_ALL||t>u.SIGHASH_SINGLE)},u.prototype.toTxFormat=function(){var t=this.toDER(),r=new e(1);return r.writeUInt8(this.nhashtype,0),e.concat([t,r])},u.SIGHASH_ALL=1,u.SIGHASH_NONE=2,u.SIGHASH_SINGLE=3,u.SIGHASH_ANYONECANPAY=128,t.exports=u}).call(this,r(0).Buffer)},function(t,e,r){t.exports=r(496),t.exports.Interpreter=r(1091)},function(t,e,r){var n=r(12);r(106),r(507),r(508),r(18),n.random&&n.random.getBytes?t.exports=n.random:function(e){var r={},i=new Array(4),o=n.util.createBuffer();function s(){var t=n.prng.create(r);return t.getBytes=function(e,r){return t.generate(e,r)},t.getBytesSync=function(e){return t.generate(e)},t}r.formatKey=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),n.aes._expandKey(t,!1)},r.formatSeed=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),t},r.cipher=function(t,e){return n.aes._updateBlock(t,e,i,!1),o.putInt32(i[0]),o.putInt32(i[1]),o.putInt32(i[2]),o.putInt32(i[3]),o.getBytes()},r.increment=function(t){return++t[3],t},r.md=n.md.sha256;var a=s(),u=null;if(\"undefined\"!=typeof window){var c=window.crypto||window.msCrypto;c&&c.getRandomValues&&(u=function(t){return c.getRandomValues(t)})}if(n.options.usePureJavaScript||!n.util.isNodejs&&!u){if(\"undefined\"==typeof window||window.document,a.collectInt(+new Date,32),\"undefined\"!=typeof navigator){var f=\"\";for(var h in navigator)try{\"string\"==typeof navigator[h]&&(f+=navigator[h])}catch(t){}a.collect(f),f=null}e&&(e().mousemove(function(t){a.collectInt(t.clientX,16),a.collectInt(t.clientY,16)}),e().keypress(function(t){a.collectInt(t.charCode,8)}))}if(n.random)for(var h in a)n.random[h]=a[h];else n.random=a;n.random.createInstance=s,t.exports=n.random}(\"undefined\"!=typeof jQuery?jQuery:null)},function(t,e,r){var n=r(1354);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||\"Function wrapped with `once`\";return e.onceError=r+\" shouldn't be called more than once\",e.called=!1,e}t.exports=n(i),t.exports.strict=n(o),i.proto=i(function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return o(this)},configurable:!0})})},function(t,e,r){var n=r(31),i=r(57),o=r(761),s=r(380),a=function(t){return n.isNumber(t)&&(t=Math.trunc(t)),new s(i.toTwosComplement(t).replace(\"0x\",\"\"))};t.exports={formatInputInt:a,formatInputBytes:function(t){if(!i.isHexStrict(t))throw new Error('Given parameter is not bytes: \"'+t+'\"');var e=t.replace(/^0x/i,\"\");if(e.length%2!=0)throw new Error('Given parameter bytes has an invalid length: \"'+t+'\"');if(e.length>64)throw new Error('Given parameter bytes is too long: \"'+t+'\"');var r=Math.floor((e.length+63)/64);return e=i.padRight(e,64*r),new s(e)},formatInputDynamicBytes:function(t){if(!i.isHexStrict(t))throw new Error('Given parameter is not bytes: \"'+t+'\"');var e=t.replace(/^0x/i,\"\");if(e.length%2!=0)throw new Error('Given parameter bytes has an invalid length: \"'+t+'\"');var r=e.length/2,n=Math.floor((e.length+63)/64);return e=i.padRight(e,64*n),new s(a(r).value+e)},formatInputString:function(t){if(!n.isString(t))throw new Error(\"Given parameter is not a valid string: \"+t);var e=i.utf8ToHex(t).replace(/^0x/i,\"\"),r=e.length/2,o=Math.floor((e.length+63)/64);return e=i.padRight(e,64*o),new s(a(r).value+e)},formatInputBool:function(t){return new s(\"000000000000000000000000000000000000000000000000000000000000000\"+(t?\"1\":\"0\"))},formatOutputInt:function(t){var e=t.staticPart();if(!e&&!t.rawValue)throw new Error(\"Couldn't decode \"+name+\" from ABI: 0x\"+t.rawValue);return function(t){return\"1\"===new o(t.substr(0,1),16).toString(2).substr(0,1)}(e)?new o(e,16).fromTwos(256).toString(10):new o(e,16).toString(10)},formatOutputUInt:function(t,e){var r=t.staticPart();if(!r&&!t.rawValue)throw new Error(\"Couldn't decode \"+e+\" from ABI: 0x\"+t.rawValue);return new o(r,16).toString(10)},formatOutputBool:function(t,e){var r=t.staticPart();if(!r&&!t.rawValue)throw new Error(\"Couldn't decode \"+e+\" from ABI: 0x\"+t.rawValue);return\"0000000000000000000000000000000000000000000000000000000000000001\"===r},formatOutputBytes:function(t,e){var r=e.match(/^bytes([0-9]*)/),n=parseInt(r[1]);if(t.staticPart().slice(0,2*n).length!==2*n)throw new Error(\"Couldn't decode \"+e+\" from ABI: 0x\"+t.rawValue+\" The size doesn't match.\");return\"0x\"+t.staticPart().slice(0,2*n)},formatOutputDynamicBytes:function(t,e){var r=t.dynamicPart().slice(0,64);if(!r)throw new Error(\"Couldn't decode \"+e+\" from ABI: 0x\"+t.rawValue);var n=2*new o(r,16).toNumber();return\"0x\"+t.dynamicPart().substr(64,n)},formatOutputString:function(t){var e=t.dynamicPart().slice(0,64);if(!e)throw new Error(\"ERROR: The returned value is not a convertible string:\"+e);var r=2*new o(e,16).toNumber();return r?i.hexToUtf8(\"0x\"+t.dynamicPart().substr(64,r).replace(/^0x/i,\"\")):\"\"},formatOutputAddress:function(t,e){var r=t.staticPart();if(!r)throw new Error(\"Couldn't decode \"+e+\" from ABI: 0x\"+t.rawValue);return i.toChecksumAddress(\"0x\"+r.slice(r.length-40,r.length))},toTwosComplement:i.toTwosComplement}},function(t,e,r){\"use strict\";var n=r(1),i=r(237),o=r(238),s=r(239),a=r(87);function u(t){a.call(this,\"digest\"),this._hash=t}n(u,a),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return\"md5\"===(t=t.toLowerCase())?new i:\"rmd160\"===t||\"ripemd160\"===t?new o:new u(s(t))}},function(t,e,r){\"use strict\";var n=r(24),i=r(1);function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?\"0\"+t:t}function a(t){return 7===t.length?\"0\"+t:6===t.length?\"00\"+t:5===t.length?\"000\"+t:4===t.length?\"0000\"+t:3===t.length?\"00000\"+t:2===t.length?\"000000\"+t:1===t.length?\"0000000\"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(\"string\"==typeof t)if(e){if(\"hex\"===e)for((t=t.replace(/[^a-z0-9]+/gi,\"\")).length%2!=0&&(t=\"0\"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},e.toHex=function(t){for(var e=\"\",r=0;r<t.length;r++)e+=s(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r=\"\",n=0;n<t.length;n++){var i=t[n];\"little\"===e&&(i=o(i)),r+=a(i.toString(16))}return r},e.zero2=s,e.zero8=a,e.join32=function(t,e,r,i){var o=r-e;n(o%4==0);for(var s=new Array(o/4),a=0,u=e;a<s.length;a++,u+=4){var c;c=\"big\"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[a]=c>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];\"big\"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,c){var f=0,h=e;return f+=(h=h+n>>>0)<e?1:0,f+=(h=h+o>>>0)<o?1:0,f+=(h=h+a>>>0)<a?1:0,t+r+i+s+u+(f+=(h=h+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,c){return e+n+o+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},function(t,e,r){\"use strict\";t.exports=function t(e){var r=arguments.length;if(\"function\"==typeof e&&1===e.length){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(e){if(null==n)throw new TypeError(\"partial sink should only be called once!\");var i=n;switch(n=null,r){case 1:return t(e,i[0]);case 2:return t(e,i[0],i[1]);case 3:return t(e,i[0],i[1],i[2]);case 4:return t(e,i[0],i[1],i[2],i[3]);default:return i.unshift(e),t.apply(null,i)}}}var o=e;o&&\"function\"==typeof o.source&&(o=o.source);for(i=1;i<r;i++){var s=arguments[i];\"function\"==typeof s?o=s(o):s&&\"object\"==typeof s&&(s.sink(o),o=s.source)}return o}},function(t,e,r){\"use strict\";var n=e;n.version=r(1073).version,n.utils=r(1074),n.rand=r(1075),n.hmacDRBG=r(1076),n.curve=r(206),n.curves=r(1086),n.ec=r(1088)},function(t,e,r){\"use strict\";(function(e){var n=r(30),i=r(114),o=r(45),s=r(28),a=r(104),u=r(17),c=r(21);function f(t,e){if(!(this instanceof f))return new f(t,e);if(c.checkArgument(t,\"First argument is required, please include public key data.\"),t instanceof f)return t;e=e||{};var r=this._classifyArgs(t,e);return r.point.validate(),s.defineImmutable(this,{point:r.point,compressed:r.compressed,network:r.network||a.defaultNetwork}),this}f.prototype._classifyArgs=function(t,r){var n={compressed:u.isUndefined(r.compressed)||r.compressed};if(t instanceof i)n.point=t;else if(t.x&&t.y)n=f._transformObject(t);else if(\"string\"==typeof t)n=f._transformDER(new e(t,\"hex\"));else if(f._isBuffer(t))n=f._transformDER(t);else{if(!f._isPrivateKey(t))throw new TypeError(\"First argument is an unrecognized data format.\");n=f._transformPrivateKey(t)}return n.network||(n.network=u.isUndefined(r.network)?void 0:a.get(r.network)),n},f._isPrivateKey=function(t){return t instanceof r(207)},f._isBuffer=function(t){return t instanceof e||t instanceof Uint8Array},f._transformPrivateKey=function(t){c.checkArgument(f._isPrivateKey(t),\"Must be an instance of PrivateKey\");var e={};return e.point=i.getG().mul(t.bn),e.compressed=t.compressed,e.network=t.network,e},f._transformDER=function(t,e){c.checkArgument(f._isBuffer(t),\"Must be a hex buffer of DER encoded public key\");var r,o,s,a,h={};if(e=!!u.isUndefined(e)||e,4!==t[0]&&(e||6!==t[0]&&7!==t[0]))if(3===t[0])s=t.slice(1),r=new n(s),(h=f._transformX(!0,r)).compressed=!0;else{if(2!==t[0])throw new TypeError(\"Invalid DER format public key\");s=t.slice(1),r=new n(s),(h=f._transformX(!1,r)).compressed=!0}else{if(s=t.slice(1,33),a=t.slice(33,65),32!==s.length||32!==a.length||65!==t.length)throw new TypeError(\"Length of x and y must be 32 bytes\");r=new n(s),o=new n(a),h.point=new i(r,o),h.compressed=!1}return h},f._transformX=function(t,e){c.checkArgument(\"boolean\"==typeof t,\"Must specify whether y is odd or not (true or false)\");var r={};return r.point=i.fromX(t,e),r},f._transformObject=function(t){var e=new n(t.x,\"hex\"),r=new n(t.y,\"hex\");return new f(new i(e,r),{compressed:t.compressed})},f.fromPrivateKey=function(t){c.checkArgument(f._isPrivateKey(t),\"Must be an instance of PrivateKey\");var e=f._transformPrivateKey(t);return new f(e.point,{compressed:e.compressed,network:e.network})},f.fromDER=f.fromBuffer=function(t,e){c.checkArgument(f._isBuffer(t),\"Must be a hex buffer of DER encoded public key\");var r=f._transformDER(t,e);return new f(r.point,{compressed:r.compressed})},f.fromPoint=function(t,e){return c.checkArgument(t instanceof i,\"First argument must be an instance of Point.\"),new f(t,{compressed:e})},f.fromString=function(t,r){var n=new e(t,r||\"hex\"),i=f._transformDER(n);return new f(i.point,{compressed:i.compressed})},f.fromX=function(t,e){var r=f._transformX(t,e);return new f(r.point,{compressed:r.compressed})},f.getValidationError=function(t){var e;try{new f(t)}catch(t){e=t}return e},f.isValid=function(t){return!f.getValidationError(t)},f.prototype.toObject=f.prototype.toJSON=function(){return{x:this.point.getX().toString(\"hex\",2),y:this.point.getY().toString(\"hex\",2),compressed:this.compressed}},f.prototype.toBuffer=f.prototype.toDER=function(){var t,r=this.point.getX(),n=this.point.getY(),i=r.toBuffer({size:32}),o=n.toBuffer({size:32});if(this.compressed){var s=o[o.length-1]%2;return t=new e(s?[3]:[2]),e.concat([t,i])}return t=new e([4]),e.concat([t,i,o])},f.prototype._getID=function(){return o.sha256ripemd160(this.toBuffer())},f.prototype.toAddress=function(t){return r(105).fromPublicKey(this,t||this.network)},f.prototype.toString=function(){return this.toDER().toString(\"hex\")},f.prototype.inspect=function(){return\"<PublicKey: \"+this.toString()+(this.compressed?\"\":\", uncompressed\")+\">\"},t.exports=f}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(732),i=r(733);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=v,e.resolve=function(t,e){return v(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?v(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=v(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,c=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),f=[\"'\"].concat(c),h=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(f),l=[\"/\",\"?\",\"#\"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,\"javascript:\":!0},m={javascript:!0,\"javascript:\":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},b=r(734);function v(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof t);var o=t.indexOf(\"?\"),a=-1!==o&&o<t.indexOf(\"#\")?\"?\":\"#\",c=t.split(a);c[0]=c[0].replace(/\\\\/g,\"/\");var v=t=c.join(a);if(v=v.trim(),!r&&1===t.split(\"#\").length){var _=u.exec(v);if(_)return this.path=v,this.href=v,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search=\"\",this.query={}),this}var w=s.exec(v);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,v=v.substr(w.length)}if(r||w||v.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var k=\"//\"===v.substr(0,2);!k||w&&m[w]||(v=v.substr(2),this.slashes=!0)}if(!m[w]&&(k||w&&!g[w])){for(var E,A,x=-1,T=0;T<l.length;T++){-1!==(B=v.indexOf(l[T]))&&(-1===x||B<x)&&(x=B)}-1!==(A=-1===x?v.lastIndexOf(\"@\"):v.lastIndexOf(\"@\",x))&&(E=v.slice(0,A),v=v.slice(A+1),this.auth=decodeURIComponent(E)),x=-1;for(T=0;T<h.length;T++){var B;-1!==(B=v.indexOf(h[T]))&&(-1===x||B<x)&&(x=B)}-1===x&&(x=v.length),this.host=v.slice(0,x),v=v.slice(x),this.parseHost(),this.hostname=this.hostname||\"\";var I=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!I)for(var C=this.hostname.split(/\\./),M=(T=0,C.length);T<M;T++){var P=C[T];if(P&&!P.match(p)){for(var O=\"\",R=0,j=P.length;R<j;R++)P.charCodeAt(R)>127?O+=\"x\":O+=P[R];if(!O.match(p)){var N=C.slice(0,T),L=C.slice(T+1),K=P.match(d);K&&(N.push(K[1]),L.unshift(K[2])),L.length&&(v=\"/\"+L.join(\".\")+v),this.hostname=N.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var D=this.port?\":\"+this.port:\"\",U=this.hostname||\"\";this.host=U+D,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==v[0]&&(v=\"/\"+v))}if(!y[S])for(T=0,M=f.length;T<M;T++){var F=f[T];if(-1!==v.indexOf(F)){var q=encodeURIComponent(F);q===F&&(q=escape(F)),v=v.split(F).join(q)}}var H=v.indexOf(\"#\");-1!==H&&(this.hash=v.substr(H),v=v.slice(0,H));var z=v.indexOf(\"?\");if(-1!==z?(this.search=v.substr(z),this.query=v.substr(z+1),e&&(this.query=b.parse(this.query)),v=v.slice(0,z)):e&&(this.search=\"\",this.query={}),v&&(this.pathname=v),g[S]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){D=this.pathname||\"\";var V=this.search||\"\";this.path=D+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||\"\";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,\":\"),t+=\"@\");var e=this.protocol||\"\",r=this.pathname||\"\",n=this.hash||\"\",o=!1,s=\"\";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(o+=\":\"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&\"?\"+s||\"\";return e&&\":\"!==e.substr(-1)&&(e+=\":\"),this.slashes||(!e||g[e])&&!1!==o?(o=\"//\"+(o||\"\"),r&&\"/\"!==r.charAt(0)&&(r=\"/\"+r)):o||(o=\"\"),n&&\"#\"!==n.charAt(0)&&(n=\"#\"+n),a&&\"?\"!==a.charAt(0)&&(a=\"?\"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace(\"#\",\"%23\"))+n},o.prototype.resolve=function(t){return this.resolveObject(v(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,\"\"===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var f=u[c];\"protocol\"!==f&&(r[f]=t[f])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname=\"/\"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var h=Object.keys(t),l=0;l<h.length;l++){var p=h[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||\"\").split(\"/\");d.length&&!(t.host=d.shift()););t.host||(t.host=\"\"),t.hostname||(t.hostname=\"\"),\"\"!==d[0]&&d.unshift(\"\"),d.length<2&&d.unshift(\"\"),r.pathname=d.join(\"/\")}if(r.search=t.search,r.query=t.query,r.host=t.host||\"\",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||\"\",b=r.search||\"\";r.path=y+b}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&\"/\"===r.pathname.charAt(0),_=t.host||t.pathname&&\"/\"===t.pathname.charAt(0),w=_||v||r.host&&t.pathname,S=w,k=r.pathname&&r.pathname.split(\"/\")||[],E=(d=t.pathname&&t.pathname.split(\"/\")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname=\"\",r.port=null,r.host&&(\"\"===k[0]?k[0]=r.host:k.unshift(r.host)),r.host=\"\",t.protocol&&(t.hostname=null,t.port=null,t.host&&(\"\"===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(\"\"===d[0]||\"\"===k[0])),_)r.host=t.host||\"\"===t.host?t.host:r.host,r.hostname=t.hostname||\"\"===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,k=d;else if(d.length)k||(k=[]),k.pop(),k=k.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=k.shift(),(I=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path=\"/\"+r.search:r.path=null,r.href=r.format(),r;for(var A=k.slice(-1)[0],x=(r.host||t.host||k.length>1)&&(\".\"===A||\"..\"===A)||\"\"===A,T=0,B=k.length;B>=0;B--)\".\"===(A=k[B])?k.splice(B,1):\"..\"===A?(k.splice(B,1),T++):T&&(k.splice(B,1),T--);if(!w&&!S)for(;T--;T)k.unshift(\"..\");!w||\"\"===k[0]||k[0]&&\"/\"===k[0].charAt(0)||k.unshift(\"\"),x&&\"/\"!==k.join(\"/\").substr(-1)&&k.push(\"\");var I,C=\"\"===k[0]||k[0]&&\"/\"===k[0].charAt(0);E&&(r.hostname=r.host=C?\"\":k.length?k.shift():\"\",(I=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(w=w||r.host&&k.length)&&!C&&k.unshift(\"\"),k.length?r.pathname=k.join(\"/\"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(\":\"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){(function(t){!function(t,e){\"use strict\";function r(t,e){if(!t)throw new Error(e||\"Assertion failed\")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(null!==t&&\"object\"==typeof t&&Array.isArray(t.words))return t;this.sign=!1,this.words=null,this.length=0,this.red=null,\"le\"!==e&&\"be\"!==e||(r=e,e=10),null!==t&&this._init(t||0,e||10,r||\"be\")}function o(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function s(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}\"object\"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26,i.prototype._init=function(t,e,n){if(\"number\"==typeof t)return t<0&&(this.sign=!0,t=-t),void(t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3));if(\"object\"==typeof t)return this._initArray(t,e,n);\"hex\"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;\"-\"===(t=t.toString().replace(/\\s+/g,\"\"))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),\"-\"===t[0]&&(this.sign=!0),this.strip()},i.prototype._initArray=function(t,e,n){if(r(\"number\"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o=0;if(\"be\"===n){i=t.length-1;for(var s=0;i>=0;i-=3){var a=t[i]|t[i-1]<<8|t[i-2]<<16;this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++)}}else if(\"le\"===n)for(i=0,s=0;i<t.length;i+=3){a=t[i]|t[i+1]<<8|t[i+2]<<16;this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++)}return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;for(var n=0,i=(r=t.length-6,0);r>=e;r-=6){var s=o(t,r,r+6);this.words[i]|=s<<n&67108863,this.words[i+1]|=s>>>26-n&4194303,(n+=24)>=26&&(n-=26,i++)}if(r+6!==e){s=o(t,e,r+6);this.words[i]|=s<<n&67108863,this.words[i+1]|=s>>>26-n&4194303}this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,u=Math.min(o,o-a)+r,c=0,f=r;f<u;f+=n)c=s(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.sign=this.sign,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},i.prototype.inspect=function(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"};var a=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,e){if(16===(t=t||10)||\"hex\"===t){for(var n=\"\",i=0,o=(e=0|e||1,0),s=0;s<this.length;s++){var f=this.words[s],h=(16777215&(f<<i|o)).toString(16);n=0!==(o=f>>>24-i&16777215)||s!==this.length-1?a[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n=\"0\"+n;return this.sign&&(n=\"-\"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=u[t],p=c[t],d=(n=\"\",this.clone());for(d.sign=!1;0!==d.cmpn(0);){var y=d.modn(p).toString(t);n=0!==(d=d.idivn(p)).cmpn(0)?a[l-y.length]+y+n:y+n}return 0===this.cmpn(0)&&(n=\"0\"+n),this.sign&&(n=\"-\"+n),n}r(!1,\"Base should be between 2 and 36\")},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toArray=function(){this.strip();var t=new Array(this.byteLength());t[0]=0;for(var e=this.clone(),r=0;0!==e.cmpn(0);r++){var n=e.andln(255);e.ishrn(8),t[t.length-r-1]=n}return t},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(0===this.cmpn(0))return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var t=this.clone();return t.sign=!this.sign,t},i.prototype.ior=function(t){for(this.sign=this.sign||t.sign;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.iand=function(t){var e;this.sign=this.sign&&t.sign,e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.ixor=function(t){var e,r;this.sign=this.sign||t.sign,this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.setn=function(t,e){r(\"number\"==typeof t&&t>=0);for(var n=t/26|0,i=t%26;this.length<=n;)this.words[this.length++]=0;return this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){if(this.sign&&!t.sign){this.sign=!1;var e=this.isub(t);return this.sign=!this.sign,this._normSign()}if(!this.sign&&t.sign){t.sign=!1;e=this.isub(t);return t.sign=!0,e._normSign()}var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++){e=r.words[o]+n.words[o]+i;this.words[o]=67108863&e,i=e>>>26}for(;0!==i&&o<r.length;o++){e=r.words[o]+i;this.words[o]=67108863&e,i=e>>>26}if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){if(t.sign&&!this.sign){t.sign=!1;var e=this.sub(t);return t.sign=!0,e}if(!t.sign&&this.sign){this.sign=!1;e=t.sub(this);return this.sign=!0,e}return this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.sign){t.sign=!1;var e=this.iadd(t);return t.sign=!0,e._normSign()}if(this.sign)return this.sign=!1,this.iadd(t),this.sign=!0,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.sign=!1,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++){o=(e=r.words[s]-n.words[s]+o)>>26,this.words[s]=67108863&e}for(;0!==o&&s<r.length;s++){o=(e=r.words[s]+o)>>26,this.words[s]=67108863&e}if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.sign=!0),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)},i.prototype._smallMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var r=0,n=0;n<e.length-1;n++){for(var i=r>>>26,o=67108863&r,s=Math.min(n,t.length-1),a=Math.max(0,n-this.length+1);a<=s;a++){var u=n-a,c=(0|this.words[u])*(0|t.words[a]),f=67108863&c;o=67108863&(f=f+o|0),i=(i=i+(c/67108864|0)|0)+(f>>>26)|0}e.words[n]=o,r=i}return 0!==r?e.words[n]=r:e.length--,e.strip()},i.prototype._bigMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var r=0,n=0,i=0;i<e.length-1;i++){var o=n;n=0;for(var s=67108863&r,a=Math.min(i,t.length-1),u=Math.max(0,i-this.length+1);u<=a;u++){var c=i-u,f=(0|this.words[c])*(0|t.words[u]),h=67108863&f;s=67108863&(h=h+s|0),n+=(o=(o=o+(f/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}e.words[i]=s,r=o,o=n}return 0!==r?e.words[i]=r:e.length--,e.strip()},i.prototype.mulTo=function(t,e){return this.length+t.length<63?this._smallMulTo(t,e):this._bigMulTo(t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.imul=function(t){if(0===this.cmpn(0)||0===t.cmpn(0))return this.words[0]=0,this.length=1,this;var e=this.length,r=t.length;this.sign=t.sign!==this.sign,this.length=this.length+t.length,this.words[this.length-1]=0;for(var n=this.length-2;n>=0;n--){for(var i=0,o=0,s=Math.min(n,r-1),a=Math.max(0,n-e+1);a<=s;a++){var u=n-a,c=this.words[u]*t.words[a],f=67108863&c;i+=c/67108864|0,o=67108863&(f+=o),i+=f>>>26}this.words[n]=o,this.words[n+1]+=i,i=0}for(i=0,u=1;u<this.length;u++){var h=this.words[u]+i;this.words[u]=67108863&h,i=h>>>26}return this.strip()},i.prototype.imuln=function(t){r(\"number\"==typeof t);for(var e=0,n=0;n<this.length;n++){var i=this.words[n]*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.mul(this)},i.prototype.ishln=function(t){r(\"number\"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!==e){for(var o=0,s=0;s<this.length;s++){var a=this.words[s]&i,u=this.words[s]-a<<e;this.words[s]=u|o,o=a>>>26-e}o&&(this.words[s]=o,this.length++)}if(0!==n){for(s=this.length-1;s>=0;s--)this.words[s+n]=this.words[s];for(s=0;s<n;s++)this.words[s]=0;this.length+=n}return this.strip()},i.prototype.ishrn=function(t,e,n){var i;r(\"number\"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s){this.length-=s;for(c=0;c<this.length;c++)this.words[c]=this.words[c+s]}else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),this},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.testn=function(t){r(\"number\"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r(\"number\"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(!this.sign,\"imaskn works only with positive numbers\"),0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r(\"number\"==typeof t),t<0?this.isubn(-t):this.sign?1===this.length&&this.words[0]<t?(this.words[0]=t-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(t),this.sign=!0,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r(\"number\"==typeof t),t<0)return this.iaddn(-t);if(this.sign)return this.sign=!1,this.iaddn(t),this.sign=!0,this;this.words[0]-=t;for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.sign=!1,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i=t.length+n;if(this.words.length<i){for(var o=new Array(i),s=0;s<this.length;s++)o[s]=this.words[s];this.words=o}else s=this.length;for(this.length=Math.max(this.length,i);s<this.length;s++)this.words[s]=0;var a=0;for(s=0;s<t.length;s++){var u=this.words[s+n]+a,c=t.words[s]*e;a=((u-=67108863&c)>>26)-(c/67108864|0),this.words[s+n]=67108863&u}for(;s<this.length-n;s++){a=(u=this.words[s+n]+a)>>26,this.words[s+n]=67108863&u}if(0===a)return this.strip();r(-1===a),a=0;for(s=0;s<this.length;s++){a=(u=-this.words[s]+a)>>26,this.words[s]=67108863&u}return this.sign=!0,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.shln(r),n.ishln(r),s=o.words[o.length-1]);var a,u=n.length-o.length;if(\"mod\"!==e){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(o,1,u);f.sign||(n=f,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*n.words[o.length+h]+n.words[o.length+h-1];for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(o,l,h);n.sign;)l--,n.sign=!1,n._ishlnsubmul(o,1,h),0!==n.cmpn(0)&&(n.sign=!n.sign);a&&(a.words[h]=l)}return a&&a.strip(),n.strip(),\"div\"!==e&&0!==r&&n.ishrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e){if(r(0!==t.cmpn(0)),this.sign&&!t.sign){var n,o=this.neg().divmod(t,e);return\"mod\"!==e&&(s=o.div.neg()),\"div\"!==e&&(n=0===o.mod.cmpn(0)?o.mod:t.sub(o.mod)),{div:s,mod:n}}if(!this.sign&&t.sign){var s;o=this.divmod(t.neg(),e);return\"mod\"!==e&&(s=o.div.neg()),{div:s,mod:o.mod}}return this.sign&&t.sign?this.neg().divmod(t.neg(),e):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?\"div\"===e?{div:this.divn(t.words[0]),mod:null}:\"mod\"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e)},i.prototype.div=function(t){return this.divmod(t,\"div\").div},i.prototype.mod=function(t){return this.divmod(t,\"mod\").mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(0===e.mod.cmpn(0))return e.div;var r=e.div.sign?e.mod.isub(t):e.mod,n=t.shrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:e.div.sign?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+this.words[i])%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=this.words[n]+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(!t.sign),r(0!==t.cmpn(0));var e=this,n=t.clone();e=e.sign?e.mod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.ishrn(1),n.ishrn(1),++c;for(var f=n.clone(),h=e.clone();0!==e.cmpn(0);){for(;e.isEven();)e.ishrn(1),o.isEven()&&s.isEven()?(o.ishrn(1),s.ishrn(1)):(o.iadd(f).ishrn(1),s.isub(h).ishrn(1));for(;n.isEven();)n.ishrn(1),a.isEven()&&u.isEven()?(a.ishrn(1),u.ishrn(1)):(a.iadd(f).ishrn(1),u.isub(h).ishrn(1));e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(u)):(n.isub(e),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:n.ishln(c)}},i.prototype._invmp=function(t){r(!t.sign),r(0!==t.cmpn(0));var e=this,n=t.clone();e=e.sign?e.mod(t):e.clone();for(var o=new i(1),s=new i(0),a=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(;e.isEven();)e.ishrn(1),o.isEven()?o.ishrn(1):o.iadd(a).ishrn(1);for(;n.isEven();)n.ishrn(1),s.isEven()?s.ishrn(1):s.iadd(a).ishrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s)):(n.isub(e),s.isub(o))}return 0===e.cmpn(1)?o:s},i.prototype.gcd=function(t){if(0===this.cmpn(0))return t.clone();if(0===t.cmpn(0))return this.clone();var e=this.clone(),r=t.clone();e.sign=!1,r.sign=!1;for(var n=0;e.isEven()&&r.isEven();n++)e.ishrn(1),r.ishrn(1);for(;;){for(;e.isEven();)e.ishrn(1);for(;r.isEven();)r.ishrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.ishln(n)},i.prototype.invm=function(t){return this.egcd(t).a.mod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r(\"number\"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n){for(var o=this.length;o<n+1;o++)this.words[o]=0;return this.words[n]|=i,this.length=n+1,this}var s=i;for(o=n;0!==s&&o<this.length;o++){var a=this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.cmpn=function(t){var e,r=t<0;if(r&&(t=-t),this.sign&&!r)return-1;if(!this.sign&&r)return 1;if(t&=67108863,this.strip(),this.length>1)e=1;else{var n=this.words[0];e=n===t?0:n<t?-1:1}return this.sign&&(e=-e),e},i.prototype.cmp=function(t){if(this.sign&&!t.sign)return-1;if(!this.sign&&t.sign)return 1;var e=this.ucmp(t);return this.sign?-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=this.words[r],i=t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.red=function(t){return new m(t)},i.prototype.toRed=function(t){return r(!this.red,\"Already a number in reduction context\"),r(!this.sign,\"red works only with positives\"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,\"Already a number in reduction context\"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,\"redAdd works only with red numbers\"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,\"redSub works only with red numbers\"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,\"redISub works only with red numbers\"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,\"redShl works only with red numbers\"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,t)};var f={k256:null,p224:null,p192:null,p25519:null};function h(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function l(){h.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}function p(){h.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}function d(){h.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}function y(){h.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}function m(t){if(\"string\"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else this.m=t,this.prime=null}function g(t){m.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}h.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},h.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},h.prototype.split=function(t,e){t.ishrn(this.n,0,e)},h.prototype.imulK=function(t){return t.imul(this.k)},n(l,h),l.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];e.words[e.length++]=4194303&i;for(n=10;n<t.length;n++){var o=t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}t.words[n-10]=i>>>22,t.length-=9},l.prototype.imulK=function(t){var e;t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var i=t.words[n];e=64*i,e+=(r+=977*i)/67108864|0,r&=67108863,t.words[n]=r,r=e}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(p,h),n(d,h),n(y,h),y.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*t.words[r]+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(f[t])return f[t];var e;if(\"k256\"===t)e=new l;else if(\"p224\"===t)e=new p;else if(\"p192\"===t)e=new d;else{if(\"p25519\"!==t)throw new Error(\"Unknown prime \"+t);e=new y}return f[t]=e,e},m.prototype._verify1=function(t){r(!t.sign,\"red works only with positives\"),r(t.red,\"red works only with red numbers\")},m.prototype._verify2=function(t,e){r(!t.sign&&!e.sign,\"red works only with positives\"),r(t.red&&t.red===e.red,\"red works only with red numbers\")},m.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.mod(this.m)._forceRed(this)},m.prototype.neg=function(t){var e=t.clone();return e.sign=!e.sign,e.iadd(this.m)._forceRed(this)},m.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},m.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},m.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},m.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},m.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.shln(e))},m.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},m.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},m.prototype.isqr=function(t){return this.imul(t,t)},m.prototype.sqr=function(t){return this.mul(t,t)},m.prototype.sqrt=function(t){if(0===t.cmpn(0))return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).ishrn(2);return l=this.pow(t,n)}for(var o=this.m.subn(1),s=0;0!==o.cmpn(0)&&0===o.andln(1);)s++,o.ishrn(1);r(0!==o.cmpn(0));var a=new i(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).ishrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,o),l=this.pow(t,o.addn(1).ishrn(1)),p=this.pow(t,o),d=s;0!==p.cmp(a);){for(var y=p,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<d);var g=this.pow(h,new i(1).ishln(d-m-1));l=l.redMul(g),h=g.redSqr(),p=p.redMul(h),d=m}return l},m.prototype.invm=function(t){var e=t._invmp(this.m);return e.sign?(e.sign=!1,this.imod(e).redNeg()):this.imod(e)},m.prototype.pow=function(t,e){var r=[];if(0===e.cmpn(0))return new i(1);for(var n=e.clone();0!==n.cmpn(0);)r.push(n.andln(1)),n.ishrn(1);for(var o=t,s=0;s<r.length&&0===r[s];s++,o=this.sqr(o));if(++s<r.length)for(n=this.sqr(o);s<r.length;s++,n=this.sqr(n))0!==r[s]&&(o=this.mul(o,n));return o},m.prototype.convertTo=function(t){return t.clone()},m.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new g(t)},n(g,m),g.prototype.convertTo=function(t){return this.imod(t.shln(this.shift))},g.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},g.prototype.imul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).ishrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},g.prototype.mul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).ishrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},g.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(26)(t))},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){var n=r(12);r(18),r(107);var i=t.exports=n.asn1=n.asn1||{};function o(t,e,r){if(r>e){var n=new Error(\"Too few bytes to parse DER.\");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(t,e,r,o,s){if(n.util.isArray(o)){for(var a=[],u=0;u<o.length;++u)void 0!==o[u]&&a.push(o[u]);o=a}var c={tagClass:t,type:e,constructed:r,composed:r||n.util.isArray(o),value:o};return s&&\"bitStringContents\"in s&&(c.bitStringContents=s.bitStringContents,c.original=i.copy(c)),c},i.copy=function(t,e){var r;if(n.util.isArray(t)){r=[];for(var o=0;o<t.length;++o)r.push(i.copy(t[o],e));return r}return\"string\"==typeof t?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:i.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)},i.equals=function(t,e,r){if(n.util.isArray(t)){if(!n.util.isArray(e))return!1;if(t.length!==e.length)return!1;for(var o=0;o<t.length;++o)if(!i.equals(t[o],e[o]))return!1;return!0}if(typeof t!=typeof e)return!1;if(\"string\"==typeof t)return t===e;var s=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&i.equals(t.value,e.value);return r&&r.includeBitStringContents&&(s=s&&t.bitStringContents===e.bitStringContents),s},i.getBerValueLength=function(t){var e=t.getByte();if(128!==e)return 128&e?t.getInt((127&e)<<3):e};var s=function(t,e){var r=t.getByte();if(e--,128!==r){var n;if(128&r){var i=127&r;o(t,e,i),n=t.getInt(i<<3)}else n=r;if(n<0)throw new Error(\"Negative length: \"+n);return n}};i.fromDer=function(t,e){return void 0===e&&(e={strict:!0,decodeBitStrings:!0}),\"boolean\"==typeof e&&(e={strict:e,decodeBitStrings:!0}),\"strict\"in e||(e.strict=!0),\"decodeBitStrings\"in e||(e.decodeBitStrings=!0),\"string\"==typeof t&&(t=n.util.createBuffer(t)),function t(e,r,n,a){var u;o(e,r,2);var c=e.getByte();r--;var f=192&c;var h=31&c;u=e.length();var l=s(e,r);r-=u-e.length();if(void 0!==l&&l>r){if(a.strict){var p=new Error(\"Too few bytes to read ASN.1 value.\");throw p.available=e.length(),p.remaining=r,p.requested=l,p}l=r}var d;var y;var m=32==(32&c);if(m)if(d=[],void 0===l)for(;;){if(o(e,r,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),r-=2;break}u=e.length(),d.push(t(e,r,n+1,a)),r-=u-e.length()}else for(;l>0;)u=e.length(),d.push(t(e,l,n+1,a)),r-=u-e.length(),l-=u-e.length();void 0===d&&f===i.Class.UNIVERSAL&&h===i.Type.BITSTRING&&(y=e.bytes(l));if(void 0===d&&a.decodeBitStrings&&f===i.Class.UNIVERSAL&&h===i.Type.BITSTRING&&l>1){var g=e.read,b=r,v=0;if(h===i.Type.BITSTRING&&(o(e,r,1),v=e.getByte(),r--),0===v)try{u=e.length();var _={verbose:a.verbose,strict:!0,decodeBitStrings:!0},w=t(e,r,n+1,_),S=u-e.length();r-=S,h==i.Type.BITSTRING&&S++;var k=w.tagClass;S!==l||k!==i.Class.UNIVERSAL&&k!==i.Class.CONTEXT_SPECIFIC||(d=[w])}catch(t){}void 0===d&&(e.read=g,r=b)}if(void 0===d){if(void 0===l){if(a.strict)throw new Error(\"Non-constructed ASN.1 object of indefinite length.\");l=r}if(h===i.Type.BMPSTRING)for(d=\"\";l>0;l-=2)o(e,r,2),d+=String.fromCharCode(e.getInt16()),r-=2;else d=e.getBytes(l)}var E=void 0===y?null:{bitStringContents:y};return i.create(f,h,m,d,E)}(t,t.length(),0,e)},i.toDer=function(t){var e=n.util.createBuffer(),r=t.tagClass|t.type,o=n.util.createBuffer(),s=!1;if(\"bitStringContents\"in t&&(s=!0,t.original&&(s=i.equals(t,t.original))),s)o.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:o.putByte(0);for(var a=0;a<t.value.length;++a)void 0!==t.value[a]&&o.putBuffer(i.toDer(t.value[a]))}else if(t.type===i.Type.BMPSTRING)for(a=0;a<t.value.length;++a)o.putInt16(t.value.charCodeAt(a));else t.type===i.Type.INTEGER&&t.value.length>1&&(0===t.value.charCodeAt(0)&&0==(128&t.value.charCodeAt(1))||255===t.value.charCodeAt(0)&&128==(128&t.value.charCodeAt(1)))?o.putBytes(t.value.substr(1)):o.putBytes(t.value);if(e.putByte(r),o.length()<=127)e.putByte(127&o.length());else{var u=o.length(),c=\"\";do{c+=String.fromCharCode(255&u),u>>>=8}while(u>0);e.putByte(128|c.length);for(a=c.length-1;a>=0;--a)e.putByte(c.charCodeAt(a))}return e.putBuffer(o),e},i.oidToDer=function(t){var e,r,i,o,s=t.split(\".\"),a=n.util.createBuffer();a.putByte(40*parseInt(s[0],10)+parseInt(s[1],10));for(var u=2;u<s.length;++u){e=!0,r=[],i=parseInt(s[u],10);do{o=127&i,i>>>=7,e||(o|=128),r.push(o),e=!1}while(i>0);for(var c=r.length-1;c>=0;--c)a.putByte(r[c])}return a},i.derToOid=function(t){var e;\"string\"==typeof t&&(t=n.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+\".\"+r%40;for(var i=0;t.length()>0;)i<<=7,128&(r=t.getByte())?i+=127&r:(e+=\".\"+(i+r),i=0);return e},i.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var u=t.charAt(10),c=10;\"+\"!==u&&\"-\"!==u&&(a=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,0),c&&(\"+\"===(u=t.charAt(c))||\"-\"===u)){var f=60*parseInt(t.substr(c+1,2),10)+parseInt(t.substr(c+4,2),10);f*=6e4,\"+\"===u?e.setTime(+e-f):e.setTime(+e+f)}return e},i.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;\"Z\"===t.charAt(t.length-1)&&(f=!0);var h=t.length-5,l=t.charAt(h);\"+\"!==l&&\"-\"!==l||(c=60*parseInt(t.substr(h+1,2),10)+parseInt(t.substr(h+4,2),10),c*=6e4,\"+\"===l&&(c*=-1),f=!0);return\".\"===t.charAt(14)&&(u=1e3*parseFloat(t.substr(14),10)),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(o,s,a,u)),e},i.dateToUtcTime=function(t){if(\"string\"==typeof t)return t;var e=\"\",r=[];r.push((\"\"+t.getUTCFullYear()).substr(2)),r.push(\"\"+(t.getUTCMonth()+1)),r.push(\"\"+t.getUTCDate()),r.push(\"\"+t.getUTCHours()),r.push(\"\"+t.getUTCMinutes()),r.push(\"\"+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+=\"0\"),e+=r[n];return e+=\"Z\"},i.dateToGeneralizedTime=function(t){if(\"string\"==typeof t)return t;var e=\"\",r=[];r.push(\"\"+t.getUTCFullYear()),r.push(\"\"+(t.getUTCMonth()+1)),r.push(\"\"+t.getUTCDate()),r.push(\"\"+t.getUTCHours()),r.push(\"\"+t.getUTCMinutes()),r.push(\"\"+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+=\"0\"),e+=r[n];return e+=\"Z\"},i.integerToDer=function(t){var e=n.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error(\"Integer too large; max is 32-bits.\");throw r.integer=t,r},i.derToInteger=function(t){\"string\"==typeof t&&(t=n.util.createBuffer(t));var e=8*t.length();if(e>32)throw new Error(\"Integer too large; max is 32-bits.\");return t.getSignedInt(e)},i.validate=function(t,e,r,o){var s=!1;if(t.tagClass!==e.tagClass&&void 0!==e.tagClass||t.type!==e.type&&void 0!==e.type)o&&(t.tagClass!==e.tagClass&&o.push(\"[\"+e.name+'] Expected tag class \"'+e.tagClass+'\", got \"'+t.tagClass+'\"'),t.type!==e.type&&o.push(\"[\"+e.name+'] Expected type \"'+e.type+'\", got \"'+t.type+'\"'));else if(t.constructed===e.constructed||void 0===e.constructed){if(s=!0,e.value&&n.util.isArray(e.value))for(var a=0,u=0;s&&u<e.value.length;++u)s=e.value[u].optional||!1,t.value[a]&&((s=i.validate(t.value[a],e.value[u],r,o))?++a:e.value[u].optional&&(s=!0)),!s&&o&&o.push(\"[\"+e.name+'] Tag class \"'+e.tagClass+'\", type \"'+e.type+'\" expected value length \"'+e.value.length+'\", got \"'+t.value.length+'\"');if(s&&r)if(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&\"bitStringContents\"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&\"bitStringContents\"in t)if(t.bitStringContents.length<2)r[e.captureBitStringValue]=\"\";else{if(0!==t.bitStringContents.charCodeAt(0))throw new Error(\"captureBitStringValue only supported for zero unused bits\");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}else o&&o.push(\"[\"+e.name+'] Expected constructed \"'+e.constructed+'\", got \"'+t.constructed+'\"');return s};var a=/[^\\\\u0000-\\\\u00ff]/;i.prettyPrint=function(t,e,r){var o=\"\";e=e||0,r=r||2,e>0&&(o+=\"\\n\");for(var s=\"\",u=0;u<e*r;++u)s+=\" \";switch(o+=s+\"Tag: \",t.tagClass){case i.Class.UNIVERSAL:o+=\"Universal:\";break;case i.Class.APPLICATION:o+=\"Application:\";break;case i.Class.CONTEXT_SPECIFIC:o+=\"Context-Specific:\";break;case i.Class.PRIVATE:o+=\"Private:\"}if(t.tagClass===i.Class.UNIVERSAL)switch(o+=t.type,t.type){case i.Type.NONE:o+=\" (None)\";break;case i.Type.BOOLEAN:o+=\" (Boolean)\";break;case i.Type.INTEGER:o+=\" (Integer)\";break;case i.Type.BITSTRING:o+=\" (Bit string)\";break;case i.Type.OCTETSTRING:o+=\" (Octet string)\";break;case i.Type.NULL:o+=\" (Null)\";break;case i.Type.OID:o+=\" (Object Identifier)\";break;case i.Type.ODESC:o+=\" (Object Descriptor)\";break;case i.Type.EXTERNAL:o+=\" (External or Instance of)\";break;case i.Type.REAL:o+=\" (Real)\";break;case i.Type.ENUMERATED:o+=\" (Enumerated)\";break;case i.Type.EMBEDDED:o+=\" (Embedded PDV)\";break;case i.Type.UTF8:o+=\" (UTF8)\";break;case i.Type.ROID:o+=\" (Relative Object Identifier)\";break;case i.Type.SEQUENCE:o+=\" (Sequence)\";break;case i.Type.SET:o+=\" (Set)\";break;case i.Type.PRINTABLESTRING:o+=\" (Printable String)\";break;case i.Type.IA5String:o+=\" (IA5String (ASCII))\";break;case i.Type.UTCTIME:o+=\" (UTC time)\";break;case i.Type.GENERALIZEDTIME:o+=\" (Generalized time)\";break;case i.Type.BMPSTRING:o+=\" (BMP String)\"}else o+=t.type;if(o+=\"\\n\",o+=s+\"Constructed: \"+t.constructed+\"\\n\",t.composed){var c=0,f=\"\";for(u=0;u<t.value.length;++u)void 0!==t.value[u]&&(c+=1,f+=i.prettyPrint(t.value[u],e+1,r),u+1<t.value.length&&(f+=\",\"));o+=s+\"Sub values: \"+c+f}else{if(o+=s+\"Value: \",t.type===i.Type.OID){var h=i.derToOid(t.value);o+=h,n.pki&&n.pki.oids&&h in n.pki.oids&&(o+=\" (\"+n.pki.oids[h]+\") \")}if(t.type===i.Type.INTEGER)try{o+=i.derToInteger(t.value)}catch(e){o+=\"0x\"+n.util.bytesToHex(t.value)}else if(t.type===i.Type.BITSTRING){if(t.value.length>1?o+=\"0x\"+n.util.bytesToHex(t.value.slice(1)):o+=\"(none)\",t.value.length>0){var l=t.value.charCodeAt(0);1==l?o+=\" (1 unused bit shown)\":l>1&&(o+=\" (\"+l+\" unused bits shown)\")}}else t.type===i.Type.OCTETSTRING?(a.test(t.value)||(o+=\"(\"+t.value+\") \"),o+=\"0x\"+n.util.bytesToHex(t.value)):t.type===i.Type.UTF8?o+=n.util.decodeUtf8(t.value):t.type===i.Type.PRINTABLESTRING||t.type===i.Type.IA5String?o+=t.value:a.test(t.value)?o+=\"0x\"+n.util.bytesToHex(t.value):0===t.value.length?o+=\"[null]\":o+=t.value}return o}},function(t,e,r){var n=r(12);t.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(t,e,r){\"use strict\";const n=r(1214),i=x(\"dns4\"),o=x(\"dns6\"),s=A(x(\"dnsaddr\"),i,o),a=A(x(\"ip4\"),x(\"ip6\")),u=E(a,x(\"tcp\")),c=E(a,x(\"udp\")),f=E(c,x(\"utp\")),h=A(E(s,x(\"tcp\")),s),l=A(E(u,x(\"ws\")),E(h,x(\"ws\"))),p=A(E(u,x(\"wss\")),E(h,x(\"wss\"))),d=A(E(u,x(\"http\")),E(h),E(h,x(\"http\"))),y=A(E(l,x(\"p2p-webrtc-star\"),x(\"ipfs\")),E(p,x(\"p2p-webrtc-star\"),x(\"ipfs\"))),m=A(E(l,x(\"p2p-websocket-star\"),x(\"ipfs\")),E(p,x(\"p2p-websocket-star\"),x(\"ipfs\")),E(l,x(\"p2p-websocket-star\")),E(p,x(\"p2p-websocket-star\"))),g=E(d,x(\"p2p-webrtc-direct\")),b=A(l,p,d,y,g,u,f);let v=A(E(b,x(\"ipfs\")),y,x(\"ipfs\"));const _=A(E(v,x(\"p2p-circuit\"),v),E(v,x(\"p2p-circuit\")),E(x(\"p2p-circuit\"),v),E(b,x(\"p2p-circuit\")),E(x(\"p2p-circuit\"),b),x(\"p2p-circuit\")),w=()=>A(E(_,w),_),S=w(),k=A(E(S,v,S),E(v,S),E(S,v),S,v);function E(){const t=Array.from(arguments);function e(e){return e.length<t.length?null:(t.some(t=>{if(null===(e=\"function\"==typeof t?t().partialMatch(e):t.partialMatch(e)))return!0}),e)}return{input:t,matches:function(t){\"string\"==typeof t&&(t=n(t));let r=e(t.protoNames());return null!==r&&0===r.length},partialMatch:e}}function A(){const t=Array.from(arguments);function e(e){let r=null;return t.some(t=>{const n=\"function\"==typeof t?t().partialMatch(e):t.partialMatch(e);if(n)return r=n,!0}),r}return{toString:function(){return\"{ \"+t.join(\" \")+\" }\"},input:t,matches:function(t){\"string\"==typeof t&&(t=n(t));const r=e(t.protoNames());return null!==r&&0===r.length},partialMatch:e}}function x(t){const e=t;return{toString:function(){return e},matches:function(t){\"string\"==typeof t&&(t=n(t));const r=t.protoNames();return 1===r.length&&r[0]===e},partialMatch:function(t){return 0===t.length?null:t[0]===e?t.slice(1):null}}}e.DNS=h,e.DNS4=i,e.DNS6=o,e.IP=a,e.TCP=u,e.UDP=c,e.UTP=f,e.HTTP=d,e.WebSockets=l,e.WebSocketsSecure=p,e.WebSocketStar=m,e.WebRTCStar=y,e.WebRTCDirect=g,e.Reliable=b,e.Circuit=S,e.IPFS=k},function(t,e,r){\"use strict\";(function(e,n){var i=r(3).Buffer,o=e.crypto||e.msCrypto;o&&o.getRandomValues?t.exports=function(t,r){if(t>65536)throw new Error(\"requested too many random bytes\");var s=new e.Uint8Array(t);t>0&&o.getRandomValues(s);var a=i.from(s.buffer);if(\"function\"==typeof r)return n.nextTick(function(){r(null,a)});return a}:t.exports=function(){throw new Error(\"Secure random number generation is not supported by this browser.\\nUse Chrome, Firefox or Internet Explorer 11\")}}).call(this,r(5),r(7))},function(t,e,r){t.exports=i;var n=r(19).EventEmitter;function i(){n.call(this)}r(1)(i,n),i.Readable=r(58),i.Writable=r(772),i.Duplex=r(773),i.Transform=r(774),i.PassThrough=r(775),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on(\"data\",i),t.on(\"drain\",o),t._isStdio||e&&!1===e.end||(r.on(\"end\",a),r.on(\"close\",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,\"function\"==typeof t.destroy&&t.destroy())}function c(t){if(f(),0===n.listenerCount(this,\"error\"))throw t}function f(){r.removeListener(\"data\",i),t.removeListener(\"drain\",o),r.removeListener(\"end\",a),r.removeListener(\"close\",u),r.removeListener(\"error\",c),t.removeListener(\"error\",c),r.removeListener(\"end\",f),r.removeListener(\"close\",f),t.removeListener(\"close\",f)}return r.on(\"error\",c),t.on(\"error\",c),r.on(\"end\",f),r.on(\"close\",f),t.on(\"close\",f),t.emit(\"pipe\",r),t}},function(t,e,r){var n=r(3).Buffer,i=r(86).Transform,o=r(233).StringDecoder;function s(t){i.call(this),this.hashMode=\"string\"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(1)(s,i),s.prototype.update=function(t,e,r){\"string\"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error(\"trying to get auth tag in unsupported state\")},s.prototype.setAuthTag=function(){throw new Error(\"trying to set auth tag in unsupported state\")},s.prototype.setAAD=function(){throw new Error(\"trying to set aad in unsupported state\")},s.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error(\"can't switch encodings\");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},t.exports=s},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=o(r(196)),i=o(r(972));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)(i.default),t.exports=e.default},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(21),o=r(23),s=r(30),a=function t(r){if(!(this instanceof t))return new t(r);if(!n.isUndefined(r))if(e.isBuffer(r))this.set({buf:r});else if(n.isString(r))this.set({buf:new e(r,\"hex\")});else{if(!n.isObject(r))throw new TypeError(\"Unrecognized argument for BufferReader\");var i=r;this.set(i)}};a.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this.pos=t.pos||this.pos||0,this},a.prototype.eof=function(){return this.pos>=this.buf.length},a.prototype.finished=a.prototype.eof,a.prototype.read=function(t){i.checkArgument(!n.isUndefined(t),\"Must specify a length\");var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,e},a.prototype.readAll=function(){var t=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,t},a.prototype.readUInt8=function(){var t=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,t},a.prototype.readUInt16BE=function(){var t=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,t},a.prototype.readUInt16LE=function(){var t=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,t},a.prototype.readUInt32BE=function(){var t=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,t},a.prototype.readUInt32LE=function(){var t=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,t},a.prototype.readUInt64BEBN=function(){var t=this.buf.slice(this.pos,this.pos+8),e=s.fromBuffer(t);return this.pos=this.pos+8,e},a.prototype.readUInt64LEBN=function(){var t,e=this.buf.readUInt32LE(this.pos),r=4294967296*this.buf.readUInt32LE(this.pos+4)+e;if(r<=9007199254740991)t=new s(r);else{var n=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);t=new s(n,10,\"le\")}return this.pos=this.pos+8,t},a.prototype.readVarintNum=function(){var t=this.readUInt8();switch(t){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var e=this.readUInt64LEBN().toNumber();if(e<=Math.pow(2,53))return e;throw new Error(\"number too large to retain precision - use readVarintBN\");default:return t}},a.prototype.readVarLengthBuffer=function(){var t=this.readVarintNum(),e=this.read(t);return i.checkState(e.length===t,\"Invalid length while reading varlength buffer. Expected to read: \"+t+\" and read \"+e.length),e},a.prototype.readVarintBuf=function(){switch(this.buf.readUInt8(this.pos)){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},a.prototype.readVarintBN=function(){var t=this.readUInt8();switch(t){case 253:return new s(this.readUInt16LE());case 254:return new s(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new s(t)}},a.prototype.reverse=function(){for(var t=new e(this.buf.length),r=0;r<t.length;r++)t[r]=this.buf[this.buf.length-1-r];return this.buf=t,this},a.prototype.readReverse=function(t){n.isUndefined(t)&&(t=this.buf.length);var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,o.reverse(e)},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){var n=r(0),i=r(69),o=r(70),s=r(91),a=r(89),u=r(59),c=r(30),f=r(45),h=r(494),l=r(21),p=r(17),d=function(t,h,l,p){var d,y=r(281),m=r(282),g=y.shallowCopy(t);for((p=new o(p)).removeCodeseparators(),d=0;d<g.inputs.length;d++)g.inputs[d]=new m(g.inputs[d]).setScript(o.empty());if(g.inputs[l]=new m(g.inputs[l]).setScript(p),(31&h)===i.SIGHASH_NONE||(31&h)===i.SIGHASH_SINGLE)for(d=0;d<g.inputs.length;d++)d!==l&&(g.inputs[d].sequenceNumber=0);if((31&h)===i.SIGHASH_NONE)g.outputs=[];else if((31&h)===i.SIGHASH_SINGLE){if(l>=g.outputs.length)return new e(\"0000000000000000000000000000000000000000000000000000000000000001\",\"hex\");for(g.outputs.length=l+1,d=0;d<l;d++)g.outputs[d]=new s({satoshis:c.fromBuffer(new n.Buffer(\"ffffffffffffffff\",\"hex\")),script:o.empty()})}h&i.SIGHASH_ANYONECANPAY&&(g.inputs=[g.inputs[l]]);var b=(new u).write(g.toBuffer()).writeInt32LE(h).toBuffer(),v=f.sha256sha256(b);return v=new a(v).readReverse()};t.exports={sighash:d,sign:function(t,e,r,n,i){var o=d(t,r,n,i);return h.sign(o,e,\"little\").set({nhashtype:r})},verify:function(t,e,r,n,i){l.checkArgument(!p.isUndefined(t)),l.checkArgument(!p.isUndefined(e)&&!p.isUndefined(e.nhashtype));var o=d(t,e.nhashtype,n,i);return h.verify(o,e,r,\"little\")}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(17),i=r(30),o=r(0),s=r(23),a=r(28),u=r(59),c=r(70),f=r(21),h=r(68);function l(t){if(!(this instanceof l))return new l(t);if(!n.isObject(t))throw new TypeError(\"Unrecognized argument for Output\");var e;this.satoshis=t.satoshis,s.isBuffer(t.script)?this._scriptBuffer=t.script:(e=n.isString(t.script)&&a.isHexa(t.script)?new o.Buffer(t.script,\"hex\"):t.script,this.setScript(e))}Object.defineProperty(l.prototype,\"script\",{configurable:!1,enumerable:!0,get:function(){return this._script?this._script:(this.setScriptFromBuffer(this._scriptBuffer),this._script)}}),Object.defineProperty(l.prototype,\"satoshis\",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(t){t instanceof i?(this._satoshisBN=t,this._satoshis=t.toNumber()):n.isString(t)?(this._satoshis=parseInt(t),this._satoshisBN=i.fromNumber(this._satoshis)):(f.checkArgument(a.isNaturalNumber(t),\"Output satoshis is not a natural number\"),this._satoshisBN=i.fromNumber(t),this._satoshis=t),f.checkState(a.isNaturalNumber(this._satoshis),\"Output satoshis is not a natural number\")}}),l.prototype.invalidSatoshis=function(){return this._satoshis>9007199254740991?\"transaction txout satoshis greater than max safe integer\":this._satoshis!==this._satoshisBN.toNumber()?\"transaction txout satoshis has corrupted value\":this._satoshis<0&&\"transaction txout negative\"},l.prototype.toObject=l.prototype.toJSON=function(){var t={satoshis:this.satoshis};return t.script=this._scriptBuffer.toString(\"hex\"),t},l.fromObject=function(t){return new l(t)},l.prototype.setScriptFromBuffer=function(t){this._scriptBuffer=t;try{this._script=c.fromBuffer(this._scriptBuffer),this._script._isOutput=!0}catch(t){if(!(t instanceof h.Script.InvalidBuffer))throw t;this._script=null}},l.prototype.setScript=function(t){if(t instanceof c)this._scriptBuffer=t.toBuffer(),this._script=t,this._script._isOutput=!0;else if(n.isString(t))this._script=c.fromString(t),this._scriptBuffer=this._script.toBuffer(),this._script._isOutput=!0;else{if(!s.isBuffer(t))throw new TypeError(\"Invalid argument type: script\");this.setScriptFromBuffer(t)}return this},l.prototype.inspect=function(){var t;return t=this.script?this.script.inspect():this._scriptBuffer.toString(\"hex\"),\"<Output (\"+this.satoshis+\" sats) \"+t+\">\"},l.fromBufferReader=function(t){var e={};e.satoshis=t.readUInt64LEBN();var r=t.readVarintNum();return e.script=0!==r?t.read(r):new o.Buffer([]),new l(e)},l.prototype.toBufferWriter=function(t){t||(t=new u),t.writeUInt64LEBN(this._satoshisBN);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t},t.exports=l},function(t,e,r){\"use strict\";var n=r(713),i=r(755);t.exports={packageInit:function(t,e){if(e=Array.prototype.slice.call(e),!t)throw new Error('You need to instantiate using the \"new\" keyword.');Object.defineProperty(t,\"currentProvider\",{get:function(){return t._provider},set:function(e){return t.setProvider(e)},enumerable:!0,configurable:!0}),e[0]&&e[0]._requestManager?t._requestManager=new n.Manager(e[0].currentProvider):(t._requestManager=new n.Manager,t._requestManager.setProvider(e[0],e[1])),t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers,t._provider=t._requestManager.provider,t.setProvider||(t.setProvider=function(e,r){return t._requestManager.setProvider(e,r),t._provider=t._requestManager.provider,!0}),t.BatchRequest=n.BatchManager.bind(null,t._requestManager),t.extend=i(t)},addProviders:function(t){t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers}}},function(t,e,r){\"use strict\";var n=r(177),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=h;var o=r(134);o.inherits=r(1);var s=r(370),a=r(232);o.inherits(h,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];h.prototype[f]||(h.prototype[f]=a.prototype[f])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){\"use strict\";var n=r(31),i=r(36).errors,o=r(36).formatters,s=r(57),a=r(375),u=r(178).subscriptions,c=function(t){if(!t.call||!t.name)throw new Error('When creating a method you need to provide at least the \"name\" and \"call\" property.');this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.transformPayload=t.transformPayload,this.extraFormatters=t.extraFormatters,this.requestManager=t.requestManager,this.accounts=t.accounts,this.defaultBlock=t.defaultBlock||\"latest\",this.defaultAccount=t.defaultAccount||null};c.prototype.setRequestManager=function(t,e){this.requestManager=t,e&&(this.accounts=e)},c.prototype.createFunction=function(t,e){var r=this.buildCall();return r.call=this.call,this.setRequestManager(t||this.requestManager,e||this.accounts),r},c.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var r=this.name.split(\".\");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},c.prototype.getCall=function(t){return n.isFunction(this.call)?this.call(t):this.call},c.prototype.extractCallback=function(t){if(n.isFunction(t[t.length-1]))return t.pop()},c.prototype.validateArgs=function(t){if(t.length!==this.params)throw i.InvalidNumberOfParams(t.length,this.params,this.name)},c.prototype.formatInput=function(t){var e=this;return this.inputFormatter?this.inputFormatter.map(function(r,n){return r?r.call(e,t[n]):t[n]}):t},c.prototype.formatOutput=function(t){var e=this;return n.isArray(t)?t.map(function(t){return e.outputFormatter&&t?e.outputFormatter(t):t}):this.outputFormatter&&t?this.outputFormatter(t):t},c.prototype.toPayload=function(t){var e=this.getCall(t),r=this.extractCallback(t),n=this.formatInput(t);this.validateArgs(n);var i={method:e,params:n,callback:r};return this.transformPayload&&(i=this.transformPayload(i)),i},c.prototype._confirmTransaction=function(t,e,r){var i=this,f=!1,h=!0,l=0,p=0,d=null,y=\"\",m=n.isObject(r.params[0])&&r.params[0].gas?r.params[0].gas:null,g=n.isObject(r.params[0])&&r.params[0].data&&r.params[0].from&&!r.params[0].to,b=[new c({name:\"getTransactionReceipt\",call:\"eth_getTransactionReceipt\",params:1,inputFormatter:[null],outputFormatter:o.outputTransactionReceiptFormatter}),new c({name:\"getCode\",call:\"eth_getCode\",params:2,inputFormatter:[o.inputAddressFormatter,o.inputDefaultBlockNumberFormatter]}),new u({name:\"subscribe\",type:\"eth\",subscriptions:{newBlockHeaders:{subscriptionName:\"newHeads\",params:0,outputFormatter:o.outputBlockFormatter}}})],v={};n.each(b,function(t){t.attachToObject(v),t.requestManager=i.requestManager});var _=function(r,n,o,u,c){if(!o)return c||(c={unsubscribe:function(){clearInterval(d)}}),(r?a.resolve(r):v.getTransactionReceipt(e)).catch(function(e){c.unsubscribe(),f=!0,s._fireError({message:\"Failed to check for transaction receipt:\",data:e},t.eventEmitter,t.reject)}).then(function(e){if(!e||!e.blockHash)throw new Error(\"Receipt missing or blockHash null\");return i.extraFormatters&&i.extraFormatters.receiptFormatter&&(e=i.extraFormatters.receiptFormatter(e)),t.eventEmitter.listeners(\"confirmation\").length>0&&(void 0!==r&&0===p||t.eventEmitter.emit(\"confirmation\",p,e),h=!1,25===++p&&(c.unsubscribe(),t.eventEmitter.removeAllListeners())),e}).then(function(e){if(g&&!f){if(!e.contractAddress)return h&&(c.unsubscribe(),f=!0),void s._fireError(new Error(\"The transaction receipt didn't contain a contract address.\"),t.eventEmitter,t.reject);v.getCode(e.contractAddress,function(r,n){n&&(n.length>2?(t.eventEmitter.emit(\"receipt\",e),i.extraFormatters&&i.extraFormatters.contractDeployFormatter?t.resolve(i.extraFormatters.contractDeployFormatter(e)):t.resolve(e),h&&t.eventEmitter.removeAllListeners()):s._fireError(new Error(\"The contract code couldn't be stored, please check your gas limit.\"),t.eventEmitter,t.reject),h&&c.unsubscribe(),f=!0)})}return e}).then(function(e){g||f||(e.outOfGas||m&&m===e.gasUsed||!0!==e.status&&\"0x1\"!==e.status&&void 0!==e.status?(e&&(y=JSON.stringify(e,null,2)),!1===e.status||\"0x0\"===e.status?s._fireError(new Error(\"Transaction has been reverted by the EVM:\\n\"+y),t.eventEmitter,t.reject):s._fireError(new Error(\"Transaction ran out of gas. Please provide more gas:\\n\"+y),t.eventEmitter,t.reject)):(t.eventEmitter.emit(\"receipt\",e),t.resolve(e),h&&t.eventEmitter.removeAllListeners()),h&&c.unsubscribe(),f=!0)}).catch(function(){l++,n?l-1>=750&&(c.unsubscribe(),f=!0,s._fireError(new Error(\"Transaction was not mined within750 seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!\"),t.eventEmitter,t.reject)):l-1>=50&&(c.unsubscribe(),f=!0,s._fireError(new Error(\"Transaction was not mined within 50 blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!\"),t.eventEmitter,t.reject))});c.unsubscribe(),f=!0,s._fireError({message:\"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.\",data:o},t.eventEmitter,t.reject)},w=function(t){n.isFunction(this.requestManager.provider.on)?v.subscribe(\"newBlockHeaders\",_.bind(null,t,!1)):d=setInterval(_.bind(null,t,!0),1e3)}.bind(this);v.getTransactionReceipt(e).then(function(e){e&&e.blockHash?(t.eventEmitter.listeners(\"confirmation\").length>0&&w(e),_(e,!1)):f||w()}).catch(function(){f||w()})};var f=function(t,e){return n.isNumber(t)?e.wallet[t]:n.isObject(t)&&t.address&&t.privateKey?t:e.wallet[t.toLowerCase()]};c.prototype.buildCall=function(){var t=this,e=\"eth_sendTransaction\"===t.call||\"eth_sendRawTransaction\"===t.call,r=function(){var r=a(!e),i=t.toPayload(Array.prototype.slice.call(arguments)),o=function(n,o){try{o=t.formatOutput(o)}catch(t){n=t}if(o instanceof Error&&(n=o),n)return n.error&&(n=n.error),s._fireError(n,r.eventEmitter,r.reject,i.callback);i.callback&&i.callback(null,o),e?(r.eventEmitter.emit(\"transactionHash\",o),t._confirmTransaction(r,o,i)):n||r.resolve(o)},u=function(e){var r=n.extend({},i,{method:\"eth_sendRawTransaction\",params:[e.rawTransaction]});t.requestManager.send(r,o)},h=function(t,e){var i;if(e&&e.accounts&&e.accounts.wallet&&e.accounts.wallet.length)if(\"eth_sendTransaction\"===t.method){var s=t.params[0];if((i=f(n.isObject(s)?s.from:null,e.accounts))&&i.privateKey)return e.accounts.signTransaction(n.omit(s,\"from\"),i.privateKey).then(u)}else if(\"eth_sign\"===t.method){var a=t.params[1];if((i=f(t.params[0],e.accounts))&&i.privateKey){var c=e.accounts.sign(a,i.privateKey);return t.callback&&t.callback(null,c.signature),void r.resolve(c.signature)}}return e.requestManager.send(t,o)};e&&n.isObject(i.params[0])&&!i.params[0].gasPrice?new c({name:\"getGasPrice\",call:\"eth_gasPrice\",params:0}).createFunction(t.requestManager)(function(e,r){r&&(i.params[0].gasPrice=r),h(i,t)}):h(i,t);return r.eventEmitter};return r.method=t,r.request=this.request.bind(this),r},c.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t},t.exports=c},function(t,e,r){var n=r(73),i=r(380),o=function(t){this._inputFormatter=t.inputFormatter,this._outputFormatter=t.outputFormatter};o.prototype.isType=function(t){throw\"This method should be overwritten for type \"+t},o.prototype.staticPartLength=function(t){return(this.nestedTypes(t)||[\"[1]\"]).map(function(t){return parseInt(t.slice(1,-1),10)||1}).reduce(function(t,e){return t*e},32)},o.prototype.isDynamicArray=function(t){var e=this.nestedTypes(t);return!!e&&!e[e.length-1].match(/[0-9]{1,}/g)},o.prototype.isStaticArray=function(t){var e=this.nestedTypes(t);return!!e&&!!e[e.length-1].match(/[0-9]{1,}/g)},o.prototype.staticArrayLength=function(t){var e=this.nestedTypes(t);return e?parseInt(e[e.length-1].match(/[0-9]{1,}/g)||1):1},o.prototype.nestedName=function(t){var e=this.nestedTypes(t);return e?t.substr(0,t.length-e[e.length-1].length):t},o.prototype.isDynamicType=function(){return!1},o.prototype.nestedTypes=function(t){return t.match(/(\\[[0-9]*\\])/g)},o.prototype.encode=function(t,e){var r=this;return this.isDynamicArray(e)?function(){var i=t.length,o=r.nestedName(e),s=[];return s.push(n.formatInputInt(i).encode()),t.forEach(function(t){s.push(r.encode(t,o))}),s}():this.isStaticArray(e)?function(){for(var n=r.staticArrayLength(e),i=r.nestedName(e),o=[],s=0;s<n;s++)o.push(r.encode(t[s],i));return o}():this._inputFormatter(t,e).encode()},o.prototype.decode=function(t,e,r){var n=this;if(this.isDynamicArray(r))return function(){for(var i=parseInt(\"0x\"+t.substr(2*e,64)),o=parseInt(\"0x\"+t.substr(2*i,64)),s=i+32,a=n.nestedName(r),u=n.staticPartLength(a),c=32*Math.floor((u+31)/32),f=[],h=0;h<o*c;h+=c)f.push(n.decode(t,s+h,a));return f}();if(this.isStaticArray(r))return function(){for(var i=n.staticArrayLength(r),o=e,s=n.nestedName(r),a=n.staticPartLength(s),u=32*Math.floor((a+31)/32),c=[],f=0;f<i*u;f+=u)c.push(n.decode(t,o+f,s));return c}();if(this.isDynamicType(r))return function(){var o=parseInt(\"0x\"+t.substr(2*e,64)),s=parseInt(\"0x\"+t.substr(2*o,64)),a=Math.floor((s+31)/32),u=new i(t.substr(2*o,64*(1+a)),0,t);return n._outputFormatter(u,r)}();var o=this.staticPartLength(r),s=new i(t.substr(2*e,2*o),void 0,t);return this._outputFormatter(s,r)},t.exports=o},function(t,e,r){\"use strict\";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(85),e.createHash=e.Hash=r(74),e.createHmac=e.Hmac=r(135);var n=r(781),i=Object.keys(n),o=[\"sha1\",\"sha224\",\"sha256\",\"sha384\",\"sha512\",\"md5\",\"rmd160\"].concat(i);e.getHashes=function(){return o};var s=r(240);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync;var a=r(783);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var u=r(800);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var c=r(805);e.createSign=c.createSign,e.Sign=c.Sign,e.createVerify=c.createVerify,e.Verify=c.Verify,e.createECDH=r(841);var f=r(842);e.publicEncrypt=f.publicEncrypt,e.privateEncrypt=f.privateEncrypt,e.publicDecrypt=f.publicDecrypt,e.privateDecrypt=f.privateDecrypt;var h=r(845);e.randomFill=h.randomFill,e.randomFillSync=h.randomFillSync,e.createCredentials=function(){throw new Error([\"sorry, createCredentials is not implemented yet\",\"we accept pull requests\",\"https://github.com/crypto-browserify/crypto-browserify\"].join(\"\\n\"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e,r){\"use strict\";var n=r(420);t.exports=function(t,e){if(!t)return function(t,r){return t?n(r,t,e):r(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(e){return t[e]}));var r=0;return function(i,o){if(i)return n(o,i,e);r>=t.length?o(!0):o(null,t[r++])}}},function(t,e,r){\"use strict\";var n=r(246);t.exports=function(t){return n(function(t,e){return t.push(e),t},[],t)}},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){var n=r(248),i=r(430);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(15),s=r(64);(e=t.exports=s(class{constructor(t,e,r){o(r,\"A link requires a multihash to point to\"),this._name=t||\"\",this._size=e,\"string\"==typeof r?this._multihash=i.fromB58String(r):n.isBuffer(r)&&(this._multihash=r)}toString(){return`DAGLink <${i.toB58String(this.multihash)} - name: \"${this.name}\", size: ${this.size}>`}toJSON(){return{name:this.name,size:this.size,multihash:i.toB58String(this._multihash)}}get name(){return this._name}set name(t){throw new Error(\"Can't set property: 'name' is immutable\")}get size(){return this._size}set size(t){throw new Error(\"Can't set property: 'size' is immutable\")}get multihash(){return this._multihash}set multihash(t){throw new Error(\"Can't set property: 'multihash' is immutable\")}},{className:\"DAGLink\",symbolName:\"@ipld/js-ipld-dag-pb/daglink\"})).create=r(995),e.util=r(996)}).call(this,r(0).Buffer)},function(t,e,r){var n=r(481);r(1036),t.exports=n},function(t,e,r){\"use strict\";e.ethAccountSnapshot=r(484),e.ethBlock=r(489),e.ethBlockList=r(1056),e.ethStateTrie=r(1061),e.ethStorageTrie=r(1064),e.ethTx=r(492),e.ethTxTrie=r(1067)},function(t,e,r){\"use strict\";var n=r(17),i=r(23),o=r(28),s=[],a={};function u(){}function c(t,e){if(~s.indexOf(t))return t;if(!e)return a[t];n.isArray(e)||(e=[e]);var r=function(e){return s[i][e]===t};for(var i in s)if(n.any(e,r))return s[i]}function f(t){var e=new u;return o.defineImmutable(e,{name:t.name,alias:t.alias,pubkeyhash:t.pubkeyhash,privatekey:t.privatekey,scripthash:t.scripthash,xpubkey:t.xpubkey,xprivkey:t.xprivkey,zaddr:t.zaddr,zkey:t.zkey}),t.networkMagic&&o.defineImmutable(e,{networkMagic:i.integerAsBuffer(t.networkMagic)}),t.port&&o.defineImmutable(e,{port:t.port}),t.dnsSeeds&&o.defineImmutable(e,{dnsSeeds:t.dnsSeeds}),n.each(e,function(t){n.isUndefined(t)||n.isObject(t)||(a[t]=e)}),s.push(e),e}u.prototype.toString=function(){return this.name},f({name:\"livenet\",alias:\"mainnet\",pubkeyhash:7352,privatekey:128,scripthash:7357,xpubkey:76067358,xprivkey:76066276,zaddr:5786,zkey:43830,networkMagic:4179340459,port:8233,dnsSeeds:[]});var h=c(\"livenet\");f({name:\"testnet\",alias:\"regtest\",pubkeyhash:7461,privatekey:239,scripthash:7354,xpubkey:70617039,xprivkey:70615956,zaddr:5814,zkey:44040});var l=c(\"testnet\"),p={PORT:18233,NETWORK_MAGIC:i.integerAsBuffer(4187956406),DNS_SEEDS:[\"dnsseed.testnet.z.cash\"]};for(var d in p)n.isObject(p[d])||(a[p[d]]=l);var y={PORT:18444,NETWORK_MAGIC:i.integerAsBuffer(2867347295),DNS_SEEDS:[]};for(var d in y)n.isObject(y[d])||(a[y[d]]=l);Object.defineProperty(l,\"port\",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?y.PORT:p.PORT}}),Object.defineProperty(l,\"networkMagic\",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?y.NETWORK_MAGIC:p.NETWORK_MAGIC}}),Object.defineProperty(l,\"dnsSeeds\",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?y.DNS_SEEDS:p.DNS_SEEDS}}),t.exports={add:f,remove:function(t){for(var e=0;e<s.length;e++)s[e]===t&&s.splice(e,1);for(var r in a)a[r]===t&&delete a[r]},defaultNetwork:h,livenet:h,mainnet:h,testnet:l,get:c,enableRegtest:function(){l.regtestEnabled=!0},disableRegtest:function(){l.regtestEnabled=!1}}},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(21),o=r(68),s=r(149),a=r(104),u=r(45),c=r(28),f=r(78);function h(t,e,r){if(!(this instanceof h))return new h(t,e,r);if(n.isArray(t)&&n.isNumber(e))return h.createMultisig(t,e,r);if(t instanceof h)return t;if(i.checkArgument(t,\"First argument is required, please include address data.\",\"guide/address.html\"),e&&!a.get(e))throw new TypeError('Second argument must be \"livenet\" or \"testnet\".');if(r&&r!==h.PayToPublicKeyHash&&r!==h.PayToScriptHash)throw new TypeError('Third argument must be \"pubkeyhash\" or \"scripthash\".');var o=this._classifyArguments(t,e,r);return o.network=o.network||a.get(e)||a.defaultNetwork,o.type=o.type||r||h.PayToPublicKeyHash,c.defineImmutable(this,{hashBuffer:o.hashBuffer,network:o.network,type:o.type}),this}h.prototype._classifyArguments=function(t,r,i){if((t instanceof e||t instanceof Uint8Array)&&20===t.length)return h._transformHash(t);if((t instanceof e||t instanceof Uint8Array)&&21===t.length)return h._transformBuffer(t,r,i);if(t instanceof f)return h._transformPublicKey(t);if(t instanceof l)return h._transformScript(t,r);if(\"string\"==typeof t)return h._transformString(t,r,i);if(n.isObject(t))return h._transformObject(t);throw new TypeError(\"First argument is an unrecognized data format.\")},h.PayToPublicKeyHash=\"pubkeyhash\",h.PayToScriptHash=\"scripthash\",h._transformHash=function(t){var r={};if(!(t instanceof e||t instanceof Uint8Array))throw new TypeError(\"Address supplied is not a buffer.\");if(20!==t.length)throw new TypeError(\"Address hashbuffers must be exactly 20 bytes.\");return r.hashBuffer=t,r},h._transformObject=function(t){return i.checkArgument(t.hash||t.hashBuffer,\"Must provide a `hash` or `hashBuffer` property\"),i.checkArgument(t.type,\"Must provide a `type` property\"),{hashBuffer:t.hash?new e(t.hash,\"hex\"):t.hashBuffer,network:a.get(t.network)||a.defaultNetwork,type:t.type}},h._classifyFromVersion=function(t){var e={},r=256*t[0]+t[1],n=a.get(r,\"pubkeyhash\"),i=a.get(r,\"scripthash\");return n?(e.network=n,e.type=h.PayToPublicKeyHash):i&&(e.network=i,e.type=h.PayToScriptHash),e},h._transformBuffer=function(t,r,n){var i={};if(!(t instanceof e||t instanceof Uint8Array))throw new TypeError(\"Address supplied is not a buffer.\");if(22!==t.length)throw new TypeError(\"Address buffers must be exactly 22 bytes.\");r=a.get(r);var o=h._classifyFromVersion(t);if(!o.network||r&&r!==o.network)throw new TypeError(\"Address has mismatched network type.\");if(!o.type||n&&n!==o.type)throw new TypeError(\"Address has mismatched type.\");return i.hashBuffer=t.slice(2),i.network=o.network,i.type=o.type,i},h._transformPublicKey=function(t){var e={};if(!(t instanceof f))throw new TypeError(\"Address must be an instance of PublicKey.\");return e.hashBuffer=u.sha256ripemd160(t.toBuffer()),e.type=h.PayToPublicKeyHash,e},h._transformScript=function(t,e){i.checkArgument(t instanceof l,\"script must be a Script instance\");var r=t.getAddressInfo(e);if(!r)throw new o.Script.CantDeriveAddress(t);return r},h.createMultisig=function(t,e,r){return r=r||t[0].network||a.defaultNetwork,h.payingTo(l.buildMultisigOut(t,e),r)},h._transformString=function(t,e,r){if(\"string\"!=typeof t)throw new TypeError(\"data parameter supplied is not a string.\");t=t.trim();var n=s.decode(t);return h._transformBuffer(n,e,r)},h.fromPublicKey=function(t,e){var r=h._transformPublicKey(t);return e=e||a.defaultNetwork,new h(r.hashBuffer,e,r.type)},h.fromPublicKeyHash=function(t,e){return new h(h._transformHash(t).hashBuffer,e,h.PayToPublicKeyHash)},h.fromScriptHash=function(t,e){return i.checkArgument(t,\"hash parameter is required\"),new h(h._transformHash(t).hashBuffer,e,h.PayToScriptHash)},h.payingTo=function(t,e){return i.checkArgument(t,\"script is required\"),i.checkArgument(t instanceof l,\"script must be instance of Script\"),h.fromScriptHash(u.sha256ripemd160(t.toBuffer()),e)},h.fromScript=function(t,e){i.checkArgument(t instanceof l,\"script must be a Script instance\");var r=h._transformScript(t,e);return new h(r.hashBuffer,e,r.type)},h.fromBuffer=function(t,e,r){var n=h._transformBuffer(t,e,r);return new h(n.hashBuffer,n.network,n.type)},h.fromString=function(t,e,r){var n=h._transformString(t,e,r);return new h(n.hashBuffer,n.network,n.type)},h.fromObject=function(t){return i.checkState(c.isHexa(t.hash),'Unexpected hash property, \"'+t.hash+'\", expected to be hex.'),new h(new e(t.hash,\"hex\"),t.network,t.type)},h.getValidationError=function(t,e,r){var n;try{new h(t,e,r)}catch(t){n=t}return n},h.isValid=function(t,e,r){return!h.getValidationError(t,e,r)},h.prototype.isPayToPublicKeyHash=function(){return this.type===h.PayToPublicKeyHash},h.prototype.isPayToScriptHash=function(){return this.type===h.PayToScriptHash},h.prototype.toBuffer=function(){var t=new e(this.network[this.type].toString(16),\"hex\");return e.concat([t,this.hashBuffer])},h.prototype.toObject=h.prototype.toJSON=function(){return{hash:this.hashBuffer.toString(\"hex\"),type:this.type,network:this.network.toString()}},h.prototype.toString=function(){return s.encode(this.toBuffer())},h.prototype.inspect=function(){return\"<Address: \"+this.toString()+\", type: \"+this.type+\", network: \"+this.network+\">\"},t.exports=h;var l=r(70)}).call(this,r(0).Buffer)},function(t,e,r){var n=r(12);function i(t,e){n.cipher.registerAlgorithm(t,function(){return new n.aes.Algorithm(t,e)})}r(288),r(502),r(18),t.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(t,e,r,n){var i=y({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i},n.aes.createEncryptionCipher=function(t,e){return y({key:t,output:null,decrypt:!1,mode:e})},n.aes.startDecrypting=function(t,e,r,n){var i=y({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i},n.aes.createDecryptionCipher=function(t,e){return y({key:t,output:null,decrypt:!0,mode:e})},n.aes.Algorithm=function(t,e){f||l();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(t,e){return d(r._w,t,e,!1)},decrypt:function(t,e){return d(r._w,t,e,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e,r=t.key;if(\"string\"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){e=r,r=n.util.createBuffer();for(var i=0;i<e.length;++i)r.putByte(e[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){e=r,r=[];var o=e.length();if(16===o||24===o||32===o){o>>>=2;for(i=0;i<o;++i)r.push(e.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error(\"Invalid key parameter.\");var s=this.mode.name,a=-1!==[\"CFB\",\"OFB\",\"CTR\",\"GCM\"].indexOf(s);this._w=p(r,t.decrypt&&!a),this._init=!0}},n.aes._expandKey=function(t,e){return f||l(),p(t,e)},n.aes._updateBlock=d,i(\"AES-ECB\",n.cipher.modes.ecb),i(\"AES-CBC\",n.cipher.modes.cbc),i(\"AES-CFB\",n.cipher.modes.cfb),i(\"AES-OFB\",n.cipher.modes.ofb),i(\"AES-CTR\",n.cipher.modes.ctr),i(\"AES-GCM\",n.cipher.modes.gcm);var o,s,a,u,c,f=!1,h=4;function l(){f=!0,a=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;o=new Array(256),s=new Array(256),u=new Array(4),c=new Array(4);for(e=0;e<4;++e)u[e]=new Array(256),c[e]=new Array(256);var r,n,i,h,l,p,d,y=0,m=0;for(e=0;e<256;++e){h=(h=m^m<<1^m<<2^m<<3^m<<4)>>8^255&h^99,o[y]=h,s[h]=y,p=(l=t[h])<<24^h<<16^h<<8^h^l,d=((r=t[y])^(n=t[r])^(i=t[n]))<<24^(y^i)<<16^(y^n^i)<<8^y^r^i;for(var g=0;g<4;++g)u[g][y]=p,c[g][h]=d,p=p<<24|p>>>8,d=d<<24|d>>>8;0===y?y=m=1:(y=r^t[t[t[r^i]]],m^=t[t[m]])}}function p(t,e){for(var r,n=t.slice(0),i=1,s=n.length,u=h*(s+6+1),f=s;f<u;++f)r=n[f-1],f%s==0?(r=o[r>>>16&255]<<24^o[r>>>8&255]<<16^o[255&r]<<8^o[r>>>24]^a[i]<<24,i++):s>6&&f%s==4&&(r=o[r>>>24]<<24^o[r>>>16&255]<<16^o[r>>>8&255]<<8^o[255&r]),n[f]=n[f-s]^r;if(e){for(var l,p=c[0],d=c[1],y=c[2],m=c[3],g=n.slice(0),b=(f=0,(u=n.length)-h);f<u;f+=h,b-=h)if(0===f||f===u-h)g[f]=n[b],g[f+1]=n[b+3],g[f+2]=n[b+2],g[f+3]=n[b+1];else for(var v=0;v<h;++v)l=n[b+v],g[f+(3&-v)]=p[o[l>>>24]]^d[o[l>>>16&255]]^y[o[l>>>8&255]]^m[o[255&l]];n=g}return n}function d(t,e,r,n){var i,a,f,h,l,p,d,y,m,g,b,v,_=t.length/4-1;n?(i=c[0],a=c[1],f=c[2],h=c[3],l=s):(i=u[0],a=u[1],f=u[2],h=u[3],l=o),p=e[0]^t[0],d=e[n?3:1]^t[1],y=e[2]^t[2],m=e[n?1:3]^t[3];for(var w=3,S=1;S<_;++S)g=i[p>>>24]^a[d>>>16&255]^f[y>>>8&255]^h[255&m]^t[++w],b=i[d>>>24]^a[y>>>16&255]^f[m>>>8&255]^h[255&p]^t[++w],v=i[y>>>24]^a[m>>>16&255]^f[p>>>8&255]^h[255&d]^t[++w],m=i[m>>>24]^a[p>>>16&255]^f[d>>>8&255]^h[255&y]^t[++w],p=g,d=b,y=v;r[0]=l[p>>>24]<<24^l[d>>>16&255]<<16^l[y>>>8&255]<<8^l[255&m]^t[++w],r[n?3:1]=l[d>>>24]<<24^l[y>>>16&255]<<16^l[m>>>8&255]<<8^l[255&p]^t[++w],r[2]=l[y>>>24]<<24^l[m>>>16&255]<<16^l[p>>>8&255]<<8^l[255&d]^t[++w],r[n?1:3]=l[m>>>24]<<24^l[p>>>16&255]<<16^l[d>>>8&255]<<8^l[255&y]^t[++w]}function y(t){var e,r=\"AES-\"+((t=t||{}).mode||\"CBC\").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=t,i.call(e,r)},e}},function(t,e,r){var n=r(12);n.pki=n.pki||{};var i=t.exports=n.pki.oids=n.oids=n.oids||{};function o(t,e){i[t]=e,i[e]=t}function s(t,e){i[t]=e}o(\"1.2.840.113549.1.1.1\",\"rsaEncryption\"),o(\"1.2.840.113549.1.1.4\",\"md5WithRSAEncryption\"),o(\"1.2.840.113549.1.1.5\",\"sha1WithRSAEncryption\"),o(\"1.2.840.113549.1.1.7\",\"RSAES-OAEP\"),o(\"1.2.840.113549.1.1.8\",\"mgf1\"),o(\"1.2.840.113549.1.1.9\",\"pSpecified\"),o(\"1.2.840.113549.1.1.10\",\"RSASSA-PSS\"),o(\"1.2.840.113549.1.1.11\",\"sha256WithRSAEncryption\"),o(\"1.2.840.113549.1.1.12\",\"sha384WithRSAEncryption\"),o(\"1.2.840.113549.1.1.13\",\"sha512WithRSAEncryption\"),o(\"1.2.840.10040.4.3\",\"dsa-with-sha1\"),o(\"1.3.14.3.2.7\",\"desCBC\"),o(\"1.3.14.3.2.26\",\"sha1\"),o(\"2.16.840.1.101.3.4.2.1\",\"sha256\"),o(\"2.16.840.1.101.3.4.2.2\",\"sha384\"),o(\"2.16.840.1.101.3.4.2.3\",\"sha512\"),o(\"1.2.840.113549.2.5\",\"md5\"),o(\"1.2.840.113549.1.7.1\",\"data\"),o(\"1.2.840.113549.1.7.2\",\"signedData\"),o(\"1.2.840.113549.1.7.3\",\"envelopedData\"),o(\"1.2.840.113549.1.7.4\",\"signedAndEnvelopedData\"),o(\"1.2.840.113549.1.7.5\",\"digestedData\"),o(\"1.2.840.113549.1.7.6\",\"encryptedData\"),o(\"1.2.840.113549.1.9.1\",\"emailAddress\"),o(\"1.2.840.113549.1.9.2\",\"unstructuredName\"),o(\"1.2.840.113549.1.9.3\",\"contentType\"),o(\"1.2.840.113549.1.9.4\",\"messageDigest\"),o(\"1.2.840.113549.1.9.5\",\"signingTime\"),o(\"1.2.840.113549.1.9.6\",\"counterSignature\"),o(\"1.2.840.113549.1.9.7\",\"challengePassword\"),o(\"1.2.840.113549.1.9.8\",\"unstructuredAddress\"),o(\"1.2.840.113549.1.9.14\",\"extensionRequest\"),o(\"1.2.840.113549.1.9.20\",\"friendlyName\"),o(\"1.2.840.113549.1.9.21\",\"localKeyId\"),o(\"1.2.840.113549.1.9.22.1\",\"x509Certificate\"),o(\"1.2.840.113549.1.12.10.1.1\",\"keyBag\"),o(\"1.2.840.113549.1.12.10.1.2\",\"pkcs8ShroudedKeyBag\"),o(\"1.2.840.113549.1.12.10.1.3\",\"certBag\"),o(\"1.2.840.113549.1.12.10.1.4\",\"crlBag\"),o(\"1.2.840.113549.1.12.10.1.5\",\"secretBag\"),o(\"1.2.840.113549.1.12.10.1.6\",\"safeContentsBag\"),o(\"1.2.840.113549.1.5.13\",\"pkcs5PBES2\"),o(\"1.2.840.113549.1.5.12\",\"pkcs5PBKDF2\"),o(\"1.2.840.113549.1.12.1.1\",\"pbeWithSHAAnd128BitRC4\"),o(\"1.2.840.113549.1.12.1.2\",\"pbeWithSHAAnd40BitRC4\"),o(\"1.2.840.113549.1.12.1.3\",\"pbeWithSHAAnd3-KeyTripleDES-CBC\"),o(\"1.2.840.113549.1.12.1.4\",\"pbeWithSHAAnd2-KeyTripleDES-CBC\"),o(\"1.2.840.113549.1.12.1.5\",\"pbeWithSHAAnd128BitRC2-CBC\"),o(\"1.2.840.113549.1.12.1.6\",\"pbewithSHAAnd40BitRC2-CBC\"),o(\"1.2.840.113549.2.7\",\"hmacWithSHA1\"),o(\"1.2.840.113549.2.8\",\"hmacWithSHA224\"),o(\"1.2.840.113549.2.9\",\"hmacWithSHA256\"),o(\"1.2.840.113549.2.10\",\"hmacWithSHA384\"),o(\"1.2.840.113549.2.11\",\"hmacWithSHA512\"),o(\"1.2.840.113549.3.7\",\"des-EDE3-CBC\"),o(\"2.16.840.1.101.3.4.1.2\",\"aes128-CBC\"),o(\"2.16.840.1.101.3.4.1.22\",\"aes192-CBC\"),o(\"2.16.840.1.101.3.4.1.42\",\"aes256-CBC\"),o(\"2.5.4.3\",\"commonName\"),o(\"2.5.4.5\",\"serialName\"),o(\"2.5.4.6\",\"countryName\"),o(\"2.5.4.7\",\"localityName\"),o(\"2.5.4.8\",\"stateOrProvinceName\"),o(\"2.5.4.10\",\"organizationName\"),o(\"2.5.4.11\",\"organizationalUnitName\"),o(\"2.16.840.1.113730.1.1\",\"nsCertType\"),s(\"2.5.29.1\",\"authorityKeyIdentifier\"),s(\"2.5.29.2\",\"keyAttributes\"),s(\"2.5.29.3\",\"certificatePolicies\"),s(\"2.5.29.4\",\"keyUsageRestriction\"),s(\"2.5.29.5\",\"policyMapping\"),s(\"2.5.29.6\",\"subtreesConstraint\"),s(\"2.5.29.7\",\"subjectAltName\"),s(\"2.5.29.8\",\"issuerAltName\"),s(\"2.5.29.9\",\"subjectDirectoryAttributes\"),s(\"2.5.29.10\",\"basicConstraints\"),s(\"2.5.29.11\",\"nameConstraints\"),s(\"2.5.29.12\",\"policyConstraints\"),s(\"2.5.29.13\",\"basicConstraints\"),o(\"2.5.29.14\",\"subjectKeyIdentifier\"),o(\"2.5.29.15\",\"keyUsage\"),s(\"2.5.29.16\",\"privateKeyUsagePeriod\"),o(\"2.5.29.17\",\"subjectAltName\"),o(\"2.5.29.18\",\"issuerAltName\"),o(\"2.5.29.19\",\"basicConstraints\"),s(\"2.5.29.20\",\"cRLNumber\"),s(\"2.5.29.21\",\"cRLReason\"),s(\"2.5.29.22\",\"expirationDate\"),s(\"2.5.29.23\",\"instructionCode\"),s(\"2.5.29.24\",\"invalidityDate\"),s(\"2.5.29.25\",\"cRLDistributionPoints\"),s(\"2.5.29.26\",\"issuingDistributionPoint\"),s(\"2.5.29.27\",\"deltaCRLIndicator\"),s(\"2.5.29.28\",\"issuingDistributionPoint\"),s(\"2.5.29.29\",\"certificateIssuer\"),s(\"2.5.29.30\",\"nameConstraints\"),o(\"2.5.29.31\",\"cRLDistributionPoints\"),o(\"2.5.29.32\",\"certificatePolicies\"),s(\"2.5.29.33\",\"policyMappings\"),s(\"2.5.29.34\",\"policyConstraints\"),o(\"2.5.29.35\",\"authorityKeyIdentifier\"),s(\"2.5.29.36\",\"policyConstraints\"),o(\"2.5.29.37\",\"extKeyUsage\"),s(\"2.5.29.46\",\"freshestCRL\"),s(\"2.5.29.54\",\"inhibitAnyPolicy\"),o(\"1.3.6.1.4.1.11129.2.4.2\",\"timestampList\"),o(\"1.3.6.1.5.5.7.1.1\",\"authorityInfoAccess\"),o(\"1.3.6.1.5.5.7.3.1\",\"serverAuth\"),o(\"1.3.6.1.5.5.7.3.2\",\"clientAuth\"),o(\"1.3.6.1.5.5.7.3.3\",\"codeSigning\"),o(\"1.3.6.1.5.5.7.3.4\",\"emailProtection\"),o(\"1.3.6.1.5.5.7.3.8\",\"timeStamping\")},function(t,e,r){var n=r(574),i=r(56),o=r(166),s=r(222);t.exports=function(t,e){(function(t){return\"function\"==typeof t})(t)&&(e=t,t={}),e=function(t){var e=0;return function(r,n,i){e++||t(r,n,i)}}(e||function(){});var r=n(t&&t.timeout||5e3),a=i(function(t){t&&e(t)}),u=s();return{handshake:{read:r.read,abort:function(t){a.end(t),r.abort(t,function(t){}),e(t)},write:a.push,rest:function(){return a.end(),{source:r.read(),sink:u.sink}}},sink:r,source:o([a,u.source])}}},function(t,e,r){var n=r(3).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){\"string\"==typeof t&&(e=e||\"utf8\",t=n.from(t,e));for(var r=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),f=0;f<c;f++)r[u+f]=t[a+f];a+=c,(s+=c)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error(\"_update must be implemented by subclass\")},t.exports=i},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error(\"Callback was already called.\");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){(function(t,n){var i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(\" \")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,function(t){if(\"%%\"===t)return\"%\";if(r>=o)return t;switch(t){case\"%s\":return String(n[r++]);case\"%d\":return Number(n[r++]);case\"%j\":try{return JSON.stringify(n[r++])}catch(t){return\"[Circular]\"}default:return t}}),u=n[r];r<o;u=n[++r])y(u)||!_(u)?s+=\" \"+u:s+=\" \"+a(u);return s},e.deprecate=function(r,i){if(b(t.process))return function(){return e.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}};var o,s={};function a(t,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),f(n,t,n.depth)}function u(t,e){var r=a.styles[e];return r?\"\u001b[\"+a.colors[r][0]+\"m\"+t+\"\u001b[\"+a.colors[r][1]+\"m\":t}function c(t,e){return t}function f(t,r,n){if(t.customInspect&&r&&k(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return g(i)||(i=f(t,i,n)),i}var o=function(t,e){if(b(e))return t.stylize(\"undefined\",\"undefined\");if(g(e)){var r=\"'\"+JSON.stringify(e).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return t.stylize(r,\"string\")}if(m(e))return t.stylize(\"\"+e,\"number\");if(d(e))return t.stylize(\"\"+e,\"boolean\");if(y(e))return t.stylize(\"null\",\"null\")}(t,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),S(r)&&(s.indexOf(\"message\")>=0||s.indexOf(\"description\")>=0))return h(r);if(0===s.length){if(k(r)){var u=r.name?\": \"+r.name:\"\";return t.stylize(\"[Function\"+u+\"]\",\"special\")}if(v(r))return t.stylize(RegExp.prototype.toString.call(r),\"regexp\");if(w(r))return t.stylize(Date.prototype.toString.call(r),\"date\");if(S(r))return h(r)}var c,_=\"\",E=!1,A=[\"{\",\"}\"];(p(r)&&(E=!0,A=[\"[\",\"]\"]),k(r))&&(_=\" [Function\"+(r.name?\": \"+r.name:\"\")+\"]\");return v(r)&&(_=\" \"+RegExp.prototype.toString.call(r)),w(r)&&(_=\" \"+Date.prototype.toUTCString.call(r)),S(r)&&(_=\" \"+h(r)),0!==s.length||E&&0!=r.length?n<0?v(r)?t.stylize(RegExp.prototype.toString.call(r),\"regexp\"):t.stylize(\"[Object]\",\"special\"):(t.seen.push(r),c=E?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)T(e,String(s))?o.push(l(t,e,r,n,String(s),!0)):o.push(\"\");return i.forEach(function(i){i.match(/^\\d+$/)||o.push(l(t,e,r,n,i,!0))}),o}(t,r,n,a,s):s.map(function(e){return l(t,r,n,a,e,E)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf(\"\\n\")>=0&&0,t+e.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60)return r[0]+(\"\"===e?\"\":e+\"\\n \")+\" \"+t.join(\",\\n  \")+\" \"+r[1];return r[0]+e+\" \"+t.join(\", \")+\" \"+r[1]}(c,_,A)):A[0]+_+A[1]}function h(t){return\"[\"+Error.prototype.toString.call(t)+\"]\"}function l(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize(\"[Getter/Setter]\",\"special\"):t.stylize(\"[Getter]\",\"special\"):u.set&&(a=t.stylize(\"[Setter]\",\"special\")),T(n,i)||(s=\"[\"+i+\"]\"),a||(t.seen.indexOf(u.value)<0?(a=y(r)?f(t,u.value,null):f(t,u.value,r-1)).indexOf(\"\\n\")>-1&&(a=o?a.split(\"\\n\").map(function(t){return\"  \"+t}).join(\"\\n\").substr(2):\"\\n\"+a.split(\"\\n\").map(function(t){return\"   \"+t}).join(\"\\n\")):a=t.stylize(\"[Circular]\",\"special\")),b(s)){if(o&&i.match(/^\\d+$/))return a;(s=JSON.stringify(\"\"+i)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,\"name\")):(s=s.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),s=t.stylize(s,\"string\"))}return s+\": \"+a}function p(t){return Array.isArray(t)}function d(t){return\"boolean\"==typeof t}function y(t){return null===t}function m(t){return\"number\"==typeof t}function g(t){return\"string\"==typeof t}function b(t){return void 0===t}function v(t){return _(t)&&\"[object RegExp]\"===E(t)}function _(t){return\"object\"==typeof t&&null!==t}function w(t){return _(t)&&\"[object Date]\"===E(t)}function S(t){return _(t)&&(\"[object Error]\"===E(t)||t instanceof Error)}function k(t){return\"function\"==typeof t}function E(t){return Object.prototype.toString.call(t)}function A(t){return t<10?\"0\"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(b(o)&&(o=n.env.NODE_DEBUG||\"\"),t=t.toUpperCase(),!s[t])if(new RegExp(\"\\\\b\"+t+\"\\\\b\",\"i\").test(o)){var r=n.pid;s[t]=function(){var n=e.format.apply(e,arguments);console.error(\"%s %d: %s\",t,r,n)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},e.isArray=p,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=g,e.isSymbol=function(t){return\"symbol\"==typeof t},e.isUndefined=b,e.isRegExp=v,e.isObject=_,e.isDate=w,e.isError=S,e.isFunction=k,e.isPrimitive=function(t){return null===t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||\"symbol\"==typeof t||void 0===t},e.isBuffer=r(921);var x=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log(\"%s - %s\",function(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(\":\");return[t.getDate(),x[t.getMonth()],e].join(\" \")}(),e.format.apply(e,arguments))},e.inherits=r(1),e._extend=function(t,e){if(!e||!_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,r(5),r(7))},function(t,e,r){var n=r(74);function i(t){return n(\"rmd160\").update(t).digest()}function o(t){return n(\"sha256\").update(t).digest()}t.exports={hash160:function(t){return i(o(t))},hash256:function(t){return o(o(t))},ripemd160:i,sha1:function(t){return n(\"sha1\").update(t).digest()},sha256:o}},function(t,e,r){\"use strict\";(function(e){var n=r(30),i=r(23),o=r(77).curves.secp256k1,s=o.curve.point.bind(o.curve),a=o.curve.pointFromX.bind(o.curve),u=function(t,e,r){var n=s(t,e,r);return n.validate(),n};u.prototype=Object.getPrototypeOf(o.curve.point()),u.fromX=function(t,e){var r=a(t,e);return r.validate(),r},u.getG=function(){return o.curve.g},u.getN=function(){return new n(o.curve.n.toArray())},u.prototype._getX=u.prototype.getX,u.prototype.getX=function(){return new n(this._getX().toArray())},u.prototype._getY=u.prototype.getY,u.prototype.getY=function(){return new n(this._getY().toArray())},u.prototype.validate=function(){if(this.isInfinity())throw new Error(\"Point cannot be equal to Infinity\");if(0===this.getX().cmp(n.Zero)||0===this.getY().cmp(n.Zero))throw new Error(\"Invalid x,y value for curve, cannot equal 0.\");if(0!==a(this.getY().isOdd(),this.getX()).y.cmp(this.y))throw new Error(\"Invalid y value for curve.\");var t=this.getX().gt(n.Minus1)&&this.getX().lt(u.getN()),e=this.getY().gt(n.Minus1)&&this.getY().lt(u.getN());if(!t||!e)throw new Error(\"Point does not lie on the curve\");if(!this.mul(u.getN()).isInfinity())throw new Error(\"Point times N must be infinity\");return this},u.pointToCompressed=function(t){var r,n=t.getX().toBuffer({size:32}),o=t.getY().toBuffer({size:32}),s=o[o.length-1]%2;return r=new e(s?[3]:[2]),i.concat([r,n])},t.exports=u}).call(this,r(0).Buffer)},function(t,e,r){var n=e;n.utils=r(1077),n.common=r(1078),n.sha=r(1079),n.ripemd=r(1080),n.hmac=r(1081),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(117),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){let t=this.toB58String();t.startsWith(\"Qm\")&&(t=t.slice(2));let e=6;return t.length<e&&(e=t.length),\"<peer.ID \"+t.substr(0,e)+\">\"}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(501),i=r(1104),o=r(1106);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(530),e.pbkdf2=r(1145)},function(t,e,r){var n=r(12);r(18);var i=t.exports=n.pem=n.pem||{};function o(t){for(var e=t.name+\": \",r=[],n=function(t,e){return\" \"+e},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\\S+\\r\\n)/,n));e+=r.join(\",\")+\"\\r\\n\";var o=0,s=-1;for(i=0;i<e.length;++i,++o)if(o>65&&-1!==s){var a=e[s];\",\"===a?(++s,e=e.substr(0,s)+\"\\r\\n \"+e.substr(s)):e=e.substr(0,s)+\"\\r\\n\"+a+e.substr(s+1),o=i-s-1,s=-1,++i}else\" \"!==e[i]&&\"\\t\"!==e[i]&&\",\"!==e[i]||(s=i);return e}function s(t){return t.replace(/^\\s+/,\"\")}i.encode=function(t,e){e=e||{};var r,i=\"-----BEGIN \"+t.type+\"-----\\r\\n\";if(t.procType&&(i+=o(r={name:\"Proc-Type\",values:[String(t.procType.version),t.procType.type]})),t.contentDomain&&(i+=o(r={name:\"Content-Domain\",values:[t.contentDomain]})),t.dekInfo&&(r={name:\"DEK-Info\",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&r.values.push(t.dekInfo.parameters),i+=o(r)),t.headers)for(var s=0;s<t.headers.length;++s)i+=o(t.headers[s]);return t.procType&&(i+=\"\\r\\n\"),i+=n.util.encode64(t.body,e.maxline||64)+\"\\r\\n\",i+=\"-----END \"+t.type+\"-----\\r\\n\"},i.decode=function(t){for(var e,r=[],i=/\\s*-----BEGIN ([A-Z0-9- ]+)-----\\r?\\n?([\\x21-\\x7e\\s]+?(?:\\r?\\n\\r?\\n))?([:A-Za-z0-9+\\/=\\s]+?)-----END \\1-----/g,o=/([\\x21-\\x7e]+):\\s*([\\x21-\\x7e\\s^:]+)/,a=/\\r?\\n/;e=i.exec(t);){var u={type:e[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(e[3])};if(r.push(u),e[2]){for(var c=e[2].split(a),f=0;e&&f<c.length;){for(var h=c[f].replace(/\\s+$/,\"\"),l=f+1;l<c.length;++l){var p=c[l];if(!/\\s/.test(p[0]))break;h+=p,f=l}if(e=h.match(o)){for(var d={name:e[1],values:[]},y=e[2].split(\",\"),m=0;m<y.length;++m)d.values.push(s(y[m]));if(u.procType)if(u.contentDomain||\"Content-Domain\"!==d.name)if(u.dekInfo||\"DEK-Info\"!==d.name)u.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The \"DEK-Info\" header must have at least one subfield.');u.dekInfo={algorithm:y[0],parameters:y[1]||null}}else u.contentDomain=y[0]||\"\";else{if(\"Proc-Type\"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be \"Proc-Type\".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The \"Proc-Type\" header must have two subfields.');u.procType={version:y[0],type:y[1]}}}++f}if(\"ENCRYPTED\"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The \"DEK-Info\" header must be present if \"Proc-Type\" is \"ENCRYPTED\".')}}if(0===r.length)throw new Error(\"Invalid PEM formatted message.\");return r}},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1121).define,n.base=r(154),n.constants=r(522),n.decoders=r(1125),n.encoders=r(1127)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1157).define,n.base=r(155),n.constants=r(536),n.decoders=r(1161),n.encoders=r(1163)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1195).define,n.base=r(160),n.constants=r(556),n.decoders=r(1199),n.encoders=r(1201)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1236).define,n.base=r(161),n.constants=r(568),n.decoders=r(1240),n.encoders=r(1242)},function(t,e,r){\"use strict\";const n=r(6);e.logger=((t,e)=>{const r=[\"bitswap\"];e&&r.push(e),t&&r.push(`${t.toB58String().slice(0,8)}`);const i=n(r.join(\":\"));return i.error=n(r.concat([\"error\"]).join(\":\")),i})},function(t,e,r){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+t]=this._callbacks[\"$\"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks[\"$\"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[\"$\"+t];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){(function(t){var n,i=r(1315),o=r(588),s=r(1317),a=r(1318),u=r(1319);t&&t.ArrayBuffer&&(n=r(1320));var c=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),f=\"undefined\"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=c||f;e.protocol=3;var l=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(l),d={type:\"error\",data:\"parser error\"},y=r(1321);function m(t,e,r){for(var n=new Array(t.length),i=a(t.length,r),o=function(t,r,i){e(r,function(e,r){n[t]=r,i(e,n)})},s=0;s<t.length;s++)o(s,t[s],i)}e.encodePacket=function(r,n,i,o){\"function\"==typeof n&&(o=n,n=!1),\"function\"==typeof i&&(o=i,i=null);var s=void 0===r.data?void 0:r.data.buffer||r.data;if(t.ArrayBuffer&&s instanceof ArrayBuffer)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=l[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return n(s.buffer)}(r,n,o);if(y&&s instanceof t.Blob)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(h)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var i=new FileReader;return i.onload=function(){t.data=i.result,e.encodePacket(t,r,!0,n)},i.readAsArrayBuffer(t.data)}(t,r,n);var i=new Uint8Array(1);i[0]=l[t.type];var o=new y([i.buffer,t.data]);return n(o)}(r,n,o);if(s&&s.base64)return function(t,r){var n=\"b\"+e.packets[t.type]+t.data.data;return r(n)}(r,o);var a=l[r.type];return void 0!==r.data&&(a+=i?u.encode(String(r.data),{strict:!1}):String(r.data)),o(\"\"+a)},e.encodeBase64Packet=function(r,n){var i,o=\"b\"+e.packets[r.type];if(y&&r.data instanceof t.Blob){var s=new FileReader;return s.onload=function(){var t=s.result.split(\",\")[1];n(o+t)},s.readAsDataURL(r.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(t){for(var a=new Uint8Array(r.data),u=new Array(a.length),c=0;c<a.length;c++)u[c]=a[c];i=String.fromCharCode.apply(null,u)}return o+=t.btoa(i),n(o)},e.decodePacket=function(t,r,n){if(void 0===t)return d;if(\"string\"==typeof t){if(\"b\"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&!1===(t=function(t){try{t=u.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var i=t.charAt(0);return Number(i)==i&&p[i]?t.length>1?{type:p[i],data:t.substring(1)}:{type:p[i]}:d}i=new Uint8Array(t)[0];var o=s(t,1);return y&&\"blob\"===r&&(o=new y([o])),{type:p[i],data:o}},e.decodeBase64Packet=function(t,e){var r=p[t.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:t.substr(1)}};var i=n.decode(t.substr(1));return\"blob\"===e&&y&&(i=new y([i])),{type:r,data:i}},e.encodePayload=function(t,r,n){\"function\"==typeof r&&(n=r,r=null);var i=o(t);if(r&&i)return y&&!h?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n);if(!t.length)return n(\"0:\");m(t,function(t,n){e.encodePacket(t,!!i&&r,!1,function(t){n(null,function(t){return t.length+\":\"+t}(t))})},function(t,e){return n(e.join(\"\"))})},e.decodePayload=function(t,r,n){if(\"string\"!=typeof t)return e.decodePayloadAsBinary(t,r,n);var i;if(\"function\"==typeof r&&(n=r,r=null),\"\"===t)return n(d,0,1);for(var o,s,a=\"\",u=0,c=t.length;u<c;u++){var f=t.charAt(u);if(\":\"===f){if(\"\"===a||a!=(o=Number(a)))return n(d,0,1);if(a!=(s=t.substr(u+1,o)).length)return n(d,0,1);if(s.length){if(i=e.decodePacket(s,r,!1),d.type===i.type&&d.data===i.data)return n(d,0,1);if(!1===n(i,u+o,c))return}u+=o,a=\"\"}else a+=f}return\"\"!==a?n(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){if(!t.length)return r(new ArrayBuffer(0));m(t,function(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})},function(t,e){var n=e.reduce(function(t,e){var r;return t+(r=\"string\"==typeof e?e.length:e.byteLength).toString().length+r+2},0),i=new Uint8Array(n),o=0;return e.forEach(function(t){var e=\"string\"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}i[o++]=e?0:1;var a=r.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(n=new Uint8Array(r),s=0;s<n.length;s++)i[o++]=n[s]}),r(i.buffer)})},e.encodePayloadAsBlob=function(t,r){m(t,function(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,\"string\"==typeof t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);t=n.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,y){var a=new y([e.buffer,s.buffer,t]);r(null,a)}})},function(t,e){return r(new y(e))})},e.decodePayloadAsBinary=function(t,r,n){\"function\"==typeof r&&(n=r,r=null);for(var i=t,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),u=0===a[0],c=\"\",f=1;255!==a[f];f++){if(c.length>310)return n(d,0,1);c+=a[f]}i=s(i,2+c.length),c=parseInt(c);var h=s(i,0,c);if(u)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var l=new Uint8Array(h);h=\"\";for(f=0;f<l.length;f++)h+=String.fromCharCode(l[f])}o.push(h),i=s(i,c)}var p=o.length;o.forEach(function(t,i){n(e.decodePacket(t,r,!0),i,p)})}}).call(this,r(5))},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1340).define,n.base=r(162),n.constants=r(598),n.decoders=r(1344),n.encoders=r(1346)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1368).define,n.base=r(163),n.constants=r(610),n.decoders=r(1372),n.encoders=r(1374)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1407).define,n.base=r(165),n.constants=r(623),n.decoders=r(1411),n.encoders=r(1413)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1439).define,n.base=r(167),n.constants=r(633),n.decoders=r(1443),n.encoders=r(1445)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1474).define,n.base=r(168),n.constants=r(643),n.decoders=r(1478),n.encoders=r(1480)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1509).define,n.base=r(171),n.constants=r(659),n.decoders=r(1513),n.encoders=r(1515)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1558).define,n.base=r(173),n.constants=r(673),n.decoders=r(1562),n.encoders=r(1564)},function(t,e,r){\"use strict\";const n=e;n.bignum=r(16),n.define=r(1644).define,n.base=r(174),n.constants=r(687),n.decoders=r(1648),n.encoders=r(1650)},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):\"[object Array]\"===r(t)},e.isBoolean=function(t){return\"boolean\"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return\"number\"==typeof t},e.isString=function(t){return\"string\"==typeof t},e.isSymbol=function(t){return\"symbol\"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return\"[object RegExp]\"===r(t)},e.isObject=function(t){return\"object\"==typeof t&&null!==t},e.isDate=function(t){return\"[object Date]\"===r(t)},e.isError=function(t){return\"[object Error]\"===r(t)||t instanceof Error},e.isFunction=function(t){return\"function\"==typeof t},e.isPrimitive=function(t){return null===t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||\"symbol\"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(1),i=r(780),o=r(87),s=r(3).Buffer,a=r(384),u=r(238),c=r(239),f=s.alloc(128);function h(t,e){o.call(this,\"digest\"),\"string\"==typeof e&&(e=s.from(e));var r=\"sha512\"===t||\"sha384\"===t?128:64;(this._alg=t,this._key=e,e.length>r)?e=(\"rmd160\"===t?new u:c(t)).update(e).digest():e.length<r&&(e=s.concat([e,f],r));for(var n=this._ipad=s.allocUnsafe(r),i=this._opad=s.allocUnsafe(r),a=0;a<r;a++)n[a]=54^e[a],i[a]=92^e[a];this._hash=\"rmd160\"===t?new u:c(t),this._hash.update(n)}n(h,o),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){var t=this._hash.digest();return(\"rmd160\"===this._alg?new u:c(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return\"rmd160\"===(t=t.toLowerCase())||\"ripemd160\"===t?new h(\"rmd160\",e):\"md5\"===t?new i(a,e):new h(t,e)}},function(t,e,r){(function(e){t.exports=function(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),o=0;o<n;++o)i[o]=t[o]^r[o];return i}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(75),i=r(24);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian=\"big\",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,\"big\"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},function(t,e,r){var n=e;n.bignum=r(16),n.define=r(829).define,n.base=r(139),n.constants=r(402),n.decoders=r(833),n.encoders=r(835)},function(t,e,r){var n=e;n.Reporter=r(830).Reporter,n.DecoderBuffer=r(401).DecoderBuffer,n.EncoderBuffer=r(401).EncoderBuffer,n.Node=r(831)},function(t,e,r){\"use strict\";t.exports=function(t,e){var r,n;function i(o){if(r=o,n)return i.abort();!function i(){for(var o=!0,s=!1;o;)if(s=!1,r(null,function(a,u){if(s=!0,a=a||n){if(o=!1,e)e(!0===a?null:a);else if(a&&!0!==a)throw a}else t&&!1===t(u)||n?(o=!1,r(n||!0,e||function(){})):o||i()}),!s)return void(o=!1)}()}return i.abort=function(t,e){if(\"function\"==typeof t&&(e=t,t=!0),n=t||!0,r)return r(n,e||function(){})},i}},function(t,e){t.exports=function(t){return t&&(\"string\"==typeof t?function(e){return e[t]}:\"object\"==typeof t&&\"function\"==typeof t.exec?function(e){var r=t.exec(e);return r&&r[0]}:t)}},function(t,e,r){\"use strict\";var n=r(423);t.exports=function(t){return t=n(t),function(e){return function r(n,i){for(var o,s=!0;s;)s=!1,o=!0,e(n,function(e,n){if(!e&&!t(n))return o?s=!0:r(e,i);i(e,n)}),o=!1}}}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];\".\"===i?t.splice(n,1):\"..\"===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift(\"..\");return t}var n=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e=\"\",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if(\"string\"!=typeof s)throw new TypeError(\"Arguments to path.resolve must be strings\");s&&(e=s+\"/\"+e,n=\"/\"===s.charAt(0))}return e=r(o(e.split(\"/\"),function(t){return!!t}),!n).join(\"/\"),(n?\"/\":\"\")+e||\".\"},e.normalize=function(t){var n=e.isAbsolute(t),i=\"/\"===s(t,-1);return(t=r(o(t.split(\"/\"),function(t){return!!t}),!n).join(\"/\"))||n||(t=\".\"),t&&i&&(t+=\"/\"),(n?\"/\":\"\")+t},e.isAbsolute=function(t){return\"/\"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"Arguments to path.join must be strings\");return t}).join(\"/\"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&\"\"===t[e];e++);for(var r=t.length-1;r>=0&&\"\"===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split(\"/\")),o=n(r.split(\"/\")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push(\"..\");return(c=c.concat(o.slice(a))).join(\"/\")},e.sep=\"/\",e.delimiter=\":\",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):\".\"},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s=\"b\"===\"ab\".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(7))},function(t,e){t.exports={bitcoin:{messagePrefix:\"\u0018Bitcoin Signed Message:\\n\",bech32:\"bc\",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},testnet:{messagePrefix:\"\u0018Bitcoin Signed Message:\\n\",bech32:\"tb\",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},litecoin:{messagePrefix:\"\u0019Litecoin Signed Message:\\n\",bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176}}},function(t,e,r){const n=r(15),i=r(3).Buffer;function o(t,e){if(\"00\"===t.slice(0,2))throw new Error(\"invalid RLP: extra zeros\");return parseInt(t,e)}function s(t,e){if(t<56)return i.from([t+e]);var r=u(t),n=u(e+55+r.length/2);return i.from(n+r,\"hex\")}function a(t){return\"0x\"===t.slice(0,2)}function u(t){var e=t.toString(16);return e.length%2&&(e=\"0\"+e),e}function c(t){if(!i.isBuffer(t))if(\"string\"==typeof t)t=a(t)?i.from(function(t){return t.length%2&&(t=\"0\"+t),t}(function(t){return\"string\"!=typeof t?t:a(t)?t.slice(2):t}(t)),\"hex\"):i.from(t);else if(\"number\"==typeof t)t=t?function(t){var e=u(t);return i.from(e,\"hex\")}(t):i.from([]);else if(null===t||void 0===t)t=i.from([]);else{if(!t.toArray)throw new Error(\"invalid type\");t=i.from(t.toArray())}return t}e.encode=function(t){if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.encode(t[n]));var o=i.concat(r);return i.concat([s(o.length,192),o])}return 1===(t=c(t)).length&&t[0]<128?t:i.concat([s(t.length,128),t])},e.decode=function(t,e){if(!t||0===t.length)return i.from([]);var r=function t(e){var r,n,s,a,u;var c=[];var f=e[0];if(f<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(f<=183){if(r=f-127,s=128===f?i.from([]):e.slice(1,r),2===r&&s[0]<128)throw new Error(\"invalid rlp encoding: byte must be less 0x80\");return{data:s,remainder:e.slice(r)}}if(f<=191){if(n=f-182,r=o(e.slice(1,n).toString(\"hex\"),16),(s=e.slice(n,r+n)).length<r)throw new Error(\"invalid RLP\");return{data:s,remainder:e.slice(r+n)}}if(f<=247){for(r=f-191,a=e.slice(1,r);a.length;)u=t(a),c.push(u.data),a=u.remainder;return{data:c,remainder:e.slice(r)}}n=f-246,r=o(e.slice(1,n).toString(\"hex\"),16);var h=n+r;if(h>e.length)throw new Error(\"invalid rlp: total length is larger than the data\");if(0===(a=e.slice(n,h)).length)throw new Error(\"invalid rlp, List has a invalid length\");for(;a.length;)u=t(a),c.push(u.data),a=u.remainder;return{data:c,remainder:e.slice(h)}}(t=c(t));return e?r:(n.equal(r.remainder.length,0,\"invalid remainder\"),r.data)},e.getLength=function(t){if(!t||0===t.length)return i.from([]);var e=(t=c(t))[0];if(e<=127)return t.length;if(e<=183)return e-127;if(e<=191)return e-182;if(e<=247)return e-191;var r=e-246;return r+o(t.slice(1,r).toString(\"hex\"),16)}},function(t,e,r){\"use strict\";const n=r(13),i=r(10);t.exports=function(t,e,r){const o=(r=r||{}).hashAlg||\"keccak-256\",s=void 0===r.version?1:r.version,a=i.encode(e,o);return new n(s,t,a)}},function(t,e,r){\"use strict\";const n=r(4),i=r(486),o=r(487);t.exports=function(t,e,r){const s=o(t,e);return{resolver:{multicodec:t,defaultHashAlg:\"keccak-256\",resolve:u,tree:function(t,e,r){\"function\"==typeof e&&(r=e,e=void 0);e||(e={});n([e=>s.deserialize(t,e),(t,r)=>a(t,e,r)],r)},isLink:i(u),_resolveFromEthObject:c,_treeFromEthObject:a,_mapFromEthObject:r},util:s};function a(t,e,i){n([n=>r(t,e,n),(t,e)=>e(null,t.map(t=>t.path))],i)}function u(t,e,r){n([e=>s.deserialize(t,e),(t,r)=>c(t,e,r)],r)}function c(t,e,n){if(!e||\"/\"===e){const e={value:t,remainderPath:\"\"};return n(null,e)}r(t,{},(t,r)=>{if(t)return n(t);const i=e.split(\"/\");let o=r.filter(t=>t.path===e.slice(0,t.path.length));const s=(o=o.filter(t=>t.path.split(\"/\").every((t,e)=>t===i[e]))).sort((t,e)=>t.path.length<e.path.length),a=s[0];if(!a){let t=new Error('Path not found (\"'+e+'\").');return n(t)}const u=e.slice(a.path.length+1),c={value:a.value,remainderPath:u};return n(null,c)})}}},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(208),o=r(0),s=r(45).sha256sha256,a=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r)){var n=r;this.fromBuffer(n)}else if(\"string\"==typeof r){var i=r;this.fromString(i)}else r&&this.set(r)};a.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this},a.validChecksum=function(t,e){return n.isString(t)&&(t=new o.Buffer(i.decode(t))),n.isString(e)&&(e=new o.Buffer(i.decode(e))),e||(e=t.slice(-4),t=t.slice(0,-4)),a.checksum(t).toString(\"hex\")===e.toString(\"hex\")},a.decode=function(t){if(\"string\"!=typeof t)throw new Error(\"Input must be a string\");var r=new e(i.decode(t));if(r.length<4)throw new Error(\"Input string too short\");var n=r.slice(0,-4),o=r.slice(-4),a=s(n).slice(0,4);if(o.toString(\"hex\")!==a.toString(\"hex\"))throw new Error(\"Checksum mismatch\");return n},a.checksum=function(t){return s(t).slice(0,4)},a.encode=function(t){if(!e.isBuffer(t))throw new Error(\"Input must be a buffer\");var r=new e(t.length+4),n=a.checksum(t);return t.copy(r),n.copy(r,t.length),i.encode(r)},a.prototype.fromBuffer=function(t){return this.buf=t,this},a.prototype.fromString=function(t){var e=a.decode(t);return this.buf=e,this},a.prototype.toBuffer=function(){return this.buf},a.prototype.toString=function(){return a.encode(this.buf)},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(17),i=r(21),o=r(68),s=r(59),a=r(0),u=r(23),c=r(28),f=r(70),h=r(90),l=r(91);function p(t){return this instanceof p?t?this._fromObject(t):void 0:new p(t)}p.MAXINT=4294967295,p.DEFAULT_SEQNUMBER=4294967295,p.DEFAULT_LOCKTIME_SEQNUMBER=4294967294,p.DEFAULT_RBF_SEQNUMBER=4294967293,Object.defineProperty(p.prototype,\"script\",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new f(this._scriptBuffer),this._script._isInput=!0),this._script)}}),p.fromObject=function(t){return i.checkArgument(n.isObject(t)),(new p)._fromObject(t)},p.prototype._fromObject=function(t){var e;if(e=n.isString(t.prevTxId)&&c.isHexa(t.prevTxId)?new a.Buffer(t.prevTxId,\"hex\"):t.prevTxId,this.output=t.output?t.output instanceof l?t.output:new l(t.output):void 0,this.prevTxId=e||t.txidbuf,this.outputIndex=n.isUndefined(t.outputIndex)?t.txoutnum:t.outputIndex,this.sequenceNumber=n.isUndefined(t.sequenceNumber)?n.isUndefined(t.seqnum)?4294967295:t.seqnum:t.sequenceNumber,n.isUndefined(t.script)&&n.isUndefined(t.scriptBuffer))throw new o.Transaction.Input.MissingScript;return this.setScript(t.scriptBuffer||t.script),this},p.prototype.toObject=p.prototype.toJSON=function(){var t={prevTxId:this.prevTxId.toString(\"hex\"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString(\"hex\")};return this.script&&(t.scriptString=this.script.toString()),this.output&&(t.output=this.output.toObject()),t},p.fromBufferReader=function(t){var e=new p;return e.prevTxId=t.readReverse(32),e.outputIndex=t.readUInt32LE(),e._scriptBuffer=t.readVarLengthBuffer(),e.sequenceNumber=t.readUInt32LE(),e},p.prototype.toBufferWriter=function(t){t||(t=new s),t.writeReverse(this.prevTxId),t.writeUInt32LE(this.outputIndex);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t.writeUInt32LE(this.sequenceNumber),t},p.prototype.setScript=function(t){if(this._script=null,t instanceof f)this._script=t,this._script._isInput=!0,this._scriptBuffer=t.toBuffer();else if(c.isHexa(t))this._scriptBuffer=new a.Buffer(t,\"hex\");else if(n.isString(t))this._script=new f(t),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else{if(!u.isBuffer(t))throw new TypeError(\"Invalid argument type: script\");this._scriptBuffer=new a.Buffer(t)}return this},p.prototype.getSignatures=function(){throw new o.AbstractMethodInvoked(\"Trying to sign unsupported output type (only P2PKH and P2SH multisig inputs are supported) for input: \"+JSON.stringify(this))},p.prototype.isFullySigned=function(){throw new o.AbstractMethodInvoked(\"Input#isFullySigned\")},p.prototype.isFinal=function(){return 4294967295!==this.sequenceNumber},p.prototype.addSignature=function(){throw new o.AbstractMethodInvoked(\"Input#addSignature\")},p.prototype.clearSignatures=function(){throw new o.AbstractMethodInvoked(\"Input#clearSignatures\")},p.prototype.isValidSignature=function(t,e){return e.signature.nhashtype=e.sigtype,h.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)},p.prototype.isNull=function(){return\"0000000000000000000000000000000000000000000000000000000000000000\"===this.prevTxId.toString(\"hex\")&&4294967295===this.outputIndex},p.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},t.exports=p},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(21),o=r(81),s=r(23),a=r(28),u=r(78),c=r(68),f=r(69);function h(t){if(!(this instanceof h))return new h(t);if(t instanceof h)return t;if(n.isObject(t))return this._fromObject(t);throw new c.InvalidArgument(\"TransactionSignatures must be instantiated from an object\")}o(h,f),h.prototype._fromObject=function(t){return this._checkObjectArgs(t),this.publicKey=new u(t.publicKey),this.prevTxId=s.isBuffer(t.prevTxId)?t.prevTxId:new e(t.prevTxId,\"hex\"),this.outputIndex=t.outputIndex,this.inputIndex=t.inputIndex,this.signature=t.signature instanceof f?t.signature:s.isBuffer(t.signature)?f.fromBuffer(t.signature):f.fromString(t.signature),this.sigtype=t.sigtype,this},h.prototype._checkObjectArgs=function(t){i.checkArgument(u(t.publicKey),\"publicKey\"),i.checkArgument(!n.isUndefined(t.inputIndex),\"inputIndex\"),i.checkArgument(!n.isUndefined(t.outputIndex),\"outputIndex\"),i.checkState(n.isNumber(t.inputIndex),\"inputIndex must be a number\"),i.checkState(n.isNumber(t.outputIndex),\"outputIndex must be a number\"),i.checkArgument(t.signature,\"signature\"),i.checkArgument(t.prevTxId,\"prevTxId\"),i.checkState(t.signature instanceof f||s.isBuffer(t.signature)||a.isHexa(t.signature),\"signature must be a buffer or hexa value\"),i.checkState(s.isBuffer(t.prevTxId)||a.isHexa(t.prevTxId),\"prevTxId must be a buffer or hexa value\"),i.checkArgument(t.sigtype,\"sigtype\"),i.checkState(n.isNumber(t.sigtype),\"sigtype must be a number\")},h.prototype.toObject=h.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString(\"hex\"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},h.fromObject=function(t){return i.checkArgument(t),new h(t)},t.exports=h}).call(this,r(0).Buffer)},function(t,e,r){var n=r(12);r(83),r(18),(t.exports=n.hmac=n.hmac||{}).create=function(){var t=null,e=null,r=null,i=null,o={start:function(o,s){if(null!==o)if(\"string\"==typeof o){if(!((o=o.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm \"'+o+'\"');e=n.md.algorithms[o].create()}else e=o;if(null===s)s=t;else{if(\"string\"==typeof s)s=n.util.createBuffer(s);else if(n.util.isArray(s)){var a=s;s=n.util.createBuffer();for(var u=0;u<a.length;++u)s.putByte(a[u])}var c=s.length();c>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),c=s.length();for(u=0;u<c;++u){a=s.at(u);r.putByte(54^a),i.putByte(92^a)}if(c<e.blockLength)for(a=e.blockLength-c,u=0;u<a;++u)r.putByte(54),i.putByte(92);t=s,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},update:function(t){e.update(t)},getMac:function(){var t=e.digest().bytes();return e.start(),e.update(i),e.update(t),e.digest()}};return o.digest=o.getMac,o}},function(t,e,r){var n=r(12);r(83),r(18);var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=!0);var t=null,e=n.util.createBuffer(),r=new Array(80),i={algorithm:\"sha1\",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,s){\"utf8\"===s&&(o=n.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return e.putBytes(o),a(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(e.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)f+=(u=8*i.fullMessageLength[h+1])/4294967296>>>0,s.putInt32(f>>>0),f=u>>>0;s.putInt32(f);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};a(l,r,s);var p=n.util.createBuffer();return p.putInt32(l.h0),p.putInt32(l.h1),p.putInt32(l.h2),p.putInt32(l.h3),p.putInt32(l.h4),p},i};var o=null,s=!1;function a(t,e,r){for(var n,i,o,s,a,u,c,f=r.length();f>=64;){for(i=t.h0,o=t.h1,s=t.h2,a=t.h3,u=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<20;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<32;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(o^s^a)+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<40;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o^s^a)+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<60;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o&s|a&(o^s))+u+2400959708+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<80;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o^s^a)+u+3395469782+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+s|0,t.h3=t.h3+a|0,t.h4=t.h4+u|0,f-=64}}},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1122).Reporter,n.DecoderBuffer=r(521).DecoderBuffer,n.EncoderBuffer=r(521).EncoderBuffer,n.Node=r(1123)},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1158).Reporter,n.DecoderBuffer=r(535).DecoderBuffer,n.EncoderBuffer=r(535).EncoderBuffer,n.Node=r(1159)},function(t,e,r){(function(t,r){var n=200,i=\"Expected a function\",o=\"__lodash_hash_undefined__\",s=1,a=2,u=1/0,c=9007199254740991,f=\"[object Arguments]\",h=\"[object Array]\",l=\"[object Boolean]\",p=\"[object Date]\",d=\"[object Error]\",y=\"[object Function]\",m=\"[object GeneratorFunction]\",g=\"[object Map]\",b=\"[object Number]\",v=\"[object Object]\",_=\"[object RegExp]\",w=\"[object Set]\",S=\"[object String]\",k=\"[object Symbol]\",E=\"[object ArrayBuffer]\",A=\"[object DataView]\",x=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,T=/^\\w*$/,B=/^\\./,I=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,C=/\\\\(\\\\)?/g,M=/^\\[object .+?Constructor\\]$/,P=/^(?:0|[1-9]\\d*)$/,O={};O[\"[object Float32Array]\"]=O[\"[object Float64Array]\"]=O[\"[object Int8Array]\"]=O[\"[object Int16Array]\"]=O[\"[object Int32Array]\"]=O[\"[object Uint8Array]\"]=O[\"[object Uint8ClampedArray]\"]=O[\"[object Uint16Array]\"]=O[\"[object Uint32Array]\"]=!0,O[f]=O[h]=O[E]=O[l]=O[A]=O[p]=O[d]=O[y]=O[g]=O[b]=O[v]=O[_]=O[w]=O[S]=O[\"[object WeakMap]\"]=!1;var R=\"object\"==typeof t&&t&&t.Object===Object&&t,j=\"object\"==typeof self&&self&&self.Object===Object&&self,N=R||j||Function(\"return this\")(),L=\"object\"==typeof e&&e&&!e.nodeType&&e,K=L&&\"object\"==typeof r&&r&&!r.nodeType&&r,D=K&&K.exports===L&&R.process,U=function(){try{return D&&D.binding(\"util\")}catch(t){}}(),F=U&&U.isTypedArray;function q(t,e){for(var r=-1,n=t?t.length:0,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function H(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function G(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var W=Array.prototype,$=Function.prototype,Y=Object.prototype,J=N[\"__core-js_shared__\"],Z=function(){var t=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),X=$.toString,Q=Y.hasOwnProperty,tt=Y.toString,et=RegExp(\"^\"+X.call(Q).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),rt=N.Symbol,nt=N.Uint8Array,it=Y.propertyIsEnumerable,ot=W.splice,st=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),at=Ut(N,\"DataView\"),ut=Ut(N,\"Map\"),ct=Ut(N,\"Promise\"),ft=Ut(N,\"Set\"),ht=Ut(N,\"WeakMap\"),lt=Ut(Object,\"create\"),pt=$t(at),dt=$t(ut),yt=$t(ct),mt=$t(ft),gt=$t(ht),bt=rt?rt.prototype:void 0,vt=bt?bt.valueOf:void 0,_t=bt?bt.toString:void 0;function wt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.__data__=new kt;++e<r;)this.add(t[e])}function At(t){this.__data__=new St(t)}function xt(t,e){var r=Xt(t)||Zt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!Q.call(t,o)||i&&(\"length\"==o||qt(o,n))||r.push(o);return r}function Tt(t,e){for(var r=t.length;r--;)if(Jt(t[r][0],e))return r;return-1}wt.prototype.clear=function(){this.__data__=lt?lt(null):{}},wt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},wt.prototype.get=function(t){var e=this.__data__;if(lt){var r=e[t];return r===o?void 0:r}return Q.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return lt?void 0!==e[t]:Q.call(e,t)},wt.prototype.set=function(t,e){return this.__data__[t]=lt&&void 0===e?o:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ot.call(e,r,1),0))},St.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return Tt(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new wt,map:new(ut||St),string:new wt}},kt.prototype.delete=function(t){return Dt(this,t).delete(t)},kt.prototype.get=function(t){return Dt(this,t).get(t)},kt.prototype.has=function(t){return Dt(this,t).has(t)},kt.prototype.set=function(t,e){return Dt(this,t).set(t,e),this},Et.prototype.add=Et.prototype.push=function(t){return this.__data__.set(t,o),this},Et.prototype.has=function(t){return this.__data__.has(t)},At.prototype.clear=function(){this.__data__=new St},At.prototype.delete=function(t){return this.__data__.delete(t)},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var i=r.__data__;if(!ut||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new kt(i)}return r.set(t,e),this};var Bt=function(t,e){return function(r,n){if(null==r)return r;if(!Qt(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Object(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}(function(t,e){return t&&Ct(t,e,se)});function It(t,e){var r=[];return Bt(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}var Ct=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function Mt(t,e){for(var r=0,n=(e=Ht(e,t)?[e]:Lt(e)).length;null!=t&&r<n;)t=t[Wt(e[r++])];return r&&r==n?t:void 0}function Pt(t,e){return null!=t&&e in Object(t)}function Ot(t,e,r,n,i){return t===e||(null==t||null==e||!re(t)&&!ne(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=Xt(t),c=Xt(e),y=h,m=h;u||(y=(y=Ft(t))==f?v:y);c||(m=(m=Ft(e))==f?v:m);var x=y==v&&!z(t),T=m==v&&!z(e),B=y==m;if(B&&!x)return o||(o=new At),u||oe(t)?Kt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!n(new nt(t),new nt(e)));case l:case p:case b:return Jt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+\"\";case g:var c=V;case w:var f=o&a;if(c||(c=G),t.size!=e.size&&!f)return!1;var h=u.get(t);if(h)return h==e;o|=s,u.set(t,e);var y=Kt(c(t),c(e),n,i,o,u);return u.delete(t),y;case k:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,y,r,n,i,o);if(!(i&a)){var I=x&&Q.call(t,\"__wrapped__\"),C=T&&Q.call(e,\"__wrapped__\");if(I||C){var M=I?t.value():t,P=C?e.value():e;return o||(o=new At),r(M,P,n,i,o)}}if(!B)return!1;return o||(o=new At),function(t,e,r,n,i,o){var s=i&a,u=se(t),c=u.length,f=se(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var l=u[h];if(!(s?l in e:Q.call(e,l)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var y=s;++h<c;){l=u[h];var m=t[l],g=e[l];if(n)var b=s?n(g,m,l,e,t,o):n(m,g,l,t,e,o);if(!(void 0===b?m===g||r(m,g,n,i,o):b)){d=!1;break}y||(y=\"constructor\"==l)}if(d&&!y){var v=t.constructor,_=e.constructor;v!=_&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof v&&v instanceof v&&\"function\"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Ot,r,n,i))}function Rt(t){return!(!re(t)||function(t){return!!Z&&Z in t}(t))&&(te(t)||z(t)?et:M).test($t(t))}function jt(t){return\"function\"==typeof t?t:null==t?ae:\"object\"==typeof t?Xt(t)?function(t,e){if(Ht(t)&&zt(e))return Vt(Wt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Mt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Ht(e,t)?[e]:Lt(e)).length;for(;++i<o;){var s=Wt(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&ee(o)&&qt(s,o)&&(Xt(t)||Zt(t))}(t,e,Pt)}(r,t):Ot(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=se(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,zt(i)]}return e}(t);if(1==e.length&&e[0][2])return Vt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],h=t[f],l=c[1];if(u&&c[2]){if(void 0===h&&!(f in t))return!1}else{var p=new At;if(n)var d=n(h,l,f,t,e,p);if(!(void 0===d?Ot(l,h,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):function(t){return Ht(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Wt(t)):function(t){return function(e){return Mt(e,t)}}(t)}(t)}function Nt(t){if(!function(t){var e=t&&t.constructor,r=\"function\"==typeof e&&e.prototype||Y;return t===r}(t))return st(t);var e=[];for(var r in Object(t))Q.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function Lt(t){return Xt(t)?t:Gt(t)}function Kt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var l=-1,p=!0,d=i&s?new Et:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var y=t[l],m=e[l];if(n)var g=u?n(m,y,l,e,t,o):n(y,m,l,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!H(e,function(t,e){if(!d.has(e)&&(y===t||r(y,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(y!==m&&!r(y,m,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Dt(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function Ut(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(r)?r:void 0}var Ft=function(t){return tt.call(t)};function qt(t,e){return!!(e=null==e?c:e)&&(\"number\"==typeof t||P.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t,e){if(Xt(t))return!1;var r=typeof t;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=t&&!ie(t))||(T.test(t)||!x.test(t)||null!=e&&t in Object(e))}function zt(t){return t==t&&!re(t)}function Vt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(at&&Ft(new at(new ArrayBuffer(1)))!=A||ut&&Ft(new ut)!=g||ct&&\"[object Promise]\"!=Ft(ct.resolve())||ft&&Ft(new ft)!=w||ht&&\"[object WeakMap]\"!=Ft(new ht))&&(Ft=function(t){var e=tt.call(t),r=e==v?t.constructor:void 0,n=r?$t(r):void 0;if(n)switch(n){case pt:return A;case dt:return g;case yt:return\"[object Promise]\";case mt:return w;case gt:return\"[object WeakMap]\"}return e});var Gt=Yt(function(t){t=function(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(ie(t))return _t?_t.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}(t)}(t);var e=[];return B.test(t)&&e.push(\"\"),t.replace(I,function(t,r,n,i){e.push(n?i.replace(C,\"$1\"):r||t)}),e});function Wt(t){if(\"string\"==typeof t||ie(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}function $t(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}function Yt(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Yt.Cache||kt),r}function Jt(t,e){return t===e||t!=t&&e!=e}function Zt(t){return function(t){return ne(t)&&Qt(t)}(t)&&Q.call(t,\"callee\")&&(!it.call(t,\"callee\")||tt.call(t)==f)}Yt.Cache=kt;var Xt=Array.isArray;function Qt(t){return null!=t&&ee(t.length)&&!te(t)}function te(t){var e=re(t)?tt.call(t):\"\";return e==y||e==m}function ee(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=c}function re(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function ne(t){return!!t&&\"object\"==typeof t}function ie(t){return\"symbol\"==typeof t||ne(t)&&tt.call(t)==k}var oe=F?function(t){return function(e){return t(e)}}(F):function(t){return ne(t)&&ee(t.length)&&!!O[tt.call(t)]};function se(t){return Qt(t)?xt(t):Nt(t)}function ae(t){return t}r.exports=function(t,e){return(Xt(t)?q:It)(t,jt(e))}}).call(this,r(5),r(26)(t))},function(t,e,r){\"use strict\";var n=e,i=r(0).Buffer,o=r(234);n.toBuffer=function(t,e,r){var n;if(r=~~r,this.isV4Format(t))n=e||new i(r+4),t.split(/\\./g).map(function(t){n[r++]=255&parseInt(t,10)});else if(this.isV6Format(t)){var o,s=t.split(\":\",8);for(o=0;o<s.length;o++){var a;this.isV4Format(s[o])&&(a=this.toBuffer(s[o]),s[o]=a.slice(0,2).toString(\"hex\")),a&&++o<8&&s.splice(o,0,a.slice(2,4).toString(\"hex\"))}if(\"\"===s[0])for(;s.length<8;)s.unshift(\"0\");else if(\"\"===s[s.length-1])for(;s.length<8;)s.push(\"0\");else if(s.length<8){for(o=0;o<s.length&&\"\"!==s[o];o++);var u=[o,1];for(o=9-s.length;o>0;o--)u.push(\"0\");s.splice.apply(s,u)}for(n=e||new i(r+16),o=0;o<s.length;o++){var c=parseInt(s[o],16);n[r++]=c>>8&255,n[r++]=255&c}}if(!n)throw Error(\"Invalid ip address: \"+t);return n},n.toString=function(t,e,r){e=~~e;var n=[];if(4===(r=r||t.length-e)){for(var i=0;i<r;i++)n.push(t[e+i]);n=n.join(\".\")}else if(16===r){for(i=0;i<r;i+=2)n.push(t.readUInt16BE(e+i).toString(16));n=(n=(n=n.join(\":\")).replace(/(^|:)0(:0)*:0(:|$)/,\"$1::$3\")).replace(/:{3,4}/,\"::\")}return n};var s=/^(\\d{1,3}\\.){3,3}\\d{1,3}$/,a=/^(::)?(((\\d{1,3}\\.){3}(\\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function u(t){return t?t.toLowerCase():\"ipv4\"}n.isV4Format=function(t){return s.test(t)},n.isV6Format=function(t){return a.test(t)},n.fromPrefixLen=function(t,e){var r=4;\"ipv6\"===(e=t>32?\"ipv6\":u(e))&&(r=16);for(var o=new i(r),s=0,a=o.length;s<a;++s){var c=8;t<8&&(c=t),t-=c,o[s]=255&~(255>>c)}return n.toString(o)},n.mask=function(t,e){t=n.toBuffer(t),e=n.toBuffer(e);var r=new i(Math.max(t.length,e.length)),o=0;if(t.length===e.length)for(o=0;o<t.length;o++)r[o]=t[o]&e[o];else if(4===e.length)for(o=0;o<e.length;o++)r[o]=t[t.length-4+o]&e[o];else{for(o=0;o<r.length-6;o++)r[o]=0;for(r[10]=255,r[11]=255,o=0;o<t.length;o++)r[o+12]=t[o]&e[o+12];o+=12}for(;o<r.length;o++)r[o]=0;return n.toString(r)},n.cidr=function(t){var e=t.split(\"/\"),r=e[0];if(2!==e.length)throw new Error(\"invalid CIDR subnet: \"+r);var i=n.fromPrefixLen(parseInt(e[1],10));return n.mask(r,i)},n.subnet=function(t,e){for(var r=n.toLong(n.mask(t,e)),i=n.toBuffer(e),o=0,s=0;s<i.length;s++)if(255===i[s])o+=8;else for(var a=255&i[s];a;)a=a<<1&255,o++;var u=Math.pow(2,32-o);return{networkAddress:n.fromLong(r),firstAddress:u<=2?n.fromLong(r):n.fromLong(r+1),lastAddress:u<=2?n.fromLong(r+u-1):n.fromLong(r+u-2),broadcastAddress:n.fromLong(r+u-1),subnetMask:e,subnetMaskLength:o,numHosts:u<=2?u:u-2,length:u,contains:function(t){return r===n.toLong(n.mask(t,e))}}},n.cidrSubnet=function(t){var e=t.split(\"/\"),r=e[0];if(2!==e.length)throw new Error(\"invalid CIDR subnet: \"+r);var i=n.fromPrefixLen(parseInt(e[1],10));return n.subnet(r,i)},n.not=function(t){for(var e=n.toBuffer(t),r=0;r<e.length;r++)e[r]=255^e[r];return n.toString(e)},n.or=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;++r)t[r]|=e[r];return n.toString(t)}var i=t,o=e;e.length>t.length&&(i=e,o=t);var s=i.length-o.length;for(r=s;r<i.length;++r)i[r]|=o[r-s];return n.toString(i)},n.isEqual=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if(4===e.length){var i=e;e=t,t=i}for(r=0;r<10;r++)if(0!==e[r])return!1;var o=e.readUInt16BE(10);if(0!==o&&65535!==o)return!1;for(r=0;r<4;r++)if(t[r]!==e[r+12])return!1;return!0},n.isPrivate=function(t){return/^(::f{4}:)?10\\.([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\\.168\\.([0-9]{1,3})\\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\\.(1[6-9]|2\\d|30|31)\\.([0-9]{1,3})\\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\\.([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\\.254\\.([0-9]{1,3})\\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.isPublic=function(t){return!n.isPrivate(t)},n.isLoopback=function(t){return/^(::f{4}:)?127\\.([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.loopback=function(t){if(\"ipv4\"!==(t=u(t))&&\"ipv6\"!==t)throw new Error(\"family must be ipv4 or ipv6\");return\"ipv4\"===t?\"127.0.0.1\":\"fe80::1\"},n.address=function(t,e){var r,i=o.networkInterfaces();if(e=u(e),t&&\"private\"!==t&&\"public\"!==t){var s=i[t].filter(function(t){return t.family.toLowerCase()===e});if(0===s.length)return;return s[0].address}return(r=Object.keys(i).map(function(r){var o=i[r].filter(function(r){return r.family=r.family.toLowerCase(),r.family===e&&!n.isLoopback(r.address)&&(!t||(\"public\"===t?n.isPrivate(r.address):n.isPublic(r.address)))});return o.length?o[0].address:void 0}).filter(Boolean)).length?r[0]:n.loopback(e)},n.toLong=function(t){var e=0;return t.split(\".\").forEach(function(t){e<<=8,e+=parseInt(t)}),e>>>0},n.fromLong=function(t){return(t>>>24)+\".\"+(t>>16&255)+\".\"+(t>>8&255)+\".\"+(255&t)}},function(t,e,r){\"use strict\";e.Address4=r(542),e.Address6=r(1174),e.v6={helpers:r(548)}},function(t,e,r){var n;!function(i){\"use strict\";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\\x25]+/,modulo:/^\\x25{2}/,placeholder:/^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\\d]*)/i,key_access:/^\\.([a-z_][a-z_\\d]*)/i,index_access:/^\\[(\\d+)\\]/,sign:/^[\\+\\-]/};function s(){var t=arguments[0],e=s.cache;return e[t]||(e[t]=s.parse(t)),s.format.call(null,e[t],arguments)}s.format=function(t,e){var r,n,i,a,c,h,l,p=1,d=t.length,y=\"\",m=[],g=!0,b=\"\";for(n=0;n<d;n++)if(\"string\"===(y=u(t[n])))m[m.length]=t[n];else if(\"array\"===y){if((a=t[n])[2])for(r=e[p],i=0;i<a[2].length;i++){if(!r.hasOwnProperty(a[2][i]))throw new Error(s('[sprintf] property \"%s\" does not exist',a[2][i]));r=r[a[2][i]]}else r=a[1]?e[a[1]]:e[p++];if(o.not_type.test(a[8])&&o.not_primitive.test(a[8])&&\"function\"==u(r)&&(r=r()),o.numeric_arg.test(a[8])&&\"number\"!=u(r)&&isNaN(r))throw new TypeError(s(\"[sprintf] expecting number but found %s\",u(r)));switch(o.number.test(a[8])&&(g=r>=0),a[8]){case\"b\":r=parseInt(r,10).toString(2);break;case\"c\":r=String.fromCharCode(parseInt(r,10));break;case\"d\":case\"i\":r=parseInt(r,10);break;case\"j\":r=JSON.stringify(r,null,a[6]?parseInt(a[6]):0);break;case\"e\":r=a[7]?parseFloat(r).toExponential(a[7]):parseFloat(r).toExponential();break;case\"f\":r=a[7]?parseFloat(r).toFixed(a[7]):parseFloat(r);break;case\"g\":r=a[7]?parseFloat(r).toPrecision(a[7]):parseFloat(r);break;case\"o\":r=r.toString(8);break;case\"s\":r=String(r),r=a[7]?r.substring(0,a[7]):r;break;case\"t\":r=String(!!r),r=a[7]?r.substring(0,a[7]):r;break;case\"T\":r=u(r),r=a[7]?r.substring(0,a[7]):r;break;case\"u\":r=parseInt(r,10)>>>0;break;case\"v\":r=r.valueOf(),r=a[7]?r.substring(0,a[7]):r;break;case\"x\":r=parseInt(r,10).toString(16);break;case\"X\":r=parseInt(r,10).toString(16).toUpperCase()}o.json.test(a[8])?m[m.length]=r:(!o.number.test(a[8])||g&&!a[3]?b=\"\":(b=g?\"+\":\"-\",r=r.toString().replace(o.sign,\"\")),h=a[4]?\"0\"===a[4]?\"0\":a[4].charAt(1):\" \",l=a[6]-(b+r).length,c=a[6]&&l>0?f(h,l):\"\",m[m.length]=a[5]?b+r+c:\"0\"===h?b+c+r:c+b+r)}return m.join(\"\")},s.cache=Object.create(null),s.parse=function(t){for(var e=t,r=[],n=[],i=0;e;){if(null!==(r=o.text.exec(e)))n[n.length]=r[0];else if(null!==(r=o.modulo.exec(e)))n[n.length]=\"%\";else{if(null===(r=o.placeholder.exec(e)))throw new SyntaxError(\"[sprintf] unexpected placeholder\");if(r[2]){i|=1;var s=[],a=r[2],u=[];if(null===(u=o.key.exec(a)))throw new SyntaxError(\"[sprintf] failed to parse named argument key\");for(s[s.length]=u[1];\"\"!==(a=a.substring(u[0].length));)if(null!==(u=o.key_access.exec(a)))s[s.length]=u[1];else{if(null===(u=o.index_access.exec(a)))throw new SyntaxError(\"[sprintf] failed to parse named argument key\");s[s.length]=u[1]}r[2]=s}else i|=2;if(3===i)throw new Error(\"[sprintf] mixing positional and named placeholders is not (yet) supported\");n[n.length]=r}e=e.substring(r[0].length)}return n};var a=function(t,e,r){return(r=(e||[]).slice(0)).splice(0,0,t),s.apply(null,r)};function u(t){return\"number\"==typeof t?\"number\":\"string\"==typeof t?\"string\":Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var c={0:[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\"],\" \":[\"\",\" \",\"  \",\"   \",\"    \",\"     \",\"      \",\"       \"],_:[\"\",\"_\",\"__\",\"___\",\"____\",\"_____\",\"______\",\"_______\"]};function f(t,e){return e>=0&&e<=7&&c[t]?c[t][e]:Array(e+1).join(t)}e.sprintf=s,e.vsprintf=a,void 0!==i&&(i.sprintf=s,i.vsprintf=a,void 0===(n=function(){return{sprintf:s,vsprintf:a}}.call(e,r,e,t))||(t.exports=n))}(\"undefined\"==typeof window?this:window)},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1196).Reporter,n.DecoderBuffer=r(555).DecoderBuffer,n.EncoderBuffer=r(555).EncoderBuffer,n.Node=r(1197)},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1237).Reporter,n.DecoderBuffer=r(567).DecoderBuffer,n.EncoderBuffer=r(567).EncoderBuffer,n.Node=r(1238)},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1341).Reporter,n.DecoderBuffer=r(597).DecoderBuffer,n.EncoderBuffer=r(597).EncoderBuffer,n.Node=r(1342)},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1369).Reporter,n.DecoderBuffer=r(609).DecoderBuffer,n.EncoderBuffer=r(609).EncoderBuffer,n.Node=r(1370)},function(t,e,r){(function(e,n){var i=r(86);t.exports=s,t.exports.source=function(t){return s(null,t)},t.exports.sink=function(t){return s(t,null)};var o=void 0===e?n.nextTick:e;function s(t,e){t&&\"object\"==typeof t&&(e=t.source,t=t.sink);var r,n,s,a=[],u=[],c=new i;c.writable=c.readable=!0,c.write=function(t){return a.length?a.shift()(null,t):u.push(t),a.length||(n=!0),!!a.length},c.end=function(){e?u.length?d():e(r=!0,a.length?a.shift():function(){}):a.length&&a.shift()(!0)},c.source=function(t,e){u.length?(e(null,u.shift()),u.length||c.emit(\"drain\")):((r=r||t)?e(r):a.push(e),n&&(n=!1,c.emit(\"drain\")))},t&&(s=t(c.source)),s&&!e&&(e=s);var f=[],h=!1,l=!1;if(c.sink=function(t){e=t,o(d)},e){c.sink(e);var p=c.pipe.bind(c);c.pipe=function(t,e){var r=p(t,e);return c.paused&&c.resume(),r}}function d(){if(!1,e&&!l){for(;f.length&&!c.paused;)c.emit(\"data\",f.shift());if(!c.paused){if(h)return c.emit(\"end\");l=!0,e(null,function t(n,i){l=!1,c.paused?(!0===n?h=n:n?c.emit(\"error\",n):f.push(i),!0):n&&!0!==(r=n)?c.emit(\"error\",n):(r=r||n)?c.emit(\"end\"):(c.emit(\"data\",i),l=!0,e(null,t))})}}}return c.pause=function(){return c.paused=!0,c},c.resume=function(){return c.paused=!1,d(),c},c.destroy=function(){!r&&e&&e(r=!0,function(){}),r=!0,a.length&&a.shift()(!0),c.emit(\"close\")},c}}).call(this,r(32).setImmediate,r(7))},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1408).Reporter,n.DecoderBuffer=r(622).DecoderBuffer,n.EncoderBuffer=r(622).EncoderBuffer,n.Node=r(1409)},function(t,e){function r(t,e,r){var n=t.length;if(!n)return r(e);function i(){--n||r(e)}t.forEach(function(t){t?t(e,i):i()}),n||i()}t.exports=function(t){return function(e,n){!function i(){e?r(t,e,n):t.length?t[0]?t[0](null,function(e,o){e?(t.shift(),!0===e?i():r(t,e,n)):n(null,o)}):(t.shift(),i()):n(!0)}()}}},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1440).Reporter,n.DecoderBuffer=r(632).DecoderBuffer,n.EncoderBuffer=r(632).EncoderBuffer,n.Node=r(1441)},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1475).Reporter,n.DecoderBuffer=r(642).DecoderBuffer,n.EncoderBuffer=r(642).EncoderBuffer,n.Node=r(1476)},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(33),o=r(1496),s=r(336),a=r(20),u=r(8),c=r(64),f=new Error(\"Sorry, Not Implemented Yet.\"),h=c.proto(function(t){if(!(this instanceof h))return new h(t);if(null==t&&(t=\"\"),t instanceof e)this.buffer=o.fromBuffer(t);else if(\"string\"==typeof t||t instanceof String)this.buffer=o.fromString(t);else{if(!(t.buffer&&t.protos&&t.protoCodes))throw new Error(\"addr must be a string, Buffer, or another Multiaddr\");this.buffer=o.fromBuffer(t.buffer)}},{className:\"Multiaddr\",symbolName:\"@multiformats/js-multiaddr/multiaddr\"});h.prototype.toString=function(){return o.bufferToString(this.buffer)},h.prototype.toOptions=function(){const t={},e=this.toString().split(\"/\");return t.family=\"ip4\"===e[1]?\"ipv4\":\"ipv6\",t.host=e[2],t.transport=e[3],t.port=e[4],t},h.prototype.inspect=function(){return\"<Multiaddr \"+this.buffer.toString(\"hex\")+\" - \"+o.bufferToString(this.buffer)+\">\"},h.prototype.protos=function(){return n(this.protoCodes(),function(t){return i(s(t))})},h.prototype.protoCodes=function(){const t=[],e=this.buffer;let r=0;for(;r<e.length;){const n=a.decode(e,r),i=a.decode.bytes,u=s(n);r+=o.sizeForAddr(u,e.slice(r+i))+i,t.push(n)}return t},h.prototype.protoNames=function(){return n(this.protos(),function(t){return t.name})},h.prototype.tuples=function(){return o.bufferToTuples(this.buffer)},h.prototype.stringTuples=function(){const t=o.bufferToTuples(this.buffer);return o.tuplesToStringTuples(t)},h.prototype.encapsulate=function(t){return t=h(t),h(this.toString()+t.toString())},h.prototype.decapsulate=function(t){t=t.toString();const e=this.toString(),r=e.lastIndexOf(t);if(r<0)throw new Error(\"Address \"+this+\" does not contain subaddress: \"+t);return h(e.slice(0,r))},h.prototype.getPeerId=function(){let t=null;try{t=this.stringTuples().filter(t=>{if(t[0]===s.names.ipfs.code)return!0})[0][1],u.decode(t)}catch(e){t=null}return t},h.prototype.equals=function(t){return this.buffer.equals(t.buffer)},h.prototype.nodeAddress=function(){if(!this.isThinWaistAddress())throw new Error('Multiaddr must be \"thin waist\" address for nodeAddress.');const t=this.protoCodes(),e=this.toString().split(\"/\").slice(1);return{family:41===t[0]?\"IPv6\":\"IPv4\",address:e[1],port:e[3]}},h.fromNodeAddress=function(t,e){if(!t)throw new Error(\"requires node address object\");if(!e)throw new Error(\"requires transport protocol\");const r=\"IPv6\"===t.family?\"ip6\":\"ip4\";return h(\"/\"+[r,t.address,e,t.port].join(\"/\"))},h.prototype.isThinWaistAddress=function(t){const e=(t||this).protos();return 2===e.length&&((4===e[0].code||41===e[0].code)&&(6===e[1].code||17===e[1].code))},h.prototype.fromStupidString=function(t){throw f},h.protocols=s,h.isName=function(t){return!!h.isMultiaddr(t)&&t.protos().some(t=>t.resolvable)},h.resolve=function(t,e){return h.isMultiaddr(t)&&h.isName(t)?e(new Error(\"not implemented yet\")):e(new Error(\"not a valid name\"))},t.exports=h}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(169),i=r(54),o=r(224),s=r(172);t.exports=function(t){function e(t,e,r){return r=r||(()=>{}),t.write(s.CircuitRelay.encode({type:s.CircuitRelay.Type.STATUS,code:e})),r()}return{getB58String:function(t){let e=null;n.isMultiaddr(t)?e=n(t).getPeerId():i.isPeerInfo(t)&&(e=t.id.toB58String());return e},peerInfoFromMa:function(e){let r;if(i.isPeerInfo(e))r=e;else if(n.isMultiaddr(e)){const n=e.getPeerId();try{r=t._peerBook.get(n)}catch(t){r=new i(o.createFromB58String(n))}r.multiaddrs.add(e)}else if(o.isPeerId(e)){const n=e.toB58String();r=t._peerBook.has(n)?t._peerBook.get(n):e}return r},isPeerConnected:function(e){return t.muxedConns[e]||t.conns[e]},validateAddrs:function(t,r,i,o){try{t.dstPeer.addrs.forEach(t=>n(t))}catch(t){return e(r,i===s.CircuitRelay.Type.HOP?s.CircuitRelay.Status.HOP_DST_MULTIADDR_INVALID:s.CircuitRelay.Status.STOP_DST_MULTIADDR_INVALID),o(t)}try{t.srcPeer.addrs.forEach(t=>n(t))}catch(t){return e(r,i===s.CircuitRelay.Type.HOP?s.CircuitRelay.Status.HOP_SRC_MULTIADDR_INVALID:s.CircuitRelay.Status.STOP_SRC_MULTIADDR_INVALID),o(t)}return o(null)},writeResponse:e}}},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1510).Reporter,n.DecoderBuffer=r(658).DecoderBuffer,n.EncoderBuffer=r(658).EncoderBuffer,n.Node=r(1511)},function(t,e,r){\"use strict\";const n=r(11);t.exports=n(r(1523))},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1559).Reporter,n.DecoderBuffer=r(672).DecoderBuffer,n.EncoderBuffer=r(672).EncoderBuffer,n.Node=r(1560)},function(t,e,r){\"use strict\";const n=e;n.Reporter=r(1645).Reporter,n.DecoderBuffer=r(686).DecoderBuffer,n.EncoderBuffer=r(686).EncoderBuffer,n.Node=r(1646)},function(t,e,r){\"use strict\";e.importer=e.Importer=r(1671),e.exporter=e.Exporter=r(1693)},function(t,e,r){\"use strict\";const n=r(35).Key;t.exports={FILE_SEPARATOR:\"/\",MFS_ROOT_KEY:new n(\"/local/filesroot\"),MAX_CHUNK_SIZE:262144,MAX_LINKS:174,FILE_TYPES:{file:0,directory:1}}},function(t,e,r){\"use strict\";(function(e){!e.version||0===e.version.indexOf(\"v0.\")||0===e.version.indexOf(\"v1.\")&&0!==e.version.indexOf(\"v1.8.\")?t.exports={nextTick:function(t,r,n,i){if(\"function\"!=typeof t)throw new TypeError('\"callback\" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,r(7))},function(t,e,r){\"use strict\";var n=r(758),i=function(t){this.name=t.name,this.type=t.type,this.subscriptions=t.subscriptions||{},this.requestManager=null};i.prototype.setRequestManager=function(t){this.requestManager=t},i.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var r=this.name.split(\".\");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},i.prototype.buildCall=function(){var t=this;return function(){t.subscriptions[arguments[0]]||console.warn(\"Subscription \"+JSON.stringify(arguments[0])+\" doesn't exist. Subscribing anyway.\");var e=new n({subscription:t.subscriptions[arguments[0]],requestManager:t.requestManager,type:t.type});return e.subscribe.apply(e,arguments)}},t.exports={subscriptions:i,subscription:n}},function(t,e,r){\"use strict\";var n=r(92),i=r(94),o=r(57),s=function(){var t=this;n.packageInit(this,arguments),[new i({name:\"getId\",call:\"net_version\",params:0,outputFormatter:o.hexToNumber}),new i({name:\"isListening\",call:\"net_listening\",params:0}),new i({name:\"getPeerCount\",call:\"net_peerCount\",params:0,outputFormatter:o.hexToNumber})].forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})};n.addProviders(s),t.exports=s},function(t,e,r){var n=r(3).Buffer;function i(t){n.isBuffer(t)||(t=n.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(4*i);return r}function o(t){for(;0<t.length;t++)t[0]=0}function s(t,e,r,n,i){for(var o,s,a,u,c=r[0],f=r[1],h=r[2],l=r[3],p=t[0]^e[0],d=t[1]^e[1],y=t[2]^e[2],m=t[3]^e[3],g=4,b=1;b<i;b++)o=c[p>>>24]^f[d>>>16&255]^h[y>>>8&255]^l[255&m]^e[g++],s=c[d>>>24]^f[y>>>16&255]^h[m>>>8&255]^l[255&p]^e[g++],a=c[y>>>24]^f[m>>>16&255]^h[p>>>8&255]^l[255&d]^e[g++],u=c[m>>>24]^f[p>>>16&255]^h[d>>>8&255]^l[255&y]^e[g++],p=o,d=s,y=a,m=u;return o=(n[p>>>24]<<24|n[d>>>16&255]<<16|n[y>>>8&255]<<8|n[255&m])^e[g++],s=(n[d>>>24]<<24|n[y>>>16&255]<<16|n[m>>>8&255]<<8|n[255&p])^e[g++],a=(n[y>>>24]<<24|n[m>>>16&255]<<16|n[p>>>8&255]<<8|n[255&d])^e[g++],u=(n[m>>>24]<<24|n[p>>>16&255]<<16|n[d>>>8&255]<<8|n[255&y])^e[g++],[o>>>=0,s>>>=0,a>>>=0,u>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,u=0;u<256;++u){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^255&c^99,r[s]=c,n[c]=s;var f=t[s],h=t[f],l=t[h],p=257*t[c]^16843008*c;i[0][s]=p<<24|p>>>8,i[1][s]=p<<16|p>>>16,i[2][s]=p<<8|p>>>24,i[3][s]=p,p=16843009*l^65537*h^257*f^16843008*s,o[0][c]=p<<24|p>>>8,o[1][c]=p<<16|p>>>16,o[2][c]=p<<8|p>>>24,o[3][c]=p,0===s?s=a=1:(s=f^t[t[t[l^f]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function c(t){this._key=i(t),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=4*(r+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<n;o++){var s=i[o-1];o%e==0?(s=s<<8|s>>>24,s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s],s^=a[o/e|0]<<24):e>6&&o%e==4&&(s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s]),i[o]=i[o-e]^s}for(var c=[],f=0;f<n;f++){var h=n-f,l=i[h-(f%4?0:4)];c[f]=f<4||h<=4?l:u.INV_SUB_MIX[0][u.SBOX[l>>>24]]^u.INV_SUB_MIX[1][u.SBOX[l>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[l>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&l]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(t){return s(t=i(t),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=n.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},c.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var r=s(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=c},function(t,e,r){var n=r(3).Buffer,i=r(237);t.exports=function(t,e,r,o){if(n.isBuffer(t)||(t=n.from(t,\"binary\")),e&&(n.isBuffer(e)||(e=n.from(e,\"binary\")),8!==e.length))throw new RangeError(\"salt should be Buffer with 8 byte length\");for(var s=r/8,a=n.alloc(s),u=n.alloc(o||0),c=n.alloc(0);s>0||o>0;){var f=new i;f.update(c),f.update(t),e&&f.update(e),c=f.digest();var h=0;if(s>0){var l=a.length-s;h=Math.min(s,c.length),c.copy(a,l,0,h),s-=h}if(h<c.length&&o>0){var p=u.length-o,d=Math.min(o,c.length-h);c.copy(u,p,h,h+d),o-=d}}return c.fill(0),{key:a,iv:u}}},function(t,e,r){\"use strict\";var n=e;n.base=r(809),n.short=r(810),n.mont=r(811),n.edwards=r(812)},function(t,e,r){(function(e){var n=r(828),i=r(838),o=r(839),s=r(37),a=r(240);function u(t){var r;\"object\"!=typeof t||e.isBuffer(t)||(r=t.passphrase,t=t.key),\"string\"==typeof t&&(t=new e(t));var u,c,f=o(t,r),h=f.tag,l=f.data;switch(h){case\"CERTIFICATE\":c=n.certificate.decode(l,\"der\").tbsCertificate.subjectPublicKeyInfo;case\"PUBLIC KEY\":switch(c||(c=n.PublicKey.decode(l,\"der\")),u=c.algorithm.algorithm.join(\".\")){case\"1.2.840.113549.1.1.1\":return n.RSAPublicKey.decode(c.subjectPublicKey.data,\"der\");case\"1.2.840.10045.2.1\":return c.subjectPrivateKey=c.subjectPublicKey,{type:\"ec\",data:c};case\"1.2.840.10040.4.1\":return c.algorithm.params.pub_key=n.DSAparam.decode(c.subjectPublicKey.data,\"der\"),{type:\"dsa\",data:c.algorithm.params};default:throw new Error(\"unknown key id \"+u)}throw new Error(\"unknown key type \"+h);case\"ENCRYPTED PRIVATE KEY\":l=function(t,r){var n=t.algorithm.decrypt.kde.kdeparams.salt,o=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),u=i[t.algorithm.decrypt.cipher.algo.join(\".\")],c=t.algorithm.decrypt.cipher.iv,f=t.subjectPrivateKey,h=parseInt(u.split(\"-\")[1],10)/8,l=a.pbkdf2Sync(r,n,o,h),p=s.createDecipheriv(u,l,c),d=[];return d.push(p.update(f)),d.push(p.final()),e.concat(d)}(l=n.EncryptedPrivateKey.decode(l,\"der\"),r);case\"PRIVATE KEY\":switch(u=(c=n.PrivateKey.decode(l,\"der\")).algorithm.algorithm.join(\".\")){case\"1.2.840.113549.1.1.1\":return n.RSAPrivateKey.decode(c.subjectPrivateKey,\"der\");case\"1.2.840.10045.2.1\":return{curve:c.algorithm.curve,privateKey:n.ECPrivateKey.decode(c.subjectPrivateKey,\"der\").privateKey};case\"1.2.840.10040.4.1\":return c.algorithm.params.priv_key=n.DSAparam.decode(c.subjectPrivateKey,\"der\"),{type:\"dsa\",params:c.algorithm.params};default:throw new Error(\"unknown key id \"+u)}throw new Error(\"unknown key type \"+h);case\"RSA PUBLIC KEY\":return n.RSAPublicKey.decode(l,\"der\");case\"RSA PRIVATE KEY\":return n.RSAPrivateKey.decode(l,\"der\");case\"DSA PRIVATE KEY\":return{type:\"dsa\",params:n.DSAPrivateKey.decode(l,\"der\")};case\"EC PRIVATE KEY\":return{curve:(l=n.ECPrivateKey.decode(l,\"der\")).parameters.value,privateKey:l.privateKey};default:throw new Error(\"unknown key type \"+h)}}t.exports=u,u.signature=n.signature}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(13),i=r(64);t.exports=i(class{constructor(t,r){if(!t||!e.isBuffer(t))throw new Error(\"first argument  must be a buffer\");if(!r||!n.isCID(r))throw new Error(\"second argument must be a CID\");this._data=t,this._cid=r}get data(){return this._data}set data(t){throw new Error(\"Tried to change an immutable block\")}get cid(){return this._cid}set cid(t){throw new Error(\"Tried to change an immutable block\")}},{className:\"Block\",symbolName:\"@ipfs/js-ipfs-block/block\"})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(r){(e=t.exports).raw=r.from(\"55\",\"hex\"),e.base1=r.from(\"01\",\"hex\"),e.base2=r.from(\"00\",\"hex\"),e.base8=r.from(\"07\",\"hex\"),e.base10=r.from(\"09\",\"hex\"),e.cbor=r.from(\"51\",\"hex\"),e.protobuf=r.from(\"50\",\"hex\"),e.rlp=r.from(\"60\",\"hex\"),e.bencode=r.from(\"63\",\"hex\"),e.multicodec=r.from(\"30\",\"hex\"),e.multihash=r.from(\"31\",\"hex\"),e.multiaddr=r.from(\"32\",\"hex\"),e.multibase=r.from(\"33\",\"hex\"),e.md4=r.from(\"d4\",\"hex\"),e.md5=r.from(\"d5\",\"hex\"),e.sha1=r.from(\"11\",\"hex\"),e[\"sha2-256\"]=r.from(\"12\",\"hex\"),e[\"sha2-512\"]=r.from(\"13\",\"hex\"),e[\"dbl-sha2-256\"]=r.from(\"56\",\"hex\"),e[\"sha3-224\"]=r.from(\"17\",\"hex\"),e[\"sha3-256\"]=r.from(\"16\",\"hex\"),e[\"sha3-384\"]=r.from(\"15\",\"hex\"),e[\"sha3-512\"]=r.from(\"14\",\"hex\"),e[\"shake-128\"]=r.from(\"18\",\"hex\"),e[\"shake-256\"]=r.from(\"19\",\"hex\"),e[\"keccak-224\"]=r.from(\"1a\",\"hex\"),e[\"keccak-256\"]=r.from(\"1b\",\"hex\"),e[\"keccak-384\"]=r.from(\"1c\",\"hex\"),e[\"keccak-512\"]=r.from(\"1d\",\"hex\"),e.murmur3=r.from(\"22\",\"hex\"),e[\"blake2b-8\"]=r.from(\"b201\",\"hex\"),e[\"blake2b-16\"]=r.from(\"b202\",\"hex\"),e[\"blake2b-24\"]=r.from(\"b203\",\"hex\"),e[\"blake2b-32\"]=r.from(\"b204\",\"hex\"),e[\"blake2b-40\"]=r.from(\"b205\",\"hex\"),e[\"blake2b-48\"]=r.from(\"b206\",\"hex\"),e[\"blake2b-56\"]=r.from(\"b207\",\"hex\"),e[\"blake2b-64\"]=r.from(\"b208\",\"hex\"),e[\"blake2b-72\"]=r.from(\"b209\",\"hex\"),e[\"blake2b-80\"]=r.from(\"b20a\",\"hex\"),e[\"blake2b-88\"]=r.from(\"b20b\",\"hex\"),e[\"blake2b-96\"]=r.from(\"b20c\",\"hex\"),e[\"blake2b-104\"]=r.from(\"b20d\",\"hex\"),e[\"blake2b-112\"]=r.from(\"b20e\",\"hex\"),e[\"blake2b-120\"]=r.from(\"b20f\",\"hex\"),e[\"blake2b-128\"]=r.from(\"b210\",\"hex\"),e[\"blake2b-136\"]=r.from(\"b211\",\"hex\"),e[\"blake2b-144\"]=r.from(\"b212\",\"hex\"),e[\"blake2b-152\"]=r.from(\"b213\",\"hex\"),e[\"blake2b-160\"]=r.from(\"b214\",\"hex\"),e[\"blake2b-168\"]=r.from(\"b215\",\"hex\"),e[\"blake2b-176\"]=r.from(\"b216\",\"hex\"),e[\"blake2b-184\"]=r.from(\"b217\",\"hex\"),e[\"blake2b-192\"]=r.from(\"b218\",\"hex\"),e[\"blake2b-200\"]=r.from(\"b219\",\"hex\"),e[\"blake2b-208\"]=r.from(\"b21a\",\"hex\"),e[\"blake2b-216\"]=r.from(\"b21b\",\"hex\"),e[\"blake2b-224\"]=r.from(\"b21c\",\"hex\"),e[\"blake2b-232\"]=r.from(\"b21d\",\"hex\"),e[\"blake2b-240\"]=r.from(\"b21e\",\"hex\"),e[\"blake2b-248\"]=r.from(\"b21f\",\"hex\"),e[\"blake2b-256\"]=r.from(\"b220\",\"hex\"),e[\"blake2b-264\"]=r.from(\"b221\",\"hex\"),e[\"blake2b-272\"]=r.from(\"b222\",\"hex\"),e[\"blake2b-280\"]=r.from(\"b223\",\"hex\"),e[\"blake2b-288\"]=r.from(\"b224\",\"hex\"),e[\"blake2b-296\"]=r.from(\"b225\",\"hex\"),e[\"blake2b-304\"]=r.from(\"b226\",\"hex\"),e[\"blake2b-312\"]=r.from(\"b227\",\"hex\"),e[\"blake2b-320\"]=r.from(\"b228\",\"hex\"),e[\"blake2b-328\"]=r.from(\"b229\",\"hex\"),e[\"blake2b-336\"]=r.from(\"b22a\",\"hex\"),e[\"blake2b-344\"]=r.from(\"b22b\",\"hex\"),e[\"blake2b-352\"]=r.from(\"b22c\",\"hex\"),e[\"blake2b-360\"]=r.from(\"b22d\",\"hex\"),e[\"blake2b-368\"]=r.from(\"b22e\",\"hex\"),e[\"blake2b-376\"]=r.from(\"b22f\",\"hex\"),e[\"blake2b-384\"]=r.from(\"b230\",\"hex\"),e[\"blake2b-392\"]=r.from(\"b231\",\"hex\"),e[\"blake2b-400\"]=r.from(\"b232\",\"hex\"),e[\"blake2b-408\"]=r.from(\"b233\",\"hex\"),e[\"blake2b-416\"]=r.from(\"b234\",\"hex\"),e[\"blake2b-424\"]=r.from(\"b235\",\"hex\"),e[\"blake2b-432\"]=r.from(\"b236\",\"hex\"),e[\"blake2b-440\"]=r.from(\"b237\",\"hex\"),e[\"blake2b-448\"]=r.from(\"b238\",\"hex\"),e[\"blake2b-456\"]=r.from(\"b239\",\"hex\"),e[\"blake2b-464\"]=r.from(\"b23a\",\"hex\"),e[\"blake2b-472\"]=r.from(\"b23b\",\"hex\"),e[\"blake2b-480\"]=r.from(\"b23c\",\"hex\"),e[\"blake2b-488\"]=r.from(\"b23d\",\"hex\"),e[\"blake2b-496\"]=r.from(\"b23e\",\"hex\"),e[\"blake2b-504\"]=r.from(\"b23f\",\"hex\"),e[\"blake2b-512\"]=r.from(\"b240\",\"hex\"),e[\"blake2s-8\"]=r.from(\"b241\",\"hex\"),e[\"blake2s-16\"]=r.from(\"b242\",\"hex\"),e[\"blake2s-24\"]=r.from(\"b243\",\"hex\"),e[\"blake2s-32\"]=r.from(\"b244\",\"hex\"),e[\"blake2s-40\"]=r.from(\"b245\",\"hex\"),e[\"blake2s-48\"]=r.from(\"b246\",\"hex\"),e[\"blake2s-56\"]=r.from(\"b247\",\"hex\"),e[\"blake2s-64\"]=r.from(\"b248\",\"hex\"),e[\"blake2s-72\"]=r.from(\"b249\",\"hex\"),e[\"blake2s-80\"]=r.from(\"b24a\",\"hex\"),e[\"blake2s-88\"]=r.from(\"b24b\",\"hex\"),e[\"blake2s-96\"]=r.from(\"b24c\",\"hex\"),e[\"blake2s-104\"]=r.from(\"b24d\",\"hex\"),e[\"blake2s-112\"]=r.from(\"b24e\",\"hex\"),e[\"blake2s-120\"]=r.from(\"b24f\",\"hex\"),e[\"blake2s-128\"]=r.from(\"b250\",\"hex\"),e[\"blake2s-136\"]=r.from(\"b251\",\"hex\"),e[\"blake2s-144\"]=r.from(\"b252\",\"hex\"),e[\"blake2s-152\"]=r.from(\"b253\",\"hex\"),e[\"blake2s-160\"]=r.from(\"b254\",\"hex\"),e[\"blake2s-168\"]=r.from(\"b255\",\"hex\"),e[\"blake2s-176\"]=r.from(\"b256\",\"hex\"),e[\"blake2s-184\"]=r.from(\"b257\",\"hex\"),e[\"blake2s-192\"]=r.from(\"b258\",\"hex\"),e[\"blake2s-200\"]=r.from(\"b259\",\"hex\"),e[\"blake2s-208\"]=r.from(\"b25a\",\"hex\"),e[\"blake2s-216\"]=r.from(\"b25b\",\"hex\"),e[\"blake2s-224\"]=r.from(\"b25c\",\"hex\"),e[\"blake2s-232\"]=r.from(\"b25d\",\"hex\"),e[\"blake2s-240\"]=r.from(\"b25e\",\"hex\"),e[\"blake2s-248\"]=r.from(\"b25f\",\"hex\"),e[\"blake2s-256\"]=r.from(\"b260\",\"hex\"),e[\"skein256-8\"]=r.from(\"b301\",\"hex\"),e[\"skein256-16\"]=r.from(\"b302\",\"hex\"),e[\"skein256-24\"]=r.from(\"b303\",\"hex\"),e[\"skein256-32\"]=r.from(\"b304\",\"hex\"),e[\"skein256-40\"]=r.from(\"b305\",\"hex\"),e[\"skein256-48\"]=r.from(\"b306\",\"hex\"),e[\"skein256-56\"]=r.from(\"b307\",\"hex\"),e[\"skein256-64\"]=r.from(\"b308\",\"hex\"),e[\"skein256-72\"]=r.from(\"b309\",\"hex\"),e[\"skein256-80\"]=r.from(\"b30a\",\"hex\"),e[\"skein256-88\"]=r.from(\"b30b\",\"hex\"),e[\"skein256-96\"]=r.from(\"b30c\",\"hex\"),e[\"skein256-104\"]=r.from(\"b30d\",\"hex\"),e[\"skein256-112\"]=r.from(\"b30e\",\"hex\"),e[\"skein256-120\"]=r.from(\"b30f\",\"hex\"),e[\"skein256-128\"]=r.from(\"b310\",\"hex\"),e[\"skein256-136\"]=r.from(\"b311\",\"hex\"),e[\"skein256-144\"]=r.from(\"b312\",\"hex\"),e[\"skein256-152\"]=r.from(\"b313\",\"hex\"),e[\"skein256-160\"]=r.from(\"b314\",\"hex\"),e[\"skein256-168\"]=r.from(\"b315\",\"hex\"),e[\"skein256-176\"]=r.from(\"b316\",\"hex\"),e[\"skein256-184\"]=r.from(\"b317\",\"hex\"),e[\"skein256-192\"]=r.from(\"b318\",\"hex\"),e[\"skein256-200\"]=r.from(\"b319\",\"hex\"),e[\"skein256-208\"]=r.from(\"b31a\",\"hex\"),e[\"skein256-216\"]=r.from(\"b31b\",\"hex\"),e[\"skein256-224\"]=r.from(\"b31c\",\"hex\"),e[\"skein256-232\"]=r.from(\"b31d\",\"hex\"),e[\"skein256-240\"]=r.from(\"b31e\",\"hex\"),e[\"skein256-248\"]=r.from(\"b31f\",\"hex\"),e[\"skein256-256\"]=r.from(\"b320\",\"hex\"),e[\"skein512-8\"]=r.from(\"b321\",\"hex\"),e[\"skein512-16\"]=r.from(\"b322\",\"hex\"),e[\"skein512-24\"]=r.from(\"b323\",\"hex\"),e[\"skein512-32\"]=r.from(\"b324\",\"hex\"),e[\"skein512-40\"]=r.from(\"b325\",\"hex\"),e[\"skein512-48\"]=r.from(\"b326\",\"hex\"),e[\"skein512-56\"]=r.from(\"b327\",\"hex\"),e[\"skein512-64\"]=r.from(\"b328\",\"hex\"),e[\"skein512-72\"]=r.from(\"b329\",\"hex\"),e[\"skein512-80\"]=r.from(\"b32a\",\"hex\"),e[\"skein512-88\"]=r.from(\"b32b\",\"hex\"),e[\"skein512-96\"]=r.from(\"b32c\",\"hex\"),e[\"skein512-104\"]=r.from(\"b32d\",\"hex\"),e[\"skein512-112\"]=r.from(\"b32e\",\"hex\"),e[\"skein512-120\"]=r.from(\"b32f\",\"hex\"),e[\"skein512-128\"]=r.from(\"b330\",\"hex\"),e[\"skein512-136\"]=r.from(\"b331\",\"hex\"),e[\"skein512-144\"]=r.from(\"b332\",\"hex\"),e[\"skein512-152\"]=r.from(\"b333\",\"hex\"),e[\"skein512-160\"]=r.from(\"b334\",\"hex\"),e[\"skein512-168\"]=r.from(\"b335\",\"hex\"),e[\"skein512-176\"]=r.from(\"b336\",\"hex\"),e[\"skein512-184\"]=r.from(\"b337\",\"hex\"),e[\"skein512-192\"]=r.from(\"b338\",\"hex\"),e[\"skein512-200\"]=r.from(\"b339\",\"hex\"),e[\"skein512-208\"]=r.from(\"b33a\",\"hex\"),e[\"skein512-216\"]=r.from(\"b33b\",\"hex\"),e[\"skein512-224\"]=r.from(\"b33c\",\"hex\"),e[\"skein512-232\"]=r.from(\"b33d\",\"hex\"),e[\"skein512-240\"]=r.from(\"b33e\",\"hex\"),e[\"skein512-248\"]=r.from(\"b33f\",\"hex\"),e[\"skein512-256\"]=r.from(\"b340\",\"hex\"),e[\"skein512-264\"]=r.from(\"b341\",\"hex\"),e[\"skein512-272\"]=r.from(\"b342\",\"hex\"),e[\"skein512-280\"]=r.from(\"b343\",\"hex\"),e[\"skein512-288\"]=r.from(\"b344\",\"hex\"),e[\"skein512-296\"]=r.from(\"b345\",\"hex\"),e[\"skein512-304\"]=r.from(\"b346\",\"hex\"),e[\"skein512-312\"]=r.from(\"b347\",\"hex\"),e[\"skein512-320\"]=r.from(\"b348\",\"hex\"),e[\"skein512-328\"]=r.from(\"b349\",\"hex\"),e[\"skein512-336\"]=r.from(\"b34a\",\"hex\"),e[\"skein512-344\"]=r.from(\"b34b\",\"hex\"),e[\"skein512-352\"]=r.from(\"b34c\",\"hex\"),e[\"skein512-360\"]=r.from(\"b34d\",\"hex\"),e[\"skein512-368\"]=r.from(\"b34e\",\"hex\"),e[\"skein512-376\"]=r.from(\"b34f\",\"hex\"),e[\"skein512-384\"]=r.from(\"b350\",\"hex\"),e[\"skein512-392\"]=r.from(\"b351\",\"hex\"),e[\"skein512-400\"]=r.from(\"b352\",\"hex\"),e[\"skein512-408\"]=r.from(\"b353\",\"hex\"),e[\"skein512-416\"]=r.from(\"b354\",\"hex\"),e[\"skein512-424\"]=r.from(\"b355\",\"hex\"),e[\"skein512-432\"]=r.from(\"b356\",\"hex\"),e[\"skein512-440\"]=r.from(\"b357\",\"hex\"),e[\"skein512-448\"]=r.from(\"b358\",\"hex\"),e[\"skein512-456\"]=r.from(\"b359\",\"hex\"),e[\"skein512-464\"]=r.from(\"b35a\",\"hex\"),e[\"skein512-472\"]=r.from(\"b35b\",\"hex\"),e[\"skein512-480\"]=r.from(\"b35c\",\"hex\"),e[\"skein512-488\"]=r.from(\"b35d\",\"hex\"),e[\"skein512-496\"]=r.from(\"b35e\",\"hex\"),e[\"skein512-504\"]=r.from(\"b35f\",\"hex\"),e[\"skein512-512\"]=r.from(\"b360\",\"hex\"),e[\"skein1024-8\"]=r.from(\"b361\",\"hex\"),e[\"skein1024-16\"]=r.from(\"b362\",\"hex\"),e[\"skein1024-24\"]=r.from(\"b363\",\"hex\"),e[\"skein1024-32\"]=r.from(\"b364\",\"hex\"),e[\"skein1024-40\"]=r.from(\"b365\",\"hex\"),e[\"skein1024-48\"]=r.from(\"b366\",\"hex\"),e[\"skein1024-56\"]=r.from(\"b367\",\"hex\"),e[\"skein1024-64\"]=r.from(\"b368\",\"hex\"),e[\"skein1024-72\"]=r.from(\"b369\",\"hex\"),e[\"skein1024-80\"]=r.from(\"b36a\",\"hex\"),e[\"skein1024-88\"]=r.from(\"b36b\",\"hex\"),e[\"skein1024-96\"]=r.from(\"b36c\",\"hex\"),e[\"skein1024-104\"]=r.from(\"b36d\",\"hex\"),e[\"skein1024-112\"]=r.from(\"b36e\",\"hex\"),e[\"skein1024-120\"]=r.from(\"b36f\",\"hex\"),e[\"skein1024-128\"]=r.from(\"b370\",\"hex\"),e[\"skein1024-136\"]=r.from(\"b371\",\"hex\"),e[\"skein1024-144\"]=r.from(\"b372\",\"hex\"),e[\"skein1024-152\"]=r.from(\"b373\",\"hex\"),e[\"skein1024-160\"]=r.from(\"b374\",\"hex\"),e[\"skein1024-168\"]=r.from(\"b375\",\"hex\"),e[\"skein1024-176\"]=r.from(\"b376\",\"hex\"),e[\"skein1024-184\"]=r.from(\"b377\",\"hex\"),e[\"skein1024-192\"]=r.from(\"b378\",\"hex\"),e[\"skein1024-200\"]=r.from(\"b379\",\"hex\"),e[\"skein1024-208\"]=r.from(\"b37a\",\"hex\"),e[\"skein1024-216\"]=r.from(\"b37b\",\"hex\"),e[\"skein1024-224\"]=r.from(\"b37c\",\"hex\"),e[\"skein1024-232\"]=r.from(\"b37d\",\"hex\"),e[\"skein1024-240\"]=r.from(\"b37e\",\"hex\"),e[\"skein1024-248\"]=r.from(\"b37f\",\"hex\"),e[\"skein1024-256\"]=r.from(\"b380\",\"hex\"),e[\"skein1024-264\"]=r.from(\"b381\",\"hex\"),e[\"skein1024-272\"]=r.from(\"b382\",\"hex\"),e[\"skein1024-280\"]=r.from(\"b383\",\"hex\"),e[\"skein1024-288\"]=r.from(\"b384\",\"hex\"),e[\"skein1024-296\"]=r.from(\"b385\",\"hex\"),e[\"skein1024-304\"]=r.from(\"b386\",\"hex\"),e[\"skein1024-312\"]=r.from(\"b387\",\"hex\"),e[\"skein1024-320\"]=r.from(\"b388\",\"hex\"),e[\"skein1024-328\"]=r.from(\"b389\",\"hex\"),e[\"skein1024-336\"]=r.from(\"b38a\",\"hex\"),e[\"skein1024-344\"]=r.from(\"b38b\",\"hex\"),e[\"skein1024-352\"]=r.from(\"b38c\",\"hex\"),e[\"skein1024-360\"]=r.from(\"b38d\",\"hex\"),e[\"skein1024-368\"]=r.from(\"b38e\",\"hex\"),e[\"skein1024-376\"]=r.from(\"b38f\",\"hex\"),e[\"skein1024-384\"]=r.from(\"b390\",\"hex\"),e[\"skein1024-392\"]=r.from(\"b391\",\"hex\"),e[\"skein1024-400\"]=r.from(\"b392\",\"hex\"),e[\"skein1024-408\"]=r.from(\"b393\",\"hex\"),e[\"skein1024-416\"]=r.from(\"b394\",\"hex\"),e[\"skein1024-424\"]=r.from(\"b395\",\"hex\"),e[\"skein1024-432\"]=r.from(\"b396\",\"hex\"),e[\"skein1024-440\"]=r.from(\"b397\",\"hex\"),e[\"skein1024-448\"]=r.from(\"b398\",\"hex\"),e[\"skein1024-456\"]=r.from(\"b399\",\"hex\"),e[\"skein1024-464\"]=r.from(\"b39a\",\"hex\"),e[\"skein1024-472\"]=r.from(\"b39b\",\"hex\"),e[\"skein1024-480\"]=r.from(\"b39c\",\"hex\"),e[\"skein1024-488\"]=r.from(\"b39d\",\"hex\"),e[\"skein1024-496\"]=r.from(\"b39e\",\"hex\"),e[\"skein1024-504\"]=r.from(\"b39f\",\"hex\"),e[\"skein1024-512\"]=r.from(\"b3a0\",\"hex\"),e[\"skein1024-520\"]=r.from(\"b3a1\",\"hex\"),e[\"skein1024-528\"]=r.from(\"b3a2\",\"hex\"),e[\"skein1024-536\"]=r.from(\"b3a3\",\"hex\"),e[\"skein1024-544\"]=r.from(\"b3a4\",\"hex\"),e[\"skein1024-552\"]=r.from(\"b3a5\",\"hex\"),e[\"skein1024-560\"]=r.from(\"b3a6\",\"hex\"),e[\"skein1024-568\"]=r.from(\"b3a7\",\"hex\"),e[\"skein1024-576\"]=r.from(\"b3a8\",\"hex\"),e[\"skein1024-584\"]=r.from(\"b3a9\",\"hex\"),e[\"skein1024-592\"]=r.from(\"b3aa\",\"hex\"),e[\"skein1024-600\"]=r.from(\"b3ab\",\"hex\"),e[\"skein1024-608\"]=r.from(\"b3ac\",\"hex\"),e[\"skein1024-616\"]=r.from(\"b3ad\",\"hex\"),e[\"skein1024-624\"]=r.from(\"b3ae\",\"hex\"),e[\"skein1024-632\"]=r.from(\"b3af\",\"hex\"),e[\"skein1024-640\"]=r.from(\"b3b0\",\"hex\"),e[\"skein1024-648\"]=r.from(\"b3b1\",\"hex\"),e[\"skein1024-656\"]=r.from(\"b3b2\",\"hex\"),e[\"skein1024-664\"]=r.from(\"b3b3\",\"hex\"),e[\"skein1024-672\"]=r.from(\"b3b4\",\"hex\"),e[\"skein1024-680\"]=r.from(\"b3b5\",\"hex\"),e[\"skein1024-688\"]=r.from(\"b3b6\",\"hex\"),e[\"skein1024-696\"]=r.from(\"b3b7\",\"hex\"),e[\"skein1024-704\"]=r.from(\"b3b8\",\"hex\"),e[\"skein1024-712\"]=r.from(\"b3b9\",\"hex\"),e[\"skein1024-720\"]=r.from(\"b3ba\",\"hex\"),e[\"skein1024-728\"]=r.from(\"b3bb\",\"hex\"),e[\"skein1024-736\"]=r.from(\"b3bc\",\"hex\"),e[\"skein1024-744\"]=r.from(\"b3bd\",\"hex\"),e[\"skein1024-752\"]=r.from(\"b3be\",\"hex\"),e[\"skein1024-760\"]=r.from(\"b3bf\",\"hex\"),e[\"skein1024-768\"]=r.from(\"b3c0\",\"hex\"),e[\"skein1024-776\"]=r.from(\"b3c1\",\"hex\"),e[\"skein1024-784\"]=r.from(\"b3c2\",\"hex\"),e[\"skein1024-792\"]=r.from(\"b3c3\",\"hex\"),e[\"skein1024-800\"]=r.from(\"b3c4\",\"hex\"),e[\"skein1024-808\"]=r.from(\"b3c5\",\"hex\"),e[\"skein1024-816\"]=r.from(\"b3c6\",\"hex\"),e[\"skein1024-824\"]=r.from(\"b3c7\",\"hex\"),e[\"skein1024-832\"]=r.from(\"b3c8\",\"hex\"),e[\"skein1024-840\"]=r.from(\"b3c9\",\"hex\"),e[\"skein1024-848\"]=r.from(\"b3ca\",\"hex\"),e[\"skein1024-856\"]=r.from(\"b3cb\",\"hex\"),e[\"skein1024-864\"]=r.from(\"b3cc\",\"hex\"),e[\"skein1024-872\"]=r.from(\"b3cd\",\"hex\"),e[\"skein1024-880\"]=r.from(\"b3ce\",\"hex\"),e[\"skein1024-888\"]=r.from(\"b3cf\",\"hex\"),e[\"skein1024-896\"]=r.from(\"b3d0\",\"hex\"),e[\"skein1024-904\"]=r.from(\"b3d1\",\"hex\"),e[\"skein1024-912\"]=r.from(\"b3d2\",\"hex\"),e[\"skein1024-920\"]=r.from(\"b3d3\",\"hex\"),e[\"skein1024-928\"]=r.from(\"b3d4\",\"hex\"),e[\"skein1024-936\"]=r.from(\"b3d5\",\"hex\"),e[\"skein1024-944\"]=r.from(\"b3d6\",\"hex\"),e[\"skein1024-952\"]=r.from(\"b3d7\",\"hex\"),e[\"skein1024-960\"]=r.from(\"b3d8\",\"hex\"),e[\"skein1024-968\"]=r.from(\"b3d9\",\"hex\"),e[\"skein1024-976\"]=r.from(\"b3da\",\"hex\"),e[\"skein1024-984\"]=r.from(\"b3db\",\"hex\"),e[\"skein1024-992\"]=r.from(\"b3dc\",\"hex\"),e[\"skein1024-1000\"]=r.from(\"b3dd\",\"hex\"),e[\"skein1024-1008\"]=r.from(\"b3de\",\"hex\"),e[\"skein1024-1016\"]=r.from(\"b3df\",\"hex\"),e[\"skein1024-1024\"]=r.from(\"b3e0\",\"hex\"),e.ip4=r.from(\"04\",\"hex\"),e.ip6=r.from(\"29\",\"hex\"),e.tcp=r.from(\"06\",\"hex\"),e.udp=r.from(\"0111\",\"hex\"),e.dccp=r.from(\"21\",\"hex\"),e.sctp=r.from(\"84\",\"hex\"),e.udt=r.from(\"012d\",\"hex\"),e.utp=r.from(\"012e\",\"hex\"),e.ipfs=r.from(\"01a5\",\"hex\"),e.http=r.from(\"01e0\",\"hex\"),e.https=r.from(\"01bb\",\"hex\"),e.quic=r.from(\"01cc\",\"hex\"),e.ws=r.from(\"01dd\",\"hex\"),e.onion=r.from(\"01bc\",\"hex\"),e[\"p2p-circuit\"]=r.from(\"0122\",\"hex\"),e[\"git-raw\"]=r.from(\"78\",\"hex\"),e[\"dag-pb\"]=r.from(\"70\",\"hex\"),e[\"dag-cbor\"]=r.from(\"71\",\"hex\"),e[\"git-raw\"]=r.from(\"78\",\"hex\"),e[\"eth-block\"]=r.from(\"90\",\"hex\"),e[\"eth-block-list\"]=r.from(\"91\",\"hex\"),e[\"eth-tx-trie\"]=r.from(\"92\",\"hex\"),e[\"eth-tx\"]=r.from(\"93\",\"hex\"),e[\"eth-tx-receipt-trie\"]=r.from(\"94\",\"hex\"),e[\"eth-tx-receipt\"]=r.from(\"95\",\"hex\"),e[\"eth-state-trie\"]=r.from(\"96\",\"hex\"),e[\"eth-account-snapshot\"]=r.from(\"97\",\"hex\"),e[\"eth-storage-trie\"]=r.from(\"98\",\"hex\"),e[\"bitcoin-block\"]=r.from(\"b0\",\"hex\"),e[\"bitcoin-tx\"]=r.from(\"b1\",\"hex\"),e[\"zcash-block\"]=r.from(\"c0\",\"hex\"),e[\"zcash-tx\"]=r.from(\"c1\",\"hex\"),e[\"stellar-block\"]=r.from(\"d0\",\"hex\"),e[\"stellar-tx\"]=r.from(\"d1\",\"hex\"),e[\"torrent-info\"]=r.from(\"7b\",\"hex\"),e[\"torrent-file\"]=r.from(\"7c\",\"hex\"),e[\"ed25519-pub\"]=r.from(\"ed\",\"hex\")}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";function n(t){return t}var i=r(141);t.exports=function(t){if(!t)return n;t=i(t);var e,r,o=!1;return function(n){return function i(s,a){if(r)return a(r);s?(r=s,n(s,o?function(t){o?e=a:a(s)}:function(t){a(s)})):n(null,function(n,s){n?a(n):r?a(r):(o=!0,t(s,function(t,n){o=!1,r?(a(r),e(r)):t?i(t,a):a(null,n)}))})}}}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&\"function\"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(143)),i=s(r(427)),o=s(r(247));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){\"use strict\";(function(e){const n=r(4),i=r(52),o=r(66),s=r(53),a=r(15),u=r(144),c=r(6),f=r(923),h=r(9),l=r(924),p=r(925),d=r(927),y=r(937),m=r(938),g=r(950),b=r(969),v=c(\"repo\"),_=Number.MAX_SAFE_INTEGER,w={memory:r(458),fs:r(458)},S=r(970).repoVersion;function k(t,e){h(t.query({}),h.reduce((t,e)=>t.plus(e.value.byteLength).plus(e.key._buf.byteLength),new f(0),e))}function E(t,e){return r=>{e(r&&!t(r)?r:null)}}function A(t){return E(t=>\"Already open\"===t.message,t)}t.exports=class{constructor(t,e){a.equal(typeof t,\"string\",\"missing repoPath\"),this.options=function(t){const e=Object.assign({},g,t);return e.storageBackends=Object.assign({},g.storageBackends,e.storageBackends),e.storageBackendOptions=Object.assign({},g.storageBackendOptions,e.storageBackendOptions),e}(e),this.closed=!0,this.path=t,this._locker=this._getLocker(),this.root=l.create(\"root\",this.path,this.options),this.version=p(this.root),this.config=d(this.root),this.apiAddr=y(this.root)}init(t,e){v(\"initializing at: %s\",this.path),i([t=>this.root.open(A(t)),e=>this.config.set(t,e),t=>this.version.set(S,t)],e)}open(t){this.closed?(v(\"opening at: %s\",this.path),n([t=>this.root.open(A(t)),t=>this._isInitialized(t),t=>this._openLock(this.path,t),(t,e)=>{v(\"aquired repo.lock\"),this.lockfile=t,e()},t=>{v(\"creating datastore\"),this.datastore=l.create(\"datastore\",u.join(this.path,\"datastore\"),this.options),v(\"creating blocks\");const e=l.create(\"blocks\",u.join(this.path,\"blocks\"),this.options);m(e,this.options.storageBackendOptions.blocks,t)},(t,e)=>{this.blocks=t,e()},t=>{v(\"creating keystore\"),this.keys=l.create(\"keys\",u.join(this.path,\"keys\"),this.options),t()},t=>{this.closed=!1,v(\"all opened\"),t()}],e=>{e&&this.lockfile?this._closeLock(r=>{r?v(\"error removing lock\",r):this.lockfile=null,t(e)}):t(e)})):e(()=>t(new Error(\"repo is already open\")))}_getLocker(){return\"string\"==typeof this.options.lock?(a(w[this.options.lock],\"Unknown lock type: \"+this.options.lock),w[this.options.lock]):(a(this.options.lock,\"No lock provided\"),this.options.lock)}_openLock(t,e){this._locker.lock(t,(t,r)=>{if(t)return e(t,null);a.equal(typeof r.close,\"function\",\"Locks must have a close method\"),e(null,r)})}_closeLock(t){if(this.lockfile)return this.lockfile.close(t);t()}_isLocked(t,e){if(this._locker)return this._locker.locked(t,e);e(null,!1)}_isInitialized(t){v(\"init check\"),o({config:t=>this.config.exists(t),version:t=>this.version.check(S,t)},(e,r)=>{if(v(\"init\",e,r),e&&!r.config)return t(Object.assign(new Error(\"repo is not initialized yet\"),{code:b.ERR_REPO_NOT_INITIALIZED,path:this.path}));t(e)})}close(t){if(this.closed)return t(new Error(\"repo is already closed\"));v(\"closing at: %s\",this.path),i([t=>this.apiAddr.delete(function(t){return E(t=>t&&(t.code===b.ERR_REPO_NOT_INITIALIZED||t.message.startsWith(\"ENOENT\")),t)}(t)),t=>{s([this.blocks,this.keys,this.datastore],(t,e)=>t.close(e),t)},t=>{v(\"unlocking\"),this.closed=!0,this._closeLock(t)},t=>{this.lockfile=null,t()}],e=>t(e))}exists(t){this.version.exists(t)}stat(t,e){\"function\"==typeof t&&(e=t,t={}),t=Object.assign({},{human:!1},t),o({storageMax:t=>this.config.get(\"Datastore.StorageMax\",(e,r)=>{t(null,new f(e?_:r))}),version:t=>this.version.get(t),blocks:t=>this.blocks.query({},(e,r)=>{const n=new f((r=r||[]).length);let i=new f(0);r.forEach(t=>{i=i.plus(t.value.byteLength).plus(t.key._buf.byteLength)}),t(e,{count:n,size:i})}),datastore:t=>k(this.datastore,t),keys:t=>k(this.keys,t)},(r,n)=>{if(r)return e(r);let i=n.blocks.size.plus(n.datastore).plus(n.keys);t.human&&(i=i.div(1048576)),e(null,{repoPath:this.path,storageMax:n.storageMax,version:n.version,numObjects:n.blocks.count,repoSize:i})})}},t.exports.repoVersion=S,t.exports.errors=b}).call(this,r(32).setImmediate)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){var n=r(191),i=r(906),o=r(907),s=\"[object Null]\",a=\"[object Undefined]\",u=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:u&&u in Object(t)?i(t):o(t)}},function(t,e,r){var n=r(192).Symbol;t.exports=n},function(t,e,r){var n=r(429),i=\"object\"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function(\"return this\")();t.exports=o},function(t,e){t.exports=function(t){return null!=t&&\"object\"==typeof t}},function(t,e){t.exports=function(){var t,e,r,n,i=function(i,o){t?t(i,o):i?(n=i,r=o):e=o};return i.resolve=function(i){if(t)throw new Error(\"already resolved\");if(!(t=i))throw new Error(\"no read cannot resolve!\"+t);e&&i(null,e),r&&i(n,r)},i.abort=function(t){i.resolve(function(e,r){r(t||!0)})},i}},function(t,e,r){\"use strict\";const n=r(9);t.exports=class{constructor(t,e){this.child=t,this.transform=e}open(t){this.child.open(t)}put(t,e,r){this.child.put(this.transform.convert(t),e,r)}get(t,e){this.child.get(this.transform.convert(t),e)}has(t,e){this.child.has(this.transform.convert(t),e)}delete(t,e){this.child.delete(this.transform.convert(t),e)}batch(){const t=this.child.batch();return{put:(e,r)=>{t.put(this.transform.convert(e),r)},delete:e=>{t.delete(this.transform.convert(e))},commit:e=>{t.commit(e)}}}query(t){return n(this.child.query(t),n.map(t=>(t.key=this.transform.invert(t.key),t)))}close(t){this.child.close(t)}}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return function(e,r,o){return t(n.default,e,(0,i.default)(r),o)}};var n=o(r(252)),i=o(r(38));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";(function(e){const n=r(9),i=r(951),o=r(35).utils.asyncFilter,s=r(35).utils.asyncSort,a=r(35).Key,u=r(959);t.exports=class{constructor(t,e){let n;e&&e.db?(n=e.db,delete e.db):n=r(964),this.db=i(u(n(t),{valueEncoding:\"binary\"}),Object.assign({},e,{compression:!1}),t=>{if(t)throw t})}open(t){this.db.open(t)}put(t,e,r){this.db.put(t.toString(),e,r)}get(t,e){this.db.get(t.toString(),e)}has(t,e){this.db.get(t.toString(),(t,r)=>{if(t)return t.notFound?void e(null,!1):void e(t);e(null,!0)})}delete(t,e){this.db.del(t.toString(),t=>{e(t)})}close(t){this.db.close(t)}batch(){const t=[];return{put:(e,r)=>{t.push({type:\"put\",key:e.toString(),value:r})},delete:e=>{t.push({type:\"del\",key:e.toString()})},commit:e=>{this.db.batch(t,e)}}}query(t){let r=!0;null!=t.keysOnly&&(r=!t.keysOnly);const i=this.db.db.iterator({keys:!0,values:r,keyAsBuffer:!0});let u=[(t,n)=>{if(t)return i.end(e=>{n(e||t)});i.next((t,o,s)=>{if(t)return n(t);if(null==t&&null==o&&null==s)return i.end(t=>{n(t||!0)});const u={key:new a(o,!1)};r&&(u.value=e.from(s)),n(null,u)})}],c=[];if(null!=t.prefix){const e=t.prefix;c.push((t,r)=>r(null,t.key.toString().startsWith(e)))}if(null!=t.filters&&(c=c.concat(t.filters)),u=u.concat(c.map(t=>o(t))),null!=t.orders&&(u=u.concat(t.orders.map(t=>s(t)))),null!=t.offset){let e=0;u.push(n.filter(()=>e++>=t.offset))}return null!=t.limit&&u.push(n.take(t.limit)),n.apply(null,u)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(15),s=r(64);(e=t.exports=s(class{constructor(t,e,r,s){o(r,\"DAGNode needs its serialized format\"),o(s,\"DAGNode needs its multihash\"),\"string\"==typeof s&&(s=i.fromB58String(s)),this._data=t||n.alloc(0),this._links=e||[],this._serialized=r,this._multihash=s,this._size=this.links.reduce((t,e)=>t+e.size,this.serialized.length),this._json={data:this.data,links:this.links.map(t=>t.toJSON()),multihash:i.toB58String(this.multihash),size:this.size}}toJSON(){return this._json}toString(){return`DAGNode <${i.toB58String(this.multihash)} - data: \"${this.data.toString()}\", links: ${this.links.length}, size: ${this.size}>`}get data(){return this._data}set data(t){throw new Error(\"Can't set property: 'data' is immutable\")}get links(){return this._links}set links(t){throw new Error(\"Can't set property: 'links' is immutable\")}get serialized(){return this._serialized}set serialized(t){throw new Error(\"Can't set property: 'serialized' is immutable\")}get size(){return this._size}set size(t){throw new Error(\"Can't set property: 'size' is immutable\")}get multihash(){return this._multihash}set multihash(t){throw new Error(\"Can't set property: 'multihash' is immutable\")}},{className:\"DAGNode\",symbolName:\"@ipld/js-ipld-dag-pb/dagnode\"})).create=r(199),e.clone=r(997),e.addLink=r(998),e.rmLink=r(999)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(67),i=r(983),o=r(260).serialize,s=r(200).linkSort,a=r(198),u=r(101);t.exports=function(t,r,c,f){if(\"function\"==typeof t?(f=t,t=void 0):\"string\"==typeof t&&(t=e.from(t)),\"function\"==typeof r&&(f=r,r=[]),\"function\"==typeof c&&(f=c,c=void 0),!e.isBuffer(t))return f(new Error(\"Passed 'data' is not a buffer or a string!\"));c||(c=\"sha2-256\");const h=r.map(t=>u.isDAGLink(t)?t:u.util.createDagLinkFromB58EncodedHash(t)),l=i(h,s);o({data:t,links:l},(e,r)=>{if(e)return f(e);n(r,c,(e,n)=>{if(e)return f(e);const i=new a(t,l,r,n);f(null,i)})})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(n){const i=r(101);(e=t.exports).cloneData=function(t){let e;return t.data&&t.data.length>0?(e=n.alloc(t.data.length),t.data.copy(e)):e=n.alloc(0),e},e.cloneLinks=function(t){return t.links.slice()},e.linkSort=function(t,e){const r=n.from(t.name||\"\"),i=n.from(e.name||\"\");return r.compare(i)},e.toDAGLink=function(t){return new i(\"\",t.size,t.multihash)}}).call(this,r(0).Buffer)},function(t,e,r){var n;!function(i){\"use strict\";var o,s=/^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,a=Math.ceil,u=Math.floor,c=\"[BigNumber Error] \",f=c+\"Number primitive has more than 15 significant digits: \",h=1e14,l=14,p=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,m=1e9;function g(t){var e=0|t;return t>0||t===e?e:e-1}function b(t){for(var e,r,n=1,i=t.length,o=t[0]+\"\";n<i;){for(e=t[n++]+\"\",r=l-e.length;r--;e=\"0\"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function v(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function _(t,e,r,n){if(t<e||t>r||t!==(t<0?a(t):u(t)))throw Error(c+(n||\"Argument\")+(\"number\"==typeof t?t<e||t>r?\" out of range: \":\" not an integer: \":\" not a primitive number: \")+t)}function w(t){return\"[object Array]\"==Object.prototype.toString.call(t)}function S(t,e){return(t.length>1?t.charAt(0)+\".\"+t.slice(1):t)+(e<0?\"e\":\"e+\")+e}function k(t,e,r){var n,i;if(e<0){for(i=r+\".\";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+\".\"+t.slice(e));return t}(o=function t(e){var r,n,i,o=N.prototype,E=new N(1),A=20,x=4,T=-7,B=21,I=-1e7,C=1e7,M=!1,P=1,O=0,R={decimalSeparator:\".\",groupSeparator:\",\",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:\" \",fractionGroupSize:0},j=\"0123456789abcdefghijklmnopqrstuvwxyz\";function N(t,e){var r,o,a,c,h,d,y,m=this;if(!(m instanceof N))return new N(t,e);if(null==e){if(t instanceof N)return m.s=t.s,m.e=t.e,void(m.c=(t=t.c)?t.slice():t);if((h=\"number\"==typeof t)&&0*t==0){if(m.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,c=t;c>=10;c/=10,a++);return m.e=a,void(m.c=[t])}y=t+\"\"}else{if(!s.test(y=t+\"\"))return i(m,y,h);m.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}}else{if(_(e,2,j.length,\"Base\"),y=t+\"\",10==e)return U(m=new N(t instanceof N?t:y),A+m.e+1,x);if(h=\"number\"==typeof t){if(0*t!=0)return i(m,y,h,e);if(m.s=1/t<0?(y=y.slice(1),-1):1,y.replace(/^0\\.0*|\\./,\"\").length>15)throw Error(f+t);h=!1}else m.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1,e>10&&e<37&&(y=y.toLowerCase());for(r=j.slice(0,e),a=c=0,d=y.length;c<d;c++)if(r.indexOf(o=y.charAt(c))<0){if(\".\"==o&&c>a){a=d;continue}return i(m,t+\"\",h,e)}y=n(y,e,10,m.s)}for((a=y.indexOf(\".\"))>-1&&(y=y.replace(\".\",\"\")),(c=y.search(/e/i))>0?(a<0&&(a=c),a+=+y.slice(c+1),y=y.substring(0,c)):a<0&&(a=y.length),c=0;48===y.charCodeAt(c);c++);for(d=y.length;48===y.charCodeAt(--d););if(y=y.slice(c,d+1)){if(d=y.length,h&&d>15&&(t>p||t!==u(t)))throw Error(f+m.s*t);if((a=a-c-1)>C)m.c=m.e=null;else if(a<I)m.c=[m.e=0];else{if(m.e=a,m.c=[],c=(a+1)%l,a<0&&(c+=l),c<d){for(c&&m.c.push(+y.slice(0,c)),d-=l;c<d;)m.c.push(+y.slice(c,c+=l));y=y.slice(c),c=l-y.length}else c-=d;for(;c--;y+=\"0\");m.c.push(+y)}}else m.c=[m.e=0]}function L(t,e,r,n){var i,o,s,a,u;if(null==r?r=x:_(r,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=b(t.c),u=1==n||2==n&&s<=T?S(u,s):k(u,s,\"0\");else if(o=(t=U(new N(t),e,r)).e,a=(u=b(t.c)).length,1==n||2==n&&(e<=o||o<=T)){for(;a<e;u+=\"0\",a++);u=S(u,o)}else if(e-=s,u=k(u,o,\"0\"),o+1>a){if(--e>0)for(u+=\".\";e--;u+=\"0\");}else if((e+=o-a)>0)for(o+1==a&&(u+=\".\");e--;u+=\"0\");return t.s<0&&i?\"-\"+u:u}function K(t,e){var r,n,i=0;for(w(t[0])&&(t=t[0]),r=new N(t[0]);++i<t.length;){if(!(n=new N(t[i])).s){r=n;break}e.call(r,n)&&(r=n)}return r}function D(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*l-1)>C?t.c=t.e=null:r<I?t.c=[t.e=0]:(t.e=r,t.c=e),t}function U(t,e,r,n){var i,o,s,c,f,p,y,m=t.c,g=d;if(m){t:{for(i=1,c=m[0];c>=10;c/=10,i++);if((o=e-i)<0)o+=l,s=e,y=(f=m[p=0])/g[i-s-1]%10|0;else if((p=a((o+1)/l))>=m.length){if(!n)break t;for(;m.length<=p;m.push(0));f=y=0,i=1,s=(o%=l)-l+1}else{for(f=c=m[p],i=1;c>=10;c/=10,i++);y=(s=(o%=l)-l+i)<0?0:f/g[i-s-1]%10|0}if(n=n||e<0||null!=m[p+1]||(s<0?f:f%g[i-s-1]),n=r<4?(y||n)&&(0==r||r==(t.s<0?3:2)):y>5||5==y&&(4==r||n||6==r&&(o>0?s>0?f/g[i-s]:0:m[p-1])%10&1||r==(t.s<0?8:7)),e<1||!m[0])return m.length=0,n?(e-=t.e+1,m[0]=g[(l-e%l)%l],t.e=-e||0):m[0]=t.e=0,t;if(0==o?(m.length=p,c=1,p--):(m.length=p+1,c=g[l-o],m[p]=s>0?u(f/g[i-s]%g[s])*c:0),n)for(;;){if(0==p){for(o=1,s=m[0];s>=10;s/=10,o++);for(s=m[0]+=c,c=1;s>=10;s/=10,c++);o!=c&&(t.e++,m[0]==h&&(m[0]=1));break}if(m[p]+=c,m[p]!=h)break;m[p--]=0,c=1}for(o=m.length;0===m[--o];m.pop());}t.e>C?t.c=t.e=null:t.e<I&&(t.c=[t.e=0])}return t}return N.clone=t,N.ROUND_UP=0,N.ROUND_DOWN=1,N.ROUND_CEIL=2,N.ROUND_FLOOR=3,N.ROUND_HALF_UP=4,N.ROUND_HALF_DOWN=5,N.ROUND_HALF_EVEN=6,N.ROUND_HALF_CEIL=7,N.ROUND_HALF_FLOOR=8,N.EUCLID=9,N.config=N.set=function(t){var e,r;if(null!=t){if(\"object\"!=typeof t)throw Error(c+\"Object expected: \"+t);if(t.hasOwnProperty(e=\"DECIMAL_PLACES\")&&(_(r=t[e],0,m,e),A=r),t.hasOwnProperty(e=\"ROUNDING_MODE\")&&(_(r=t[e],0,8,e),x=r),t.hasOwnProperty(e=\"EXPONENTIAL_AT\")&&(w(r=t[e])?(_(r[0],-m,0,e),_(r[1],0,m,e),T=r[0],B=r[1]):(_(r,-m,m,e),T=-(B=r<0?-r:r))),t.hasOwnProperty(e=\"RANGE\"))if(w(r=t[e]))_(r[0],-m,-1,e),_(r[1],1,m,e),I=r[0],C=r[1];else{if(_(r,-m,m,e),!r)throw Error(c+e+\" cannot be zero: \"+r);I=-(C=r<0?-r:r)}if(t.hasOwnProperty(e=\"CRYPTO\")){if((r=t[e])!==!!r)throw Error(c+e+\" not true or false: \"+r);if(r){if(\"undefined\"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!r,Error(c+\"crypto unavailable\");M=r}else M=r}if(t.hasOwnProperty(e=\"MODULO_MODE\")&&(_(r=t[e],0,9,e),P=r),t.hasOwnProperty(e=\"POW_PRECISION\")&&(_(r=t[e],0,m,e),O=r),t.hasOwnProperty(e=\"FORMAT\")){if(\"object\"!=typeof(r=t[e]))throw Error(c+e+\" not an object: \"+r);R=r}if(t.hasOwnProperty(e=\"ALPHABET\")){if(\"string\"!=typeof(r=t[e])||/^.$|\\.|(.).*\\1/.test(r))throw Error(c+e+\" invalid: \"+r);j=r}}return{DECIMAL_PLACES:A,ROUNDING_MODE:x,EXPONENTIAL_AT:[T,B],RANGE:[I,C],CRYPTO:M,MODULO_MODE:P,POW_PRECISION:O,FORMAT:R,ALPHABET:j}},N.isBigNumber=function(t){return t instanceof N||t&&!0===t._isBigNumber||!1},N.maximum=N.max=function(){return K(arguments,o.lt)},N.minimum=N.min=function(){return K(arguments,o.gt)},N.random=function(){var t=9007199254740992*Math.random()&2097151?function(){return u(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var r,n,i,o,s,f=0,h=[],p=new N(E);if(null==e?e=A:_(e,0,m),o=a(e/l),M)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(o*=2));f<o;)(s=131072*r[f]+(r[f+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),r[f]=n[0],r[f+1]=n[1]):(h.push(s%1e14),f+=2);f=o/2}else{if(!crypto.randomBytes)throw M=!1,Error(c+\"crypto unavailable\");for(r=crypto.randomBytes(o*=7);f<o;)(s=281474976710656*(31&r[f])+1099511627776*r[f+1]+4294967296*r[f+2]+16777216*r[f+3]+(r[f+4]<<16)+(r[f+5]<<8)+r[f+6])>=9e15?crypto.randomBytes(7).copy(r,f):(h.push(s%1e14),f+=7);f=o/7}if(!M)for(;f<o;)(s=t())<9e15&&(h[f++]=s%1e14);for(o=h[--f],e%=l,o&&e&&(s=d[l-e],h[f]=u(o/s)*s);0===h[f];h.pop(),f--);if(f<0)h=[i=0];else{for(i=-1;0===h[0];h.splice(0,1),i-=l);for(f=1,s=h[0];s>=10;s/=10,f++);f<l&&(i-=l-f)}return p.e=i,p.c=h,p}}(),n=function(){function t(t,e,r,n){for(var i,o,s=[0],a=0,u=t.length;a<u;){for(o=s.length;o--;s[o]*=e);for(s[0]+=n.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(e,n,i,o,s){var a,u,c,f,h,l,p,d,y=e.indexOf(\".\"),m=A,g=x;for(y>=0&&(f=O,O=0,e=e.replace(\".\",\"\"),l=(d=new N(n)).pow(e.length-y),O=f,d.c=t(k(b(l.c),l.e,\"0\"),10,i,\"0123456789\"),d.e=d.c.length),c=f=(p=t(e,n,i,s?(a=j,\"0123456789\"):(a=\"0123456789\",j))).length;0==p[--f];p.pop());if(!p[0])return a.charAt(0);if(y<0?--c:(l.c=p,l.e=c,l.s=o,p=(l=r(l,d,m,g,i)).c,h=l.r,c=l.e),y=p[u=c+m+1],f=i/2,h=h||u<0||null!=p[u+1],h=g<4?(null!=y||h)&&(0==g||g==(l.s<0?3:2)):y>f||y==f&&(4==g||h||6==g&&1&p[u-1]||g==(l.s<0?8:7)),u<1||!p[0])e=h?k(a.charAt(1),-m,a.charAt(0)):a.charAt(0);else{if(p.length=u,h)for(--i;++p[--u]>i;)p[u]=0,u||(++c,p=[1].concat(p));for(f=p.length;!p[--f];);for(y=0,e=\"\";y<=f;e+=a.charAt(p[y++]));e=k(e,c,a.charAt(0))}return e}}(),r=function(){function t(t,e,r){var n,i,o,s,a=0,u=t.length,c=e%y,f=e/y|0;for(t=t.slice();u--;)a=((i=c*(o=t[u]%y)+(n=f*o+(s=t[u]/y|0)*c)%y*y+a)/r|0)+(n/y|0)+f*s,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,o,s,a){var c,f,p,d,y,m,b,v,_,w,S,k,E,A,x,T,B,I=n.s==i.s?1:-1,C=n.c,M=i.c;if(!(C&&C[0]&&M&&M[0]))return new N(n.s&&i.s&&(C?!M||C[0]!=M[0]:M)?C&&0==C[0]||!M?0*I:I/0:NaN);for(_=(v=new N(I)).c=[],I=o+(f=n.e-i.e)+1,a||(a=h,f=g(n.e/l)-g(i.e/l),I=I/l|0),p=0;M[p]==(C[p]||0);p++);if(M[p]>(C[p]||0)&&f--,I<0)_.push(1),d=!0;else{for(A=C.length,T=M.length,p=0,I+=2,(y=u(a/(M[0]+1)))>1&&(M=t(M,y,a),C=t(C,y,a),T=M.length,A=C.length),E=T,S=(w=C.slice(0,T)).length;S<T;w[S++]=0);B=M.slice(),B=[0].concat(B),x=M[0],M[1]>=a/2&&x++;do{if(y=0,(c=e(M,w,T,S))<0){if(k=w[0],T!=S&&(k=k*a+(w[1]||0)),(y=u(k/x))>1)for(y>=a&&(y=a-1),b=(m=t(M,y,a)).length,S=w.length;1==e(m,w,b,S);)y--,r(m,T<b?B:M,b,a),b=m.length,c=1;else 0==y&&(c=y=1),b=(m=M.slice()).length;if(b<S&&(m=[0].concat(m)),r(w,m,S,a),S=w.length,-1==c)for(;e(M,w,T,S)<1;)y++,r(w,T<S?B:M,S,a),S=w.length}else 0===c&&(y++,w=[0]);_[p++]=y,w[0]?w[S++]=C[E]||0:(w=[C[E]],S=1)}while((E++<A||null!=w[0])&&I--);d=null!=w[0],_[0]||_.splice(0,1)}if(a==h){for(p=1,I=_[0];I>=10;I/=10,p++);U(v,o+(v.e=p+f*l-1)+1,s,d)}else v.e=f,v.r=+d;return v}}(),i=function(){var t=/^(-?)0([xbo])(?=\\w[\\w.]*$)/i,e=/^([^.]+)\\.$/,r=/^\\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,i=/^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;return function(o,s,a,u){var f,h=a?s:s.replace(i,\"\");if(!n.test(h)){if(!a&&(h=h.replace(t,function(t,e,r){return f=\"x\"==(r=r.toLowerCase())?16:\"b\"==r?2:8,u&&u!=f?t:e}),u&&(f=u,h=h.replace(e,\"$1\").replace(r,\"0.$1\")),s!=h))return new N(h,f);throw Error(c+\"Not a\"+(u?\" base \"+u:\"\")+\" number: \"+s)}o.s=isNaN(h)?null:h<0?-1:1,o.c=o.e=null}}(),o.absoluteValue=o.abs=function(){var t=new N(this);return t.s<0&&(t.s=1),t},o.comparedTo=function(t,e){return v(this,new N(t,e))},o.decimalPlaces=o.dp=function(t,e){var r,n,i,o=this;if(null!=t)return _(t,0,m),null==e?e=x:_(e,0,8),U(new N(o),t+o.e+1,e);if(!(r=o.c))return null;if(n=((i=r.length-1)-g(this.e/l))*l,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},o.dividedBy=o.div=function(t,e){return r(this,new N(t,e),A,x)},o.dividedToIntegerBy=o.idiv=function(t,e){return r(this,new N(t,e),0,1)},o.isEqualTo=o.eq=function(t,e){return 0===v(this,new N(t,e))},o.integerValue=function(t){var e=new N(this);return null==t?t=x:_(t,0,8),U(e,e.e+1,t)},o.isGreaterThan=o.gt=function(t,e){return v(this,new N(t,e))>0},o.isGreaterThanOrEqualTo=o.gte=function(t,e){return 1===(e=v(this,new N(t,e)))||0===e},o.isFinite=function(){return!!this.c},o.isInteger=function(){return!!this.c&&g(this.e/l)>this.c.length-2},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&0==this.c[0]},o.isLessThan=o.lt=function(t,e){return v(this,new N(t,e))<0},o.isLessThanOrEqualTo=o.lte=function(t,e){return-1===(e=v(this,new N(t,e)))||0===e},o.minus=function(t,e){var r,n,i,o,s=this,a=s.s;if(e=(t=new N(t,e)).s,!a||!e)return new N(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/l,c=t.e/l,f=s.c,p=t.c;if(!u||!c){if(!f||!p)return f?(t.s=-e,t):new N(p?s:NaN);if(!f[0]||!p[0])return p[0]?(t.s=-e,t):new N(f[0]?s:3==x?-0:0)}if(u=g(u),c=g(c),f=f.slice(),a=u-c){for((o=a<0)?(a=-a,i=f):(c=u,i=p),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=f.length)<(e=p.length))?a:e,a=e=0;e<n;e++)if(f[e]!=p[e]){o=f[e]<p[e];break}if(o&&(i=f,f=p,p=i,t.s=-t.s),(e=(n=p.length)-(r=f.length))>0)for(;e--;f[r++]=0);for(e=h-1;n>a;){if(f[--n]<p[n]){for(r=n;r&&!f[--r];f[r]=e);--f[r],f[n]+=h}f[n]-=p[n]}for(;0==f[0];f.splice(0,1),--c);return f[0]?D(t,f,c):(t.s=3==x?-1:1,t.c=[t.e=0],t)},o.modulo=o.mod=function(t,e){var n,i,o=this;return t=new N(t,e),!o.c||!t.s||t.c&&!t.c[0]?new N(NaN):!t.c||o.c&&!o.c[0]?new N(o):(9==P?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,P),o.minus(n.times(t)))},o.multipliedBy=o.times=function(t,e){var r,n,i,o,s,a,u,c,f,p,d,m,b,v,_,w=this,S=w.c,k=(t=new N(t,e)).c;if(!(S&&k&&S[0]&&k[0]))return!w.s||!t.s||S&&!S[0]&&!k||k&&!k[0]&&!S?t.c=t.e=t.s=null:(t.s*=w.s,S&&k?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=g(w.e/l)+g(t.e/l),t.s*=w.s,(u=S.length)<(p=k.length)&&(b=S,S=k,k=b,i=u,u=p,p=i),i=u+p,b=[];i--;b.push(0));for(v=h,_=y,i=p;--i>=0;){for(r=0,d=k[i]%_,m=k[i]/_|0,o=i+(s=u);o>i;)r=((c=d*(c=S[--s]%_)+(a=m*c+(f=S[s]/_|0)*d)%_*_+b[o]+r)/v|0)+(a/_|0)+m*f,b[o--]=c%v;b[o]=r}return r?++n:b.splice(0,1),D(t,b,n)},o.negated=function(){var t=new N(this);return t.s=-t.s||null,t},o.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new N(t,e)).s,!i||!e)return new N(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/l,s=t.e/l,a=n.c,u=t.c;if(!o||!s){if(!a||!u)return new N(i/0);if(!a[0]||!u[0])return u[0]?t:new N(a[0]?n:0*i)}if(o=g(o),s=g(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/h|0,a[e]=h===a[e]?0:a[e]%h;return i&&(a=[i].concat(a),++s),D(t,a,s)},o.precision=o.sd=function(t,e){var r,n,i,o=this;if(null!=t&&t!==!!t)return _(t,1,m),null==e?e=x:_(e,0,8),U(new N(o),t,e);if(!(r=o.c))return null;if(n=(i=r.length-1)*l+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},o.shiftedBy=function(t){return _(t,-p,p),this.times(\"1e\"+t)},o.squareRoot=o.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,u=s.s,c=s.e,f=A+4,h=new N(\"0.5\");if(1!==u||!a||!a[0])return new N(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+s))||u==1/0?(((e=b(a)).length+c)%2==0&&(e+=\"0\"),u=Math.sqrt(e),c=g((c+1)/2)-(c<0||c%2),n=new N(e=u==1/0?\"1e\"+c:(e=u.toExponential()).slice(0,e.indexOf(\"e\")+1)+c)):n=new N(u+\"\"),n.c[0])for((u=(c=n.e)+f)<3&&(u=0);;)if(o=n,n=h.times(o.plus(r(s,o,f,1))),b(o.c).slice(0,u)===(e=b(n.c)).slice(0,u)){if(n.e<c&&--u,\"9999\"!=(e=e.slice(u-3,u+1))&&(i||\"4999\"!=e)){+e&&(+e.slice(1)||\"5\"!=e.charAt(0))||(U(n,n.e+A+2,1),t=!n.times(n).eq(s));break}if(!i&&(U(o,o.e+A+2,0),o.times(o).eq(s))){n=o;break}f+=4,u+=4,i=1}return U(n,n.e+A+1,x,t)},o.toExponential=function(t,e){return null!=t&&(_(t,0,m),t++),L(this,t,e,1)},o.toFixed=function(t,e){return null!=t&&(_(t,0,m),t=t+this.e+1),L(this,t,e)},o.toFormat=function(t,e){var r=this.toFixed(t,e);if(this.c){var n,i=r.split(\".\"),o=+R.groupSize,s=+R.secondaryGroupSize,a=R.groupSeparator,u=i[0],c=i[1],f=this.s<0,h=f?u.slice(1):u,l=h.length;if(s&&(n=o,o=s,s=n,l-=n),o>0&&l>0){for(n=l%o||o,u=h.substr(0,n);n<l;n+=o)u+=a+h.substr(n,o);s>0&&(u+=a+h.slice(n)),f&&(u=\"-\"+u)}r=c?u+R.decimalSeparator+((s=+R.fractionGroupSize)?c.replace(new RegExp(\"\\\\d{\"+s+\"}\\\\B\",\"g\"),\"$&\"+R.fractionGroupSeparator):c):u}return r},o.toFraction=function(t){var e,n,i,o,s,a,u,f,h,p,y,m,g=this,v=g.c;if(null!=t&&(!(f=new N(t)).isInteger()||f.lt(E)))throw Error(c+\"Argument \"+(f.isInteger()?\"out of range: \":\"not an integer: \")+t);if(!v)return g.toString();for(n=new N(E),p=i=new N(E),o=h=new N(E),m=b(v),a=n.e=m.length-g.e-1,n.c[0]=d[(u=a%l)<0?l+u:u],t=!t||f.comparedTo(n)>0?a>0?n:p:f,u=C,C=1/0,f=new N(m),h.c[0]=0;y=r(f,n,0,1),1!=(s=i.plus(y.times(o))).comparedTo(t);)i=o,o=s,p=h.plus(y.times(s=p)),h=s,n=f.minus(y.times(s=n)),f=s;return s=r(t.minus(i),o,0,1),h=h.plus(s.times(p)),i=i.plus(s.times(o)),h.s=p.s=g.s,e=r(p,o,a*=2,x).minus(g).abs().comparedTo(r(h,i,a,x).minus(g).abs())<1?[p.toString(),o.toString()]:[h.toString(),i.toString()],C=u,e},o.toNumber=function(){return+this},o.exponentiatedBy=o.pow=function(t,e){var r,n,i,o,s=this;for(_(t,-p,p),null!=e&&(e=new N(e)),e?t>1&&s.gt(E)&&s.isInteger()&&e.gt(E)&&e.isInteger()?s=s.mod(e):(o=e,e=null):O&&(n=a(O/l+2)),i=new N(E),r=u(t<0?-t:t);;){if(r%2){if(!(i=i.times(s)).c)break;n?i.c.length>n&&(i.c.length=n):e&&(i=i.mod(e))}if(!(r=u(r/2)))break;s=s.times(s),n?s.c&&s.c.length>n&&(s.c.length=n):e&&(s=s.mod(e))}return e?i:(t<0&&(i=E.div(i)),o?i.mod(o):n?U(i,O,x):i)},o.toPrecision=function(t,e){return null!=t&&_(t,1,m),L(this,t,e,2)},o.toString=function(t){var e,r=this,i=r.s,o=r.e;return null===o?i?(e=\"Infinity\",i<0&&(e=\"-\"+e)):e=\"NaN\":(e=b(r.c),null==t?e=o<=T||o>=B?S(e,o):k(e,o,\"0\"):(_(t,2,j.length,\"Base\"),e=n(k(e,o,\"0\"),10,t,i,!0)),i<0&&r.c[0]&&(e=\"-\"+e)),e},o.valueOf=o.toJSON=function(){var t,e=this,r=e.e;return null===r?e.toString():(t=b(e.c),t=r<=T||r>=B?S(t,r):k(t,r,\"0\"),e.s<0?\"-\"+t:t)},o._isBigNumber=!0,null!=e&&N.set(e),N}()).default=o.BigNumber=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){\"use strict\";const n=r(201);e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol(\"null\"),UNDEFINED:Symbol(\"undef\"),PARENT:Symbol(\"parent\"),BREAK:Symbol(\"break\"),STREAM:Symbol(\"stream\")},e.SHIFT32=Math.pow(2,32),e.SHIFT16=Math.pow(2,16),e.MAX_SAFE_HIGH=2097151,e.NEG_ONE=new n(-1),e.TEN=new n(10),e.TWO=new n(2),e.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}},function(t,e,r){\"use strict\";const n=r(204).SmartBuffer,i=r(415),o=r(185),s=r(10),a=r(13);(e=t.exports).SHA1_LENGTH=i.defaultLengths[i.names.sha1],e.find=((t,e)=>{for(let r=0;r<t.length;r++)if(t[r]===e)return r;return-1}),e.parsePersonLine=(t=>{let e=t.match(/^(([^<]+)\\s)?\\s?<([^>]+)>\\s?(\\d+\\s[+\\-\\d]+)?$/);return null===e?null:{name:e[2],email:e[3],date:e[4]}}),e.serializePersonLine=(t=>{let e=[];return t.name&&e.push(t.name),e.push(\"<\"+t.email+\">\"),t.date&&e.push(t.date),e.join(\" \")}),e.shaToCid=(t=>{let r=new n;return r.writeUInt8(1),r.writeBuffer(o[\"git-raw\"]),r.writeUInt8(i.names.sha1),r.writeUInt8(e.SHA1_LENGTH),r.writeBuffer(t),r.toBuffer()}),e.cidToSha=(t=>{let e=s.decode(new a(t).multihash);return\"sha1\"!==e.name?null:e.digest})},function(t,e,r){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});const n=r(1007),i=4096,o=\"utf8\";class s{constructor(e){if(this.length=0,this._encoding=o,this._writeOffset=0,this._readOffset=0,s.isSmartBufferOptions(e))if(e.encoding&&(n.checkEncoding(e.encoding),this._encoding=e.encoding),e.size){if(!(n.isFiniteInteger(e.size)&&e.size>0))throw new Error(n.ERRORS.INVALID_SMARTBUFFER_SIZE);this._buff=t.allocUnsafe(e.size)}else if(e.buff){if(!(e.buff instanceof t))throw new Error(n.ERRORS.INVALID_SMARTBUFFER_BUFFER);this._buff=e.buff,this.length=e.buff.length}else this._buff=t.allocUnsafe(i);else{if(void 0!==e)throw new Error(n.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=t.allocUnsafe(i)}}static fromSize(t,e){return new this({size:t,encoding:e})}static fromBuffer(t,e){return new this({buff:t,encoding:e})}static fromOptions(t){return new this(t)}static isSmartBufferOptions(t){const e=t;return e&&(void 0!==e.encoding||void 0!==e.size||void 0!==e.buff)}readInt8(e){return this._readNumberValue(t.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(t.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(t.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(t.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(t.prototype.readInt32LE,4,e)}writeInt8(e,r){return this._writeNumberValue(t.prototype.writeInt8,1,e,r),this}insertInt8(e,r){return this._insertNumberValue(t.prototype.writeInt8,1,e,r),this}writeInt16BE(e,r){return this._writeNumberValue(t.prototype.writeInt16BE,2,e,r),this}insertInt16BE(e,r){return this._insertNumberValue(t.prototype.writeInt16BE,2,e,r),this}writeInt16LE(e,r){return this._writeNumberValue(t.prototype.writeInt16LE,2,e,r),this}insertInt16LE(e,r){return this._insertNumberValue(t.prototype.writeInt16LE,2,e,r),this}writeInt32BE(e,r){return this._writeNumberValue(t.prototype.writeInt32BE,4,e,r),this}insertInt32BE(e,r){return this._insertNumberValue(t.prototype.writeInt32BE,4,e,r),this}writeInt32LE(e,r){return this._writeNumberValue(t.prototype.writeInt32LE,4,e,r),this}insertInt32LE(e,r){return this._insertNumberValue(t.prototype.writeInt32LE,4,e,r),this}readUInt8(e){return this._readNumberValue(t.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(t.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(t.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(t.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(t.prototype.readUInt32LE,4,e)}writeUInt8(e,r){return this._writeNumberValue(t.prototype.writeUInt8,1,e,r),this}insertUInt8(e,r){return this._insertNumberValue(t.prototype.writeUInt8,1,e,r),this}writeUInt16BE(e,r){return this._writeNumberValue(t.prototype.writeUInt16BE,2,e,r),this}insertUInt16BE(e,r){return this._insertNumberValue(t.prototype.writeUInt16BE,2,e,r),this}writeUInt16LE(e,r){return this._writeNumberValue(t.prototype.writeUInt16LE,2,e,r),this}insertUInt16LE(e,r){return this._insertNumberValue(t.prototype.writeUInt16LE,2,e,r),this}writeUInt32BE(e,r){return this._writeNumberValue(t.prototype.writeUInt32BE,4,e,r),this}insertUInt32BE(e,r){return this._insertNumberValue(t.prototype.writeUInt32BE,4,e,r),this}writeUInt32LE(e,r){return this._writeNumberValue(t.prototype.writeUInt32LE,4,e,r),this}insertUInt32LE(e,r){return this._insertNumberValue(t.prototype.writeUInt32LE,4,e,r),this}readFloatBE(e){return this._readNumberValue(t.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(t.prototype.readFloatLE,4,e)}writeFloatBE(e,r){return this._writeNumberValue(t.prototype.writeFloatBE,4,e,r),this}insertFloatBE(e,r){return this._insertNumberValue(t.prototype.writeFloatBE,4,e,r),this}writeFloatLE(e,r){return this._writeNumberValue(t.prototype.writeFloatLE,4,e,r),this}insertFloatLE(e,r){return this._insertNumberValue(t.prototype.writeFloatLE,4,e,r),this}readDoubleBE(e){return this._readNumberValue(t.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(t.prototype.readDoubleLE,8,e)}writeDoubleBE(e,r){return this._writeNumberValue(t.prototype.writeDoubleBE,8,e,r),this}insertDoubleBE(e,r){return this._insertNumberValue(t.prototype.writeDoubleBE,8,e,r),this}writeDoubleLE(e,r){return this._writeNumberValue(t.prototype.writeDoubleLE,8,e,r),this}insertDoubleLE(e,r){return this._insertNumberValue(t.prototype.writeDoubleLE,8,e,r),this}readString(t,e){let r;\"number\"==typeof t?(n.checkLengthValue(t),r=Math.min(t,this.length-this._readOffset)):(e=t,r=this.length-this._readOffset),void 0!==e&&n.checkEncoding(e);const i=this._buff.slice(this._readOffset,this._readOffset+r).toString(e||this._encoding);return this._readOffset+=r,i}insertString(t,e,r){return n.checkOffsetValue(e),this._handleString(t,!0,e,r)}writeString(t,e,r){return this._handleString(t,!1,e,r)}readStringNT(t){void 0!==t&&n.checkEncoding(t);let e=this.length;for(let t=this._readOffset;t<this.length;t++)if(0===this._buff[t]){e=t;break}const r=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,r.toString(t||this._encoding)}insertStringNT(t,e,r){n.checkOffsetValue(e),this.insertString(t,e,r),this.insertUInt8(0,e+t.length)}writeStringNT(t,e,r){this.writeString(t,e,r),this.writeUInt8(0,\"number\"==typeof e?e+t.length:this.writeOffset)}readBuffer(t){void 0!==t&&n.checkLengthValue(t);const e=\"number\"==typeof t?t:this.length,r=Math.min(this.length,this._readOffset+e),i=this._buff.slice(this._readOffset,r);return this._readOffset=r,i}insertBuffer(t,e){return n.checkOffsetValue(e),this._handleBuffer(t,!0,e)}writeBuffer(t,e){return this._handleBuffer(t,!1,e)}readBufferNT(){let t=this.length;for(let e=this._readOffset;e<this.length;e++)if(0===this._buff[e]){t=e;break}const e=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,e}insertBufferNT(t,e){return n.checkOffsetValue(e),this.insertBuffer(t,e),this.insertUInt8(0,e+t.length),this}writeBufferNT(t,e){return void 0!==e&&n.checkOffsetValue(e),this.writeBuffer(t,e),this.writeUInt8(0,\"number\"==typeof e?e+t.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(t){n.checkOffsetValue(t),n.checkTargetOffset(t,this),this._readOffset=t}get writeOffset(){return this._writeOffset}set writeOffset(t){n.checkOffsetValue(t),n.checkTargetOffset(t,this),this._writeOffset=t}get encoding(){return this._encoding}set encoding(t){n.checkEncoding(t),this._encoding=t}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(t){const e=\"string\"==typeof t?t:this._encoding;return n.checkEncoding(e),this._buff.toString(e,0,this.length)}destroy(){return this.clear(),this}_handleString(e,r,i,o){let s=this._writeOffset,a=this._encoding;\"number\"==typeof i?s=i:\"string\"==typeof i&&(n.checkEncoding(i),a=i),\"string\"==typeof o&&(n.checkEncoding(o),a=o);const u=t.byteLength(e,a);return r?this.ensureInsertable(u,s):this._ensureWriteable(u,s),this._buff.write(e,s,u,a),r?this._writeOffset+=u:\"number\"==typeof i?this._writeOffset=Math.max(this._writeOffset,s+u):this._writeOffset+=u,this}_handleBuffer(t,e,r){const n=\"number\"==typeof r?r:this._writeOffset;return e?this.ensureInsertable(t.length,n):this._ensureWriteable(t.length,n),t.copy(this._buff,n),e?this._writeOffset+=t.length:\"number\"==typeof r?this._writeOffset=Math.max(this._writeOffset,n+t.length):this._writeOffset+=t.length,this}ensureReadable(t,e){let r=this._readOffset;if(void 0!==e&&(n.checkOffsetValue(e),r=e),r<0||r+t>this.length)throw new Error(n.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(t,e){n.checkOffsetValue(e),this._ensureCapacity(this.length+t),e<this.length&&this._buff.copy(this._buff,e+t,e,this._buff.length),e+t>this.length?this.length=e+t:this.length+=t}_ensureWriteable(t,e){const r=\"number\"==typeof e?e:this._writeOffset;this._ensureCapacity(r+t),r+t>this.length&&(this.length=r+t)}_ensureCapacity(e){const r=this._buff.length;if(e>r){let n=this._buff,i=3*r/2+1;i<e&&(i=e),this._buff=t.allocUnsafe(i),n.copy(this._buff,0,0,r)}}_readNumberValue(t,e,r){this.ensureReadable(e,r);const n=t.call(this._buff,\"number\"==typeof r?r:this._readOffset);return void 0===r&&(this._readOffset+=e),n}_insertNumberValue(t,e,r,i){n.checkOffsetValue(i),this.ensureInsertable(e,i),t.call(this._buff,r,i),this._writeOffset+=e}_writeNumberValue(t,e,r,i){if(\"number\"==typeof i){if(i<0)throw new Error(n.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);n.checkOffsetValue(i)}const o=\"number\"==typeof i?i:this._writeOffset;this._ensureWriteable(e,o),t.call(this._buff,r,o),\"number\"==typeof i?this._writeOffset=Math.max(this._writeOffset,o+e):this._writeOffset+=e}}e.SmartBuffer=s}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=r(1043),o=r(1049),s=r(15),a=r(146),u=r(16),c=r(74),f=r(3).Buffer;Object.assign(e,r(1053)),e.MAX_INTEGER=new u(\"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\",16),e.TWO_POW256=new u(\"10000000000000000000000000000000000000000000000000000000000000000\",16),e.KECCAK256_NULL_S=\"c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470\",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=f.from(e.KECCAK256_NULL_S,\"hex\"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S=\"1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=f.from(e.KECCAK256_RLP_ARRAY_S,\"hex\"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S=\"56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421\",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=f.from(e.KECCAK256_RLP_S,\"hex\"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=u,e.rlp=a,e.secp256k1=o,e.zeros=function(t){return f.allocUnsafe(t).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&\"0\"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!f.isBuffer(t))if(Array.isArray(t))t=f.from(t);else if(\"string\"==typeof t)t=e.isHexString(t)?f.from(e.padToEven(e.stripHexPrefix(t)),\"hex\"):f.from(t);else if(\"number\"==typeof t)t=e.intToBuffer(t);else if(null===t||void 0===t)t=f.allocUnsafe(0);else if(u.isBN(t))t=t.toArrayLike(f);else{if(!t.toArray)throw new Error(\"invalid type\");t=f.from(t.toArray())}return t},e.bufferToInt=function(t){return new u(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return\"0x\"+(t=e.toBuffer(t)).toString(\"hex\")},e.fromSigned=function(t){return new u(t).fromTwos(256)},e.toUnsigned=function(t){return f.from(t.toTwos(256).toArray())},e.keccak=function(t,r){return t=e.toBuffer(t),r||(r=256),i(\"keccak\"+r).update(t).digest()},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),c(\"sha256\").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=c(\"rmd160\").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.keccak(a.encode(t))},e.isValidPrivate=function(t){return o.privateKeyVerify(t)},e.isValidPublic=function(t,e){return 64===t.length?o.publicKeyVerify(f.concat([f.from([4]),t])):!!e&&o.publicKeyVerify(t)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=o.publicKeyConvert(t,!1).slice(1)),s(64===t.length),e.keccak(t).slice(-20)};var h=e.privateToPublic=function(t){return t=e.toBuffer(t),o.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=o.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(t,e){var r=o.sign(t,e),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer(\"\u0019Ethereum Signed Message:\\n\"+t.length.toString());return e.keccak(f.concat([r,t]))},e.ecrecover=function(t,r,n,i){var s=f.concat([e.setLength(n,32),e.setLength(i,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error(\"Invalid signature v value\");var u=o.recover(t,s,a);return o.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,n){if(27!==t&&28!==t)throw new Error(\"Invalid recovery id\");return e.bufferToHex(f.concat([e.setLengthLeft(r,32),e.setLengthLeft(n,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error(\"Invalid signature length\");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(h(t))},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString(\"hex\"),n=\"0x\",i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new u(r)).isZero()?null:f.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return\"string\"!=typeof t?t:e.isHexPrefixed(t)?t:\"0x\"+t},e.isValidSignature=function(t,e,r,n){var i=new u(\"7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0\",16),o=new u(\"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\",16);return 32===e.length&&32===r.length&&((27===t||28===t)&&(e=new u(e),r=new u(r),!(e.isZero()||e.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new u(r).cmp(i))))},e.baToJSON=function(t){if(f.isBuffer(t))return\"0x\"+t.toString(\"hex\");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}},e.defineProperties=function(t,r,i){if(t.raw=[],t._fields=[],t.toJSON=function(r){if(r){var n={};return t._fields.forEach(function(e){n[e]=\"0x\"+t[e].toString(\"hex\")}),n}return e.baToJSON(this.raw)},t.serialize=function(){return a.encode(t.raw)},r.forEach(function(r,n){function i(){return t.raw[n]}function o(i){\"00\"!==(i=e.toBuffer(i)).toString(\"hex\")||r.allowZero||(i=f.allocUnsafe(0)),r.allowLess&&r.length?(i=e.stripZeros(i),s(r.length>=i.length,\"The field \"+r.name+\" must not have more \"+r.length+\" bytes\")):r.allowZero&&0===i.length||!r.length||s(r.length===i.length,\"The field \"+r.name+\" must have byte length of \"+r.length),t.raw[n]=i}t._fields.push(r.name),Object.defineProperty(t,r.name,{enumerable:!0,configurable:!0,get:i,set:o}),r.default&&(t[r.name]=r.default),r.alias&&Object.defineProperty(t,r.alias,{enumerable:!1,configurable:!0,set:o,get:i})}),i)if(\"string\"==typeof i&&(i=f.from(e.stripHexPrefix(i),\"hex\")),f.isBuffer(i)&&(i=a.decode(i)),Array.isArray(i)){if(i.length>t._fields.length)throw new Error(\"wrong number of fields in data\");i.forEach(function(r,n){t[t._fields[n]]=e.toBuffer(r)})}else{if(\"object\"!==(void 0===i?\"undefined\":n(i)))throw new Error(\"invalid data\");var o=Object.keys(i);r.forEach(function(e){-1!==o.indexOf(e.name)&&(t[e.name]=i[e.name]),-1!==o.indexOf(e.alias)&&(t[e.alias]=i[e.alias])})}}},function(t,e,r){\"use strict\";var n=e;n.base=r(1082),n.short=r(1083),n.mont=r(1084),n.edwards=r(1085)},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(105),o=r(149),s=r(30),a=r(28),u=r(104),c=r(114),f=r(78),h=r(210),l=r(21);function p(t,e){if(!(this instanceof p))return new p(t,e);if(t instanceof p)return t;var r=this._classifyArguments(t,e);if(!r.bn||0===r.bn.cmp(new s(0)))throw new TypeError(\"Number can not be equal to zero, undefined, null or false\");if(!r.bn.lt(c.getN()))throw new TypeError(\"Number must be less than N\");if(void 0===r.network)throw new TypeError('Must specify the network (\"livenet\" or \"testnet\")');return a.defineImmutable(this,{bn:r.bn,compressed:r.compressed,network:r.network}),Object.defineProperty(this,\"publicKey\",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}p.prototype._classifyArguments=function(t,r){var i={compressed:!0,network:r?u.get(r):u.defaultNetwork};if(n.isUndefined(t)||n.isNull(t))i.bn=p._getRandomBN();else if(t instanceof s)i.bn=t;else if(t instanceof e||t instanceof Uint8Array)i=p._transformBuffer(t,r);else if(t.bn&&t.network)i=p._transformObject(t);else if(!r&&u.get(t))i.bn=p._getRandomBN(),i.network=u.get(t);else{if(\"string\"!=typeof t)throw new TypeError(\"First argument is an unrecognized data type.\");a.isHexa(t)?i.bn=new s(new e(t,\"hex\")):i=p._transformWIF(t,r)}return i},p._getRandomBN=function(){var t,e;do{var r=h.getRandomBuffer(32);t=(e=s.fromBuffer(r)).lt(c.getN())}while(!t);return e},p._transformBuffer=function(t,e){var r={};if(32===t.length)return p._transformBNBuffer(t,e);if(r.network=u.get(t[0],\"privatekey\"),!r.network)throw new Error(\"Invalid network\");if(e&&r.network!==u.get(e))throw new TypeError(\"Private key network mismatch\");if(34===t.length&&1===t[33])r.compressed=!0;else{if(33!==t.length)throw new Error(\"Length of buffer must be 33 (uncompressed) or 34 (compressed)\");r.compressed=!1}return r.bn=s.fromBuffer(t.slice(1,33)),r},p._transformBNBuffer=function(t,e){var r={};return r.network=u.get(e)||u.defaultNetwork,r.bn=s.fromBuffer(t),r.compressed=!1,r},p._transformWIF=function(t,e){return p._transformBuffer(o.decode(t),e)},p.fromBuffer=function(t,e){return new p(t,e)},p._transformObject=function(t){return{bn:new s(t.bn,\"hex\"),network:u.get(t.network),compressed:t.compressed}},p.fromString=p.fromWIF=function(t){return l.checkArgument(n.isString(t),\"First argument is expected to be a string.\"),new p(t)},p.fromObject=function(t){return l.checkArgument(n.isObject(t),\"First argument is expected to be an object.\"),new p(t)},p.fromRandom=function(t){return new p(p._getRandomBN(),t)},p.getValidationError=function(t,e){var r;try{new p(t,e)}catch(t){r=t}return r},p.isValid=function(t,e){return!!t&&!p.getValidationError(t,e)},p.prototype.toString=function(){return this.toBuffer().toString(\"hex\")},p.prototype.toWIF=function(){var t,r=this.network;return t=this.compressed?e.concat([new e([r.privatekey]),this.bn.toBuffer({size:32}),new e([1])]):e.concat([new e([r.privatekey]),this.bn.toBuffer({size:32})]),o.encode(t)},p.prototype.toBigNumber=function(){return this.bn},p.prototype.toBuffer=function(){return this.bn.toBuffer()},p.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=f.fromPrivateKey(this)),this._pubkey},p.prototype.toAddress=function(t){var e=this.toPublicKey();return i.fromPublicKey(e,t||this.network)},p.prototype.toObject=p.prototype.toJSON=function(){return{bn:this.bn.toString(\"hex\"),compressed:this.compressed,network:this.network.toString()}},p.prototype.inspect=function(){var t=this.compressed?\"\":\", uncompressed\";return\"<PrivateKey: \"+this.toString()+\", network: \"+this.network+t+\">\"},t.exports=p}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(495),o=r(0),s=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\".split(\"\"),a=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r)){var n=r;this.fromBuffer(n)}else if(\"string\"==typeof r){var i=r;this.fromString(i)}else r&&this.set(r)};a.validCharacters=function(t){return o.Buffer.isBuffer(t)&&(t=t.toString()),n.all(n.map(t,function(t){return n.contains(s,t)}))},a.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this},a.encode=function(t){if(!o.Buffer.isBuffer(t))throw new Error(\"Input should be a buffer\");return i.encode(t)},a.decode=function(t){if(\"string\"!=typeof t)throw new Error(\"Input should be a string\");return new e(i.decode(t))},a.prototype.fromBuffer=function(t){return this.buf=t,this},a.prototype.fromString=function(t){var e=a.decode(t);return this.buf=e,this},a.prototype.toBuffer=function(){return this.buf},a.prototype.toString=function(){return a.encode(this.buf)},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){t.exports=r(281),t.exports.Input=r(282),t.exports.Output=r(91),t.exports.UnspentOutput=r(497),t.exports.Signature=r(151),t.exports.Sighash=r(90)},function(t,e,r){\"use strict\";(function(e,n){function i(){}i.getRandomBuffer=function(t){return e.browser?i.getRandomBufferBrowser(t):i.getRandomBufferNode(t)},i.getRandomBufferNode=function(t){return r(96).randomBytes(t)},i.getRandomBufferBrowser=function(t){if(!window.crypto&&!window.msCrypto)throw new Error(\"window.crypto not available\");if(window.crypto&&window.crypto.getRandomValues)var e=window.crypto;else{if(!window.msCrypto||!window.msCrypto.getRandomValues)throw new Error(\"window.crypto.getRandomValues not available\");e=window.msCrypto}var r=new Uint8Array(t);return e.getRandomValues(r),new n(r)},i.getPseudoRandomBuffer=function(t){for(var e,r=new n(t),i=0;i<=t;i++){0===i-4*Math.floor(i/4)?(e=4294967296*Math.random(),r[i]=255&e):r[i]=255&(e>>>=8)}return r},t.exports=i}).call(this,r(7),r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(30),o=r(23),s=r(89),a=r(59),u=r(45),c=(r(28),r(21)),f=function t(e){if(!(this instanceof t))return new t(e);var r=t._from(e);return this.version=r.version,this.prevHash=r.prevHash,this.merkleRoot=r.merkleRoot,this.reserved=r.reserved,this.time=r.time,this.timestamp=r.time,this.bits=r.bits,this.nonce=r.nonce,this.solution=r.solution,r.hash&&c.checkState(this.hash===r.hash,\"Argument object hash property does not match block hash.\"),this};f._from=function(t){var e={};if(o.isBuffer(t))e=f._fromBufferReader(s(t));else{if(!n.isObject(t))throw new TypeError(\"Unrecognized argument for BlockHeader\");e=f._fromObject(t)}return e},f._fromObject=function(t){c.checkArgument(t,\"data is required\");var r=t.prevHash,i=t.merkleRoot,s=t.reserved,a=t.nonce,u=t.solution;return n.isString(t.prevHash)&&(r=o.reverse(new e(t.prevHash,\"hex\"))),n.isString(t.merkleRoot)&&(i=o.reverse(new e(t.merkleRoot,\"hex\"))),n.isString(t.reserved)&&(s=o.reverse(new e(t.reserved,\"hex\"))),n.isString(t.nonce)&&(a=o.reverse(new e(t.nonce,\"hex\"))),n.isString(t.solution)&&(u=new e(t.solution,\"hex\")),{hash:t.hash,version:t.version,prevHash:r,merkleRoot:i,reserved:s,time:t.time,timestamp:t.time,bits:t.bits,nonce:a,solution:u}},f.fromObject=function(t){var e=f._fromObject(t);return new f(e)},f.fromRawBlock=function(t){o.isBuffer(t)||(t=new e(t,\"binary\"));var r=s(t);r.pos=f.Constants.START_OF_HEADER;var n=f._fromBufferReader(r);return new f(n)},f.fromBuffer=function(t){var e=f._fromBufferReader(s(t));return new f(e)},f.fromString=function(t){var r=new e(t,\"hex\");return f.fromBuffer(r)},f._fromBufferReader=function(t){var e={};e.version=t.readUInt32LE(),e.prevHash=t.read(32),e.merkleRoot=t.read(32),e.reserved=t.read(32),e.time=t.readUInt32LE(),e.bits=t.readUInt32LE(),e.nonce=t.read(32);var r=t.readVarintNum();return e.solution=t.read(r),e},f.fromBufferReader=function(t){var e=f._fromBufferReader(t);return new f(e)},f.prototype.toObject=f.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:o.reverse(this.prevHash).toString(\"hex\"),merkleRoot:o.reverse(this.merkleRoot).toString(\"hex\"),reserved:o.reverse(this.reserved).toString(\"hex\"),time:this.time,bits:this.bits,nonce:o.reverse(this.nonce).toString(\"hex\"),solution:this.solution.toString(\"hex\")}},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toString=function(){return this.toBuffer().toString(\"hex\")},f.prototype.toBufferWriter=function(t){return t||(t=new a),t.writeUInt32LE(this.version),t.write(this.prevHash),t.write(this.merkleRoot),t.write(this.reserved),t.writeUInt32LE(this.time),t.writeUInt32LE(this.bits),t.write(this.nonce),t.writeVarintNum(this.solution.length),t.write(this.solution),t},f.prototype.getTargetDifficulty=function(t){t=t||this.bits;for(var e=new i(16777215&t),r=8*((t>>>24)-3);r-- >0;)e=e.mul(new i(2));return e},f.prototype.getDifficulty=function(){var t=this.getTargetDifficulty(537133055).mul(new i(Math.pow(10,8))),e=this.getTargetDifficulty(),r=t.div(e).toString(10),n=r.length-8;return r=r.slice(0,n)+\".\"+r.slice(n),parseFloat(r)},f.prototype._getHash=function(){var t=this.toBuffer();return u.sha256sha256(t)};var h={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=s(this._getHash()).readReverse().toString(\"hex\")),this._id},set:n.noop};Object.defineProperty(f.prototype,\"id\",h),Object.defineProperty(f.prototype,\"hash\",h),f.prototype.validTimestamp=function(){var t=Math.round((new Date).getTime()/1e3);return!(this.time>t+f.Constants.MAX_TIME_OFFSET)},f.prototype.validProofOfWork=function(){var t=new i(this.id,\"hex\"),e=this.getTargetDifficulty();return!(t.cmp(e)>0)},f.prototype.inspect=function(){return\"<BlockHeader \"+this.id+\">\"},f.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new i(\"10000000000000000000000000000000000000000000000000000000000000000\",\"hex\")},t.exports=f}).call(this,r(0).Buffer)},function(t,e,r){var n=r(12);function i(t,e){n.cipher.registerAlgorithm(t,function(){return new n.des.Algorithm(t,e)})}r(288),r(502),r(18),t.exports=n.des=n.des||{},n.des.startEncrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!1,mode:n||(null===e?\"ECB\":\"CBC\")});return i.start(e),i},n.des.createEncryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!1,mode:e})},n.des.startDecrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!0,mode:n||(null===e?\"ECB\":\"CBC\")});return i.start(e),i},n.des.createDecryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!0,mode:e})},n.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(t,e){return p(r._keys,t,e,!1)},decrypt:function(t,e){return p(r._keys,t,e,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=n.util.createBuffer(t.key);if(0===this.name.indexOf(\"3DES\")&&24!==e.length())throw new Error(\"Invalid Triple-DES key size: \"+8*e.length());this._keys=function(t){for(var e,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=t.length()>8?3:1,g=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,_=0;_<m;_++){var w=t.getInt32(),S=t.getInt32();w^=(e=252645135&(w>>>4^S))<<4,w^=e=65535&((S^=e)>>>-16^w),w^=(e=858993459&(w>>>2^(S^=e<<-16)))<<2,w^=e=65535&((S^=e)>>>-16^w),w^=(e=1431655765&(w>>>1^(S^=e<<-16)))<<1,w^=e=16711935&((S^=e)>>>8^w),e=(w^=(e=1431655765&(w>>>1^(S^=e<<8)))<<1)<<8|(S^=e)>>>20&240,w=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=e;for(var k=0;k<b.length;++k){b[k]?(w=w<<2|w>>>26,S=S<<2|S>>>26):(w=w<<1|w>>>27,S=S<<1|S>>>27);var E=r[(w&=-15)>>>28]|n[w>>>24&15]|i[w>>>20&15]|o[w>>>16&15]|s[w>>>12&15]|a[w>>>8&15]|u[w>>>4&15],A=c[(S&=-15)>>>28]|f[S>>>24&15]|h[S>>>20&15]|l[S>>>16&15]|p[S>>>12&15]|d[S>>>8&15]|y[S>>>4&15];e=65535&(A>>>16^E),g[v++]=E^e,g[v++]=A^e<<16}}return g}(e),this._init=!0}},i(\"DES-ECB\",n.cipher.modes.ecb),i(\"DES-CBC\",n.cipher.modes.cbc),i(\"DES-CFB\",n.cipher.modes.cfb),i(\"DES-OFB\",n.cipher.modes.ofb),i(\"DES-CTR\",n.cipher.modes.ctr),i(\"3DES-ECB\",n.cipher.modes.ecb),i(\"3DES-CBC\",n.cipher.modes.cbc),i(\"3DES-CFB\",n.cipher.modes.cfb),i(\"3DES-OFB\",n.cipher.modes.ofb),i(\"3DES-CTR\",n.cipher.modes.ctr);var o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],s=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],a=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],h=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],l=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function p(t,e,r,n){var i,p,d=32===t.length?3:9;i=3===d?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var y=e[0],m=e[1];y^=(p=252645135&(y>>>4^m))<<4,y^=(p=65535&(y>>>16^(m^=p)))<<16,y^=p=858993459&((m^=p)>>>2^y),y^=p=16711935&((m^=p<<2)>>>8^y),y=(y^=(p=1431655765&(y>>>1^(m^=p<<8)))<<1)<<1|y>>>31,m=(m^=p)<<1|m>>>31;for(var g=0;g<d;g+=3){for(var b=i[g+1],v=i[g+2],_=i[g];_!=b;_+=v){var w=m^t[_],S=(m>>>4|m<<28)^t[_+1];p=y,y=m,m=p^(s[w>>>24&63]|u[w>>>16&63]|f[w>>>8&63]|l[63&w]|o[S>>>24&63]|a[S>>>16&63]|c[S>>>8&63]|h[63&S])}p=y,y=m,m=p}m=m>>>1|m<<31,m^=p=1431655765&((y=y>>>1|y<<31)>>>1^m),m^=(p=16711935&(m>>>8^(y^=p<<1)))<<8,m^=(p=858993459&(m>>>2^(y^=p)))<<2,m^=p=65535&((y^=p)>>>16^m),m^=p=252645135&((y^=p<<16)>>>4^m),y^=p<<4,r[0]=y,r[1]=m}function d(t){var e,r=\"DES-\"+((t=t||{}).mode||\"CBC\").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=t,i.call(e,r)},e}},function(t,e,r){var n=r(12);if(r(82),r(214),r(107),r(510),r(511),r(71),r(18),void 0===i)var i=n.jsbn.BigInteger;var o=n.asn1;n.pki=n.pki||{},t.exports=n.pki.rsa=n.rsa=n.rsa||{};var s=n.pki,a=[6,4,2,4,2,4,6,2],u={name:\"PrivateKeyInfo\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"PrivateKeyInfo.version\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyVersion\"},{name:\"PrivateKeyInfo.privateKeyAlgorithm\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"AlgorithmIdentifier.algorithm\",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:\"privateKeyOid\"}]},{name:\"PrivateKeyInfo\",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:\"privateKey\"}]},c={name:\"RSAPrivateKey\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"RSAPrivateKey.version\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyVersion\"},{name:\"RSAPrivateKey.modulus\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyModulus\"},{name:\"RSAPrivateKey.publicExponent\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyPublicExponent\"},{name:\"RSAPrivateKey.privateExponent\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyPrivateExponent\"},{name:\"RSAPrivateKey.prime1\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyPrime1\"},{name:\"RSAPrivateKey.prime2\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyPrime2\"},{name:\"RSAPrivateKey.exponent1\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyExponent1\"},{name:\"RSAPrivateKey.exponent2\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyExponent2\"},{name:\"RSAPrivateKey.coefficient\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"privateKeyCoefficient\"}]},f={name:\"RSAPublicKey\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"RSAPublicKey.modulus\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"publicKeyModulus\"},{name:\"RSAPublicKey.exponent\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"publicKeyExponent\"}]},h=n.pki.rsa.publicKeyValidator={name:\"SubjectPublicKeyInfo\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:\"subjectPublicKeyInfo\",value:[{name:\"SubjectPublicKeyInfo.AlgorithmIdentifier\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"AlgorithmIdentifier.algorithm\",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:\"publicKeyOid\"}]},{name:\"SubjectPublicKeyInfo.subjectPublicKey\",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,value:[{name:\"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:\"rsaPublicKey\"}]}]},l=function(t){var e;if(!(t.algorithm in s.oids)){var r=new Error(\"Unknown message digest algorithm.\");throw r.algorithm=t.algorithm,r}e=s.oids[t.algorithm];var n=o.oidToDer(e).getBytes(),i=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),a=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);a.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,n)),a.value.push(o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,\"\"));var u=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(a),i.value.push(u),o.toDer(i).getBytes()},p=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);var o;e.dP||(e.dP=e.d.mod(e.p.subtract(i.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(i.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));do{o=new i(n.util.bytesToHex(n.random.getBytes(e.n.bitLength()/8)),16)}while(o.compareTo(e.n)>=0||!o.gcd(e.n).equals(i.ONE));for(var s=(t=t.multiply(o.modPow(e.e,e.n)).mod(e.n)).mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);s.compareTo(a)<0;)s=s.add(e.p);var u=s.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return u=u.multiply(o.modInverse(e.n)).mod(e.n)};function d(t,e,r){var i=n.util.createBuffer(),o=Math.ceil(e.n.bitLength()/8);if(t.length>o-11){var s=new Error(\"Message is too long for PKCS#1 v1.5 padding.\");throw s.length=t.length,s.max=o-11,s}i.putByte(0),i.putByte(r);var a,u=o-3-t.length;if(0===r||1===r){a=0===r?0:255;for(var c=0;c<u;++c)i.putByte(a)}else for(;u>0;){var f=0,h=n.random.getBytes(u);for(c=0;c<u;++c)0===(a=h.charCodeAt(c))?++f:i.putByte(a);u=f}return i.putByte(0),i.putBytes(t),i}function y(t,e,r,i){var o=Math.ceil(e.n.bitLength()/8),s=n.util.createBuffer(t),a=s.getByte(),u=s.getByte();if(0!==a||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&void 0===i)throw new Error(\"Encryption block is invalid.\");var c=0;if(0===u){c=o-3-i;for(var f=0;f<c;++f)if(0!==s.getByte())throw new Error(\"Encryption block is invalid.\")}else if(1===u)for(c=0;s.length()>1;){if(255!==s.getByte()){--s.read;break}++c}else if(2===u)for(c=0;s.length()>1;){if(0===s.getByte()){--s.read;break}++c}if(0!==s.getByte()||c!==o-3-s.length())throw new Error(\"Encryption block is invalid.\");return s.getBytes()}function m(t){var e=t.toString(16);e[0]>=\"8\"&&(e=\"00\"+e);var r=n.util.hexToBytes(e);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function g(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function b(t){return\"undefined\"!=typeof window&&\"object\"==typeof window.crypto&&\"object\"==typeof window.crypto.subtle&&\"function\"==typeof window.crypto.subtle[t]}function v(t){return\"undefined\"!=typeof window&&\"object\"==typeof window.msCrypto&&\"object\"==typeof window.msCrypto.subtle&&\"function\"==typeof window.msCrypto.subtle[t]}function _(t){for(var e=n.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}s.rsa.encrypt=function(t,e,r){var o,s=r,a=Math.ceil(e.n.bitLength()/8);!1!==r&&!0!==r?(s=2===r,o=d(t,e,r)):(o=n.util.createBuffer()).putBytes(t);for(var u=new i(o.toHex(),16),c=p(u,e,s).toString(16),f=n.util.createBuffer(),h=a-Math.ceil(c.length/2);h>0;)f.putByte(0),--h;return f.putBytes(n.util.hexToBytes(c)),f.getBytes()},s.rsa.decrypt=function(t,e,r,o){var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var a=new Error(\"Encrypted message length is invalid.\");throw a.length=t.length,a.expected=s,a}var u=new i(n.util.createBuffer(t).toHex(),16);if(u.compareTo(e.n)>=0)throw new Error(\"Encrypted message is invalid.\");for(var c=p(u,e,r).toString(16),f=n.util.createBuffer(),h=s-Math.ceil(c.length/2);h>0;)f.putByte(0),--h;return f.putBytes(n.util.hexToBytes(c)),!1!==o?y(f.getBytes(),e,r):f.getBytes()},s.rsa.createKeyPairGenerationState=function(t,e,r){\"string\"==typeof t&&(t=parseInt(t,10)),t=t||2048;var o,s=(r=r||{}).prng||n.random,a={nextBytes:function(t){for(var e=s.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}},u=r.algorithm||\"PRIMEINC\";if(\"PRIMEINC\"!==u)throw new Error(\"Invalid key generation algorithm: \"+u);return(o={algorithm:u,state:0,bits:t,rng:a,eInt:e||65537,e:new i(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null}).e.fromInt(o.eInt),o},s.rsa.stepKeyPairGenerationState=function(t,e){\"algorithm\"in t||(t.algorithm=\"PRIMEINC\");var r=new i(null);r.fromInt(30);for(var n,o=0,u=function(t,e){return t|e},c=+new Date,f=0;null===t.keys&&(e<=0||f<e);){if(0===t.state){var h=null===t.p?t.pBits:t.qBits,l=h-1;0===t.pqState?(t.num=new i(h,t.rng),t.num.testBit(l)||t.num.bitwiseTo(i.ONE.shiftLeft(l),u,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),o=0,++t.pqState):1===t.pqState?t.num.bitLength()>h?t.pqState=0:t.num.isProbablePrime(g(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(a[o++%8],0):2===t.pqState?t.pqState=0===t.num.subtract(i.ONE).gcd(t.e).compareTo(i.ONE)?3:0:3===t.pqState&&(t.pqState=0,null===t.p?t.p=t.num:t.q=t.num,null!==t.p&&null!==t.q&&++t.state,t.num=null)}else if(1===t.state)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(2===t.state)t.p1=t.p.subtract(i.ONE),t.q1=t.q.subtract(i.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(3===t.state)0===t.phi.gcd(t.e).compareTo(i.ONE)?++t.state:(t.p=null,t.q=null,t.state=0);else if(4===t.state)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(5===t.state){var p=t.e.modInverse(t.phi);t.keys={privateKey:s.rsa.setPrivateKey(t.n,t.e,p,t.p,t.q,p.mod(t.p1),p.mod(t.q1),t.q.modInverse(t.p)),publicKey:s.rsa.setPublicKey(t.n,t.e)}}f+=(n=+new Date)-c,c=n}return null!==t.keys},s.rsa.generateKeyPair=function(t,e,r,a){if(1===arguments.length?\"object\"==typeof t?(r=t,t=void 0):\"function\"==typeof t&&(a=t,t=void 0):2===arguments.length?\"number\"==typeof t?\"function\"==typeof e?(a=e,e=void 0):\"number\"!=typeof e&&(r=e,e=void 0):(r=t,a=e,t=void 0,e=void 0):3===arguments.length&&(\"number\"==typeof e?\"function\"==typeof r&&(a=r,r=void 0):(a=r,r=e,e=void 0)),r=r||{},void 0===t&&(t=r.bits||2048),void 0===e&&(e=r.e||65537),!n.options.usePureJavaScript&&a&&t>=256&&t<=16384&&(65537===e||3===e)){if(b(\"generateKey\")&&b(\"exportKey\"))return window.crypto.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:_(e),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(function(t){return window.crypto.subtle.exportKey(\"pkcs8\",t.privateKey)}).then(void 0,function(t){a(t)}).then(function(t){if(t){var e=s.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(t)));a(null,{privateKey:e,publicKey:s.setRsaPublicKey(e.n,e.e)})}});if(v(\"generateKey\")&&v(\"exportKey\")){var u=window.msCrypto.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:_(e),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]);return u.oncomplete=function(t){var e=t.target.result,r=window.msCrypto.subtle.exportKey(\"pkcs8\",e.privateKey);r.oncomplete=function(t){var e=t.target.result,r=s.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(e)));a(null,{privateKey:r,publicKey:s.setRsaPublicKey(r.n,r.e)})},r.onerror=function(t){a(t)}},void(u.onerror=function(t){a(t)})}}var c=s.rsa.createKeyPairGenerationState(t,e,r);if(!a)return s.rsa.stepKeyPairGenerationState(c,0),c.keys;!function(t,e,r){\"function\"==typeof e&&(r=e,e={});var o={algorithm:{name:(e=e||{}).algorithm||\"PRIMEINC\",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};\"prng\"in e&&(o.prng=e.prng);function a(){u(t.pBits,function(e,n){return e?r(e):(t.p=n,null!==t.q?c(e,t.q):void u(t.qBits,c))})}function u(t,e){n.prime.generateProbablePrime(t,o,e)}function c(e,n){if(e)return r(e);if(t.q=n,t.p.compareTo(t.q)<0){var o=t.p;t.p=t.q,t.q=o}if(0!==t.p.subtract(i.ONE).gcd(t.e).compareTo(i.ONE))return t.p=null,void a();if(0!==t.q.subtract(i.ONE).gcd(t.e).compareTo(i.ONE))return t.q=null,void u(t.qBits,c);if(t.p1=t.p.subtract(i.ONE),t.q1=t.q.subtract(i.ONE),t.phi=t.p1.multiply(t.q1),0!==t.phi.gcd(t.e).compareTo(i.ONE))return t.p=t.q=null,void a();if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits)return t.q=null,void u(t.qBits,c);var f=t.e.modInverse(t.phi);t.keys={privateKey:s.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:s.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}a()}(c,r,a)},s.setRsaPublicKey=s.rsa.setPublicKey=function(t,e){var r={n:t,e:e,encrypt:function(t,e,i){if(\"string\"==typeof e?e=e.toUpperCase():void 0===e&&(e=\"RSAES-PKCS1-V1_5\"),\"RSAES-PKCS1-V1_5\"===e)e={encode:function(t,e,r){return d(t,e,2).getBytes()}};else if(\"RSA-OAEP\"===e||\"RSAES-OAEP\"===e)e={encode:function(t,e){return n.pkcs1.encode_rsa_oaep(e,t,i)}};else if(-1!==[\"RAW\",\"NONE\",\"NULL\",null].indexOf(e))e={encode:function(t){return t}};else if(\"string\"==typeof e)throw new Error('Unsupported encryption scheme: \"'+e+'\".');var o=e.encode(t,r,!0);return s.rsa.encrypt(o,r,!0)},verify:function(t,e,n){\"string\"==typeof n?n=n.toUpperCase():void 0===n&&(n=\"RSASSA-PKCS1-V1_5\"),\"RSASSA-PKCS1-V1_5\"===n?n={verify:function(t,e){return e=y(e,r,!0),t===o.fromDer(e).value[1].value}}:\"NONE\"!==n&&\"NULL\"!==n&&null!==n||(n={verify:function(t,e){return t===(e=y(e,r,!0))}});var i=s.rsa.decrypt(e,r,!0,!1);return n.verify(t,i,r.n.bitLength())}};return r},s.setRsaPrivateKey=s.rsa.setPrivateKey=function(t,e,r,i,o,a,u,c){var f={n:t,e:e,d:r,p:i,q:o,dP:a,dQ:u,qInv:c,decrypt:function(t,e,r){\"string\"==typeof e?e=e.toUpperCase():void 0===e&&(e=\"RSAES-PKCS1-V1_5\");var i=s.rsa.decrypt(t,f,!1,!1);if(\"RSAES-PKCS1-V1_5\"===e)e={decode:y};else if(\"RSA-OAEP\"===e||\"RSAES-OAEP\"===e)e={decode:function(t,e){return n.pkcs1.decode_rsa_oaep(e,t,r)}};else{if(-1===[\"RAW\",\"NONE\",\"NULL\",null].indexOf(e))throw new Error('Unsupported encryption scheme: \"'+e+'\".');e={decode:function(t){return t}}}return e.decode(i,f,!1)},sign:function(t,e){var r=!1;\"string\"==typeof e&&(e=e.toUpperCase()),void 0===e||\"RSASSA-PKCS1-V1_5\"===e?(e={encode:l},r=1):\"NONE\"!==e&&\"NULL\"!==e&&null!==e||(e={encode:function(){return t}},r=1);var n=e.encode(t,f.n.bitLength());return s.rsa.encrypt(n,f,r)}};return f},s.wrapRsaPrivateKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,\"\")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(t).getBytes())])},s.privateKeyFromAsn1=function(t){var e,r,a,f,h,l,p,d,y={},m=[];if(o.validate(t,u,y,m)&&(t=o.fromDer(n.util.createBuffer(y.privateKey))),y={},m=[],!o.validate(t,c,y,m)){var g=new Error(\"Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.\");throw g.errors=m,g}return e=n.util.createBuffer(y.privateKeyModulus).toHex(),r=n.util.createBuffer(y.privateKeyPublicExponent).toHex(),a=n.util.createBuffer(y.privateKeyPrivateExponent).toHex(),f=n.util.createBuffer(y.privateKeyPrime1).toHex(),h=n.util.createBuffer(y.privateKeyPrime2).toHex(),l=n.util.createBuffer(y.privateKeyExponent1).toHex(),p=n.util.createBuffer(y.privateKeyExponent2).toHex(),d=n.util.createBuffer(y.privateKeyCoefficient).toHex(),s.setRsaPrivateKey(new i(e,16),new i(r,16),new i(a,16),new i(f,16),new i(h,16),new i(l,16),new i(p,16),new i(d,16))},s.privateKeyToAsn1=s.privateKeyToRSAPrivateKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.e)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.d)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.p)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.q)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.dP)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.dQ)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.qInv))])},s.publicKeyFromAsn1=function(t){var e={},r=[];if(o.validate(t,h,e,r)){var a,u=o.derToOid(e.publicKeyOid);if(u!==s.oids.rsaEncryption)throw(a=new Error(\"Cannot read public key. Unknown OID.\")).oid=u,a;t=e.rsaPublicKey}if(r=[],!o.validate(t,f,e,r))throw(a=new Error(\"Cannot read public key. ASN.1 object does not contain an RSAPublicKey.\")).errors=r,a;var c=n.util.createBuffer(e.publicKeyModulus).toHex(),l=n.util.createBuffer(e.publicKeyExponent).toHex();return s.setRsaPublicKey(new i(c,16),new i(l,16))},s.publicKeyToAsn1=s.publicKeyToSubjectPublicKeyInfo=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,\"\")]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,[s.publicKeyToRSAPublicKey(t)])])},s.publicKeyToRSAPublicKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(t.e))])}},function(t,e,r){var n,i=r(12);t.exports=i.jsbn=i.jsbn||{};function o(t,e,r){this.data=[],null!=t&&(\"number\"==typeof t?this.fromNumber(t,e,r):null==e&&\"string\"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function s(){return new o(null)}function a(t,e,r,n,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this.data[t],c=this.data[t++]>>14,f=a*u+c*s;i=((u=s*u+((16383&f)<<14)+r.data[n]+i)>>28)+(f>>14)+a*c,r.data[n++]=268435455&u}return i}i.jsbn.BigInteger=o,\"undefined\"==typeof navigator?(o.prototype.am=a,n=28):\"Microsoft Internet Explorer\"==navigator.appName?(o.prototype.am=function(t,e,r,n,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this.data[t],c=this.data[t++]>>15,f=a*u+c*s;i=((u=s*u+((32767&f)<<15)+r.data[n]+(1073741823&i))>>>30)+(f>>>15)+a*c+(i>>>30),r.data[n++]=1073741823&u}return i},n=30):\"Netscape\"!=navigator.appName?(o.prototype.am=function(t,e,r,n,i,o){for(;--o>=0;){var s=e*this.data[t++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=67108863&s}return i},n=26):(o.prototype.am=a,n=28),o.prototype.DB=n,o.prototype.DM=(1<<n)-1,o.prototype.DV=1<<n;o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-n,o.prototype.F2=2*n-52;var u,c,f=\"0123456789abcdefghijklmnopqrstuvwxyz\",h=new Array;for(u=\"0\".charCodeAt(0),c=0;c<=9;++c)h[u++]=c;for(u=\"a\".charCodeAt(0),c=10;c<36;++c)h[u++]=c;for(u=\"A\".charCodeAt(0),c=10;c<36;++c)h[u++]=c;function l(t){return f.charAt(t)}function p(t,e){var r=h[t.charCodeAt(e)];return null==r?-1:r}function d(t){var e=s();return e.fromInt(t),e}function y(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function m(t){this.m=t}function g(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function b(t,e){return t&e}function v(t,e){return t|e}function _(t,e){return t^e}function w(t,e){return t&~e}function S(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function k(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function E(){}function A(t){return t}function x(t){this.r2=s(),this.q3=s(),o.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}m.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},m.prototype.revert=function(t){return t},m.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},m.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},m.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},g.prototype.convert=function(t){var e=s();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(o.ZERO)>0&&this.m.subTo(e,e),e},g.prototype.revert=function(t){var e=s();return t.copyTo(e),this.reduce(e),e},g.prototype.reduce=function(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t.data[e],n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},g.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},g.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},o.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s},o.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0},o.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var a=8==r?255&t[n]:p(t,n);a<0?\"-\"==t.charAt(n)&&(i=!0):(i=!1,0==s?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t},o.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s},o.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s},o.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e.data[r+s+1]=this.data[r]>>i|a,a=(this.data[r]&o)<<n;for(r=s-1;r>=0;--r)e.data[r]=0;e.data[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},o.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&o)<<i,e.data[s-r]=this.data[s]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},o.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()},o.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&o.ZERO.subTo(e,e)},o.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()},o.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=s());var a=s(),u=this.s,c=t.s,f=this.DB-y(n.data[n.t-1]);f>0?(n.lShiftTo(f,a),i.lShiftTo(f,r)):(n.copyTo(a),i.copyTo(r));var h=a.t,l=a.data[h-1];if(0!=l){var p=l*(1<<this.F1)+(h>1?a.data[h-2]>>this.F2:0),d=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,b=r.t,v=b-h,_=null==e?s():e;for(a.dlShiftTo(v,_),r.compareTo(_)>=0&&(r.data[r.t++]=1,r.subTo(_,r)),o.ONE.dlShiftTo(h,_),_.subTo(a,a);a.t<h;)a.data[a.t++]=0;for(;--v>=0;){var w=r.data[--b]==l?this.DM:Math.floor(r.data[b]*d+(r.data[b-1]+g)*m);if((r.data[b]+=a.am(0,w,r,v,0,h))<w)for(a.dlShiftTo(v,_),r.subTo(_,r);r.data[b]<--w;)r.subTo(_,r)}null!=e&&(r.drShiftTo(h,e),u!=c&&o.ZERO.subTo(e,e)),r.t=h,r.clamp(),f>0&&r.rShiftTo(f,r),u<0&&o.ZERO.subTo(r,r)}}},o.prototype.invDigit=function(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},o.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},o.prototype.exp=function(t,e){if(t>4294967295||t<1)return o.ONE;var r=s(),n=s(),i=e.convert(this),a=y(t)-1;for(i.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,i,r);else{var u=r;r=n,n=u}return e.revert(r)},o.prototype.toString=function(t){if(this.s<0)return\"-\"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o=\"\",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this.data[s]>>a)>0&&(i=!0,o=l(r));s>=0;)a<e?(r=(this.data[s]&(1<<a)-1)<<e-a,r|=this.data[--s]>>(a+=this.DB-e)):(r=this.data[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=l(r));return i?o:\"0\"},o.prototype.negate=function(){var t=s();return o.ZERO.subTo(this,t),t},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this.data[r]-t.data[r]))return e;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+y(this.data[this.t-1]^this.s&this.DM)},o.prototype.mod=function(t){var e=s();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(o.ZERO)>0&&t.subTo(e,e),e},o.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new m(e):new g(e),this.exp(t,r)},o.ZERO=d(0),o.ONE=d(1),E.prototype.convert=A,E.prototype.revert=A,E.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},E.prototype.sqrTo=function(t,e){t.squareTo(e)},x.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=s();return t.copyTo(e),this.reduce(e),e},x.prototype.revert=function(t){return t},x.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},x.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},x.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var T=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],B=(1<<26)/T[T.length-1];o.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},o.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return\"0\";var e=this.chunkSize(t),r=Math.pow(t,e),n=d(r),i=s(),o=s(),a=\"\";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(t)+a},o.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,a=0,u=0;u<t.length;++u){var c=p(t,u);c<0?\"-\"==t.charAt(u)&&0==this.signum()&&(i=!0):(a=e*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),i&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function(t,e,r){if(\"number\"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(o.ONE.shiftLeft(t-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(o.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},o.prototype.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},o.prototype.changeBit=function(t,e){var r=o.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},o.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()},o.prototype.dMultiply=function(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}},o.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()},o.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},o.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r},o.prototype.millerRabin=function(t){var e=this.subtract(o.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n,i=e.shiftRight(r),s={nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(256*Math.random())}},a=0;a<t;++a){do{n=new o(this.bitLength(),s)}while(n.compareTo(o.ONE)<=0||n.compareTo(e)>=0);var u=n.modPow(i,this);if(0!=u.compareTo(o.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<r&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},o.prototype.clone=function(){var t=s();return this.copyTo(t),t},o.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},o.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},o.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},o.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},o.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this.data[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this.data[t]&(1<<n)-1)<<8-n,r|=this.data[--t]>>(n+=this.DB-8)):(r=this.data[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},o.prototype.equals=function(t){return 0==this.compareTo(t)},o.prototype.min=function(t){return this.compareTo(t)<0?this:t},o.prototype.max=function(t){return this.compareTo(t)>0?this:t},o.prototype.and=function(t){var e=s();return this.bitwiseTo(t,b,e),e},o.prototype.or=function(t){var e=s();return this.bitwiseTo(t,v,e),e},o.prototype.xor=function(t){var e=s();return this.bitwiseTo(t,_,e),e},o.prototype.andNot=function(t){var e=s();return this.bitwiseTo(t,w,e),e},o.prototype.not=function(){for(var t=s(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t},o.prototype.shiftLeft=function(t){var e=s();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},o.prototype.shiftRight=function(t){var e=s();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},o.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+S(this.data[t]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=k(this.data[r]^e);return t},o.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this.data[e]&1<<t%this.DB)},o.prototype.setBit=function(t){return this.changeBit(t,v)},o.prototype.clearBit=function(t){return this.changeBit(t,w)},o.prototype.flipBit=function(t){return this.changeBit(t,_)},o.prototype.add=function(t){var e=s();return this.addTo(t,e),e},o.prototype.subtract=function(t){var e=s();return this.subTo(t,e),e},o.prototype.multiply=function(t){var e=s();return this.multiplyTo(t,e),e},o.prototype.divide=function(t){var e=s();return this.divRemTo(t,e,null),e},o.prototype.remainder=function(t){var e=s();return this.divRemTo(t,null,e),e},o.prototype.divideAndRemainder=function(t){var e=s(),r=s();return this.divRemTo(t,e,r),new Array(e,r)},o.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),o=d(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new m(e):e.isEven()?new x(e):new g(e);var a=new Array,u=3,c=r-1,f=(1<<r)-1;if(a[1]=n.convert(this),r>1){var h=s();for(n.sqrTo(a[1],h);u<=f;)a[u]=s(),n.mulTo(h,a[u-2],a[u]),u+=2}var l,p,b=t.t-1,v=!0,_=s();for(i=y(t.data[b])-1;b>=0;){for(i>=c?l=t.data[b]>>i-c&f:(l=(t.data[b]&(1<<i+1)-1)<<c-i,b>0&&(l|=t.data[b-1]>>this.DB+i-c)),u=r;0==(1&l);)l>>=1,--u;if((i-=u)<0&&(i+=this.DB,--b),v)a[l].copyTo(o),v=!1;else{for(;u>1;)n.sqrTo(o,_),n.sqrTo(_,o),u-=2;u>0?n.sqrTo(o,_):(p=o,o=_,_=p),n.mulTo(_,a[l],o)}for(;b>=0&&0==(t.data[b]&1<<i);)n.sqrTo(o,_),p=o,o=_,_=p,--i<0&&(i=this.DB-1,--b)}return n.revert(o)},o.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return o.ZERO;for(var r=t.clone(),n=this.clone(),i=d(1),s=d(0),a=d(0),u=d(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),s.subTo(u,s)):(n.subTo(r,n),e&&a.subTo(i,a),u.subTo(s,u))}return 0!=n.compareTo(o.ONE)?o.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},o.prototype.pow=function(t){return this.exp(t,new E)},o.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},o.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r.data[0]<=T[T.length-1]){for(e=0;e<T.length;++e)if(r.data[0]==T[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<T.length;){for(var n=T[e],i=e+1;i<T.length&&n<B;)n*=T[i++];for(n=r.modInt(n);e<i;)if(n%T[e++]==0)return!1}return r.millerRabin(t)}},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(1140);function o(){this.negative=0,this.words=null,this.length=0}o.fromNumber=function(t){var e=new o;return e.words=[67108863&t],e.length=1,e},o.fromBuffer=function(t){var e=new o;return e.words=new Array(10),e.words[0]=(3&t[28])<<24|t[29]<<16|t[30]<<8|t[31],e.words[1]=(15&t[25])<<22|t[26]<<14|t[27]<<6|t[28]>>>2,e.words[2]=(63&t[22])<<20|t[23]<<12|t[24]<<4|t[25]>>>4,e.words[3]=(255&t[19])<<18|t[20]<<10|t[21]<<2|t[22]>>>6,e.words[4]=(3&t[15])<<24|t[16]<<16|t[17]<<8|t[18],e.words[5]=(15&t[12])<<22|t[13]<<14|t[14]<<6|t[15]>>>2,e.words[6]=(63&t[9])<<20|t[10]<<12|t[11]<<4|t[12]>>>4,e.words[7]=(255&t[6])<<18|t[7]<<10|t[8]<<2|t[9]>>>6,e.words[8]=(3&t[2])<<24|t[3]<<16|t[4]<<8|t[5],e.words[9]=t[0]<<14|t[1]<<6|t[2]>>>2,e.length=10,e.strip()},o.prototype.toBuffer=function(){for(var t=this.words,e=this.length;e<10;++e)t[e]=0;return n.from([t[9]>>>14&255,t[9]>>>6&255,(63&t[9])<<2|t[8]>>>24&3,t[8]>>>16&255,t[8]>>>8&255,255&t[8],t[7]>>>18&255,t[7]>>>10&255,t[7]>>>2&255,(3&t[7])<<6|t[6]>>>20&63,t[6]>>>12&255,t[6]>>>4&255,(15&t[6])<<4|t[5]>>>22&15,t[5]>>>14&255,t[5]>>>6&255,(63&t[5])<<2|t[4]>>>24&3,t[4]>>>16&255,t[4]>>>8&255,255&t[4],t[3]>>>18&255,t[3]>>>10&255,t[3]>>>2&255,(3&t[3])<<6|t[2]>>>20&63,t[2]>>>12&255,t[2]>>>4&255,(15&t[2])<<4|t[1]>>>22&15,t[1]>>>14&255,t[1]>>>6&255,(63&t[1])<<2|t[0]>>>24&3,t[0]>>>16&255,t[0]>>>8&255,255&t[0]])},o.prototype.clone=function(){var t=new o;t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];return t.length=this.length,t.negative=this.negative,t},o.prototype.strip=function(){for(;this.length>1&&0==(0|this.words[this.length-1]);)this.length--;return this},o.prototype.normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.ucmp=function(t){if(this.length!==t.length)return this.length>t.length?1:-1;for(var e=this.length-1;e>=0;--e)if(this.words[e]!==t.words[e])return this.words[e]>t.words[e]?1:-1;return 0},o.prototype.gtOne=function(){return this.length>1||this.words[0]>1},o.prototype.isOverflow=function(){return this.ucmp(o.n)>=0},o.prototype.isHigh=function(){return 1===this.ucmp(o.nh)},o.prototype.bitLengthGT256=function(){return this.length>10||10===this.length&&this.words[9]>4194303},o.prototype.iuaddn=function(t){this.words[0]+=t;for(var e=0;this.words[e]>67108863&&e<this.length;++e)this.words[e]-=67108864,this.words[e+1]+=1;return e===this.length&&(this.words[e]=1,this.length+=1),this},o.prototype.iadd=function(t){if(this.negative!==t.negative)return 0!==this.negative?(this.negative=0,this.isub(t),this.negative^=1):(t.negative=0,this.isub(t),t.negative=1),this.normSign();var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0,i=0;n<r.length;++n){var o=e.words[n]+r.words[n]+i;this.words[n]=67108863&o,i=o>>>26}for(;0!==i&&n<e.length;++n)o=e.words[n]+i,this.words[n]=67108863&o,i=o>>>26;if(this.length=e.length,0!==i)this.words[this.length++]=i;else if(e!==this)for(;n<e.length;++n)this.words[n]=e.words[n];return this},o.prototype.add=function(t){return this.clone().iadd(t)},o.prototype.isub=function(t){if(this.negative!==t.negative)return 0!==this.negative?(this.negative=0,this.iadd(t),this.negative=1):(t.negative=0,this.iadd(t),t.negative=1),this.normSign();var e,r,n=this.ucmp(t);if(0===n)return this.negative=0,this.words[0]=0,this.length=1,this;n>0?(e=this,r=t):(e=t,r=this);for(var i=0,o=0;i<r.length;++i){var s=e.words[i]-r.words[i]+o;o=s>>26,this.words[i]=67108863&s}for(;0!==o&&i<e.length;++i)o=(s=e.words[i]+o)>>26,this.words[i]=67108863&s;if(0===o&&i<e.length&&e!==this)for(;i<e.length;++i)this.words[i]=e.words[i];return this.length=Math.max(this.length,i),e!==this&&(this.negative^=1),this.strip().normSign()},o.prototype.sub=function(t){return this.clone().isub(t)},o.umulTo=function(t,e,r){r.length=t.length+e.length-1;var n=t.words[0]*e.words[0],i=n/67108864|0;r.words[0]=67108863&n;for(var o=1,s=r.length;o<s;o++){for(var a=i>>>26,u=67108863&i,c=Math.max(0,o-t.length+1),f=Math.min(o,e.length-1);c<=f;c++){var h=o-c,l=t.words[h]*e.words[c]+u;a+=l/67108864|0,u=67108863&l}r.words[o]=u,i=a}return 0!==i&&(r.words[r.length++]=i),r.strip()},o.umulTo10x10=Math.imul?i.umulTo10x10:o.umulTo,o.umulnTo=function(t,e,r){if(0===e)return r.words=[0],r.length=1,r;for(var n=0,i=0;n<t.length;++n){var o=t.words[n]*e+i;r.words[n]=67108863&o,i=o/67108864|0}return i>0?(r.words[n]=i,r.length=t.length+1):r.length=t.length,r},o.prototype.umul=function(t){var e=new o;return e.words=new Array(this.length+t.length),10===this.length&&10===t.length?o.umulTo10x10(this,t,e):1===this.length?o.umulnTo(t,this.words[0],e):1===t.length?o.umulnTo(this,t.words[0],e):o.umulTo(this,t,e)},o.prototype.isplit=function(t){t.length=Math.min(this.length,9);for(var e=0;e<t.length;++e)t.words[e]=this.words[e];if(this.length<=9)return this.words[0]=0,this.length=1,this;var r=this.words[9];for(t.words[t.length++]=4194303&r,e=10;e<this.length;++e){var n=this.words[e];this.words[e-10]=(4194303&n)<<4|r>>>22,r=n}return r>>>=22,this.words[e-10]=r,0===r&&this.length>10?this.length-=10:this.length-=9,this},o.prototype.fireduce=function(){return this.isOverflow()&&this.isub(o.n),this},o.prototype.ureduce=function(){var t=this.clone().isplit(o.tmp).umul(o.nc).iadd(o.tmp);return t.bitLengthGT256()&&(t=t.isplit(o.tmp).umul(o.nc).iadd(o.tmp)).bitLengthGT256()&&(t=t.isplit(o.tmp).umul(o.nc).iadd(o.tmp)),t.fireduce()},o.prototype.ishrn=function(t){for(var e=(1<<t)-1,r=26-t,n=this.length-1,i=0;n>=0;--n){var o=this.words[n];this.words[n]=i<<r|o>>>t,i=o&e}return this.length>1&&0===this.words[this.length-1]&&(this.length-=1),this},o.prototype.uinvm=function(){for(var t=this.clone(),e=o.n.clone(),r=o.fromNumber(1),n=o.fromNumber(0),i=o.fromNumber(0),s=o.fromNumber(1);t.isEven()&&e.isEven();){for(var a=1,u=1;0==(t.words[0]&u)&&0==(e.words[0]&u)&&a<26;++a,u<<=1);t.ishrn(a),e.ishrn(a)}for(var c=e.clone(),f=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(t.ishrn(h);h-- >0;)(r.isOdd()||n.isOdd())&&(r.iadd(c),n.isub(f)),r.ishrn(1),n.ishrn(1);for(var p=0,d=1;0==(e.words[0]&d)&&p<26;++p,d<<=1);if(p>0)for(e.ishrn(p);p-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(f)),i.ishrn(1),s.ishrn(1);t.ucmp(e)>=0?(t.isub(e),r.isub(i),n.isub(s)):(e.isub(t),i.isub(r),s.isub(n))}if(1===i.negative){i.negative=0;var y=i.ureduce();return y.negative^=1,y.normSign().iadd(o.n)}return i.ureduce()},o.prototype.imulK=function(){this.words[this.length]=0,this.words[this.length+1]=0,this.length+=2;for(var t=0,e=0;t<this.length;++t){var r=0|this.words[t];e+=977*r,this.words[t]=67108863&e,e=64*r+(e/67108864|0)}return 0===this.words[this.length-1]&&(this.length-=1,0===this.words[this.length-1]&&(this.length-=1)),this},o.prototype.redIReduce=function(){this.isplit(o.tmp).imulK().iadd(o.tmp),this.bitLengthGT256()&&this.isplit(o.tmp).imulK().iadd(o.tmp);var t=this.ucmp(o.p);return 0===t?(this.words[0]=0,this.length=1):t>0?this.isub(o.p):this.strip(),this},o.prototype.redNeg=function(){return this.isZero()?o.fromNumber(0):o.p.sub(this)},o.prototype.redAdd=function(t){return this.clone().redIAdd(t)},o.prototype.redIAdd=function(t){return this.iadd(t),this.ucmp(o.p)>=0&&this.isub(o.p),this},o.prototype.redIAdd7=function(){return this.iuaddn(7),this.ucmp(o.p)>=0&&this.isub(o.p),this},o.prototype.redSub=function(t){return this.clone().redISub(t)},o.prototype.redISub=function(t){return this.isub(t),0!==this.negative&&this.iadd(o.p),this},o.prototype.redMul=function(t){return this.umul(t).redIReduce()},o.prototype.redSqr=function(){return this.umul(this).redIReduce()},o.prototype.redSqrt=function(){if(this.isZero())return this.clone();for(var t=this.redSqr(),e=t.redSqr(),r=e.redSqr().redMul(e),n=r.redMul(t),i=n.redMul(this),o=i,s=0;s<54;++s)o=o.redSqr().redSqr().redSqr().redSqr().redMul(i);for(o=o.redSqr().redSqr().redSqr().redSqr().redMul(n),s=0;s<5;++s)o=o.redSqr().redSqr().redSqr().redSqr().redMul(i);return 0===(o=(o=o.redSqr().redSqr().redSqr().redSqr().redMul(r)).redSqr().redSqr().redSqr().redSqr().redSqr().redSqr().redMul(r)).redSqr().ucmp(this)?o:null},o.prototype.redInvm=function(){for(var t,e=this.clone(),r=o.p.clone(),n=o.fromNumber(1),i=o.fromNumber(0);e.gtOne()&&r.gtOne();){for(var s=0,a=1;0==(e.words[0]&a)&&s<26;++s,a<<=1);if(s>0)for(e.ishrn(s);s-- >0;)n.isOdd()&&n.iadd(o.p),n.ishrn(1);for(var u=0,c=1;0==(r.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(r.ishrn(u);u-- >0;)i.isOdd()&&i.iadd(o.p),i.ishrn(1);e.ucmp(r)>=0?(e.isub(r),n.isub(i)):(r.isub(e),i.isub(n))}return 0!==(t=1===e.length&&1===e.words[0]?n:i).negative&&t.iadd(o.p),0!==t.negative?(t.negative=0,t.redIReduce().redNeg()):t.redIReduce()},o.prototype.getNAF=function(t){for(var e=[],r=1<<t+1,n=r-1,i=r>>1,o=this.clone();!o.isZero();){for(var s=0,a=1;0==(o.words[0]&a)&&s<26;++s,a<<=1)e.push(0);if(0!==s)o.ishrn(s);else{var u=o.words[0]&n;if(u>=i)e.push(i-u),o.iuaddn(u-i).ishrn(1);else if(e.push(u),o.words[0]-=u,!o.isZero()){for(s=t-1;s>0;--s)e.push(0);o.ishrn(t)}}}return e},o.prototype.inspect=function(){if(this.isZero())return\"0\";for(var t=this.toBuffer().toString(\"hex\"),e=0;\"0\"===t[e];++e);return t.slice(e)},o.n=o.fromBuffer(n.from(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141\",\"hex\")),o.nh=o.n.clone().ishrn(1),o.nc=o.fromBuffer(n.from(\"000000000000000000000000000000014551231950B75FC4402DA1732FC9BEBF\",\"hex\")),o.p=o.fromBuffer(n.from(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F\",\"hex\")),o.psn=o.p.sub(o.n),o.tmp=new o,o.tmp.words=new Array(10),o.fromNumber(1).words[3]=0,t.exports=o},function(t,e,r){\"use strict\";(function(e){const n=r(11),i=r(184),o=r(1256),s=r(15),a=r(53),u=r(13),c=r(419),f=r(1257),h=r(67),l=n(r(1258)),p=r(1259);class d{constructor(t){this.full=t,this.wantlist=new Map,this.blocks=new Map}get empty(){return 0===this.blocks.size&&0===this.wantlist.size}addEntry(t,e,r){s(t&&u.isCID(t),\"must be a valid cid\");const n=t.buffer.toString(),i=this.wantlist.get(n);i?(i.priority=e,i.cancel=Boolean(r)):this.wantlist.set(n,new p(t,e,r))}addBlock(t){s(i.isBlock(t),\"must be a valid cid\");const e=t.cid.buffer.toString();this.blocks.set(e,t)}cancel(t){s(u.isCID(t),\"must be a valid cid\");const e=t.buffer.toString();this.wantlist.delete(e),this.addEntry(t,0,!0)}serializeToBitswap100(){const t={wantlist:{entries:Array.from(this.wantlist.values()).map(t=>({block:t.cid.buffer,priority:Number(t.priority),cancel:Boolean(t.cancel)}))},blocks:Array.from(this.blocks.values()).map(t=>t.data)};return this.full&&(t.wantlist.full=!0),l.Message.encode(t)}serializeToBitswap110(){const t={wantlist:{entries:Array.from(this.wantlist.values()).map(t=>({block:t.cid.buffer,priority:Number(t.priority),cancel:Boolean(t.cancel)}))},payload:[]};return this.full&&(t.wantlist.full=!0),this.blocks.forEach(e=>{t.payload.push({prefix:e.cid.prefix,data:e.data})}),l.Message.encode(t)}equals(t){const e=(t,e)=>{if(t.equals&&\"function\"==typeof t.equals)return t.equals(e)};return!(this.full!==t.full||!o(this.wantlist,t.wantlist,e)||!o(this.blocks,t.blocks,e))}get[Symbol.toStringTag](){const t=Array.from(this.wantlist.keys()),e=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${t}, blocks: ${e}>`}}d.deserialize=((t,r)=>{let n;try{n=l.Message.decode(t)}catch(t){return e(()=>r(t))}const o=n.wantlist&&n.wantlist.full||!1,s=new d(o);return n.wantlist&&n.wantlist.entries.forEach(t=>{let e;try{e=new u(t.block)}catch(t){return r(t)}s.addEntry(e,t.priority,t.cancel)}),n.blocks.length>0?a(n.blocks,(t,e)=>{h(t,\"sha2-256\",(n,o)=>{if(n)return e(n);let a;try{a=new u(o)}catch(n){return r(n)}s.addBlock(new i(t,a)),e()})},t=>{if(t)return r(t);r(null,s)}):n.payload.length>0?a(n.payload,(t,e)=>{t.prefix&&t.data||e();const n=f(t.prefix),o=n[0],a=n[1],l=n[2];h(t.data,l,(n,f)=>{if(n)return e(n);let h;try{h=new u(o,c[a.toString(\"16\")],f)}catch(n){return r(n)}s.addBlock(new i(t.data,h)),e()})},t=>{if(t)return r(t);r(null,s)}):void r(null,s)}),d.Entry=p,t.exports=d}).call(this,r(32).setImmediate)},function(t,e,r){\"use strict\";const n=r(1260),i=r(1261);class o{constructor(t){this.set=new Map,this._stats=t}get length(){return this.set.size}add(t,e){const r=t.buffer.toString(),n=this.set.get(r);n?(n.inc(),n.priority=e):(this.set.set(r,new i(t,e)),this._stats&&this._stats.push(null,\"wantListSize\",1))}remove(t){const e=t.buffer.toString(),r=this.set.get(e);r&&(r.dec(),r.hasRefs()||(this.set.delete(e),this._stats&&this._stats.push(null,\"wantListSize\",-1)))}removeForce(t){this.set.has(t)&&this.set.delete(t)}forEach(t){return this.set.forEach(t)}entries(){return this.set.entries()}sortedEntries(){return new Map(n(Array.from(this.set.entries()),t=>t[1].key))}contains(t){const e=t.buffer.toString();return this.set.get(e)}}o.Entry=i,t.exports=o},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=o(r(1268)),i=o(r(251));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e){e.encode=function(t){var e=\"\";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+=\"&\"),e+=encodeURIComponent(r)+\"=\"+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split(\"&\"),n=0,i=r.length;n<i;n++){var o=r[n].split(\"=\");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){(function(n){r(76);var i=r(603);function o(t,e){function r(){i(),e()}function n(t){i(),e(t)}function i(){t.removeListener(\"close\",r),t.removeListener(\"error\",n)}t.on(\"close\",r),t.on(\"error\",n)}function o(t){t.destroy?t.destroy():console.error(\"warning, stream-to-pull-stream: \\nthe wrapped node-stream does not implement `destroy`, \\nthis may cause resource leaks.\")}function s(t,e,r){var s,a,u=!1;function c(){a||(a=!0,r&&r(!0===s?null:s))}function f(){u||(u=!0,l(),s?c():t(s=!0,c))}function h(e){l(),s||t(s=e,c)}function l(){e.on(\"finish\",f),e.removeListener(\"close\",f),e.removeListener(\"error\",h)}e.on(\"close\",f),e.on(\"finish\",f),e.on(\"error\",h),n.nextTick(function(){i(function(r){t(null,function(t,n){if(s=s||t,!0===t)return e._isStdio?c():e.end();if(s=s||t)return o(e),c();e._isStdio?e.write(n,function(){r()}):!1===e.write(n)?e.once(\"drain\",r):r()})})})}function a(t){var e,r=[],n=[],i=!1;function s(){for(;(r.length||e)&&n.length;)n.shift()(r.length?null:e,r.shift());!r.length&&i&&(i=!1,t.resume())}return t.on(\"data\",function(e){r.push(e),s(),r.length&&t.pause&&(i=!0,t.pause())}),t.on(\"end\",function(){e=!0,s()}),t.on(\"close\",function(){e=!0,s()}),t.on(\"error\",function(t){e=t,s()}),function(r,i){if(!i)throw new Error(\"*must* provide cb\");if(r){function a(){for(;n.length;)n.shift()(r);i(r)}if(e)return a();t.once(\"close\",a),o(t)}else n.push(i),s()}}var u=a,c=function(t,e){return function(r){return s(r,t,e)}},f=function(t){return a(t)};(e=t.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return s(r,t,e),a(t)}:c(t,e):f(t)}).sink=c,e.source=f,e.read=u,e.read1=a,e.read2=function(t){var e,r=!1,n=!1;function i(){var r=t.read();if(null!==r&&e){var n=e;e=null,n(null,r)}}return t.on(\"readable\",function(){n=!0,e&&i()}).on(\"end\",function(){r=!0,e&&e(r)}).on(\"error\",function(t){r=t,e&&e(r)}),function(t,o){e=o,r?o(r):n&&i()}},e.duplex=function(t,e){return{source:f(t),sink:c(t,e)}},e.transform=function(t){return function(e){var r=f(t);return c(t)(e),r}}}).call(this,r(7))},function(t,e,r){\"use strict\";t.exports=function(){var t,e;return{source:function(r,n){t?t(r,n):e=[r,n]},sink:function(r){if(\"function\"!=typeof r)throw new Error(\"read must be function\");if(t)throw new Error(\"already piped\");if(t=r,e){var n=e;e=null,t.apply(null,n)}}}}},function(t,e,r){\"use strict\";(function(n){const i=r(9),o=r(55),s=r(6);function a(t){const e=(~~(1e9*Math.random())).toString(36);function r(t){return r=>{Array.isArray(r)&&(r=r.join(\" \")),t(\"(%s) %s\",e,r)}}const n=r(s(\"mss:\"+t));return n.error=r(s(\"mss:\"+t+\":error\")),n}(e=t.exports).writeEncoded=((t,e,r)=>{!function(t,e){const r=n.isBuffer(t)?[t]:[n.from(t)];i(i.values(r),o.encode(),i.collect((t,r)=>{if(t)return e(t);e(null,r[0])}))}(e,(e,n)=>{if(e)return r(e);t.write(n)})}),e.log={},e.log.dialer=(()=>a(\"dialer\\t\")),e.log.listener=(()=>a(\"listener\\t\"))}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(1499),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(342)(Object,\"create\");t.exports=n},function(t,e,r){var n=r(343);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(1610);t.exports=function(t,e){var r=t.__data__;return n(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}},function(t,e,r){\"use strict\";const n=r(10),i=r(22),o=r(88),s=r(549);e.OFFLINE_ERROR=\"This command must be run in online mode. Try running 'ipfs daemon' first.\";const a=i(function(t,r,i){Array.isArray(r)||(r=[r]),o(r,(r,i)=>{if(\"string\"!=typeof r){try{n.validate(r)}catch(t){return i(t)}return i(null,r)}let o;try{o=e.parseIpfsPath(r)}catch(t){return i(t)}const s=n.fromB58String(o.hash),a=o.links;if(!a.length)return i(null,s);t.get(s,function e(r,n,o){if(n)return i(n);if(!r.length)return i(null,o.multihash);const s=r[0];const a=o.links.find(t=>t.name===s);if(!a)return i(new Error(`no link named \"${s}\" under ${o.toJSON().multihash}`));t.get(a.multihash,e.bind(null,r.slice(1)))}.bind(null,a))},i)});e.parseIpfsPath=function(t){const e=new Error(\"invalid ipfs ref path\"),r=(t=t.replace(/^\\/ipfs\\//,\"\")).match(/([^/]+(?:\\/[^/]+)*)\\/?$/);if(!r)throw e;const[n,...i]=r[1].split(\"/\");if(s.cid(n))return{hash:n,links:i};throw e},e.resolvePath=a},function(t,e,r){var n=r(1672);function i(t,e){return(t=t||[]).push(e),t}t.exports=function(t,e,r,o){var s,a;function u(i){var c=null,f=!1,h=0;if(i,s)return i(!!s.abort||s,function(t){o(t),a&&a()});var l=!1,p=n(function(){l||s||(l=!0,i(null,function(n,u){l=!1,function(u,l){s||((s=n)?f||o(!0===s?null:s):(c=e(c,l),h=c&&c.length||0,null!=c&&function e(){if(f)return;var r=c;c=null;f=!0;h=0;t(r,function(t){f=!1,!0!==s||h?s&&!0!==s?(o(s),a&&a()):t?i(s=!!t.abort||t,o):h?e():p():o(t)})}(),h<r&&p()))}(0,u)}))});u.abort=function(t){a=function(e){t&&t()};var e=new Error(\"aborted\");e.abort=!0,i(s=e,function(t){t=!0===t?null:t,f||(o&&o(t),a&&a(t))})},p()}return e=e||i,u.abort=function(t){s=new Error(\"aborted before connecting\"),a=function(e){t&&t()}},u}},function(t,e,r){var n=r(603);t.exports=function(t,e){return function(r){var i,o,s=[];function a(t){s.push(t)}t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var u,c={emit:function(t,e){\"data\"==t&&a(e),\"end\"==t&&(i=!0,a(null)),\"error\"==t&&(o=e)},queue:a};return function(a,f){if(i=i||a,a)return r(a,function(){if(u){var t=u;u=null,t(a)}f(a)});u=f,n(function n(a){if(u)if(f=u,o)u=null,f(o);else if(s.length){var h=s.shift();u=null,f(null===h,h)}else r(i,function(s,h){if(s&&!0!==s)return o=s,a();if(i=i||s)e.call(c);else if(null!==h&&(t.call(c,h),o||i))return r(o||i,function(){u=null,f(o||i)});a(n)})})}}}},function(t,e,r){\"use strict\";var n,i,o,s=r(1719),a=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function u(){o=!1}function c(t){if(t){if(t!==n){if(t.length!==a.length)throw new Error(\"Custom alphabet for shortid must be \"+a.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter(function(t,e,r){return e!==r.lastIndexOf(t)});if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+a.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));n=t,u()}}else n!==a&&(n=a,u())}function f(){return o||(o=function(){n||c(a);for(var t,e=n.split(\"\"),r=[],i=s.nextValue();e.length>0;)i=s.nextValue(),t=Math.floor(i*e.length),r.push(e.splice(t,1)[0]);return r.join(\"\")}())}t.exports={get:function(){return n||a},characters:function(t){return c(t),n},seed:function(t){s.seed(t),i!==t&&(u(),i=t)},lookup:function(t){return f()[t]},shuffled:f}},function(t,e,r){\"use strict\";(function(e,n,i){var o=r(177);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=b;var a,u=!e.browser&&[\"v0.10\",\"v0.9.\"].indexOf(e.version.slice(0,5))>-1?n:o.nextTick;b.WritableState=g;var c=r(134);c.inherits=r(1);var f={deprecate:r(744)},h=r(371),l=r(3).Buffer,p=i.Uint8Array||function(){};var d,y=r(372);function m(){}function g(t,e){a=a||r(93),t=t||{};var n=e instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit(\"error\",n)):(i(n),t._writableState.errorEmitted=!0,t.emit(\"error\",n),E(t,e))}(t,r,n,e,i);else{var s=S(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(t,r),n?u(_,t,r,s,i):_(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(t){if(a=a||r(93),!(d.call(b,this)||this instanceof a))return new b(t);this._writableState=new g(t,this),this.writable=!0,t&&(\"function\"==typeof t.write&&(this._write=t.write),\"function\"==typeof t.writev&&(this._writev=t.writev),\"function\"==typeof t.destroy&&(this._destroy=t.destroy),\"function\"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function _(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit(\"drain\"))}(t,e),e.pendingcb--,n(),E(t,e)}function w(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,v(t,e,!0,e.length,i,\"\",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,h=r.callback;if(v(t,e,!1,e.objectMode?1:c.length,c,f,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final(function(r){e.pendingcb--,r&&t.emit(\"error\",r),e.prefinished=!0,t.emit(\"prefinish\"),E(t,e)})}function E(t,e){var r=S(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||(\"function\"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(k,t,e)):(e.prefinished=!0,t.emit(\"prefinish\")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit(\"finish\"))),r}c.inherits(b,h),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,\"buffer\",{get:f.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(t){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===b&&(t&&t._writableState instanceof g)}})):d=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))},b.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&function(t){return l.isBuffer(t)||t instanceof p}(t);return s&&!l.isBuffer(t)&&(t=function(t){return l.from(t)}(t)),\"function\"==typeof e&&(r=e,e=null),s?e=\"buffer\":e||(e=n.defaultEncoding),\"function\"!=typeof r&&(r=m),n.ended?function(t,e){var r=new Error(\"write after end\");t.emit(\"error\",r),o.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i=!0,s=!1;return null===r?s=new TypeError(\"May not write null values to stream\"):\"string\"==typeof r||void 0===r||e.objectMode||(s=new TypeError(\"Invalid non-string/buffer chunk\")),s&&(t.emit(\"error\",s),o.nextTick(n,s),i=!1),i}(this,n,t,r))&&(n.pendingcb++,i=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||\"string\"!=typeof e||(e=l.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i=\"buffer\",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,n,i,o);return u}(this,n,s,t,e,r)),i},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},b.prototype.setDefaultEncoding=function(t){if(\"string\"==typeof t&&(t=t.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((t+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(b.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(t,e,r){r(new Error(\"_write() is not implemented\"))},b.prototype._writev=null,b.prototype.end=function(t,e,r){var n=this._writableState;\"function\"==typeof t?(r=t,t=null,e=null):\"function\"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,E(t,e),r&&(e.finished?o.nextTick(r):t.once(\"finish\",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,\"destroyed\",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(7),r(32).setImmediate,r(5))},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=n.isEncoding||function(t){switch((t=\"\"+t)&&t.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return\"utf8\";for(var e;;)switch(t){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return t;default:if(e)return;t=(\"\"+t).toLowerCase(),e=!0}}(t);if(\"string\"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error(\"Unknown encoding: \"+t);return e||t}(t),this.encoding){case\"utf16le\":this.text=u,this.end=c,e=4;break;case\"utf8\":this.fillLast=a,e=4;break;case\"base64\":this.text=f,this.end=h,e=3;break;default:return this.write=l,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,\"�\";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,\"�\";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,\"�\"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString(\"utf16le\",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString(\"utf16le\",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):\"\";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString(\"utf16le\",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString(\"base64\",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString(\"base64\",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+this.lastChar.toString(\"base64\",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):\"\"}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return\"\";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return\"\";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||\"\"},o.prototype.end=function(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+\"�\":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString(\"utf8\",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString(\"utf8\",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e){e.endianness=function(){return\"LE\"},e.hostname=function(){return\"undefined\"!=typeof location?location.hostname:\"\"},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return\"Browser\"},e.release=function(){return\"undefined\"!=typeof navigator?navigator.appVersion:\"\"},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return\"javascript\"},e.platform=function(){return\"browser\"},e.tmpdir=e.tmpDir=function(){return\"/tmp\"},e.EOL=\"\\n\",e.homedir=function(){return\"/\"}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(){this.listeners={}}return t.prototype.addEventListener=function(t,e){t=t.toLowerCase(),this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e.handleEvent||e)},t.prototype.removeEventListener=function(t,e){if(t=t.toLowerCase(),this.listeners[t]){var r=this.listeners[t].indexOf(e.handleEvent||e);r<0||this.listeners[t].splice(r,1)}},t.prototype.dispatchEvent=function(t){var e=t.type.toLowerCase();if(t.target=this,this.listeners[e])for(var r=0,n=this.listeners[e];r<n.length;r++){n[r].call(this,t)}var i=this[\"on\"+e];return i&&i.call(this,t),!0},t}();e.XMLHttpRequestEventTarget=n},function(t,e,r){r(771);var n=function(t,e){return parseInt(t.slice(2*e+2,2*e+4),16)},i=function(t){return(t.length-2)/2},o=function(t){for(var e=[],r=2,n=t.length;r<n;r+=2)e.push(parseInt(t.slice(r,r+2),16));return e},s=function(t){for(var e=\"0x\",r=0,n=t.length;r<n;++r){var i=t[r];e+=(i<16?\"0\":\"\")+i.toString(16)}return e};t.exports={random:function(t){var e=void 0;e=\"undefined\"!=typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(t)):r(96).randomBytes(t);for(var n=\"0x\",i=0;i<t;++i)n+=(\"00\"+e[i].toString(16)).slice(-2);return n},length:i,concat:function(t,e){return t.concat(e.slice(2))},flatten:function(t){return\"0x\"+t.reduce(function(t,e){return t+e.slice(2)},\"\")},slice:function(t,e,r){return\"0x\"+r.slice(2*t+2,2*e+2)},reverse:function(t){for(var e=\"0x\",r=0,n=i(t);r<n;++r)e+=t.slice(2*(n-r),2*(n-r+1));return e},pad:function t(e,r){return r.length===2*e+2?r:t(e,\"0x0\"+r.slice(2))},padRight:function t(e,r){return r.length===2*e+2?r:t(e,r+\"0\")},fromAscii:function(t){for(var e=\"0x\",r=0;r<t.length;++r)e+=(\"00\"+t.charCodeAt(r).toString(16)).slice(-2);return e},toAscii:function(t){for(var e=\"\",r=2;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.slice(r,r+2),16));return e},fromString:function(t){for(var e=function(t){var e=t.toString(16);return e.length<2?\"0\"+e:e},r=\"0x\",n=0;n!=t.length;n++){var i=t.charCodeAt(n);if(i<128)r+=e(i);else{if(i<2048)r+=e(i>>6|192);else{if(i>55295&&i<56320){if(++n==t.length)return null;var o=t.charCodeAt(n);if(o<56320||o>57343)return null;r+=e((i=65536+((1023&i)<<10)+(1023&o))>>18|240),r+=e(i>>12&63|128)}else r+=e(i>>12|224);r+=e(i>>6&63|128)}r+=e(63&i|128)}}return r},toString:function(t){for(var e=\"\",r=0,o=i(t);r<o;){var s=n(t,r++);if(s>127){if(s>191&&s<224){if(r>=o)return null;s=(31&s)<<6|63&n(t,r)}else if(s>223&&s<240){if(r+1>=o)return null;s=(15&s)<<12|(63&n(t,r))<<6|63&n(t,++r)}else{if(!(s>239&&s<248))return null;if(r+2>=o)return null;s=(7&s)<<18|(63&n(t,r))<<12|(63&n(t,++r))<<6|63&n(t,++r)}++r}if(s<=65535)e+=String.fromCharCode(s);else{if(!(s<=1114111))return null;s-=65536,e+=String.fromCharCode(s>>10|55296),e+=String.fromCharCode(1023&s|56320)}}return e},fromNumber:function(t){var e=t.toString(16);return e.length%2==0?\"0x\"+e:\"0x0\"+e},toNumber:function(t){return parseInt(t.slice(2),16)},fromNat:function(t){return\"0x0\"===t?\"0x\":t.length%2==0?t:\"0x0\"+t.slice(2)},toNat:function(t){return\"0\"===t[2]?\"0x\"+t.slice(3):t},fromArray:s,toArray:o,fromUint8Array:function(t){return s([].slice.call(t,0))},toUint8Array:function(t){return new Uint8Array(o(t))}}},function(t,e,r){\"use strict\";(function(e){var n=r(1),i=r(381),o=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function a(t,e){return t<<e|t>>>32-e}function u(t,e,r,n,i,o,s){return a(t+(e&r|~e&n)+i+o|0,s)+e|0}function c(t,e,r,n,i,o,s){return a(t+(e&n|r&~n)+i+o|0,s)+e|0}function f(t,e,r,n,i,o,s){return a(t+(e^r^n)+i+o|0,s)+e|0}function h(t,e,r,n,i,o,s){return a(t+(r^(e|~n))+i+o|0,s)+e|0}n(s,i),s.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,s=this._d;n=h(n=h(n=h(n=h(n=f(n=f(n=f(n=f(n=c(n=c(n=c(n=c(n=u(n=u(n=u(n=u(n,i=u(i,s=u(s,r=u(r,n,i,s,t[0],3614090360,7),n,i,t[1],3905402710,12),r,n,t[2],606105819,17),s,r,t[3],3250441966,22),i=u(i,s=u(s,r=u(r,n,i,s,t[4],4118548399,7),n,i,t[5],1200080426,12),r,n,t[6],2821735955,17),s,r,t[7],4249261313,22),i=u(i,s=u(s,r=u(r,n,i,s,t[8],1770035416,7),n,i,t[9],2336552879,12),r,n,t[10],4294925233,17),s,r,t[11],2304563134,22),i=u(i,s=u(s,r=u(r,n,i,s,t[12],1804603682,7),n,i,t[13],4254626195,12),r,n,t[14],2792965006,17),s,r,t[15],1236535329,22),i=c(i,s=c(s,r=c(r,n,i,s,t[1],4129170786,5),n,i,t[6],3225465664,9),r,n,t[11],643717713,14),s,r,t[0],3921069994,20),i=c(i,s=c(s,r=c(r,n,i,s,t[5],3593408605,5),n,i,t[10],38016083,9),r,n,t[15],3634488961,14),s,r,t[4],3889429448,20),i=c(i,s=c(s,r=c(r,n,i,s,t[9],568446438,5),n,i,t[14],3275163606,9),r,n,t[3],4107603335,14),s,r,t[8],1163531501,20),i=c(i,s=c(s,r=c(r,n,i,s,t[13],2850285829,5),n,i,t[2],4243563512,9),r,n,t[7],1735328473,14),s,r,t[12],2368359562,20),i=f(i,s=f(s,r=f(r,n,i,s,t[5],4294588738,4),n,i,t[8],2272392833,11),r,n,t[11],1839030562,16),s,r,t[14],4259657740,23),i=f(i,s=f(s,r=f(r,n,i,s,t[1],2763975236,4),n,i,t[4],1272893353,11),r,n,t[7],4139469664,16),s,r,t[10],3200236656,23),i=f(i,s=f(s,r=f(r,n,i,s,t[13],681279174,4),n,i,t[0],3936430074,11),r,n,t[3],3572445317,16),s,r,t[6],76029189,23),i=f(i,s=f(s,r=f(r,n,i,s,t[9],3654602809,4),n,i,t[12],3873151461,11),r,n,t[15],530742520,16),s,r,t[2],3299628645,23),i=h(i,s=h(s,r=h(r,n,i,s,t[0],4096336452,6),n,i,t[7],1126891415,10),r,n,t[14],2878612391,15),s,r,t[5],4237533241,21),i=h(i,s=h(s,r=h(r,n,i,s,t[12],1700485571,6),n,i,t[3],2399980690,10),r,n,t[10],4293915773,15),s,r,t[1],2240044497,21),i=h(i,s=h(s,r=h(r,n,i,s,t[8],1873313359,6),n,i,t[15],4264355552,10),r,n,t[6],2734768916,15),s,r,t[13],1309151649,21),i=h(i,s=h(s,r=h(r,n,i,s,t[4],4149444226,6),n,i,t[11],3174756917,10),r,n,t[2],718787259,15),s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new e(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=s}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(0).Buffer,i=r(1),o=r(381),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(t,e){return t<<e|t>>>32-e}function y(t,e,r,n,i,o,s,a){return d(t+(e^r^n)+o+s|0,a)+i|0}function m(t,e,r,n,i,o,s,a){return d(t+(e&r|~e&n)+o+s|0,a)+i|0}function g(t,e,r,n,i,o,s,a){return d(t+((e|~r)^n)+o+s|0,a)+i|0}function b(t,e,r,n,i,o,s,a){return d(t+(e&n|r&~n)+o+s|0,a)+i|0}function v(t,e,r,n,i,o,s,a){return d(t+(e^(r|~n))+o+s|0,a)+i|0}i(p,o),p.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,p=0|this._e,_=0|this._a,w=0|this._b,S=0|this._c,k=0|this._d,E=0|this._e,A=0;A<80;A+=1){var x,T;A<16?(x=y(r,n,i,o,p,t[a[A]],h[0],c[A]),T=v(_,w,S,k,E,t[u[A]],l[0],f[A])):A<32?(x=m(r,n,i,o,p,t[a[A]],h[1],c[A]),T=b(_,w,S,k,E,t[u[A]],l[1],f[A])):A<48?(x=g(r,n,i,o,p,t[a[A]],h[2],c[A]),T=g(_,w,S,k,E,t[u[A]],l[2],f[A])):A<64?(x=b(r,n,i,o,p,t[a[A]],h[3],c[A]),T=m(_,w,S,k,E,t[u[A]],l[3],f[A])):(x=v(r,n,i,o,p,t[a[A]],h[4],c[A]),T=y(_,w,S,k,E,t[u[A]],l[4],f[A])),r=p,p=o,o=d(i,10),i=n,n=x,_=E,E=k,k=d(S,10),S=w,w=T}var B=this._b+i+k|0;this._b=this._c+o+E|0,this._c=this._d+p+_|0,this._d=this._e+r+w|0,this._e=this._a+n+S|0,this._a=B},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=p},function(t,e,r){(e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+\" is not supported (we accept pull requests)\");return new r}).sha=r(776),e.sha1=r(777),e.sha224=r(778),e.sha256=r(382),e.sha384=r(779),e.sha512=r(383)},function(t,e,r){e.pbkdf2=r(782),e.pbkdf2Sync=r(388)},function(t,e,r){\"use strict\";e.utils=r(785),e.Cipher=r(786),e.DES=r(787),e.CBC=r(788),e.EDE=r(789)},function(t,e,r){var n={ECB:r(791),CBC:r(792),CFB:r(793),CFB8:r(794),CFB1:r(795),OFB:r(796),CTR:r(389),GCM:r(389)},i=r(391);for(var o in i)i[o].module=n[i[o].mode];t.exports=i},function(t,e,r){(function(e){var n=r(16),i=r(85);function o(t,r){var i=function(t){var e=s(t);return{blinder:e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(r),o=r.modulus.byteLength(),a=(n.mont(r.modulus),new n(t).mul(i.blinder).umod(r.modulus)),u=a.toRed(n.mont(r.prime1)),c=a.toRed(n.mont(r.prime2)),f=r.coefficient,h=r.prime1,l=r.prime2,p=u.redPow(r.exponent1),d=c.redPow(r.exponent2);p=p.fromRed(),d=d.fromRed();var y=p.isub(d).imul(f).umod(h);return y.imul(l),d.iadd(y),new e(d.imul(i.unblinder).umod(r.modulus).toArray(!1,o))}function s(t){for(var e=t.modulus.byteLength(),r=new n(i(e));r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2);)r=new n(i(e));return r}t.exports=o,o.getr=s}).call(this,r(0).Buffer)},function(t,e,r){var n=e;n.utils=r(75),n.common=r(137),n.sha=r(814),n.ripemd=r(818),n.hmac=r(819),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e,r){\"use strict\";var n=r(140);t.exports=function(t,e,r){r||(r=e,e=null);var i=n(function(r){e=t(e,r)},function(t){r(t,e)});return 2===arguments.length?function(t){t(null,function(n,o){if(n)return r(!0===n?null:n);e=o,i(t)})}:i}},function(t,e,r){\"use strict\";(function(t,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=u,e.wrap=c;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(110));var o,s=e.hasSetImmediate=\"function\"==typeof t&&t,a=e.hasNextTick=\"object\"==typeof n&&\"function\"==typeof n.nextTick;function u(t){setTimeout(t,0)}function c(t){return function(e){var r=(0,i.default)(arguments,1);t(function(){e.apply(null,r)})}}o=s?t:a?n.nextTick:u,e.default=c(o)}).call(this,r(32).setImmediate,r(7))},function(t,e,r){var n=r(190),i=r(143),o=\"[object AsyncFunction]\",s=\"[object Function]\",a=\"[object GeneratorFunction]\",u=\"[object Proxy]\";t.exports=function(t){if(!i(t))return!1;var e=n(t);return e==s||e==a||e==o||e==u}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=o(r(431)),i=o(r(251));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?l:p)(t,(0,f.default)(e),r)};var n=h(r(100)),i=h(r(250)),o=h(r(431)),s=h(r(251)),a=h(r(65)),u=h(r(189)),c=h(r(111)),f=h(r(38));function h(t){return t&&t.__esModule?t:{default:t}}function l(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){var n=r(441),i=r(442);t.exports=function(t,e,r){var o=e&&r||0;\"string\"==typeof t&&(e=\"binary\"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},function(t,e,r){\"use strict\";const n=r(9),i=r(194),o=r(144),s=r(234),a=r(253);e.asyncFilter=function(t){let e,r,n=!1;return function(i){return function o(s,a){if(r)return a(r);s?(r=s,i(s,n?()=>{n?e=a:a(s)}:a)):i(null,(i,s)=>{i?a(i):r?a(r):(n=!0,t(s,(t,i)=>{n=!1,r?(a(r),e(r)):t?o(t,a):i?a(null,s):o(null,a)}))})}}},e.asyncSort=function(t){const e=i(),r=n.collect((r,i)=>{if(r)return e.abort(r);t(i,(t,r)=>{if(t)return e.abort(t);e.resolve(n.values(i))})});return function(t){return r(t),e}},e.replaceStartWith=function(t,e){const r=new RegExp(\"^\"+e);return t.replace(r,\"\")},e.tmpdir=(()=>o.join(s.tmpdir(),a()))},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){var r=(0,i.default)(t);return(0,n.default)(function(t,e){r(t[0],e)},e,1)};var n=o(r(928)),i=o(r(38));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},function(t,e,r){e.AbstractLevelDOWN=r(960),e.AbstractIterator=r(452),e.AbstractChainedBatch=r(453)},function(t,e,r){e.source=r(194),e.through=r(971),e.sink=r(459),e.duplex=r(460)},function(t,e){var r=e.once=function(t){return function(e,r){if(e)return r(e);if(null!=t){var n=t;t=null,r(null,n)}else r(!0)}};e.depthFirst=function(t,e){var n,i=[];return i.unshift(r(t)),function t(r,o){return i.length?n?o(n):void i[0](r,function(r,s){if(r){if(!0!==r){for(n=r,i.shift();i.length;)i.shift()(r,function(){});return o(r)}return i.shift(),t(null,o)}i.unshift(e(s)),o(r,s)}):o(!0)}},e.widthFirst=function(t,e){var n=[];return n.push(r(t)),function t(r,i){if(!n.length)return i(!0);n[0](r,function(r,o){if(r)return n.shift(),t(null,i);n.push(e(o)),i(r,o)})}},e.leafFirst=function(t,e){var n=[],i=[];return n.push(r(t)),function t(r,o){n[0](r,function(r,s){if(r)return n.shift(),i.length?o(null,i.shift()):o(!0);n.unshift(e(s)),i.unshift(s),t(null,o)})}}},function(t,e,r){\"use strict\";(function(n){const i=r(13),o=r(11)(r(994)),s=r(463),a=r(101),u=r(198),c=r(67),f=r(4);function h(t,e){let r;!u.isDAGNode(t)&&t.links&&(t.links=t.links.map(t=>a.isDAGLink(t)?t:a.util.createDagLinkFromB58EncodedHash(t)));try{r=o.PBNode.encode(function(t){const e={};t.data&&t.data.length>0?e.Data=t.data:e.Data=null;t.links&&t.links.length>0?e.Links=t.links.map(t=>({Hash:t.multihash,Name:t.name,Tsize:t.size})):e.Links=null;return e}(t))}catch(t){return e(t)}e(null,r)}(e=t.exports).serialize=h,e.deserialize=function(t,e){const r=o.PBNode.decode(t),i=r.Links.map(t=>new a(t.Name,t.Tsize,t.Hash)),s=null==r.Data?n.alloc(0):n.from(r.Data);u.create(s,i,e)},e.cid=function(t,e,r){\"function\"==typeof e&&(r=e,e={});const n=(e=e||{}).hashAlg||s.defaultHashAlg;let o=e.version;void 0===o&&(o=\"sha2-256\"===n?0:1),f([e=>h(t,e),(t,e)=>c(t,n,e),(t,e)=>e(null,new i(o,s.multicodec,t))],r)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";e.defined=function(t){return null!==t&&void 0!==t&&(\"number\"!=typeof t||!isNaN(t))}},function(t,e,r){\"use strict\";(function(t){const n=r(201),i=r(202),o=i.SHIFT32,s=i.SHIFT16;function a(t){return t<16?\"0\"+t.toString(16):t.toString(16)}e.parseHalf=function(t){var e,r,n;return n=128&t[0]?-1:1,e=(124&t[0])>>2,r=(3&t[0])<<8|t[1],e?31===e?n*(r?NaN:Infinity):n*Math.pow(2,e-25)*(1024+r):5.960464477539063e-8*n*r},e.arrayBufferToBignumber=function(t){const e=t.byteLength;let r=\"\";for(let n=0;n<e;n++)r+=a(t[n]);return new n(r,16)},e.buildMap=(t=>{const e=new Map,r=Object.keys(t),n=r.length;for(let i=0;i<n;i++)e.set(r[i],t[r[i]]);return e}),e.buildInt32=((t,e)=>t*s+e),e.buildInt64=((t,r,i,s)=>{const a=e.buildInt32(t,r),u=e.buildInt32(i,s);return a>2097151?new n(a).times(o).plus(u):a*o+u}),e.writeHalf=function(e,r){const n=t.allocUnsafe(4);n.writeFloatBE(r,0);const i=n.readUInt32BE(0);if(0!=(8191&i))return!1;var o=i>>16&32768;const s=i>>23&255,a=8388607&i;if(s>=113&&s<=142)o+=(s-112<<10)+(a>>13);else{if(!(s>=103&&s<113))return!1;if(a&(1<<126-s)-1)return!1;o+=a+8388608>>126-s}return e.writeUInt16BE(o,0),!0},e.keySorter=function(t,e){var r=t[0].byteLength,n=e[0].byteLength;return r>n?1:n>r?-1:t[0].compare(e[0])},e.isNegativeZero=(t=>0===t&&1/t<0),e.nextPowerOf2=(t=>{let e=0;if(t&&!(t&t-1))return t;for(;0!==t;)t>>=1,e+=1;return 1<<e})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(473),i=(t,e)=>{switch(e){case\"version\":return t.version;case\"timestamp\":return t.timestamp;case\"difficulty\":return t.bits;case\"nonce\":return t.nonce;case\"parent\":return{\"/\":n.hashToCid(t.prevHash)};case\"tx\":return{\"/\":n.hashToCid(t.merkleRoot)};default:return null}};t.exports={multicodec:\"bitcoin-block\",defaultHashAlg:\"dbl-sha2-256\",resolve:(t,e,r)=>{\"function\"==typeof e&&(r=e,e=void 0),n.deserialize(t,(t,n)=>{if(t)return r(t);if(!e)return r(null,{value:n,remainderPath:\"\"});const o=e.split(\"/\"),s=i(n,o[0]);if(null===s)return r(new Error(\"No such path\"),null);let a=o.slice(1).join(\"/\");return void 0!==s[\"/\"]?r(null,{value:s,remainderPath:a}):a.length>0?r(new Error(\"No such path\"),null):r(null,{value:s,remainderPath:\"\"})})},tree:(t,e,r)=>{\"function\"==typeof e&&(r=e,e=void 0),e=e||{},n.deserialize(t,(t,n)=>{if(t)return r(t);const o=[\"version\",\"timestamp\",\"difficulty\",\"nonce\",\"parent\",\"tx\"];if(!0===e.values){const t={};for(let e of o)t[e]=i(n,e);return r(null,t)}return r(null,o)})}}},function(t,e,r){var n=r(3).Buffer;t.exports={check:function(t){if(t.length<8)return!1;if(t.length>72)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-2)return!1;if(2!==t[2])return!1;var e=t[3];if(0===e)return!1;if(5+e>=t.length)return!1;if(2!==t[4+e])return!1;var r=t[5+e];return!(0===r||6+e+r!==t.length||128&t[4]||e>1&&0===t[4]&&!(128&t[5])||128&t[e+6]||r>1&&0===t[e+6]&&!(128&t[e+7]))},decode:function(t){if(t.length<8)throw new Error(\"DER sequence length is too short\");if(t.length>72)throw new Error(\"DER sequence length is too long\");if(48!==t[0])throw new Error(\"Expected DER sequence\");if(t[1]!==t.length-2)throw new Error(\"DER sequence length is invalid\");if(2!==t[2])throw new Error(\"Expected DER integer\");var e=t[3];if(0===e)throw new Error(\"R length is zero\");if(5+e>=t.length)throw new Error(\"R length is too long\");if(2!==t[4+e])throw new Error(\"Expected DER integer (2)\");var r=t[5+e];if(0===r)throw new Error(\"S length is zero\");if(6+e+r!==t.length)throw new Error(\"S length is invalid\");if(128&t[4])throw new Error(\"R value is negative\");if(e>1&&0===t[4]&&!(128&t[5]))throw new Error(\"R value excessively padded\");if(128&t[e+6])throw new Error(\"S value is negative\");if(r>1&&0===t[e+6]&&!(128&t[e+7]))throw new Error(\"S value excessively padded\");return{r:t.slice(4,4+e),s:t.slice(6+e)}},encode:function(t,e){var r=t.length,i=e.length;if(0===r)throw new Error(\"R length is zero\");if(0===i)throw new Error(\"S length is zero\");if(r>33)throw new Error(\"R length is too long\");if(i>33)throw new Error(\"S length is too long\");if(128&t[0])throw new Error(\"R value is negative\");if(128&e[0])throw new Error(\"S value is negative\");if(r>1&&0===t[0]&&!(128&t[1]))throw new Error(\"R value excessively padded\");if(i>1&&0===e[0]&&!(128&e[1]))throw new Error(\"S value excessively padded\");var o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=t.length,t.copy(o,4),o[4+r]=2,o[5+r]=e.length,e.copy(o,6+r),o}}},function(t,e){var r={Array:function(t){return null!==t&&void 0!==t&&t.constructor===Array},Boolean:function(t){return\"boolean\"==typeof t},Function:function(t){return\"function\"==typeof t},Nil:function(t){return void 0===t||null===t},Number:function(t){return\"number\"==typeof t},Object:function(t){return\"object\"==typeof t},String:function(t){return\"string\"==typeof t},\"\":function(){return!0}};for(var n in r.Null=r.Nil,r)r[n].toJSON=function(t){return t}.bind(null,n);t.exports=r},function(t,e,r){var n=r(27).decompile,i=r(267),o=r(1016),s=r(268),a=r(269),u=r(1021),c=r(1024),f=r(1026),h=r(1028),l={MULTISIG:\"multisig\",NONSTANDARD:\"nonstandard\",NULLDATA:\"nulldata\",P2PK:\"pubkey\",P2PKH:\"pubkeyhash\",P2SH:\"scripthash\",P2WPKH:\"witnesspubkeyhash\",P2WSH:\"witnessscripthash\",WITNESS_COMMITMENT:\"witnesscommitment\"};t.exports={classifyInput:function(t,e){var r=n(t);return a.input.check(r)?l.P2PKH:u.input.check(r,e)?l.P2SH:i.input.check(r,e)?l.MULTISIG:s.input.check(r)?l.P2PK:l.NONSTANDARD},classifyOutput:function(t){if(c.output.check(t))return l.P2WPKH;if(f.output.check(t))return l.P2WSH;if(a.output.check(t))return l.P2PKH;if(u.output.check(t))return l.P2SH;var e=n(t);return i.output.check(e)?l.MULTISIG:s.output.check(e)?l.P2PK:h.output.check(e)?l.WITNESS_COMMITMENT:o.output.check(e)?l.NULLDATA:l.NONSTANDARD},classifyWitness:function(t,e){var r=n(t);return c.input.check(r)?l.P2WPKH:f.input.check(r,e)?l.P2WSH:l.NONSTANDARD},multisig:i,nullData:o,pubKey:s,pubKeyHash:a,scriptHash:u,witnessPubKeyHash:c,witnessScriptHash:f,witnessCommitment:h,types:l}},function(t,e,r){t.exports={input:r(1015),output:r(477)}},function(t,e,r){t.exports={input:r(1017),output:r(1018)}},function(t,e,r){t.exports={input:r(1019),output:r(1020)}},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=9007199254740991;function o(t){if(t<0||t>i||t%1!=0)throw new RangeError(\"value out of range\")}function s(t){return o(t),t<253?1:t<=65535?3:t<=4294967295?5:9}t.exports={encode:function t(e,r,i){if(o(e),r||(r=n.allocUnsafe(s(e))),!n.isBuffer(r))throw new TypeError(\"buffer must be a Buffer instance\");return i||(i=0),e<253?(r.writeUInt8(e,i),t.bytes=1):e<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(e,i+1),t.bytes=3):e<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(e,i+1),t.bytes=5):(r.writeUInt8(255,i),r.writeUInt32LE(e>>>0,i+1),r.writeUInt32LE(e/4294967296|0,i+5),t.bytes=9),r},decode:function t(e,r){if(!n.isBuffer(e))throw new TypeError(\"buffer must be a Buffer instance\");r||(r=0);var i=e.readUInt8(r);if(i<253)return t.bytes=1,i;if(253===i)return t.bytes=3,e.readUInt16LE(r+1);if(254===i)return t.bytes=5,e.readUInt32LE(r+1);t.bytes=9;var s=e.readUInt32LE(r+1),a=4294967296*e.readUInt32LE(r+5)+s;return o(a),a},encodingLength:s}},function(t,e,r){var n=r(3).Buffer,i=r(113),o=r(27),s=r(480),a=r(44),u=r(25),c=r(29),f=r(270);function h(t){var e=t.length;return f.encodingLength(e)+e}function l(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}l.DEFAULT_SEQUENCE=4294967295,l.SIGHASH_ALL=1,l.SIGHASH_NONE=2,l.SIGHASH_SINGLE=3,l.SIGHASH_ANYONECANPAY=128,l.ADVANCED_TRANSACTION_MARKER=0,l.ADVANCED_TRANSACTION_FLAG=1;var p=n.allocUnsafe(0),d=[],y=n.from(\"0000000000000000000000000000000000000000000000000000000000000000\",\"hex\"),m=n.from(\"0000000000000000000000000000000000000000000000000000000000000001\",\"hex\"),g=n.from(\"ffffffffffffffff\",\"hex\"),b={script:p,valueBuffer:g};l.fromBuffer=function(t,e){var r=0;function n(e){return r+=e,t.slice(r-e,r)}function i(){var e=t.readUInt32LE(r);return r+=4,e}function o(){var e=s.readUInt64LE(t,r);return r+=8,e}function a(){var e=f.decode(t,r);return r+=f.decode.bytes,e}function u(){return n(a())}function c(){for(var t=a(),e=[],r=0;r<t;r++)e.push(u());return e}var h=new l;h.version=function(){var e=t.readInt32LE(r);return r+=4,e}();var p=t.readUInt8(r),y=t.readUInt8(r+1),m=!1;p===l.ADVANCED_TRANSACTION_MARKER&&y===l.ADVANCED_TRANSACTION_FLAG&&(r+=2,m=!0);for(var g=a(),b=0;b<g;++b)h.ins.push({hash:n(32),index:i(),script:u(),sequence:i(),witness:d});var v=a();for(b=0;b<v;++b)h.outs.push({value:o(),script:u()});if(m){for(b=0;b<g;++b)h.ins[b].witness=c();if(!h.hasWitnesses())throw new Error(\"Transaction has superfluous witness data\")}if(h.locktime=i(),e)return h;if(r!==t.length)throw new Error(\"Transaction has unexpected data\");return h},l.fromHex=function(t){return l.fromBuffer(n.from(t,\"hex\"))},l.isCoinbaseHash=function(t){u(c.Hash256bit,t);for(var e=0;e<32;++e)if(0!==t[e])return!1;return!0},l.prototype.isCoinbase=function(){return 1===this.ins.length&&l.isCoinbaseHash(this.ins[0].hash)},l.prototype.addInput=function(t,e,r,n){return u(c.tuple(c.Hash256bit,c.UInt32,c.maybe(c.UInt32),c.maybe(c.Buffer)),arguments),c.Null(r)&&(r=l.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:e,script:n||p,sequence:r,witness:d})-1},l.prototype.addOutput=function(t,e){return u(c.tuple(c.Buffer,c.Satoshi),arguments),this.outs.push({script:t,value:e})-1},l.prototype.hasWitnesses=function(){return this.ins.some(function(t){return 0!==t.witness.length})},l.prototype.weight=function(){return 3*this.__byteLength(!1)+this.__byteLength(!0)},l.prototype.virtualSize=function(){return Math.ceil(this.weight()/4)},l.prototype.byteLength=function(){return this.__byteLength(!0)},l.prototype.__byteLength=function(t){var e=t&&this.hasWitnesses();return(e?10:8)+f.encodingLength(this.ins.length)+f.encodingLength(this.outs.length)+this.ins.reduce(function(t,e){return t+40+h(e.script)},0)+this.outs.reduce(function(t,e){return t+8+h(e.script)},0)+(e?this.ins.reduce(function(t,e){return t+function(t){var e=t.length;return f.encodingLength(e)+t.reduce(function(t,e){return t+h(e)},0)}(e.witness)},0):0)},l.prototype.clone=function(){var t=new l;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map(function(t){return{hash:t.hash,index:t.index,script:t.script,sequence:t.sequence,witness:t.witness}}),t.outs=this.outs.map(function(t){return{script:t.script,value:t.value}}),t},l.prototype.hashForSignature=function(t,e,r){if(u(c.tuple(c.UInt32,c.Buffer,c.Number),arguments),t>=this.ins.length)return m;var s=o.compile(o.decompile(e).filter(function(t){return t!==a.OP_CODESEPARATOR})),f=this.clone();if((31&r)===l.SIGHASH_NONE)f.outs=[],f.ins.forEach(function(e,r){r!==t&&(e.sequence=0)});else if((31&r)===l.SIGHASH_SINGLE){if(t>=this.outs.length)return m;f.outs.length=t+1;for(var h=0;h<t;h++)f.outs[h]=b;f.ins.forEach(function(e,r){r!==t&&(e.sequence=0)})}r&l.SIGHASH_ANYONECANPAY?(f.ins=[f.ins[t]],f.ins[0].script=s):(f.ins.forEach(function(t){t.script=p}),f.ins[t].script=s);var d=n.allocUnsafe(f.__byteLength(!1)+4);return d.writeInt32LE(r,d.length-4),f.__toBuffer(d,0,!1),i.hash256(d)},l.prototype.hashForWitnessV0=function(t,e,r,o){var a,p;function d(t){p+=t.copy(a,p)}function m(t){p=a.writeUInt32LE(t,p)}function g(t){p=s.writeUInt64LE(a,t,p)}function b(t){!function(t){f.encode(t,a,p),p+=f.encode.bytes}(t.length),d(t)}u(c.tuple(c.UInt32,c.Buffer,c.Satoshi,c.UInt32),arguments);var v=y,_=y,w=y;if(o&l.SIGHASH_ANYONECANPAY||(a=n.allocUnsafe(36*this.ins.length),p=0,this.ins.forEach(function(t){d(t.hash),m(t.index)}),_=i.hash256(a)),o&l.SIGHASH_ANYONECANPAY||(31&o)===l.SIGHASH_SINGLE||(31&o)===l.SIGHASH_NONE||(a=n.allocUnsafe(4*this.ins.length),p=0,this.ins.forEach(function(t){m(t.sequence)}),w=i.hash256(a)),(31&o)!==l.SIGHASH_SINGLE&&(31&o)!==l.SIGHASH_NONE){var S=this.outs.reduce(function(t,e){return t+8+h(e.script)},0);a=n.allocUnsafe(S),p=0,this.outs.forEach(function(t){g(t.value),b(t.script)}),v=i.hash256(a)}else if((31&o)===l.SIGHASH_SINGLE&&t<this.outs.length){var k=this.outs[t];a=n.allocUnsafe(8+h(k.script)),p=0,g(k.value),b(k.script),v=i.hash256(a)}a=n.allocUnsafe(156+h(e)),p=0;var E=this.ins[t];return m(this.version),d(_),d(w),d(E.hash),m(E.index),b(e),g(r),m(E.sequence),d(v),m(this.locktime),m(o),i.hash256(a)},l.prototype.getHash=function(){return i.hash256(this.__toBuffer(void 0,void 0,!1))},l.prototype.getId=function(){return this.getHash().reverse().toString(\"hex\")},l.prototype.toBuffer=function(t,e){return this.__toBuffer(t,e,!0)},l.prototype.__toBuffer=function(t,e,r){t||(t=n.allocUnsafe(this.__byteLength(r)));var i=e||0;function o(e){i+=e.copy(t,i)}function a(e){i=t.writeUInt8(e,i)}function u(e){i=t.writeUInt32LE(e,i)}function c(e){f.encode(e,t,i),i+=f.encode.bytes}function h(t){c(t.length),o(t)}!function(e){i=t.writeInt32LE(e,i)}(this.version);var p=r&&this.hasWitnesses();return p&&(a(l.ADVANCED_TRANSACTION_MARKER),a(l.ADVANCED_TRANSACTION_FLAG)),c(this.ins.length),this.ins.forEach(function(t){o(t.hash),u(t.index),h(t.script),u(t.sequence)}),c(this.outs.length),this.outs.forEach(function(e){e.valueBuffer?o(e.valueBuffer):function(e){i=s.writeUInt64LE(t,e,i)}(e.value),h(e.script)}),p&&this.ins.forEach(function(t){!function(t){c(t.length),t.forEach(h)}(t.witness)}),u(this.locktime),void 0!==e?t.slice(e,i):t},l.prototype.toHex=function(){return this.toBuffer().toString(\"hex\")},l.prototype.setInputScript=function(t,e){u(c.tuple(c.Number,c.Buffer),arguments),this.ins[t].script=e},l.prototype.setWitness=function(t,e){u(c.tuple(c.Number,[c.Buffer]),arguments),this.ins[t].witness=e},t.exports=l},function(t,e,r){var n=r(273),i=r(113),o=r(1034),s=r(85),a=r(25),u=r(29),c=r(1039),f=r(145),h=r(102),l=r(276),p=o.__curve;function d(t,e,r){if(r&&a({compressed:u.maybe(u.Boolean),network:u.maybe(u.Network)},r),r=r||{},t){if(t.signum()<=0)throw new Error(\"Private key must be greater than 0\");if(t.compareTo(p.n)>=0)throw new Error(\"Private key must be less than the curve order\");if(e)throw new TypeError(\"Unexpected publicKey parameter\");this.d=t}else a(u.ECPoint,e),this.__Q=e;this.compressed=void 0===r.compressed||r.compressed,this.network=r.network||f.bitcoin}Object.defineProperty(d.prototype,\"Q\",{get:function(){return!this.__Q&&this.d&&(this.__Q=p.G.multiply(this.d)),this.__Q}}),d.fromPublicKeyBuffer=function(t,e){var r=l.Point.decodeFrom(p,t);return new d(null,r,{compressed:r.compressed,network:e})},d.fromWIF=function(t,e){var r=c.decode(t),n=r.version;if(u.Array(e)){if(!(e=e.filter(function(t){return n===t.wif}).pop()))throw new Error(\"Unknown network version\")}else if(e=e||f.bitcoin,n!==e.wif)throw new Error(\"Invalid network version\");return new d(h.fromBuffer(r.privateKey),null,{compressed:r.compressed,network:e})},d.makeRandom=function(t){var e,r=(t=t||{}).rng||s;do{var n=r(32);a(u.Buffer256bit,n),e=h.fromBuffer(n)}while(e.signum()<=0||e.compareTo(p.n)>=0);return new d(e,null,t)},d.prototype.getAddress=function(){return n.toBase58Check(i.hash160(this.getPublicKeyBuffer()),this.getNetwork().pubKeyHash)},d.prototype.getNetwork=function(){return this.network},d.prototype.getPublicKeyBuffer=function(){return this.Q.getEncoded(this.compressed)},d.prototype.sign=function(t){if(!this.d)throw new Error(\"Missing private key\");return o.sign(t,this.d)},d.prototype.toWIF=function(){if(!this.d)throw new Error(\"Missing private key\");return c.encode(this.network.wif,this.d.toBuffer(32),this.compressed)},d.prototype.verify=function(t,e){return o.verify(t,e,this.Q)},t.exports=d},function(t,e,r){var n=r(3).Buffer,i=r(1032),o=r(274),s=r(27),a=r(266),u=r(145),c=r(25),f=r(29);function h(t){var e=o.decode(t);if(e.length<21)throw new TypeError(t+\" is too short\");if(e.length>21)throw new TypeError(t+\" is too long\");return{version:e.readUInt8(0),hash:e.slice(1)}}function l(t){var e=i.decode(t),r=i.fromWords(e.words.slice(1));return{version:e.words[0],prefix:e.prefix,data:n.from(r)}}function p(t,e){c(f.tuple(f.Hash160bit,f.UInt8),arguments);var r=n.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),o.encode(r)}function d(t,e,r){var n=i.toWords(t);return n.unshift(e),i.encode(r,n)}t.exports={fromBase58Check:h,fromBech32:l,fromOutputScript:function(t,e){if(e=e||u.bitcoin,a.pubKeyHash.output.check(t))return p(s.compile(t).slice(3,23),e.pubKeyHash);if(a.scriptHash.output.check(t))return p(s.compile(t).slice(2,22),e.scriptHash);if(a.witnessPubKeyHash.output.check(t))return d(s.compile(t).slice(2,22),0,e.bech32);if(a.witnessScriptHash.output.check(t))return d(s.compile(t).slice(2,34),0,e.bech32);throw new Error(s.toASM(t)+\" has no matching Address\")},toBase58Check:p,toBech32:d,toOutputScript:function(t,e){var r;e=e||u.bitcoin;try{r=h(t)}catch(t){}if(r){if(r.version===e.pubKeyHash)return a.pubKeyHash.output.encode(r.hash);if(r.version===e.scriptHash)return a.scriptHash.output.encode(r.hash)}else{try{r=l(t)}catch(t){}if(r){if(r.prefix!==e.bech32)throw new Error(t+\" has an invalid prefix\");if(0===r.version){if(20===r.data.length)return a.witnessPubKeyHash.output.encode(r.data);if(32===r.data.length)return a.witnessScriptHash.output.encode(r.data)}}}throw new Error(t+\" has no matching Script\")}}},function(t,e,r){\"use strict\";var n=r(74),i=r(1033);t.exports=i(function(t){var e=n(\"sha256\").update(t).digest();return n(\"sha256\").update(e).digest()})},function(t,e,r){(function(e){var n=r(264),i=r(25),o=r(29),s=r(102);function a(t,e){i(o.tuple(o.BigInt,o.BigInt),arguments),this.r=t,this.s=e}a.parseCompact=function(t){i(o.BufferN(65),t);var e=t.readUInt8(0)-27;if(e!==(7&e))throw new Error(\"Invalid signature parameter\");return{compressed:!!(4&e),i:3&e,signature:a.fromRSBuffer(t.slice(1))}},a.fromRSBuffer=function(t){return i(o.BufferN(64),t),new a(s.fromBuffer(t.slice(0,32)),s.fromBuffer(t.slice(32,64)))},a.fromDER=function(t){var e=n.decode(t);return new a(s.fromDERInteger(e.r),s.fromDERInteger(e.s))},a.parseScriptSignature=function(t){var e=t.readUInt8(t.length-1),r=-129&e;if(r<=0||r>=4)throw new Error(\"Invalid hashType \"+e);return{signature:a.fromDER(t.slice(0,-1)),hashType:e}},a.prototype.toCompact=function(t,r){r&&(t+=4),t+=27;var n=e.alloc(65);return n.writeUInt8(t,0),this.toRSBuffer(n,1),n},a.prototype.toDER=function(){var t=e.from(this.r.toDERInteger()),r=e.from(this.s.toDERInteger());return n.encode(t,r)},a.prototype.toRSBuffer=function(t,r){return t=t||e.alloc(64),this.r.toBuffer(32).copy(t,r),this.s.toBuffer(32).copy(t,r+32),t},a.prototype.toScriptSignature=function(t){var r=-129&t;if(r<=0||r>=4)throw new Error(\"Invalid hashType \"+t);var n=e.alloc(1);return n.writeUInt8(t,0),e.concat([this.toDER(),n])},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){var n=r(482),i=r(483),o=r(1037);t.exports={Curve:i,Point:n,getCurveByName:o}},function(t){t.exports={COMPRESSED_TYPE_INVALID:\"compressed should be a boolean\",EC_PRIVATE_KEY_TYPE_INVALID:\"private key should be a Buffer\",EC_PRIVATE_KEY_LENGTH_INVALID:\"private key length is invalid\",EC_PRIVATE_KEY_RANGE_INVALID:\"private key range is invalid\",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:\"tweak out of range or resulting private key is invalid\",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:\"tweak out of range\",EC_PRIVATE_KEY_EXPORT_DER_FAIL:\"couldn't export to DER format\",EC_PRIVATE_KEY_IMPORT_DER_FAIL:\"couldn't import from DER format\",EC_PUBLIC_KEYS_TYPE_INVALID:\"public keys should be an Array\",EC_PUBLIC_KEYS_LENGTH_INVALID:\"public keys Array should have at least 1 element\",EC_PUBLIC_KEY_TYPE_INVALID:\"public key should be a Buffer\",EC_PUBLIC_KEY_LENGTH_INVALID:\"public key length is invalid\",EC_PUBLIC_KEY_PARSE_FAIL:\"the public key could not be parsed or is invalid\",EC_PUBLIC_KEY_CREATE_FAIL:\"private was invalid, try again\",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:\"tweak out of range or resulting public key is invalid\",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:\"tweak out of range\",EC_PUBLIC_KEY_COMBINE_FAIL:\"the sum of the public keys is not valid\",ECDH_FAIL:\"scalar was invalid (zero or overflow)\",ECDSA_SIGNATURE_TYPE_INVALID:\"signature should be a Buffer\",ECDSA_SIGNATURE_LENGTH_INVALID:\"signature length is invalid\",ECDSA_SIGNATURE_PARSE_FAIL:\"couldn't parse signature\",ECDSA_SIGNATURE_PARSE_DER_FAIL:\"couldn't parse DER signature\",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:\"couldn't serialize signature to DER format\",ECDSA_SIGN_FAIL:\"nonce generation function failed or private key is invalid\",ECDSA_RECOVER_FAIL:\"couldn't recover public key from signature\",MSG32_TYPE_INVALID:\"message should be a Buffer\",MSG32_LENGTH_INVALID:\"message length is invalid\",OPTIONS_TYPE_INVALID:\"options should be an Object\",OPTIONS_DATA_TYPE_INVALID:\"options.data should be a Buffer\",OPTIONS_DATA_LENGTH_INVALID:\"options.data length is invalid\",OPTIONS_NONCEFN_TYPE_INVALID:\"options.noncefn should be a Function\",RECOVERY_ID_TYPE_INVALID:\"recovery should be a Number\",RECOVERY_ID_VALUE_INVALID:\"recovery should have value between -1 and 4\",TWEAK_TYPE_INVALID:\"tweak should be a Buffer\",TWEAK_LENGTH_INVALID:\"tweak length is invalid\"}},function(t,e,r){\"use strict\";(function(e){const n=r(53),i=r(4),o=r(187),s=r(146),a=r(1062),u=r(147),c=r(148);r(1063),r(487),r(486),r(488);function f(t){return t.map(t=>t.toString(16)).join(\"/\")}t.exports=function(t,r){const h=c(t,a,function(o,s,c){!function e(r,i,o){let s=[];\"leaf\"===r.type&&s.push({path:f(r.getKey()),value:r.getValue()});n(r.getChildren(),(r,n)=>{const o=f(r[0]),c=r[1];if(a.isRawNode(c)){const t=new a(c);s.push({path:o,value:t}),e(t,i,(t,e)=>{if(t)return n(t);e.forEach(t=>{t.path=o+\"/\"+t.path}),s=s.concat(e),n()})}else{let e={\"/\":u(t,c).toBaseEncodedString()};s.push({path:o,value:e}),n()}},t=>{if(t)return o(t);o(null,s)})}(o,s,(t,o)=>{if(t)return c(t);if(!r)return c(null,o);let a=o.slice();const u=o.filter(t=>e.isBuffer(t.value));n(u,(t,e)=>i([e=>r.util.deserialize(t.value,e),(t,e)=>r.resolver._mapFromEthObject(t,s,e)],(r,n)=>{if(r)return e(r);n.forEach(e=>{a.push({path:t.path+\"/\"+e.path,value:e.value})}),e()}),t=>{if(t)return c(t);c(null,a)})})});return h.util.deserialize=o(t=>{const e=s.decode(t);return new a(e)}),h}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(493),i=(t,e)=>{switch(e){case\"version\":return t.version;case\"timestamp\":return t.time;case\"difficulty\":return t.bits;case\"nonce\":return t.nonce;case\"solution\":return t.solution;case\"reserved\":return t.reserved;case\"parent\":return{\"/\":n.hashToCid(t.prevHash)};case\"tx\":return{\"/\":n.hashToCid(t.merkleRoot)};default:return null}};t.exports={multicodec:\"zcash-block\",defaultHashAlg:\"dbl-sha2-256\",resolve:(t,e,r)=>{\"function\"==typeof e&&(r=e,e=void 0),n.deserialize(t,(t,n)=>{if(t)return r(t);if(!e)return r(null,{value:n,remainderPath:\"\"});const o=e.split(\"/\"),s=i(n,o[0]);if(null===s)return r(new Error(\"No such path\"),null);let a=o.slice(1).join(\"/\");return void 0!==s[\"/\"]?r(null,{value:s,remainderPath:a}):a.length>0?r(new Error(\"No such path\"),null):r(null,{value:s,remainderPath:\"\"})})},tree:(t,e,r)=>{\"function\"==typeof e&&(r=e,e=void 0),e=e||{},n.deserialize(t,(t,n)=>{if(t)return r(t);const o=[\"version\",\"timestamp\",\"difficulty\",\"nonce\",\"solution\",\"reserved\",\"parent\",\"tx\"];if(!0===e.values){const t={};for(let e of o)t[e]=i(n,e);return r(null,t)}return r(null,o)})}}},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(21),o=r(23),s=r(28);function a(t){if(!(this instanceof a))return new a(t);var e;if(n.isNumber(t))e=t;else{if(!n.isString(t))throw new TypeError('Unrecognized num type: \"'+typeof t+'\" for Opcode');e=a.map[t]}return s.defineImmutable(this,{num:e}),this}for(var u in a.fromBuffer=function(t){return i.checkArgument(o.isBuffer(t)),new a(Number(\"0x\"+t.toString(\"hex\")))},a.fromNumber=function(t){return i.checkArgument(n.isNumber(t)),new a(t)},a.fromString=function(t){i.checkArgument(n.isString(t));var e=a.map[t];if(void 0===e)throw new TypeError(\"Invalid opcodestr\");return new a(e)},a.prototype.toHex=function(){return this.num.toString(16)},a.prototype.toBuffer=function(){return new e(this.toHex(),\"hex\")},a.prototype.toNumber=function(){return this.num},a.prototype.toString=function(){var t=a.reverseMap[this.num];if(void 0===t)throw new Error(\"Opcode does not have a string representation\");return t},a.smallInt=function(t){return i.checkArgument(n.isNumber(t),\"Invalid Argument: n should be number\"),i.checkArgument(t>=0&&t<=16,\"Invalid Argument: n must be between 0 and 16\"),0===t?a(\"OP_0\"):new a(a.map.OP_1+t-1)},a.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},a.reverseMap=[],a.map)a.reverseMap[a.map[u]]=u;n.extend(a,a.map),a.isSmallIntOp=function(t){return t instanceof a&&(t=t.toNumber()),t===a.map.OP_0||t>=a.map.OP_1&&t<=a.map.OP_16},a.prototype.inspect=function(){return\"<Opcode: \"+this.toString()+\", hex: \"+this.toHex()+\", decimal: \"+this.num+\">\"},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(21),o=r(0),s=e.compare||r(1092),a=r(68),u=r(23),c=r(28),f=r(89),h=r(59),l=r(45),p=r(69),d=r(90),y=r(105),m=r(497),g=r(282),b=g.PublicKeyHash,v=g.PublicKey,_=g.MultiSigScriptHash,w=g.MultiSig,S=r(91),k=r(70),E=r(207),A=r(30),x=r(1097);function T(t){if(!(this instanceof T))return new T(t);if(this.inputs=[],this.outputs=[],this.joinSplits=[],this._inputAmount=void 0,this._outputAmount=void 0,t){if(t instanceof T)return T.shallowCopy(t);if(c.isHexa(t))this.fromString(t);else if(u.isBuffer(t))this.fromBuffer(t);else{if(!n.isObject(t))throw new a.InvalidArgument(\"Must provide an object or string to deserialize a transaction\");this.fromObject(t)}}else this._newTransaction()}T.DUST_AMOUNT=546,T.FEE_SECURITY_MARGIN=15,T.MAX_MONEY=21e14,T.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,T.NLOCKTIME_MAX_VALUE=4294967295,T.FEE_PER_KB=1e4,T.CHANGE_OUTPUT_MAX_SIZE=62,T.MAXIMUM_EXTRA_SIZE=26,T.shallowCopy=function(t){return new T(t.toBuffer())};var B={configurable:!1,enumerable:!0,get:function(){return new f(this._getHash()).readReverse().toString(\"hex\")}};Object.defineProperty(T.prototype,\"hash\",B),Object.defineProperty(T.prototype,\"id\",B);var I={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(T.prototype,\"inputAmount\",I),I.get=function(){return this._getOutputAmount()},Object.defineProperty(T.prototype,\"outputAmount\",I),T.prototype._getHash=function(){return l.sha256sha256(this.toBuffer())},T.prototype.serialize=function(t){return!0===t||t&&t.disableAll?this.uncheckedSerialize():this.checkedSerialize(t)},T.prototype.uncheckedSerialize=T.prototype.toString=function(){return this.toBuffer().toString(\"hex\")},T.prototype.checkedSerialize=function(t){var e=this.getSerializationError(t);if(e)throw e.message+=\" Use Transaction#uncheckedSerialize if you want to skip security checks. See http://bitcore.io/guide/transaction.html#Serialization for more info.\",e;return this.uncheckedSerialize()},T.prototype.invalidSatoshis=function(){for(var t=!1,e=0;e<this.outputs.length;e++)this.outputs[e].invalidSatoshis()&&(t=!0);return t},T.prototype.getSerializationError=function(t){if(t=t||{},this.invalidSatoshis())return new a.Transaction.InvalidSatoshis;var e,r=this._getUnspentValue();return r<0?t.disableMoreOutputThanInput||(e=new a.Transaction.InvalidOutputAmountSum):e=this._hasFeeError(t,r),e||this._hasDustOutputs(t)||this._isMissingSignatures(t)},T.prototype._hasFeeError=function(t,e){if(!n.isUndefined(this._fee)&&this._fee!==e)return new a.Transaction.FeeError.Different(\"Unspent value is \"+e+\" but specified fee is \"+this._fee);if(!t.disableLargeFees){var r=Math.floor(T.FEE_SECURITY_MARGIN*this._estimateFee());if(e>r)return this._missingChange()?new a.Transaction.ChangeAddressMissing(\"Fee is too large and no change address was provided\"):new a.Transaction.FeeError.TooLarge(\"expected less than \"+r+\" but got \"+e)}if(!t.disableSmallFees){var i=Math.ceil(this._estimateFee()/T.FEE_SECURITY_MARGIN);if(e<i)return new a.Transaction.FeeError.TooSmall(\"expected more than \"+i+\" but got \"+e)}},T.prototype._missingChange=function(){return!this._changeScript},T.prototype._hasDustOutputs=function(t){var e,r;if(!t.disableDustOutputs)for(e in this.outputs)if((r=this.outputs[e]).satoshis<T.DUST_AMOUNT&&!r.script.isDataOut())return new a.Transaction.DustOutputs},T.prototype._isMissingSignatures=function(t){if(!t.disableIsFullySigned)return this.isFullySigned()?void 0:new a.Transaction.MissingSignatures},T.prototype.inspect=function(){return\"<Transaction: \"+this.uncheckedSerialize()+\">\"},T.prototype.toBuffer=function(){var t=new h;return this.toBufferWriter(t).toBuffer()},T.prototype.toBufferWriter=function(t){return t.writeUInt32LE(this.version),t.writeVarintNum(this.inputs.length),n.each(this.inputs,function(e){e.toBufferWriter(t)}),t.writeVarintNum(this.outputs.length),n.each(this.outputs,function(e){e.toBufferWriter(t)}),t.writeUInt32LE(this.nLockTime),this.version>=2&&(t.writeVarintNum(this.joinSplits.length),n.each(this.joinSplits,function(e){e.toBufferWriter(t)}),this.joinSplits.length>0&&(t.write(this.joinSplitPubKey),t.write(this.joinSplitSig))),t},T.prototype.fromBuffer=function(t){var e=new f(t);return this.fromBufferReader(e)},T.prototype.fromBufferReader=function(t){var e,r,n,o;for(i.checkArgument(!t.finished(),\"No transaction data received\"),this.version=t.readUInt32LE(),r=t.readVarintNum(),e=0;e<r;e++){var s=g.fromBufferReader(t);this.inputs.push(s)}for(n=t.readVarintNum(),e=0;e<n;e++)this.outputs.push(S.fromBufferReader(t));if(this.nLockTime=t.readUInt32LE(),this.version>=2){for(o=t.readVarintNum(),e=0;e<o;e++)this.joinSplits.push(x.fromBufferReader(t));o>0&&(this.joinSplitPubKey=t.read(32),this.joinSplitSig=t.read(64))}return this},T.prototype.toObject=T.prototype.toJSON=function(){var t=[];this.inputs.forEach(function(e){t.push(e.toObject())});var e=[];this.outputs.forEach(function(t){e.push(t.toObject())});var r={hash:this.hash,version:this.version,inputs:t,outputs:e,nLockTime:this.nLockTime};if(this.version>=2){var i=[];this.joinSplits.forEach(function(t){i.push(t.toObject())}),r.joinSplits=i,this.joinSplits.length>0&&(r.joinSplitPubKey=u.reverse(this.joinSplitPubKey).toString(\"hex\"),r.joinSplitSig=this.joinSplitSig.toString(\"hex\"))}return this._changeScript&&(r.changeScript=this._changeScript.toString()),n.isUndefined(this._changeIndex)||(r.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(r.fee=this._fee),r},T.prototype.fromObject=function(t){i.checkArgument(n.isObject(t)||t instanceof T);var r,o=this;return r=t instanceof T?r.toObject():t,n.each(r.inputs,function(t){if(t.output&&t.output.script){var e,r=new k(t.output.script);if(r.isPublicKeyHashOut())e=new g.PublicKeyHash(t);else if(r.isScriptHashOut()&&t.publicKeys&&t.threshold)e=new g.MultiSigScriptHash(t,t.publicKeys,t.threshold,t.signatures);else{if(!r.isPublicKeyOut())throw new a.Transaction.Input.UnsupportedScript(t.output.script);e=new g.PublicKey(t)}o.addInput(e)}else o.uncheckedAddInput(new g(t))}),n.each(r.outputs,function(t){o.addOutput(new S(t))}),r.changeIndex&&(this._changeIndex=r.changeIndex),r.changeScript&&(this._changeScript=new k(r.changeScript)),r.fee&&(this._fee=r.fee),this.nLockTime=r.nLockTime,this.version=r.version,this.version>=2&&(n.each(r.joinSplits,function(t){o.joinSplits.push(new x(t))}),o.joinSplits.length>0&&(o.joinSplitPubKey=u.reverse(new e(r.joinSplitPubKey,\"hex\")),o.joinSplitSig=new e(r.joinSplitSig,\"hex\"))),this._checkConsistency(t),this},T.prototype._checkConsistency=function(t){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript),i.checkState(this.outputs[this._changeIndex]),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString())),t&&t.hash&&i.checkState(t.hash===this.hash,\"Hash in object does not match transaction hash\")},T.prototype.lockUntilDate=function(t){if(i.checkArgument(t),n.isNumber(t)&&t<T.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new a.Transaction.LockTimeTooEarly;n.isDate(t)&&(t=t.getTime()/1e3);for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===g.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=g.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this},T.prototype.lockUntilBlockHeight=function(t){if(i.checkArgument(n.isNumber(t)),t>=T.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new a.Transaction.BlockHeightTooHigh;if(t<0)throw new a.Transaction.NLockTimeOutOfRange;for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===g.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=g.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this},T.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<T.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},T.prototype.fromString=function(t){this.fromBuffer(new o.Buffer(t,\"hex\"))},T.prototype._newTransaction=function(){this.version=1,this.nLockTime=0},T.prototype.from=function(t,e,r){if(n.isArray(t)){var i=this;return n.each(t,function(t){i.from(t,e,r)}),this}return n.any(this.inputs,function(e){return e.prevTxId.toString(\"hex\")===t.txId&&e.outputIndex===t.outputIndex})?this:(e&&r?this._fromMultisigUtxo(t,e,r):this._fromNonP2SH(t),this)},T.prototype._fromNonP2SH=function(t){var e;e=(t=new m(t)).script.isPublicKeyHashOut()?b:t.script.isPublicKeyOut()?v:g,this.addInput(new e({output:new S({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,script:k.empty()}))},T.prototype._fromMultisigUtxo=function(t,e,r){var n;if(i.checkArgument(r<=e.length,\"Number of required signatures must be greater than the number of public keys\"),(t=new m(t)).script.isMultisigOut())n=w;else{if(!t.script.isScriptHashOut())throw new Error(\"@TODO\");n=_}this.addInput(new n({output:new S({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,script:k.empty()},e,r))},T.prototype.addInput=function(t,e,r){if(i.checkArgumentType(t,g,\"input\"),!t.output&&(n.isUndefined(e)||n.isUndefined(r)))throw new a.Transaction.NeedMoreInfo(\"Need information about the UTXO script and satoshis\");return t.output||!e||n.isUndefined(r)||(e=e instanceof k?e:new k(e),i.checkArgumentType(r,\"number\",\"satoshis\"),t.output=new S({script:e,satoshis:r})),this.uncheckedAddInput(t)},T.prototype.uncheckedAddInput=function(t){return i.checkArgumentType(t,g,\"input\"),this.inputs.push(t),this._inputAmount=void 0,this._updateChangeOutput(),this},T.prototype.hasAllUtxoInfo=function(){return n.all(this.inputs.map(function(t){return!!t.output}))},T.prototype.fee=function(t){return i.checkArgument(n.isNumber(t),\"amount must be a number\"),this._fee=t,this._updateChangeOutput(),this},T.prototype.feePerKb=function(t){return i.checkArgument(n.isNumber(t),\"amount must be a number\"),this._feePerKb=t,this._updateChangeOutput(),this},T.prototype.change=function(t){return i.checkArgument(t,\"address is required\"),this._changeScript=k.fromAddress(t),this._updateChangeOutput(),this},T.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},T.prototype.to=function(t,e){if(n.isArray(t)){var r=this;return n.each(t,function(t){r.to(t.address,t.satoshis)}),this}return i.checkArgument(c.isNaturalNumber(e),\"Amount is expected to be a positive integer\"),this.addOutput(new S({script:k(new y(t)),satoshis:e})),this},T.prototype.addData=function(t){return this.addOutput(new S({script:k.buildDataOut(t),satoshis:0})),this},T.prototype.addOutput=function(t){return i.checkArgumentType(t,S,\"output\"),this._addOutput(t),this._updateChangeOutput(),this},T.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},T.prototype._addOutput=function(t){this.outputs.push(t),this._outputAmount=void 0},T.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var t=this;this._outputAmount=0,n.each(this.outputs,function(e){t._outputAmount+=e.satoshis})}return this._outputAmount},T.prototype._getInputAmount=function(){if(n.isUndefined(this._inputAmount)){var t=this;this._inputAmount=0,n.each(this.inputs,function(e){if(n.isUndefined(e.output))throw new a.Transaction.Input.MissingPreviousOutput;t._inputAmount+=e.output.satoshis})}return this._inputAmount},T.prototype._updateChangeOutput=function(){if(this._changeScript){this._clearSignatures(),n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex);var t=this._getUnspentValue()-this.getFee();t>0?(this._changeIndex=this.outputs.length,this._addOutput(new S({script:this._changeScript,satoshis:t}))):this._changeIndex=void 0}},T.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this._getUnspentValue():this._fee},T.prototype._estimateFee=function(){var t=this._estimateSize(),e=this._getUnspentValue();return T._estimateFee(t,e,this._feePerKb)},T.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},T.prototype._clearSignatures=function(){n.each(this.inputs,function(t){t.clearSignatures()})},T._estimateFee=function(t,e,r){return e>Math.ceil(t/1e3)*(r||T.FEE_PER_KB)&&(t+=T.CHANGE_OUTPUT_MAX_SIZE),Math.ceil(t/1e3)*(r||T.FEE_PER_KB)},T.prototype._estimateSize=function(){var t=T.MAXIMUM_EXTRA_SIZE;return n.each(this.inputs,function(e){t+=e._estimateSize()}),n.each(this.outputs,function(e){t+=e.script.toBuffer().length+9}),t},T.prototype._removeOutput=function(t){var e=this.outputs[t];this.outputs=n.without(this.outputs,e),this._outputAmount=void 0},T.prototype.removeOutput=function(t){this._removeOutput(t),this._updateChangeOutput()},T.prototype.sort=function(){return this.sortInputs(function(t){var e=Array.prototype.concat.apply([],t);return e.sort(function(t,e){return s(t.prevTxId,e.prevTxId)||t.outputIndex-e.outputIndex}),e}),this.sortOutputs(function(t){var e=Array.prototype.concat.apply([],t);return e.sort(function(t,e){return t.satoshis-e.satoshis||s(t.script.toBuffer(),e.script.toBuffer())}),e}),this},T.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},T.prototype.sortOutputs=function(t){var e=t(this.outputs);return this._newOutputOrder(e)},T.prototype.sortInputs=function(t){return this.inputs=t(this.inputs),this._clearSignatures(),this},T.prototype._newOutputOrder=function(t){if(this.outputs.length!==t.length||0!==n.difference(this.outputs,t).length)throw new a.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var e=this.outputs[this._changeIndex];this._changeIndex=n.findIndex(t,e)}return this.outputs=t,this},T.prototype.removeInput=function(t,e){var r;if((r=!e&&n.isNumber(t)?t:n.findIndex(this.inputs,function(r){return r.prevTxId.toString(\"hex\")===t&&r.outputIndex===e}))<0||r>=this.inputs.length)throw new a.Transaction.InvalidIndex(r,this.inputs.length);var i=this.inputs[r];this.inputs=n.without(this.inputs,i),this._inputAmount=void 0,this._updateChangeOutput()},T.prototype.sign=function(t,e){i.checkState(this.hasAllUtxoInfo());var r=this;return n.isArray(t)?(n.each(t,function(t){r.sign(t,e)}),this):(n.each(this.getSignatures(t,e),function(t){r.applySignature(t)}),this)},T.prototype.getSignatures=function(t,e){t=new E(t),e=e||p.SIGHASH_ALL;var r=this,i=[],o=l.sha256ripemd160(t.publicKey.toBuffer());return n.each(this.inputs,function(s,a){n.each(s.getSignatures(r,t,a,e,o),function(t){i.push(t)})}),i},T.prototype.applySignature=function(t){return this.inputs[t.inputIndex].addSignature(this,t),this},T.prototype.isFullySigned=function(){return n.each(this.inputs,function(t){if(t.isFullySigned===g.prototype.isFullySigned)throw new a.Transaction.UnableToVerifySignature(\"Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction\")}),n.all(n.map(this.inputs,function(t){return t.isFullySigned()}))},T.prototype.isValidSignature=function(t){if(this.inputs[t.inputIndex].isValidSignature===g.prototype.isValidSignature)throw new a.Transaction.UnableToVerifySignature(\"Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction\");return this.inputs[t.inputIndex].isValidSignature(this,t)},T.prototype.verifySignature=function(t,e,r,n){return d.verify(this,t,e,r,n)},T.prototype.verify=function(){if(0===this.inputs.length)return\"transaction txins empty\";if(0===this.outputs.length)return\"transaction txouts empty\";for(var t=new A(0),e=0;e<this.outputs.length;e++){var r=this.outputs[e];if(r.invalidSatoshis())return\"transaction txout \"+e+\" satoshis is invalid\";if(r._satoshisBN.gt(new A(T.MAX_MONEY,10)))return\"transaction txout \"+e+\" greater than MAX_MONEY\";if((t=t.add(r._satoshisBN)).gt(new A(T.MAX_MONEY)))return\"transaction txout \"+e+\" total output greater than MAX_MONEY\"}if(this.toBuffer().length>1e6)return\"transaction over the maximum block size\";var i={};for(e=0;e<this.inputs.length;e++){var o=this.inputs[e],s=o.prevTxId+\":\"+o.outputIndex;if(!n.isUndefined(i[s]))return\"transaction input \"+e+\" duplicate input\";i[s]=!0}if(this.isCoinbase()){var a=this.inputs[0]._scriptBuffer;if(a.length<2||a.length>100)return\"coinbase transaction script size invalid\"}else for(e=0;e<this.inputs.length;e++)if(this.inputs[e].isNull())return\"transaction input \"+e+\" has null input\";return!0},T.prototype.isCoinbase=function(){return 1===this.inputs.length&&this.inputs[0].isNull()},T.prototype.isRBF=function(){for(var t=0;t<this.inputs.length;t++){if(this.inputs[t].sequenceNumber<g.MAXINT-1)return!0}return!1},T.prototype.enableRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];e.sequenceNumber>=g.MAXINT-1&&(e.sequenceNumber=g.DEFAULT_RBF_SEQNUMBER)}return this},t.exports=T}).call(this,r(0).Buffer)},function(t,e,r){t.exports=r(150),t.exports.PublicKey=r(1093),t.exports.PublicKeyHash=r(1094),t.exports.MultiSig=r(1095),t.exports.MultiSigScriptHash=r(1096)},function(t,e,r){\"use strict\";var n=r(17),i=r(68),o=r(21),s={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function a(t,e){if(!(this instanceof a))return new a(t,e);if(n.isNumber(e)){if(e<=0)throw new i.Unit.InvalidRate(e);t/=e,e=a.BTC}this._value=this._from(t,e);var r=this;Object.keys(s).forEach(function(t){Object.defineProperty(r,t,{get:function(){return r.to(t)},enumerable:!0})})}Object.keys(s).forEach(function(t){a[t]=t}),a.fromObject=function(t){return o.checkArgument(n.isObject(t),\"Argument is expected to be an object\"),new a(t.amount,t.code)},a.fromBTC=function(t){return new a(t,a.BTC)},a.fromMillis=a.fromMilis=function(t){return new a(t,a.mBTC)},a.fromMicros=a.fromBits=function(t){return new a(t,a.bits)},a.fromSatoshis=function(t){return new a(t,a.satoshis)},a.fromFiat=function(t,e){return new a(t,e)},a.prototype._from=function(t,e){if(!s[e])throw new i.Unit.UnknownCode(e);return parseInt((t*s[e][0]).toFixed())},a.prototype.to=function(t){if(n.isNumber(t)){if(t<=0)throw new i.Unit.InvalidRate(t);return parseFloat((this.BTC*t).toFixed(2))}if(!s[t])throw new i.Unit.UnknownCode(t);var e=this._value/s[t][0];return parseFloat(e.toFixed(s[t][1]))},a.prototype.toBTC=function(){return this.to(a.BTC)},a.prototype.toMillis=a.prototype.toMilis=function(){return this.to(a.mBTC)},a.prototype.toMicros=a.prototype.toBits=function(){return this.to(a.bits)},a.prototype.toSatoshis=function(){return this.to(a.satoshis)},a.prototype.atRate=function(t){return this.to(t)},a.prototype.toString=function(){return this.satoshis+\" satoshis\"},a.prototype.toObject=a.prototype.toJSON=function(){return{amount:this.BTC,code:a.BTC}},a.prototype.inspect=function(){return\"<Unit: \"+this.toString()+\">\"},t.exports=a},function(t,e,r){\"use strict\";t.exports={_cache:{},_count:0,_eraseIndex:0,_usedList:{},_usedIndex:{},_CACHE_SIZE:5e3,get:function(t,e,r){var n=t+\"/\"+e+\"/\"+(r=!!r);if(this._cache[n])return this._cacheHit(n),this._cache[n]},set:function(t,e,r,n){var i=t+\"/\"+e+\"/\"+(r=!!r);this._cache[i]=n,this._cacheHit(i)},_cacheHit:function(t){this._usedIndex[t]&&delete this._usedList[this._usedIndex[t]],this._usedList[this._count]=t,this._usedIndex[t]=this._count,this._count++,this._cacheRemove()},_cacheRemove:function(){for(;this._eraseIndex<this._count-this._CACHE_SIZE;){if(this._usedList[this._eraseIndex]){var t=this._usedList[this._eraseIndex];delete this._usedIndex[t],delete this._cache[t]}delete this._usedList[this._eraseIndex],this._eraseIndex++}}}},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){var n=r(12);r(18),t.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(t,e){var r=t;if(\"string\"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error(\"Unsupported algorithm: \"+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},n.cipher.createDecipher=function(t,e){var r=t;if(\"string\"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error(\"Unsupported algorithm: \"+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},n.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),n.cipher.algorithms[t]=e},n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[t]:null};var i=n.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=t.output||n.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||\"ECB\"!==this.mode.name&&\"CBC\"!==this.mode.name||(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))}},function(t,e,r){var n=r(12);r(83),r(18);var i=t.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=i,i.create=function(){c||function(){o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],a=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],u=new Array(64);for(var t=0;t<64;++t)u[t]=Math.floor(4294967296*Math.abs(Math.sin(t+1)));c=!0}();var t=null,e=n.util.createBuffer(),r=new Array(16),i={algorithm:\"md5\",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(o,s){\"utf8\"===s&&(o=n.util.encodeUtf8(o));var a=o.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=a[1],a[1]=a[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(o),f(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(e.bytes());var a=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-a));for(var u,c=0,h=i.fullMessageLength.length-1;h>=0;--h)c=(u=8*i.fullMessageLength[h]+c)/4294967296>>>0,s.putInt32Le(u>>>0);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};f(l,r,s);var p=n.util.createBuffer();return p.putInt32Le(l.h0),p.putInt32Le(l.h1),p.putInt32Le(l.h2),p.putInt32Le(l.h3),p},i};var o=null,s=null,a=null,u=null,c=!1;function f(t,e,r){for(var n,i,o,c,f,h,l,p=r.length();p>=64;){for(i=t.h0,o=t.h1,c=t.h2,f=t.h3,l=0;l<16;++l)e[l]=r.getInt32Le(),n=i+(f^o&(c^f))+u[l]+e[l],i=f,f=c,c=o,o+=n<<(h=a[l])|n>>>32-h;for(;l<32;++l)n=i+(c^f&(o^c))+u[l]+e[s[l]],i=f,f=c,c=o,o+=n<<(h=a[l])|n>>>32-h;for(;l<48;++l)n=i+(o^c^f)+u[l]+e[s[l]],i=f,f=c,c=o,o+=n<<(h=a[l])|n>>>32-h;for(;l<64;++l)n=i+(c^(o|~f))+u[l]+e[s[l]],i=f,f=c,c=o,o+=n<<(h=a[l])|n>>>32-h;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+c|0,t.h3=t.h3+f|0,p-=64}}},function(t,e,r){(function(e){var n=r(12);r(152),r(83),r(18);var i,o=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=r(506)),t.exports=n.pbkdf2=o.pbkdf2=function(t,r,o,s,a,u){if(\"function\"==typeof a&&(u=a,a=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===a||\"object\"!=typeof a)&&(i.pbkdf2Sync.length>4||!a||\"sha1\"===a))return\"string\"!=typeof a&&(a=\"sha1\"),t=new e(t,\"binary\"),r=new e(r,\"binary\"),u?4===i.pbkdf2Sync.length?i.pbkdf2(t,r,o,s,function(t,e){if(t)return u(t);u(null,e.toString(\"binary\"))}):i.pbkdf2(t,r,o,s,a,function(t,e){if(t)return u(t);u(null,e.toString(\"binary\"))}):4===i.pbkdf2Sync.length?i.pbkdf2Sync(t,r,o,s).toString(\"binary\"):i.pbkdf2Sync(t,r,o,s,a).toString(\"binary\");if(void 0!==a&&null!==a||(a=\"sha1\"),\"string\"==typeof a){if(!(a in n.md.algorithms))throw new Error(\"Unknown hash algorithm: \"+a);a=n.md[a].create()}var c=a.digestLength;if(s>4294967295*c){var f=new Error(\"Derived key is too long.\");if(u)return u(f);throw f}var h=Math.ceil(s/c),l=s-(h-1)*c,p=n.hmac.create();p.start(a,t);var d,y,m,g=\"\";if(!u){for(var b=1;b<=h;++b){p.start(null,null),p.update(r),p.update(n.util.int32ToBytes(b)),d=m=p.digest().getBytes();for(var v=2;v<=o;++v)p.start(null,null),p.update(m),y=p.digest().getBytes(),d=n.util.xorBytes(d,y,c),m=y;g+=b<h?d:d.substr(0,l)}return g}b=1;function _(){if(b>h)return u(null,g);p.start(null,null),p.update(r),p.update(n.util.int32ToBytes(b)),d=m=p.digest().getBytes(),v=2,w()}function w(){if(v<=o)return p.start(null,null),p.update(m),y=p.digest().getBytes(),d=n.util.xorBytes(d,y,c),m=y,++v,n.util.setImmediate(w);g+=b<h?d:d.substr(0,l),++b,_()}_()}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(12);r(106),r(82),r(212),r(83),r(1109),r(107),r(118),r(292),r(213),r(18);var i=n.asn1,o=t.exports=n.pki=n.pki||{},s=o.oids,a={};a.CN=s.commonName,a.commonName=\"CN\",a.C=s.countryName,a.countryName=\"C\",a.L=s.localityName,a.localityName=\"L\",a.ST=s.stateOrProvinceName,a.stateOrProvinceName=\"ST\",a.O=s.organizationName,a.organizationName=\"O\",a.OU=s.organizationalUnitName,a.organizationalUnitName=\"OU\",a.E=s.emailAddress,a.emailAddress=\"E\";var u=n.pki.rsa.publicKeyValidator,c={name:\"Certificate\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"Certificate.TBSCertificate\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"tbsCertificate\",value:[{name:\"Certificate.TBSCertificate.version\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:\"Certificate.TBSCertificate.version.integer\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"certVersion\"}]},{name:\"Certificate.TBSCertificate.serialNumber\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"certSerialNumber\"},{name:\"Certificate.TBSCertificate.signature\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"Certificate.TBSCertificate.signature.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"certinfoSignatureOid\"},{name:\"Certificate.TBSCertificate.signature.parameters\",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:\"certinfoSignatureParams\"}]},{name:\"Certificate.TBSCertificate.issuer\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"certIssuer\"},{name:\"Certificate.TBSCertificate.validity\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"Certificate.TBSCertificate.validity.notBefore (utc)\",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:\"certValidity1UTCTime\"},{name:\"Certificate.TBSCertificate.validity.notBefore (generalized)\",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:\"certValidity2GeneralizedTime\"},{name:\"Certificate.TBSCertificate.validity.notAfter (utc)\",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:\"certValidity3UTCTime\"},{name:\"Certificate.TBSCertificate.validity.notAfter (generalized)\",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:\"certValidity4GeneralizedTime\"}]},{name:\"Certificate.TBSCertificate.subject\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"certSubject\"},u,{name:\"Certificate.TBSCertificate.issuerUniqueID\",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:\"Certificate.TBSCertificate.issuerUniqueID.id\",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:\"certIssuerUniqueId\"}]},{name:\"Certificate.TBSCertificate.subjectUniqueID\",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:\"Certificate.TBSCertificate.subjectUniqueID.id\",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:\"certSubjectUniqueId\"}]},{name:\"Certificate.TBSCertificate.extensions\",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:\"certExtensions\",optional:!0}]},{name:\"Certificate.signatureAlgorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"Certificate.signatureAlgorithm.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"certSignatureOid\"},{name:\"Certificate.TBSCertificate.signature.parameters\",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:\"certSignatureParams\"}]},{name:\"Certificate.signatureValue\",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:\"certSignature\"}]},f={name:\"rsapss\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"rsapss.hashAlgorithm\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:\"rsapss.hashAlgorithm.AlgorithmIdentifier\",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:\"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"hashOid\"}]}]},{name:\"rsapss.maskGenAlgorithm\",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:\"rsapss.maskGenAlgorithm.AlgorithmIdentifier\",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:\"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"maskGenOid\"},{name:\"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"maskGenHashOid\"}]}]}]},{name:\"rsapss.saltLength\",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:\"rsapss.saltLength.saltLength\",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:\"saltLength\"}]},{name:\"rsapss.trailerField\",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:\"rsapss.trailer.trailer\",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:\"trailer\"}]}]},h={name:\"CertificationRequestInfo\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"certificationRequestInfo\",value:[{name:\"CertificationRequestInfo.integer\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"certificationRequestInfoVersion\"},{name:\"CertificationRequestInfo.subject\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"certificationRequestInfoSubject\"},u,{name:\"CertificationRequestInfo.attributes\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:\"certificationRequestInfoAttributes\",value:[{name:\"CertificationRequestInfo.attributes\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"CertificationRequestInfo.attributes.type\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:\"CertificationRequestInfo.attributes.value\",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},l={name:\"CertificationRequest\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"csr\",value:[h,{name:\"CertificationRequest.signatureAlgorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"CertificationRequest.signatureAlgorithm.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"csrSignatureOid\"},{name:\"CertificationRequest.signatureAlgorithm.parameters\",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:\"csrSignatureParams\"}]},{name:\"CertificationRequest.signature\",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:\"csrSignature\"}]};function p(t,e){\"string\"==typeof e&&(e={shortName:e});for(var r,n=null,i=0;null===n&&i<t.attributes.length;++i)r=t.attributes[i],e.type&&e.type===r.type?n=r:e.name&&e.name===r.name?n=r:e.shortName&&e.shortName===r.shortName&&(n=r);return n}o.RDNAttributesAsArray=function(t,e){for(var r,n,o,u=[],c=0;c<t.value.length;++c){r=t.value[c];for(var f=0;f<r.value.length;++f)o={},n=r.value[f],o.type=i.derToOid(n.value[0].value),o.value=n.value[1].value,o.valueTagClass=n.value[1].type,o.type in s&&(o.name=s[o.type],o.name in a&&(o.shortName=a[o.name])),e&&(e.update(o.type),e.update(o.value)),u.push(o)}return u},o.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],u=i.derToOid(n.value[0].value),c=n.value[1].value,f=0;f<c.length;++f){var h={};if(h.type=u,h.value=c[f].value,h.valueTagClass=c[f].type,h.type in s&&(h.name=s[h.type],h.name in a&&(h.shortName=a[h.name])),h.type===s.extensionRequest){h.extensions=[];for(var l=0;l<h.value.length;++l)h.extensions.push(o.certificateExtensionFromAsn1(h.value[l]))}e.push(h)}return e};var d=function(t,e,r){var n={};if(t!==s[\"RSASSA-PSS\"])return n;r&&(n={hash:{algorithmOid:s.sha1},mgf:{algorithmOid:s.mgf1,hash:{algorithmOid:s.sha1}},saltLength:20});var o={},a=[];if(!i.validate(e,f,o,a)){var u=new Error(\"Cannot read RSASSA-PSS parameter block.\");throw u.errors=a,u}return void 0!==o.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(o.hashOid)),void 0!==o.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(o.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(o.maskGenHashOid)),void 0!==o.saltLength&&(n.saltLength=o.saltLength.charCodeAt(0)),n};function y(t){for(var e,r,o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),s=t.attributes,a=0;a<s.length;++a){var u=(e=s[a]).value,c=i.Type.PRINTABLESTRING;\"valueTagClass\"in e&&(c=e.valueTagClass)===i.Type.UTF8&&(u=n.util.encodeUtf8(u)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,c,!1,u)])]),o.value.push(r)}return o}function m(t){for(var e,r=0;r<t.length;++r){if(void 0===(e=t[r]).name&&(e.type&&e.type in o.oids?e.name=o.oids[e.type]:e.shortName&&e.shortName in a&&(e.name=o.oids[a[e.shortName]])),void 0===e.type){if(!(e.name&&e.name in o.oids))throw(u=new Error(\"Attribute type not specified.\")).attribute=e,u;e.type=o.oids[e.name]}if(void 0===e.shortName&&e.name&&e.name in a&&(e.shortName=a[e.name]),e.type===s.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=i.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var n=0;n<e.extensions.length;++n)e.value.push(o.certificateExtensionToAsn1(g(e.extensions[n])))}var u;if(void 0===e.value)throw(u=new Error(\"Attribute value not specified.\")).attribute=e,u}}function g(t,e){if(e=e||{},void 0===t.name&&t.id&&t.id in o.oids&&(t.name=o.oids[t.id]),void 0===t.id){if(!(t.name&&t.name in o.oids))throw(w=new Error(\"Extension ID not specified.\")).extension=t,w;t.id=o.oids[t.name]}if(void 0!==t.value)return t;if(\"keyUsage\"===t.name){var r=0,a=0,u=0;t.digitalSignature&&(a|=128,r=7),t.nonRepudiation&&(a|=64,r=6),t.keyEncipherment&&(a|=32,r=5),t.dataEncipherment&&(a|=16,r=4),t.keyAgreement&&(a|=8,r=3),t.keyCertSign&&(a|=4,r=2),t.cRLSign&&(a|=2,r=1),t.encipherOnly&&(a|=1,r=0),t.decipherOnly&&(u|=128,r=7);var c=String.fromCharCode(r);0!==u?c+=String.fromCharCode(a)+String.fromCharCode(u):0!==a&&(c+=String.fromCharCode(a)),t.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if(\"basicConstraints\"===t.name)t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),\"pathLenConstraint\"in t&&t.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.pathLenConstraint).getBytes()));else if(\"extKeyUsage\"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var f=t.value.value;for(var h in t)!0===t[h]&&(h in s?f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s[h]).getBytes())):-1!==h.indexOf(\".\")&&f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(h).getBytes())))}else if(\"nsCertType\"===t.name){r=0,a=0;t.client&&(a|=128,r=7),t.server&&(a|=64,r=6),t.email&&(a|=32,r=5),t.objsign&&(a|=16,r=4),t.reserved&&(a|=8,r=3),t.sslCA&&(a|=4,r=2),t.emailCA&&(a|=2,r=1),t.objCA&&(a|=1,r=0);c=String.fromCharCode(r);0!==a&&(c+=String.fromCharCode(a)),t.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if(\"subjectAltName\"===t.name||\"issuerAltName\"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var l=0;l<t.altNames.length;++l){c=(b=t.altNames[l]).value;if(7===b.type&&b.ip){if(null===(c=n.util.bytesFromIP(b.ip)))throw(w=new Error('Extension \"ip\" value is not a valid IPv4 or IPv6 address.')).extension=t,w}else 8===b.type&&(c=b.oid?i.oidToDer(i.oidToDer(b.oid)):i.oidToDer(c));t.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,b.type,!1,c))}}else if(\"subjectKeyIdentifier\"===t.name&&e.cert){var p=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=p.toHex(),t.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,p.getBytes())}else if(\"authorityKeyIdentifier\"===t.name&&e.cert){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);f=t.value.value;if(t.keyIdentifier){var d=!0===t.keyIdentifier?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;f.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,d))}if(t.authorityCertIssuer){var m=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===t.authorityCertIssuer?e.cert.issuer:t.authorityCertIssuer)])];f.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,m))}if(t.serialNumber){var g=n.util.hexToBytes(!0===t.serialNumber?e.cert.serialNumber:t.serialNumber);f.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if(\"cRLDistributionPoints\"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);f=t.value.value;var b,v=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),_=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(l=0;l<t.altNames.length;++l){c=(b=t.altNames[l]).value;if(7===b.type&&b.ip){if(null===(c=n.util.bytesFromIP(b.ip)))throw(w=new Error('Extension \"ip\" value is not a valid IPv4 or IPv6 address.')).extension=t,w}else 8===b.type&&(c=b.oid?i.oidToDer(i.oidToDer(b.oid)):i.oidToDer(c));_.value.push(i.create(i.Class.CONTEXT_SPECIFIC,b.type,!1,c))}v.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[_])),f.push(v)}var w;if(void 0===t.value)throw(w=new Error(\"Extension value not specified.\")).extension=t,w;return t}function b(t,e){switch(t){case s[\"RSASSA-PSS\"]:var r=[];return void 0!==e.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")])])),void 0!==e.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")])])])),void 0!==e.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")}}o.certificateFromPem=function(t,e,r){var s=n.pem.decode(t)[0];if(\"CERTIFICATE\"!==s.type&&\"X509 CERTIFICATE\"!==s.type&&\"TRUSTED CERTIFICATE\"!==s.type){var a=new Error('Could not convert certificate from PEM; PEM header type is not \"CERTIFICATE\", \"X509 CERTIFICATE\", or \"TRUSTED CERTIFICATE\".');throw a.headerType=s.type,a}if(s.procType&&\"ENCRYPTED\"===s.procType.type)throw new Error(\"Could not convert certificate from PEM; PEM is encrypted.\");var u=i.fromDer(s.body,r);return o.certificateFromAsn1(u,e)},o.certificateToPem=function(t,e){var r={type:\"CERTIFICATE\",body:i.toDer(o.certificateToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.publicKeyFromPem=function(t){var e=n.pem.decode(t)[0];if(\"PUBLIC KEY\"!==e.type&&\"RSA PUBLIC KEY\"!==e.type){var r=new Error('Could not convert public key from PEM; PEM header type is not \"PUBLIC KEY\" or \"RSA PUBLIC KEY\".');throw r.headerType=e.type,r}if(e.procType&&\"ENCRYPTED\"===e.procType.type)throw new Error(\"Could not convert public key from PEM; PEM is encrypted.\");var s=i.fromDer(e.body);return o.publicKeyFromAsn1(s)},o.publicKeyToPem=function(t,e){var r={type:\"PUBLIC KEY\",body:i.toDer(o.publicKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:\"RSA PUBLIC KEY\",body:i.toDer(o.publicKeyToRSAPublicKey(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.getPublicKeyFingerprint=function(t,e){var r,s=(e=e||{}).md||n.md.sha1.create();switch(e.type||\"RSAPublicKey\"){case\"RSAPublicKey\":r=i.toDer(o.publicKeyToRSAPublicKey(t)).getBytes();break;case\"SubjectPublicKeyInfo\":r=i.toDer(o.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type \"'+e.type+'\".')}s.start(),s.update(r);var a=s.digest();if(\"hex\"===e.encoding){var u=a.toHex();return e.delimiter?u.match(/.{2}/g).join(e.delimiter):u}if(\"binary\"===e.encoding)return a.getBytes();if(e.encoding)throw new Error('Unknown encoding \"'+e.encoding+'\".');return a},o.certificationRequestFromPem=function(t,e,r){var s=n.pem.decode(t)[0];if(\"CERTIFICATE REQUEST\"!==s.type){var a=new Error('Could not convert certification request from PEM; PEM header type is not \"CERTIFICATE REQUEST\".');throw a.headerType=s.type,a}if(s.procType&&\"ENCRYPTED\"===s.procType.type)throw new Error(\"Could not convert certification request from PEM; PEM is encrypted.\");var u=i.fromDer(s.body,r);return o.certificationRequestFromAsn1(u,e)},o.certificationRequestToPem=function(t,e){var r={type:\"CERTIFICATE REQUEST\",body:i.toDer(o.certificationRequestToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.createCertificate=function(){var t={version:2,serialNumber:\"00\",signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return p(t.issuer,e)},t.issuer.addField=function(e){m([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return p(t.subject,e)},t.subject.addField=function(e){m([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){m(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){m(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)g(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){\"string\"==typeof e&&(e={name:e});for(var r,n=null,i=0;null===n&&i<t.extensions.length;++i)r=t.extensions[i],e.id&&r.id===e.id?n=r:e.name&&r.name===e.name&&(n=r);return n},t.sign=function(e,r){t.md=r||n.md.sha1.create();var a=s[t.md.algorithm+\"WithRSAEncryption\"];if(!a){var u=new Error(\"Could not compute certificate digest. Unknown message digest algorithm OID.\");throw u.algorithm=t.md.algorithm,u}t.signatureOid=t.siginfo.algorithmOid=a,t.tbsCertificate=o.getTBSCertificate(t);var c=i.toDer(t.tbsCertificate);t.md.update(c.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var a=e.issuer,u=t.subject;throw(y=new Error(\"The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.\")).expectedIssuer=a.attributes,y.actualIssuer=u.attributes,y}var c=e.md;if(null===c){if(e.signatureOid in s)switch(s[e.signatureOid]){case\"sha1WithRSAEncryption\":c=n.md.sha1.create();break;case\"md5WithRSAEncryption\":c=n.md.md5.create();break;case\"sha256WithRSAEncryption\":c=n.md.sha256.create();break;case\"sha384WithRSAEncryption\":c=n.md.sha384.create();break;case\"sha512WithRSAEncryption\":c=n.md.sha512.create();break;case\"RSASSA-PSS\":c=n.md.sha256.create()}if(null===c)throw(y=new Error(\"Could not compute certificate digest. Unknown signature OID.\")).signatureOid=e.signatureOid,y;var f=e.tbsCertificate||o.getTBSCertificate(e),h=i.toDer(f);c.update(h.getBytes())}if(null!==c){var l;switch(e.signatureOid){case s.sha1WithRSAEncryption:l=void 0;break;case s[\"RSASSA-PSS\"]:var p,d,y;if(void 0===(p=s[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[p])throw(y=new Error(\"Unsupported MGF hash function.\")).oid=e.signatureParameters.mgf.hash.algorithmOid,y.name=p,y;if(void 0===(d=s[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[d])throw(y=new Error(\"Unsupported MGF function.\")).oid=e.signatureParameters.mgf.algorithmOid,y.name=d,y;if(d=n.mgf[d].create(n.md[p].create()),void 0===(p=s[e.signatureParameters.hash.algorithmOid])||void 0===n.md[p])throw{message:\"Unsupported RSASSA-PSS hash function.\",oid:e.signatureParameters.hash.algorithmOid,name:p};l=n.pss.create(n.md[p].create(),d,e.signatureParameters.saltLength)}r=t.publicKey.verify(c.digest().getBytes(),e.signature,l)}return r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var o,s;r=!0;for(var a=0;r&&a<n.attributes.length;++a)o=n.attributes[a],s=i.attributes[a],o.type===s.type&&o.value===s.value||(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return o.getPublicKeyFingerprint(t.publicKey,{type:\"RSAPublicKey\"})},t.verifySubjectKeyIdentifier=function(){for(var e=s.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var i=t.extensions[r];if(i.id===e){var o=t.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===o}}return!1},t},o.certificateFromAsn1=function(t,e){var r={},a=[];if(!i.validate(t,c,r,a))throw(l=new Error(\"Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.\")).errors=a,l;if(i.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw new Error(\"Cannot read public key. OID is not RSA.\");var u=o.createCertificate();u.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=n.util.createBuffer(r.certSerialNumber);u.serialNumber=f.toHex(),u.signatureOid=n.asn1.derToOid(r.certSignatureOid),u.signatureParameters=d(u.signatureOid,r.certSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.certinfoSignatureParams,!1),u.signature=r.certSignature;var h=[];if(void 0!==r.certValidity1UTCTime&&h.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&h.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&h.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&h.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),h.length>2)throw new Error(\"Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.\");if(h.length<2)throw new Error(\"Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.\");if(u.validity.notBefore=h[0],u.validity.notAfter=h[1],u.tbsCertificate=r.tbsCertificate,e){var l;if(u.md=null,u.signatureOid in s)switch(s[u.signatureOid]){case\"sha1WithRSAEncryption\":u.md=n.md.sha1.create();break;case\"md5WithRSAEncryption\":u.md=n.md.md5.create();break;case\"sha256WithRSAEncryption\":u.md=n.md.sha256.create();break;case\"sha384WithRSAEncryption\":u.md=n.md.sha384.create();break;case\"sha512WithRSAEncryption\":u.md=n.md.sha512.create();break;case\"RSASSA-PSS\":u.md=n.md.sha256.create()}if(null===u.md)throw(l=new Error(\"Could not compute certificate digest. Unknown signature OID.\")).signatureOid=u.signatureOid,l;var y=i.toDer(u.tbsCertificate);u.md.update(y.getBytes())}var g=n.md.sha1.create();u.issuer.getField=function(t){return p(u.issuer,t)},u.issuer.addField=function(t){m([t]),u.issuer.attributes.push(t)},u.issuer.attributes=o.RDNAttributesAsArray(r.certIssuer,g),r.certIssuerUniqueId&&(u.issuer.uniqueId=r.certIssuerUniqueId),u.issuer.hash=g.digest().toHex();var b=n.md.sha1.create();return u.subject.getField=function(t){return p(u.subject,t)},u.subject.addField=function(t){m([t]),u.subject.attributes.push(t)},u.subject.attributes=o.RDNAttributesAsArray(r.certSubject,b),r.certSubjectUniqueId&&(u.subject.uniqueId=r.certSubjectUniqueId),u.subject.hash=b.digest().toHex(),r.certExtensions?u.extensions=o.certificateExtensionsFromAsn1(r.certExtensions):u.extensions=[],u.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),u},o.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(o.certificateExtensionFromAsn1(n.value[i]));return e},o.certificateExtensionFromAsn1=function(t){var e={};if(e.id=i.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===i.Type.BOOLEAN?(e.critical=0!==t.value[1].value.charCodeAt(0),e.value=t.value[2].value):e.value=t.value[1].value,e.id in s)if(e.name=s[e.id],\"keyUsage\"===e.name){var r=0,o=0;(u=i.fromDer(e.value)).value.length>1&&(r=u.value.charCodeAt(1),o=u.value.length>2?u.value.charCodeAt(2):0),e.digitalSignature=128==(128&r),e.nonRepudiation=64==(64&r),e.keyEncipherment=32==(32&r),e.dataEncipherment=16==(16&r),e.keyAgreement=8==(8&r),e.keyCertSign=4==(4&r),e.cRLSign=2==(2&r),e.encipherOnly=1==(1&r),e.decipherOnly=128==(128&o)}else if(\"basicConstraints\"===e.name){(u=i.fromDer(e.value)).value.length>0&&u.value[0].type===i.Type.BOOLEAN?e.cA=0!==u.value[0].value.charCodeAt(0):e.cA=!1;var a=null;u.value.length>0&&u.value[0].type===i.Type.INTEGER?a=u.value[0].value:u.value.length>1&&(a=u.value[1].value),null!==a&&(e.pathLenConstraint=i.derToInteger(a))}else if(\"extKeyUsage\"===e.name)for(var u=i.fromDer(e.value),c=0;c<u.value.length;++c){var f=i.derToOid(u.value[c].value);f in s?e[s[f]]=!0:e[f]=!0}else if(\"nsCertType\"===e.name){r=0;(u=i.fromDer(e.value)).value.length>1&&(r=u.value.charCodeAt(1)),e.client=128==(128&r),e.server=64==(64&r),e.email=32==(32&r),e.objsign=16==(16&r),e.reserved=8==(8&r),e.sslCA=4==(4&r),e.emailCA=2==(2&r),e.objCA=1==(1&r)}else if(\"subjectAltName\"===e.name||\"issuerAltName\"===e.name){var h;e.altNames=[];u=i.fromDer(e.value);for(var l=0;l<u.value.length;++l){var p={type:(h=u.value[l]).type,value:h.value};switch(e.altNames.push(p),h.type){case 1:case 2:case 6:break;case 7:p.ip=n.util.bytesToIP(h.value);break;case 8:p.oid=i.derToOid(h.value)}}}else if(\"subjectKeyIdentifier\"===e.name){u=i.fromDer(e.value);e.subjectKeyIdentifier=n.util.bytesToHex(u.value)}return e},o.certificationRequestFromAsn1=function(t,e){var r={},a=[];if(!i.validate(t,l,r,a))throw(c=new Error(\"Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.\")).errors=a,c;if(i.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw new Error(\"Cannot read public key. OID is not RSA.\");var u=o.createCertificationRequest();if(u.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,u.signatureOid=n.asn1.derToOid(r.csrSignatureOid),u.signatureParameters=d(u.signatureOid,r.csrSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.csrSignatureParams,!1),u.signature=r.csrSignature,u.certificationRequestInfo=r.certificationRequestInfo,e){var c;if(u.md=null,u.signatureOid in s)switch(s[u.signatureOid]){case\"sha1WithRSAEncryption\":u.md=n.md.sha1.create();break;case\"md5WithRSAEncryption\":u.md=n.md.md5.create();break;case\"sha256WithRSAEncryption\":u.md=n.md.sha256.create();break;case\"sha384WithRSAEncryption\":u.md=n.md.sha384.create();break;case\"sha512WithRSAEncryption\":u.md=n.md.sha512.create();break;case\"RSASSA-PSS\":u.md=n.md.sha256.create()}if(null===u.md)throw(c=new Error(\"Could not compute certification request digest. Unknown signature OID.\")).signatureOid=u.signatureOid,c;var f=i.toDer(u.certificationRequestInfo);u.md.update(f.getBytes())}var h=n.md.sha1.create();return u.subject.getField=function(t){return p(u.subject,t)},u.subject.addField=function(t){m([t]),u.subject.attributes.push(t)},u.subject.attributes=o.RDNAttributesAsArray(r.certificationRequestInfoSubject,h),u.subject.hash=h.digest().toHex(),u.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),u.getAttribute=function(t){return p(u,t)},u.addAttribute=function(t){m([t]),u.attributes.push(t)},u.attributes=o.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),u},o.createCertificationRequest=function(){var t={version:0,signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return p(t.subject,e)},t.subject.addField=function(e){m([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return p(t,e)},t.addAttribute=function(e){m([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){m(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){m(e),t.attributes=e},t.sign=function(e,r){t.md=r||n.md.sha1.create();var a=s[t.md.algorithm+\"WithRSAEncryption\"];if(!a){var u=new Error(\"Could not compute certification request digest. Unknown message digest algorithm OID.\");throw u.algorithm=t.md.algorithm,u}t.signatureOid=t.siginfo.algorithmOid=a,t.certificationRequestInfo=o.getCertificationRequestInfo(t);var c=i.toDer(t.certificationRequestInfo);t.md.update(c.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(null===r){if(t.signatureOid in s)switch(s[t.signatureOid]){case\"sha1WithRSAEncryption\":r=n.md.sha1.create();break;case\"md5WithRSAEncryption\":r=n.md.md5.create();break;case\"sha256WithRSAEncryption\":r=n.md.sha256.create();break;case\"sha384WithRSAEncryption\":r=n.md.sha384.create();break;case\"sha512WithRSAEncryption\":r=n.md.sha512.create();break;case\"RSASSA-PSS\":r=n.md.sha256.create()}if(null===r)throw(l=new Error(\"Could not compute certification request digest. Unknown signature OID.\")).signatureOid=t.signatureOid,l;var a=t.certificationRequestInfo||o.getCertificationRequestInfo(t),u=i.toDer(a);r.update(u.getBytes())}if(null!==r){var c;switch(t.signatureOid){case s.sha1WithRSAEncryption:break;case s[\"RSASSA-PSS\"]:var f,h,l;if(void 0===(f=s[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[f])throw(l=new Error(\"Unsupported MGF hash function.\")).oid=t.signatureParameters.mgf.hash.algorithmOid,l.name=f,l;if(void 0===(h=s[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[h])throw(l=new Error(\"Unsupported MGF function.\")).oid=t.signatureParameters.mgf.algorithmOid,l.name=h,l;if(h=n.mgf[h].create(n.md[f].create()),void 0===(f=s[t.signatureParameters.hash.algorithmOid])||void 0===n.md[f])throw(l=new Error(\"Unsupported RSASSA-PSS hash function.\")).oid=t.signatureParameters.hash.algorithmOid,l.name=f,l;c=n.pss.create(n.md[f].create(),h,t.signatureParameters.saltLength)}e=t.publicKey.verify(r.digest().getBytes(),t.signature,c)}return e},t},o.getTBSCertificate=function(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.siginfo.algorithmOid).getBytes()),b(t.siginfo.algorithmOid,t.siginfo.parameters)]),y(t.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(t.validity.notBefore)),i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(t.validity.notAfter))]),y(t.subject),o.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&e.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&e.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&e.value.push(o.certificateExtensionsToAsn1(t.extensions)),e},o.getCertificationRequestInfo=function(t){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),y(t.subject),o.publicKeyToAsn1(t.publicKey),function(t){var e=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===t.attributes.length)return e;for(var r=t.attributes,o=0;o<r.length;++o){var s=r[o],a=s.value,u=i.Type.UTF8;\"valueTagClass\"in s&&(u=s.valueTagClass),u===i.Type.UTF8&&(a=n.util.encodeUtf8(a));var c=!1;\"valueConstructed\"in s&&(c=s.valueConstructed);var f=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,u,c,a)])]);e.value.push(f)}return e}(t)])},o.distinguishedNameToAsn1=function(t){return y(t)},o.certificateToAsn1=function(t){var e=t.tbsCertificate||o.getTBSCertificate(t);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureOid).getBytes()),b(t.signatureOid,t.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},o.certificateExtensionsToAsn1=function(t){var e=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(o.certificateExtensionToAsn1(t[n]));return e},o.certificateExtensionToAsn1=function(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.id).getBytes())),t.critical&&e.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=t.value;return\"string\"!=typeof t.value&&(r=i.toDer(r).getBytes()),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),e},o.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||o.getCertificationRequestInfo(t);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureOid).getBytes()),b(t.signatureOid,t.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},o.createCaStore=function(t){var e={certs:{}};function r(t){return s(t),e.certs[t.hash]||null}function s(t){if(!t.hash){var e=n.md.sha1.create();t.attributes=o.RDNAttributesAsArray(y(t),e),t.hash=e.digest().toHex()}}if(e.getIssuer=function(t){return r(t.issuer)},e.addCertificate=function(t){if(\"string\"==typeof t&&(t=n.pki.certificateFromPem(t)),s(t.subject),!e.hasCertificate(t))if(t.subject.hash in e.certs){var r=e.certs[t.subject.hash];n.util.isArray(r)||(r=[r]),r.push(t),e.certs[t.subject.hash]=r}else e.certs[t.subject.hash]=t},e.hasCertificate=function(t){\"string\"==typeof t&&(t=n.pki.certificateFromPem(t));var e=r(t.subject);if(!e)return!1;n.util.isArray(e)||(e=[e]);for(var s=i.toDer(o.certificateToAsn1(t)).getBytes(),a=0;a<e.length;++a){if(s===i.toDer(o.certificateToAsn1(e[a])).getBytes())return!0}return!1},e.listAllCertificates=function(){var t=[];for(var r in e.certs)if(e.certs.hasOwnProperty(r)){var i=e.certs[r];if(n.util.isArray(i))for(var o=0;o<i.length;++o)t.push(i[o]);else t.push(i)}return t},e.removeCertificate=function(t){var a;if(\"string\"==typeof t&&(t=n.pki.certificateFromPem(t)),s(t.subject),!e.hasCertificate(t))return null;var u=r(t.subject);if(!n.util.isArray(u))return a=e.certs[t.subject.hash],delete e.certs[t.subject.hash],a;for(var c=i.toDer(o.certificateToAsn1(t)).getBytes(),f=0;f<u.length;++f){c===i.toDer(o.certificateToAsn1(u[f])).getBytes()&&(a=u[f],u.splice(f,1))}return 0===u.length&&delete e.certs[t.subject.hash],a},t)for(var a=0;a<t.length;++a){var u=t[a];e.addCertificate(u)}return e},o.certificateError={bad_certificate:\"forge.pki.BadCertificate\",unsupported_certificate:\"forge.pki.UnsupportedCertificate\",certificate_revoked:\"forge.pki.CertificateRevoked\",certificate_expired:\"forge.pki.CertificateExpired\",certificate_unknown:\"forge.pki.CertificateUnknown\",unknown_ca:\"forge.pki.UnknownCertificateAuthority\"},o.verifyCertificateChain=function(t,e,r){var i=(e=e.slice(0)).slice(0),s=new Date,a=!0,u=null,c=0;do{var f=e.shift(),h=null,l=!1;if((s<f.validity.notBefore||s>f.validity.notAfter)&&(u={message:\"Certificate is not valid yet or has expired.\",error:o.certificateError.certificate_expired,notBefore:f.validity.notBefore,notAfter:f.validity.notAfter,now:s}),null===u){if(null===(h=e[0]||t.getIssuer(f))&&f.isIssuer(f)&&(l=!0,h=f),h){var p=h;n.util.isArray(p)||(p=[p]);for(var d=!1;!d&&p.length>0;){h=p.shift();try{d=h.verify(f)}catch(t){}}d||(u={message:\"Certificate signature is invalid.\",error:o.certificateError.bad_certificate})}null!==u||h&&!l||t.hasCertificate(f)||(u={message:\"Certificate is not trusted.\",error:o.certificateError.unknown_ca})}if(null===u&&h&&!f.isIssuer(h)&&(u={message:\"Certificate issuer is invalid.\",error:o.certificateError.bad_certificate}),null===u)for(var y={keyUsage:!0,basicConstraints:!0},m=0;null===u&&m<f.extensions.length;++m){var g=f.extensions[m];!g.critical||g.name in y||(u={message:\"Certificate has an unsupported critical extension.\",error:o.certificateError.unsupported_certificate})}if(null===u&&(!a||0===e.length&&(!h||l))){var b=f.getExtension(\"basicConstraints\"),v=f.getExtension(\"keyUsage\");if(null!==v&&(v.keyCertSign&&null!==b||(u={message:\"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.\",error:o.certificateError.bad_certificate})),null!==u||null===b||b.cA||(u={message:\"Certificate basicConstraints indicates the certificate is not a CA.\",error:o.certificateError.bad_certificate}),null===u&&null!==v&&\"pathLenConstraint\"in b)c-1>b.pathLenConstraint&&(u={message:\"Certificate basicConstraints pathLenConstraint violated.\",error:o.certificateError.bad_certificate})}var _=null===u||u.error,w=r?r(_,c,i):_;if(!0!==w)throw!0===_&&(u={message:\"The application rejected the certificate.\",error:o.certificateError.bad_certificate}),(w||0===w)&&(\"object\"!=typeof w||n.util.isArray(w)?\"string\"==typeof w&&(u.error=w):(w.message&&(u.message=w.message),w.error&&(u.error=w.error))),u;u=null,a=!1,++c}while(e.length>0);return!0}},function(t,e,r){var n=r(12);r(71),r(18),(t.exports=n.pss=n.pss||{}).create=function(t){3===arguments.length&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e,r=t.md,i=t.mgf,o=r.digestLength,s=t.salt||null;if(\"string\"==typeof s&&(s=n.util.createBuffer(s)),\"saltLength\"in t)e=t.saltLength;else{if(null===s)throw new Error(\"Salt length not specified or specific salt not given.\");e=s.length()}if(null!==s&&s.length()!==e)throw new Error(\"Given salt length does not match length of given salt.\");var a=t.prng||n.random,u={encode:function(t,u){var c,f,h=u-1,l=Math.ceil(h/8),p=t.digest().getBytes();if(l<o+e+2)throw new Error(\"Message is too long to encrypt.\");f=null===s?a.getBytesSync(e):s.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(p),d.putBytes(f),r.start(),r.update(d.getBytes());var y=r.digest().getBytes(),m=new n.util.ByteBuffer;m.fillWithByte(0,l-e-o-2),m.putByte(1),m.putBytes(f);var g=m.getBytes(),b=l-o-1,v=i.generate(y,b),_=\"\";for(c=0;c<b;c++)_+=String.fromCharCode(g.charCodeAt(c)^v.charCodeAt(c));var w=65280>>8*l-h&255;return(_=String.fromCharCode(_.charCodeAt(0)&~w)+_.substr(1))+y+String.fromCharCode(188)},verify:function(t,s,a){var u,c=a-1,f=Math.ceil(c/8);if(s=s.substr(-f),f<o+e+2)throw new Error(\"Inconsistent parameters to PSS signature verification.\");if(188!==s.charCodeAt(f-1))throw new Error(\"Encoded message does not end in 0xBC.\");var h=f-o-1,l=s.substr(0,h),p=s.substr(h,o),d=65280>>8*f-c&255;if(0!=(l.charCodeAt(0)&d))throw new Error(\"Bits beyond keysize not zero as expected.\");var y=i.generate(p,h),m=\"\";for(u=0;u<h;u++)m+=String.fromCharCode(l.charCodeAt(u)^y.charCodeAt(u));m=String.fromCharCode(m.charCodeAt(0)&~d)+m.substr(1);var g=f-o-e-2;for(u=0;u<g;u++)if(0!==m.charCodeAt(u))throw new Error(\"Leftmost octets not zero as expected\");if(1!==m.charCodeAt(g))throw new Error(\"Inconsistent PSS signature, 0x01 marker not found\");var b=m.substr(-e),v=new n.util.ByteBuffer;return v.fillWithByte(0,8),v.putBytes(t),v.putBytes(b),r.start(),r.update(v.getBytes()),p===r.digest().getBytes()}};return u}},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e){e.BITS=32,e.GROUPS=4,e.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,e.RE_SUBNET_STRING=/\\/\\d{1,2}$/},function(t,e){e.BITS=128,e.GROUPS=8,e.SCOPES={0:\"Reserved\",1:\"Interface local\",2:\"Link local\",4:\"Admin local\",5:\"Site local\",8:\"Organization local\",14:\"Global\",15:\"Reserved\"},e.TYPES={\"ff01::1/128\":\"Multicast (All nodes on this interface)\",\"ff01::2/128\":\"Multicast (All routers on this interface)\",\"ff02::1/128\":\"Multicast (All nodes on this link)\",\"ff02::2/128\":\"Multicast (All routers on this link)\",\"ff05::2/128\":\"Multicast (All routers in this site)\",\"ff02::5/128\":\"Multicast (OSPFv3 AllSPF routers)\",\"ff02::6/128\":\"Multicast (OSPFv3 AllDR routers)\",\"ff02::9/128\":\"Multicast (RIP routers)\",\"ff02::a/128\":\"Multicast (EIGRP routers)\",\"ff02::d/128\":\"Multicast (PIM routers)\",\"ff02::16/128\":\"Multicast (MLDv2 reports)\",\"ff01::fb/128\":\"Multicast (mDNSv6)\",\"ff02::fb/128\":\"Multicast (mDNSv6)\",\"ff05::fb/128\":\"Multicast (mDNSv6)\",\"ff02::1:2/128\":\"Multicast (All DHCP servers and relay agents on this link)\",\"ff05::1:2/128\":\"Multicast (All DHCP servers and relay agents in this site)\",\"ff02::1:3/128\":\"Multicast (All DHCP servers on this link)\",\"ff05::1:3/128\":\"Multicast (All DHCP servers in this site)\",\"::/128\":\"Unspecified\",\"::1/128\":\"Loopback\",\"ff00::/8\":\"Multicast\",\"fe80::/10\":\"Link-local unicast\"},e.RE_BAD_CHARACTERS=/([^0-9a-f:\\/%])/gi,e.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\\/$)/gi,e.RE_SUBNET_STRING=/\\/\\d{1,3}(?=%|$)/,e.RE_ZONE_STRING=/%.*$/,e.RE_URL=new RegExp(/^\\[{0,1}([0-9a-f:]+)\\]{0,1}/),e.RE_URL_WITH_PORT=new RegExp(/\\[([0-9a-f:]+)\\]:([0-9]{1,5})/)},function(t,e,r){\"use strict\";const n=r(46);function i(t){if(\"number\"==typeof t){if(i.codes[t])return i.codes[t];throw new Error(\"no protocol with code: \"+t)}if(\"string\"==typeof t||t instanceof String){if(i.names[t])return i.names[t];throw new Error(\"no protocol with name: \"+t)}throw new Error(\"invalid protocol id type: \"+t)}function o(t,e,r,n){return{code:t,size:e,name:r,resolvable:Boolean(n)}}i.lengthPrefixedVarSize=-1,i.V=-1,i.table=[[4,32,\"ip4\"],[6,16,\"tcp\"],[17,16,\"udp\"],[33,16,\"dccp\"],[41,128,\"ip6\"],[54,-1,\"dns4\",\"resolvable\"],[55,-1,\"dns6\",\"resolvable\"],[56,-1,\"dnsaddr\",\"resolvable\"],[132,16,\"sctp\"],[302,0,\"utp\"],[421,i.lengthPrefixedVarSize,\"ipfs\"],[480,0,\"http\"],[443,0,\"https\"],[477,0,\"ws\"],[478,0,\"wss\"],[479,0,\"p2p-websocket-star\"],[275,0,\"p2p-webrtc-star\"],[276,0,\"p2p-webrtc-direct\"],[290,0,\"p2p-circuit\"]],i.names={},i.codes={},n(i.table,function(t){const e=o.apply(null,t);i.codes[e.code]=e,i.names[e.name]=e}),i.object=o,t.exports=i},function(t,e,r){\"use strict\";const n=r(46);function i(t){if(\"number\"==typeof t){if(i.codes[t])return i.codes[t];throw new Error(\"no protocol with code: \"+t)}if(\"string\"==typeof t||t instanceof String){if(i.names[t])return i.names[t];throw new Error(\"no protocol with name: \"+t)}throw new Error(\"invalid protocol id type: \"+t)}function o(t,e,r,n){return{code:t,size:e,name:r,resolvable:Boolean(n)}}i.lengthPrefixedVarSize=-1,i.V=-1,i.table=[[4,32,\"ip4\"],[6,16,\"tcp\"],[17,16,\"udp\"],[33,16,\"dccp\"],[41,128,\"ip6\"],[54,-1,\"dns4\",\"resolvable\"],[55,-1,\"dns6\",\"resolvable\"],[56,-1,\"dnsaddr\",\"resolvable\"],[132,16,\"sctp\"],[302,0,\"utp\"],[421,i.lengthPrefixedVarSize,\"ipfs\"],[480,0,\"http\"],[443,0,\"https\"],[477,0,\"ws\"],[478,0,\"wss\"],[479,0,\"p2p-websocket-star\"],[275,0,\"p2p-webrtc-star\"],[276,0,\"p2p-webrtc-direct\"],[290,0,\"p2p-circuit\"]],i.names={},i.codes={},n(i.table,function(t){const e=o.apply(null,t);i.codes[e.code]=e,i.names[e.name]=e}),i.object=o,t.exports=i},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){\"use strict\";(function(e){\n/*!\n * @description Recursive object extending\n * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>\n * @license MIT\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2013-2018 Viacheslav Lotsmanov\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\nfunction r(t){return t instanceof e||t instanceof Date||t instanceof RegExp}function n(t){if(t instanceof e){var r=e.alloc?e.alloc(t.length):new e(t.length);return t.copy(r),r}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error(\"Unexpected situation\")}function i(t,e){return\"__proto__\"===e?void 0:t[e]}var o=t.exports=function(){if(arguments.length<1||\"object\"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var t,e,s=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(a){\"object\"!=typeof a||null===a||Array.isArray(a)||Object.keys(a).forEach(function(u){return e=i(s,u),(t=i(a,u))===s?void 0:\"object\"!=typeof t||null===t?void(s[u]=t):Array.isArray(t)?void(s[u]=function t(e){var i=[];return e.forEach(function(e,s){\"object\"==typeof e&&null!==e?Array.isArray(e)?i[s]=t(e):r(e)?i[s]=n(e):i[s]=o({},e):i[s]=e}),i}(t)):r(t)?void(s[u]=n(t)):\"object\"!=typeof e||null===e||Array.isArray(e)?void(s[u]=o({},t)):void(s[u]=o(e,t))})}),s}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(46);function i(t){if(\"number\"==typeof t){if(i.codes[t])return i.codes[t];throw new Error(\"no protocol with code: \"+t)}if(\"string\"==typeof t||t instanceof String){if(i.names[t])return i.names[t];throw new Error(\"no protocol with name: \"+t)}throw new Error(\"invalid protocol id type: \"+t)}function o(t,e,r,n){return{code:t,size:e,name:r,resolvable:Boolean(n)}}i.lengthPrefixedVarSize=-1,i.V=-1,i.table=[[4,32,\"ip4\"],[6,16,\"tcp\"],[17,16,\"udp\"],[33,16,\"dccp\"],[41,128,\"ip6\"],[54,-1,\"dns4\",\"resolvable\"],[55,-1,\"dns6\",\"resolvable\"],[56,-1,\"dnsaddr\",\"resolvable\"],[132,16,\"sctp\"],[302,0,\"utp\"],[421,i.lengthPrefixedVarSize,\"ipfs\"],[480,0,\"http\"],[443,0,\"https\"],[477,0,\"ws\"],[478,0,\"wss\"],[479,0,\"p2p-websocket-star\"],[275,0,\"p2p-webrtc-star\"],[276,0,\"p2p-webrtc-direct\"],[290,0,\"p2p-circuit\"]],i.names={},i.codes={},n(i.table,function(t){const e=o.apply(null,t);i.codes[e.code]=e,i.names[e.name]=e}),i.object=o,t.exports=i},function(t,e,r){\"use strict\";const n=r(46);function i(t){if(\"number\"==typeof t){if(i.codes[t])return i.codes[t];throw new Error(\"no protocol with code: \"+t)}if(\"string\"==typeof t||t instanceof String){if(i.names[t])return i.names[t];throw new Error(\"no protocol with name: \"+t)}throw new Error(\"invalid protocol id type: \"+t)}function o(t,e,r,n){return{code:t,size:e,name:r,resolvable:Boolean(n)}}i.lengthPrefixedVarSize=-1,i.V=-1,i.table=[[4,32,\"ip4\"],[6,16,\"tcp\"],[17,16,\"udp\"],[33,16,\"dccp\"],[41,128,\"ip6\"],[54,-1,\"dns4\",\"resolvable\"],[55,-1,\"dns6\",\"resolvable\"],[56,-1,\"dnsaddr\",\"resolvable\"],[132,16,\"sctp\"],[302,0,\"utp\"],[421,i.lengthPrefixedVarSize,\"ipfs\"],[480,0,\"http\"],[443,0,\"https\"],[477,0,\"ws\"],[478,0,\"wss\"],[479,0,\"p2p-websocket-star\"],[275,0,\"p2p-webrtc-star\"],[276,0,\"p2p-webrtc-direct\"],[290,0,\"p2p-circuit\"]],i.names={},i.codes={},n(i.table,function(t){const e=o.apply(null,t);i.codes[e.code]=e,i.names[e.name]=e}),i.object=o,t.exports=i},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){(function(t,r,n,i){!function(t,r){r(e)}(0,function(e){\"use strict\";function o(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n}var s=function(t){var e=o(arguments,1);return function(){var r=o(arguments);return t.apply(null,e.concat(r))}},a=function(t){return function(){var e=o(arguments),r=e.pop();t.call(this,e,r)}};function u(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}var c=\"function\"==typeof t&&t,f=\"object\"==typeof r&&\"function\"==typeof r.nextTick;function h(t){setTimeout(t,0)}function l(t){return function(e){var r=o(arguments,1);t(function(){e.apply(null,r)})}}var p=l(c?t:f?r.nextTick:h);function d(t){return a(function(e,r){var n;try{n=t.apply(this,e)}catch(t){return r(t)}u(n)&&\"function\"==typeof n.then?n.then(function(t){y(r,null,t)},function(t){y(r,t.message?t:new Error(t))}):r(null,n)})}function y(t,e,r){try{t(e,r)}catch(t){p(m,t)}}function m(t){throw t}var g=\"function\"==typeof Symbol;function b(t){return g&&\"AsyncFunction\"===t[Symbol.toStringTag]}function v(t){return b(t)?d(t):t}function _(t){return function(e){var r=o(arguments,1),n=a(function(r,n){var i=this;return t(e,function(t,e){v(t).apply(i,r.concat(e))},n)});return r.length?n.apply(this,r):n}}var w=\"object\"==typeof n&&n&&n.Object===Object&&n,S=\"object\"==typeof self&&self&&self.Object===Object&&self,k=w||S||Function(\"return this\")(),E=k.Symbol,A=Object.prototype,x=A.hasOwnProperty,T=A.toString,B=E?E.toStringTag:void 0;var I=Object.prototype.toString;var C=\"[object Null]\",M=\"[object Undefined]\",P=E?E.toStringTag:void 0;function O(t){return null==t?void 0===t?M:C:P&&P in Object(t)?function(t){var e=x.call(t,B),r=t[B];try{t[B]=void 0;var n=!0}catch(t){}var i=T.call(t);return n&&(e?t[B]=r:delete t[B]),i}(t):function(t){return I.call(t)}(t)}var R=\"[object AsyncFunction]\",j=\"[object Function]\",N=\"[object GeneratorFunction]\",L=\"[object Proxy]\";var K=9007199254740991;function D(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=K}function U(t){return null!=t&&D(t.length)&&!function(t){if(!u(t))return!1;var e=O(t);return e==j||e==N||e==R||e==L}(t)}var F={};function q(){}function H(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var z=\"function\"==typeof Symbol&&Symbol.iterator,V=function(t){return z&&t[z]&&t[z]()};function G(t){return null!=t&&\"object\"==typeof t}var W=\"[object Arguments]\";function $(t){return G(t)&&O(t)==W}var Y=Object.prototype,J=Y.hasOwnProperty,Z=Y.propertyIsEnumerable,X=$(function(){return arguments}())?$:function(t){return G(t)&&J.call(t,\"callee\")&&!Z.call(t,\"callee\")},Q=Array.isArray;var tt=\"object\"==typeof e&&e&&!e.nodeType&&e,et=tt&&\"object\"==typeof i&&i&&!i.nodeType&&i,rt=et&&et.exports===tt?k.Buffer:void 0,nt=(rt?rt.isBuffer:void 0)||function(){return!1},it=9007199254740991,ot=/^(?:0|[1-9]\\d*)$/;function st(t,e){var r=typeof t;return!!(e=null==e?it:e)&&(\"number\"==r||\"symbol\"!=r&&ot.test(t))&&t>-1&&t%1==0&&t<e}var at={};at[\"[object Float32Array]\"]=at[\"[object Float64Array]\"]=at[\"[object Int8Array]\"]=at[\"[object Int16Array]\"]=at[\"[object Int32Array]\"]=at[\"[object Uint8Array]\"]=at[\"[object Uint8ClampedArray]\"]=at[\"[object Uint16Array]\"]=at[\"[object Uint32Array]\"]=!0,at[\"[object Arguments]\"]=at[\"[object Array]\"]=at[\"[object ArrayBuffer]\"]=at[\"[object Boolean]\"]=at[\"[object DataView]\"]=at[\"[object Date]\"]=at[\"[object Error]\"]=at[\"[object Function]\"]=at[\"[object Map]\"]=at[\"[object Number]\"]=at[\"[object Object]\"]=at[\"[object RegExp]\"]=at[\"[object Set]\"]=at[\"[object String]\"]=at[\"[object WeakMap]\"]=!1;var ut=\"object\"==typeof e&&e&&!e.nodeType&&e,ct=ut&&\"object\"==typeof i&&i&&!i.nodeType&&i,ft=ct&&ct.exports===ut&&w.process,ht=function(){try{var t=ct&&ct.require&&ct.require(\"util\").types;return t||ft&&ft.binding&&ft.binding(\"util\")}catch(t){}}(),lt=ht&&ht.isTypedArray,pt=lt?function(t){return function(e){return t(e)}}(lt):function(t){return G(t)&&D(t.length)&&!!at[O(t)]},dt=Object.prototype.hasOwnProperty;function yt(t,e){var r=Q(t),n=!r&&X(t),i=!r&&!n&&nt(t),o=!r&&!n&&!i&&pt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var c in t)!e&&!dt.call(t,c)||s&&(\"length\"==c||i&&(\"offset\"==c||\"parent\"==c)||o&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||st(c,u))||a.push(c);return a}var mt=Object.prototype;var gt=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),bt=Object.prototype.hasOwnProperty;function vt(t){if(!function(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||mt)}(t))return gt(t);var e=[];for(var r in Object(t))bt.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function _t(t){return U(t)?yt(t):vt(t)}function wt(t){if(U(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=V(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):function(t){var e=_t(t),r=-1,n=e.length;return function(){var i=e[++r];return r<n?{value:t[i],key:i}:null}}(t)}function St(t){return function(){if(null===t)throw new Error(\"Callback was already called.\");var e=t;t=null,e.apply(this,arguments)}}function kt(t){return function(e,r,n){if(n=H(n||q),t<=0||!e)return n(null);var i=wt(e),o=!1,s=0,a=!1;function u(t,e){if(s-=1,t)o=!0,n(t);else{if(e===F||o&&s<=0)return o=!0,n(null);a||c()}}function c(){for(a=!0;s<t&&!o;){var e=i();if(null===e)return o=!0,void(s<=0&&n(null));s+=1,r(e.value,e.key,St(u))}a=!1}c()}}function Et(t,e,r,n){kt(e)(t,v(r),n)}function At(t,e){return function(r,n,i){return t(r,e,n,i)}}function xt(t,e,r){r=H(r||q);var n=0,i=0,o=t.length;function s(t,e){t?r(t):++i!==o&&e!==F||r(null)}for(0===o&&r(null);n<o;n++)e(t[n],n,St(s))}var Tt=At(Et,1/0),Bt=function(t,e,r){(U(t)?xt:Tt)(t,v(e),r)};function It(t){return function(e,r,n){return t(Bt,e,v(r),n)}}function Ct(t,e,r,n){n=n||q,e=e||[];var i=[],o=0,s=v(r);t(e,function(t,e,r){var n=o++;s(t,function(t,e){i[n]=e,r(t)})},function(t){n(t,i)})}var Mt=It(Ct),Pt=_(Mt);function Ot(t){return function(e,r,n,i){return t(kt(r),e,v(n),i)}}var Rt=Ot(Ct),jt=At(Rt,1),Nt=_(jt);function Lt(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}var Kt=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function Dt(t,e){return t&&Kt(t,e,_t)}function Ut(t){return t!=t}function Ft(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Ut,r)}var qt=function(t,e,r){\"function\"==typeof e&&(r=e,e=null),r=H(r||q);var n=_t(t).length;if(!n)return r(null);e||(e=n);var i={},s=0,a=!1,u=Object.create(null),c=[],f=[],h={};function l(t,e){c.push(function(){!function(t,e){if(a)return;var n=St(function(e,n){if(s--,arguments.length>2&&(n=o(arguments,1)),e){var c={};Dt(i,function(t,e){c[e]=t}),c[t]=n,a=!0,u=Object.create(null),r(e,c)}else i[t]=n,function(t){Lt(u[t]||[],function(t){t()}),p()}(t)});s++;var c=v(e[e.length-1]);e.length>1?c(i,n):c(n)}(t,e)})}function p(){if(0===c.length&&0===s)return r(null,i);for(;c.length&&s<e;){c.shift()()}}function d(e){var r=[];return Dt(t,function(t,n){Q(t)&&Ft(t,e,0)>=0&&r.push(n)}),r}Dt(t,function(e,r){if(!Q(e))return l(r,[e]),void f.push(r);var n=e.slice(0,e.length-1),i=n.length;if(0===i)return l(r,e),void f.push(r);h[r]=i,Lt(n,function(o){if(!t[o])throw new Error(\"async.auto task `\"+r+\"` has a non-existent dependency `\"+o+\"` in \"+n.join(\", \"));!function(t,e){var r=u[t];r||(r=u[t]=[]);r.push(e)}(o,function(){0===--i&&l(r,e)})})}),function(){var t,e=0;for(;f.length;)t=f.pop(),e++,Lt(d(t),function(t){0==--h[t]&&f.push(t)});if(e!==n)throw new Error(\"async.auto cannot execute tasks due to a recursive dependency\")}(),p()};function Ht(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var zt=\"[object Symbol]\";var Vt=1/0,Gt=E?E.prototype:void 0,Wt=Gt?Gt.toString:void 0;function $t(t){if(\"string\"==typeof t)return t;if(Q(t))return Ht(t,$t)+\"\";if(function(t){return\"symbol\"==typeof t||G(t)&&O(t)==zt}(t))return Wt?Wt.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-Vt?\"-0\":e}function Yt(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}(t,e,r)}var Jt=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]\");var Zt=\"[\\\\ud800-\\\\udfff]\",Xt=\"[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]\",Qt=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",te=\"[^\\\\ud800-\\\\udfff]\",ee=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",re=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",ne=\"(?:\"+Xt+\"|\"+Qt+\")\"+\"?\",ie=\"[\\\\ufe0e\\\\ufe0f]?\"+ne+(\"(?:\\\\u200d(?:\"+[te,ee,re].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+ne+\")*\"),oe=\"(?:\"+[te+Xt+\"?\",Xt,ee,re,Zt].join(\"|\")+\")\",se=RegExp(Qt+\"(?=\"+Qt+\")|\"+oe+ie,\"g\");function ae(t){return function(t){return Jt.test(t)}(t)?function(t){return t.match(se)||[]}(t):function(t){return t.split(\"\")}(t)}var ue=/^\\s+|\\s+$/g;function ce(t,e,r){if((t=function(t){return null==t?\"\":$t(t)}(t))&&(r||void 0===e))return t.replace(ue,\"\");if(!t||!(e=$t(e)))return t;var n=ae(t),i=ae(e);return Yt(n,function(t,e){for(var r=-1,n=t.length;++r<n&&Ft(e,t[r],0)>-1;);return r}(n,i),function(t,e){for(var r=t.length;r--&&Ft(e,t[r],0)>-1;);return r}(n,i)+1).join(\"\")}var fe=/^(?:async\\s+)?(function)?\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m,he=/,/,le=/(=.+)?(\\s*)$/,pe=/((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/gm;function de(t,e){var r={};Dt(t,function(t,e){var n,i=b(t),o=!i&&1===t.length||i&&0===t.length;if(Q(t))n=t.slice(0,-1),t=t[t.length-1],r[e]=n.concat(n.length>0?s:t);else if(o)r[e]=t;else{if(n=function(t){return t=(t=(t=(t=t.toString().replace(pe,\"\")).match(fe)[2].replace(\" \",\"\"))?t.split(he):[]).map(function(t){return ce(t.replace(le,\"\"))})}(t),0===t.length&&!i&&0===n.length)throw new Error(\"autoInject task functions require explicit parameters.\");i||n.pop(),r[e]=n.concat(s)}function s(e,r){var i=Ht(n,function(t){return e[t]});i.push(r),v(t).apply(null,i)}}),qt(r,e)}function ye(){this.head=this.tail=null,this.length=0}function me(t,e){t.length=1,t.head=t.tail=e}function ge(t,e,r){if(null==e)e=1;else if(0===e)throw new Error(\"Concurrency must not be zero\");var n=v(t),i=0,o=[],s=!1;function a(t,e,r){if(null!=r&&\"function\"!=typeof r)throw new Error(\"task callback must be a function\");if(f.started=!0,Q(t)||(t=[t]),0===t.length&&f.idle())return p(function(){f.drain()});for(var n=0,i=t.length;n<i;n++){var o={data:t[n],callback:r||q};e?f._tasks.unshift(o):f._tasks.push(o)}s||(s=!0,p(function(){s=!1,f.process()}))}function u(t){return function(e){i-=1;for(var r=0,n=t.length;r<n;r++){var s=t[r],a=Ft(o,s,0);0===a?o.shift():a>0&&o.splice(a,1),s.callback.apply(s,arguments),null!=e&&f.error(e,s.data)}i<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}var c=!1,f={_tasks:new ye,concurrency:e,payload:r,saturated:q,unsaturated:q,buffer:e/4,empty:q,drain:q,error:q,started:!1,paused:!1,push:function(t,e){a(t,!1,e)},kill:function(){f.drain=q,f._tasks.empty()},unshift:function(t,e){a(t,!0,e)},remove:function(t){f._tasks.remove(t)},process:function(){if(!c){for(c=!0;!f.paused&&i<f.concurrency&&f._tasks.length;){var t=[],e=[],r=f._tasks.length;f.payload&&(r=Math.min(r,f.payload));for(var s=0;s<r;s++){var a=f._tasks.shift();t.push(a),o.push(a),e.push(a.data)}i+=1,0===f._tasks.length&&f.empty(),i===f.concurrency&&f.saturated();var h=St(u(t));n(e,h)}c=!1}},length:function(){return f._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return f._tasks.length+i===0},pause:function(){f.paused=!0},resume:function(){!1!==f.paused&&(f.paused=!1,p(f.process))}};return f}function be(t,e){return ge(t,1,e)}ye.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},ye.prototype.empty=function(){for(;this.head;)this.shift();return this},ye.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},ye.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},ye.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):me(this,t)},ye.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):me(this,t)},ye.prototype.shift=function(){return this.head&&this.removeLink(this.head)},ye.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},ye.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,r=0;r<this.length;r++)t[r]=e.data,e=e.next;return t},ye.prototype.remove=function(t){for(var e=this.head;e;){var r=e.next;t(e)&&this.removeLink(e),e=r}return this};var ve=At(Et,1);function _e(t,e,r,n){n=H(n||q);var i=v(r);ve(t,function(t,r,n){i(e,t,function(t,r){e=r,n(t)})},function(t){n(t,e)})}function we(){var t=Ht(arguments,v);return function(){var e=o(arguments),r=this,n=e[e.length-1];\"function\"==typeof n?e.pop():n=q,_e(t,e,function(t,e,n){e.apply(r,t.concat(function(t){var e=o(arguments,1);n(t,e)}))},function(t,e){n.apply(r,[t].concat(e))})}}var Se=function(){return we.apply(null,o(arguments).reverse())},ke=Array.prototype.concat,Ee=function(t,e,r,n){n=n||q;var i=v(r);Rt(t,e,function(t,e){i(t,function(t){return t?e(t):e(null,o(arguments,1))})},function(t,e){for(var r=[],i=0;i<e.length;i++)e[i]&&(r=ke.apply(r,e[i]));return n(t,r)})},Ae=At(Ee,1/0),xe=At(Ee,1),Te=function(){var t=o(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}};function Be(t){return t}function Ie(t,e){return function(r,n,i,o){o=o||q;var s,a=!1;r(n,function(r,n,o){i(r,function(n,i){n?o(n):t(i)&&!s?(a=!0,s=e(!0,r),o(null,F)):o()})},function(t){t?o(t):o(null,a?s:e(!1))})}}function Ce(t,e){return e}var Me=It(Ie(Be,Ce)),Pe=Ot(Ie(Be,Ce)),Oe=At(Pe,1);function Re(t){return function(e){var r=o(arguments,1);r.push(function(e){var r=o(arguments,1);\"object\"==typeof console&&(e?console.error&&console.error(e):console[t]&&Lt(r,function(e){console[t](e)}))}),v(e).apply(null,r)}}var je=Re(\"dir\");function Ne(t,e,r){r=St(r||q);var n=v(t),i=v(e);function s(t){if(t)return r(t);var e=o(arguments,1);e.push(a),i.apply(this,e)}function a(t,e){return t?r(t):e?void n(s):r(null)}a(null,!0)}function Le(t,e,r){r=St(r||q);var n=v(t),i=function(t){if(t)return r(t);var s=o(arguments,1);if(e.apply(this,s))return n(i);r.apply(null,[null].concat(s))};n(i)}function Ke(t,e,r){Le(t,function(){return!e.apply(this,arguments)},r)}function De(t,e,r){r=St(r||q);var n=v(e),i=v(t);function o(t){if(t)return r(t);i(s)}function s(t,e){return t?r(t):e?void n(o):r(null)}i(s)}function Ue(t){return function(e,r,n){return t(e,n)}}function Fe(t,e,r){Bt(t,Ue(v(e)),r)}function qe(t,e,r,n){kt(e)(t,Ue(v(r)),n)}var He=At(qe,1);function ze(t){return b(t)?t:a(function(e,r){var n=!0;e.push(function(){var t=arguments;n?p(function(){r.apply(null,t)}):r.apply(null,t)}),t.apply(this,e),n=!1})}function Ve(t){return!t}var Ge=It(Ie(Ve,Ve)),We=Ot(Ie(Ve,Ve)),$e=At(We,1);function Ye(t){return function(e){return null==e?void 0:e[t]}}function Je(t,e,r,n){var i=new Array(e.length);t(e,function(t,e,n){r(t,function(t,r){i[e]=!!r,n(t)})},function(t){if(t)return n(t);for(var r=[],o=0;o<e.length;o++)i[o]&&r.push(e[o]);n(null,r)})}function Ze(t,e,r,n){var i=[];t(e,function(t,e,n){r(t,function(r,o){r?n(r):(o&&i.push({index:e,value:t}),n())})},function(t){t?n(t):n(null,Ht(i.sort(function(t,e){return t.index-e.index}),Ye(\"value\")))})}function Xe(t,e,r,n){(U(e)?Je:Ze)(t,e,v(r),n||q)}var Qe=It(Xe),tr=Ot(Xe),er=At(tr,1);function rr(t,e){var r=St(e||q),n=v(ze(t));!function t(e){if(e)return r(e);n(t)}()}var nr=function(t,e,r,n){n=n||q;var i=v(r);Rt(t,e,function(t,e){i(t,function(r,n){return r?e(r):e(null,{key:n,val:t})})},function(t,e){for(var r={},i=Object.prototype.hasOwnProperty,o=0;o<e.length;o++)if(e[o]){var s=e[o].key,a=e[o].val;i.call(r,s)?r[s].push(a):r[s]=[a]}return n(t,r)})},ir=At(nr,1/0),or=At(nr,1),sr=Re(\"log\");function ar(t,e,r,n){n=H(n||q);var i={},o=v(r);Et(t,e,function(t,e,r){o(t,e,function(t,n){if(t)return r(t);i[e]=n,r()})},function(t){n(t,i)})}var ur=At(ar,1/0),cr=At(ar,1);function fr(t,e){return e in t}function hr(t,e){var r=Object.create(null),n=Object.create(null);e=e||Be;var i=v(t),s=a(function(t,s){var a=e.apply(null,t);fr(r,a)?p(function(){s.apply(null,r[a])}):fr(n,a)?n[a].push(s):(n[a]=[s],i.apply(null,t.concat(function(){var t=o(arguments);r[a]=t;var e=n[a];delete n[a];for(var i=0,s=e.length;i<s;i++)e[i].apply(null,t)})))});return s.memo=r,s.unmemoized=t,s}var lr=l(f?r.nextTick:c?t:h);function pr(t,e,r){r=r||q;var n=U(e)?[]:{};t(e,function(t,e,r){v(t)(function(t,i){arguments.length>2&&(i=o(arguments,1)),n[e]=i,r(t)})},function(t){r(t,n)})}function dr(t,e){pr(Bt,t,e)}function yr(t,e,r){pr(kt(e),t,r)}var mr=function(t,e){var r=v(t);return ge(function(t,e){r(t[0],e)},e,1)},gr=function(t,e){var r=mr(t,e);return r.push=function(t,e,n){if(null==n&&(n=q),\"function\"!=typeof n)throw new Error(\"task callback must be a function\");if(r.started=!0,Q(t)||(t=[t]),0===t.length)return p(function(){r.drain()});e=e||0;for(var i=r._tasks.head;i&&e>=i.priority;)i=i.next;for(var o=0,s=t.length;o<s;o++){var a={data:t[o],priority:e,callback:n};i?r._tasks.insertBefore(i,a):r._tasks.push(a)}p(r.process)},delete r.unshift,r};function br(t,e){if(e=H(e||q),!Q(t))return e(new TypeError(\"First argument to race must be an array of functions\"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)v(t[r])(e)}function vr(t,e,r,n){_e(o(t).reverse(),e,r,n)}function _r(t){var e=v(t);return a(function(t,r){return t.push(function(t,e){var n;t?r(null,{error:t}):(n=arguments.length<=2?e:o(arguments,1),r(null,{value:n}))}),e.apply(this,t)})}function wr(t){var e;return Q(t)?e=Ht(t,_r):(e={},Dt(t,function(t,r){e[r]=_r.call(this,t)})),e}function Sr(t,e,r,n){Xe(t,e,function(t,e){r(t,function(t,r){e(t,!r)})},n)}var kr=It(Sr),Er=Ot(Sr),Ar=At(Er,1);function xr(t){return function(){return t}}function Tr(t,e,r){var n=5,i=0,o={times:n,intervalFunc:xr(i)};if(arguments.length<3&&\"function\"==typeof t?(r=e||q,e=t):(!function(t,e){if(\"object\"==typeof e)t.times=+e.times||n,t.intervalFunc=\"function\"==typeof e.interval?e.interval:xr(+e.interval||i),t.errorFilter=e.errorFilter;else{if(\"number\"!=typeof e&&\"string\"!=typeof e)throw new Error(\"Invalid arguments for async.retry\");t.times=+e||n}}(o,t),r=r||q),\"function\"!=typeof e)throw new Error(\"Invalid arguments for async.retry\");var s=v(e),a=1;!function t(){s(function(e){e&&a++<o.times&&(\"function\"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(t,o.intervalFunc(a)):r.apply(null,arguments)})}()}var Br=function(t,e){e||(e=t,t=null);var r=v(e);return a(function(e,n){function i(t){r.apply(null,e.concat(t))}t?Tr(t,i,n):Tr(i,n)})};function Ir(t,e){pr(ve,t,e)}var Cr=It(Ie(Boolean,Be)),Mr=Ot(Ie(Boolean,Be)),Pr=At(Mr,1);function Or(t,e,r){var n=v(e);function i(t,e){var r=t.criteria,n=e.criteria;return r<n?-1:r>n?1:0}Mt(t,function(t,e){n(t,function(r,n){if(r)return e(r);e(null,{value:t,criteria:n})})},function(t,e){if(t)return r(t);r(null,Ht(e.sort(i),Ye(\"value\")))})}function Rr(t,e,r){var n=v(t);return a(function(i,o){var s,a=!1;i.push(function(){a||(o.apply(null,arguments),clearTimeout(s))}),s=setTimeout(function(){var e=t.name||\"anonymous\",n=new Error('Callback function \"'+e+'\" timed out.');n.code=\"ETIMEDOUT\",r&&(n.info=r),a=!0,o(n)},e),n.apply(null,i)})}var jr=Math.ceil,Nr=Math.max;function Lr(t,e,r,n){var i=v(r);Rt(function(t,e,r,n){for(var i=-1,o=Nr(jr((e-t)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=t,t+=r;return s}(0,t,1),e,i,n)}var Kr=At(Lr,1/0),Dr=At(Lr,1);function Ur(t,e,r,n){arguments.length<=3&&(n=r,r=e,e=Q(t)?[]:{}),n=H(n||q);var i=v(r);Bt(t,function(t,r,n){i(e,t,r,n)},function(t){n(t,e)})}function Fr(t,e){var r,n=null;e=e||q,He(t,function(t,e){v(t)(function(t,i){r=arguments.length>2?o(arguments,1):i,n=t,e(!t)})},function(){e(n,r)})}function qr(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function Hr(t,e,r){r=St(r||q);var n=v(e);if(!t())return r(null);var i=function(e){if(e)return r(e);if(t())return n(i);var s=o(arguments,1);r.apply(null,[null].concat(s))};n(i)}function zr(t,e,r){Hr(function(){return!t.apply(this,arguments)},e,r)}var Vr=function(t,e){if(e=H(e||q),!Q(t))return e(new Error(\"First argument to waterfall must be an array of functions\"));if(!t.length)return e();var r=0;function n(e){var n=v(t[r++]);e.push(St(i)),n.apply(null,e)}function i(i){if(i||r===t.length)return e.apply(null,arguments);n(o(arguments,1))}n([])},Gr={apply:s,applyEach:Pt,applyEachSeries:Nt,asyncify:d,auto:qt,autoInject:de,cargo:be,compose:Se,concat:Ae,concatLimit:Ee,concatSeries:xe,constant:Te,detect:Me,detectLimit:Pe,detectSeries:Oe,dir:je,doDuring:Ne,doUntil:Ke,doWhilst:Le,during:De,each:Fe,eachLimit:qe,eachOf:Bt,eachOfLimit:Et,eachOfSeries:ve,eachSeries:He,ensureAsync:ze,every:Ge,everyLimit:We,everySeries:$e,filter:Qe,filterLimit:tr,filterSeries:er,forever:rr,groupBy:ir,groupByLimit:nr,groupBySeries:or,log:sr,map:Mt,mapLimit:Rt,mapSeries:jt,mapValues:ur,mapValuesLimit:ar,mapValuesSeries:cr,memoize:hr,nextTick:lr,parallel:dr,parallelLimit:yr,priorityQueue:gr,queue:mr,race:br,reduce:_e,reduceRight:vr,reflect:_r,reflectAll:wr,reject:kr,rejectLimit:Er,rejectSeries:Ar,retry:Tr,retryable:Br,seq:we,series:Ir,setImmediate:p,some:Cr,someLimit:Mr,someSeries:Pr,sortBy:Or,timeout:Rr,times:Kr,timesLimit:Lr,timesSeries:Dr,transform:Ur,tryEach:Fr,unmemoize:qr,until:zr,waterfall:Vr,whilst:Hr,all:Ge,allLimit:We,allSeries:$e,any:Cr,anyLimit:Mr,anySeries:Pr,find:Me,findLimit:Pe,findSeries:Oe,forEach:Fe,forEachSeries:He,forEachLimit:qe,forEachOf:Bt,forEachOfSeries:ve,forEachOfLimit:Et,inject:_e,foldl:_e,foldr:vr,select:Qe,selectLimit:tr,selectSeries:er,wrapSync:d};e.default=Gr,e.apply=s,e.applyEach=Pt,e.applyEachSeries=Nt,e.asyncify=d,e.auto=qt,e.autoInject=de,e.cargo=be,e.compose=Se,e.concat=Ae,e.concatLimit=Ee,e.concatSeries=xe,e.constant=Te,e.detect=Me,e.detectLimit=Pe,e.detectSeries=Oe,e.dir=je,e.doDuring=Ne,e.doUntil=Ke,e.doWhilst=Le,e.during=De,e.each=Fe,e.eachLimit=qe,e.eachOf=Bt,e.eachOfLimit=Et,e.eachOfSeries=ve,e.eachSeries=He,e.ensureAsync=ze,e.every=Ge,e.everyLimit=We,e.everySeries=$e,e.filter=Qe,e.filterLimit=tr,e.filterSeries=er,e.forever=rr,e.groupBy=ir,e.groupByLimit=nr,e.groupBySeries=or,e.log=sr,e.map=Mt,e.mapLimit=Rt,e.mapSeries=jt,e.mapValues=ur,e.mapValuesLimit=ar,e.mapValuesSeries=cr,e.memoize=hr,e.nextTick=lr,e.parallel=dr,e.parallelLimit=yr,e.priorityQueue=gr,e.queue=mr,e.race=br,e.reduce=_e,e.reduceRight=vr,e.reflect=_r,e.reflectAll=wr,e.reject=kr,e.rejectLimit=Er,e.rejectSeries=Ar,e.retry=Tr,e.retryable=Br,e.seq=we,e.series=Ir,e.setImmediate=p,e.some=Cr,e.someLimit=Mr,e.someSeries=Pr,e.sortBy=Or,e.timeout=Rr,e.times=Kr,e.timesLimit=Lr,e.timesSeries=Dr,e.transform=Ur,e.tryEach=Fr,e.unmemoize=qr,e.until=zr,e.waterfall=Vr,e.whilst=Hr,e.all=Ge,e.allLimit=We,e.allSeries=$e,e.any=Cr,e.anyLimit=Mr,e.anySeries=Pr,e.find=Me,e.findLimit=Pe,e.findSeries=Oe,e.forEach=Fe,e.forEachSeries=He,e.forEachLimit=qe,e.forEachOf=Bt,e.forEachOfSeries=ve,e.forEachOfLimit=Et,e.inject=_e,e.foldl=_e,e.foldr=vr,e.select=Qe,e.selectLimit=tr,e.selectSeries=er,e.wrapSync=d,Object.defineProperty(e,\"__esModule\",{value:!0})})}).call(this,r(32).setImmediate,r(7),r(5),r(26)(t))},function(t,e,r){\"use strict\";t.exports={maxProvidersPerRequest:3,providerRequestTimeout:1e4,hasBlockTimeout:15e3,provideTimeout:15e3,kMaxPriority:Math.pow(2,31)-1,rebroadcastDelay:1e4,maxListeners:1e3}},function(t,e,r){var n=r(6)(\"socket.io-parser\"),i=r(124),o=r(1310),s=r(583),a=r(584);function u(){}e.protocol=4,e.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=u,e.Decoder=h;var c=e.ERROR+'\"encode error\"';function f(t){var r=\"\"+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(r+=t.attachments+\"-\"),t.nsp&&\"/\"!==t.nsp&&(r+=t.nsp+\",\"),null!=t.id&&(r+=t.id),null!=t.data){var i=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===i)return c;r+=i}return n(\"encoded %j as %s\",t,r),r}function h(){this.reconstructor=null}function l(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:\"parser error: \"+t}}u.prototype.encode=function(t,r){(n(\"encoding packet %j\",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,function(t){var r=o.deconstructPacket(t),n=f(r.packet),i=r.buffers;i.unshift(n),e(i)})}(t,r):r([f(t)])},i(h.prototype),h.prototype.add=function(t){var r;if(\"string\"==typeof t)r=function(t){var r=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return p(\"unknown packet type \"+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o=\"\";\"-\"!==t.charAt(++r)&&(o+=t.charAt(r),r!=t.length););if(o!=Number(o)||\"-\"!==t.charAt(r))throw new Error(\"Illegal attachments\");i.attachments=Number(o)}if(\"/\"===t.charAt(r+1))for(i.nsp=\"\";++r;){var a=t.charAt(r);if(\",\"===a)break;if(i.nsp+=a,r===t.length)break}else i.nsp=\"/\";var u=t.charAt(r+1);if(\"\"!==u&&Number(u)==u){for(i.id=\"\";++r;){var a=t.charAt(r);if(null==a||Number(a)!=a){--r;break}if(i.id+=t.charAt(r),r===t.length)break}i.id=Number(i.id)}if(t.charAt(++r)){var c=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(r)),f=!1!==c&&(i.type===e.ERROR||s(c));if(!f)return p(\"invalid payload\");i.data=c}return n(\"decoded %s as %j\",t,i),i}(t),e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type?(this.reconstructor=new l(r),0===this.reconstructor.reconPack.attachments&&this.emit(\"decoded\",r)):this.emit(\"decoded\",r);else{if(!a(t)&&!t.base64)throw new Error(\"Unknown type: \"+t);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit(\"decoded\",r))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,r){(function(e){var n=r(1313);t.exports=function(t){var r=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if(\"undefined\"!=typeof XMLHttpRequest&&(!r||n))return new XMLHttpRequest}catch(t){}try{if(\"undefined\"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(t){}if(!r)try{return new(e[[\"Active\"].concat(\"Object\").join(\"X\")])(\"Microsoft.XMLHTTP\")}catch(t){}}}).call(this,r(5))},function(t,e,r){var n=r(125),i=r(124);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState=\"\",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var r=new Error(t);return r.type=\"TransportError\",r.description=e,this.emit(\"error\",r),this},o.prototype.open=function(){return\"closed\"!==this.readyState&&\"\"!==this.readyState||(this.readyState=\"opening\",this.doOpen()),this},o.prototype.close=function(){return\"opening\"!==this.readyState&&\"open\"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if(\"open\"!==this.readyState)throw new Error(\"Transport not open\");this.write(t)},o.prototype.onOpen=function(){this.readyState=\"open\",this.writable=!0,this.emit(\"open\")},o.prototype.onData=function(t){var e=n.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit(\"packet\",t)},o.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")}},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){\"use strict\";(function(t){const n=r(321),i=r(55),o=r(9),s=r(322),a=r(66);e.exchanges=[\"P-256\",\"P-384\",\"P-521\"],e.ciphers=[\"AES-256\",\"AES-128\"],e.hashes=[\"SHA256\",\"SHA512\"],e.theBest=((t,e,r)=>{let n,i;if(t<0)n=r,i=e;else{if(!(t>0))return e[0];n=e,i=r}for(let t of n)for(let e of i)if(t===e)return t;throw new Error(\"No algorithms in common!\")}),e.makeMacAndCipher=((t,e)=>{a([e=>(function(t,e,r){s.hmac.create(t,e,r)})(t.hashT,t.keys.macKey,e),e=>(function(t,e,r,n){if(\"AES-128\"===t||\"AES-256\"===t)return s.aes.create(r,e,n);n(new Error(`unrecognized cipher type: ${t}`))})(t.cipherT,t.keys.iv,t.keys.cipherKey,e)],(r,n)=>{if(r)return e(r);t.mac=n[0],t.cipher=n[1],e()})}),e.selectBest=((r,n,i)=>{e.digest(t.concat([n.pubKeyBytes,r.nonce]),(o,s)=>{if(o)return i(o);e.digest(t.concat([r.pubKeyBytes,n.nonce]),(o,a)=>{if(o)return i(o);const u=t.compare(s,a);if(0===u)return i(new Error(\"you are trying to talk to yourself\"));i(null,{curveT:e.theBest(u,r.exchanges,n.exchanges),cipherT:e.theBest(u,r.ciphers,n.ciphers),hashT:e.theBest(u,r.hashes,n.hashes),order:u})})})}),e.digest=((t,e)=>{n.digest(t,\"sha2-256\",t.length,e)}),e.write=function(t,e,r){r=r||(()=>{}),o(o.values([e]),i.encode({fixed:!0,bytes:4}),o.collect((e,n)=>{if(e)return r(e);t.shake.write(n[0]),r()}))},e.read=function(t,e){i.decodeFromReader(t,{fixed:!0,bytes:4},e)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1398);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(620),i=r(1402),o=r(1404);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(627),e.pbkdf2=r(1420)},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){\"use strict\";(function(t){const n=r(11),i=r(1421),o=r(322),s=r(66),a=r(4),u=r(6),c=u(\"libp2p:secio\");c.error=u(\"libp2p:secio:error\");const f=n(r(1422)),h=r(320);e.createProposal=(t=>(t.proposal.out={rand:o.randomBytes(16),pubkey:t.key.local.public.bytes,exchanges:h.exchanges.join(\",\"),ciphers:h.ciphers.join(\",\"),hashes:h.hashes.join(\",\")},t.proposalEncoded.out=f.Propose.encode(t.proposal.out),t.proposalEncoded.out)),e.createExchange=((e,r)=>{o.keys.generateEphemeralKeyPair(e.protocols.local.curveT,(n,i)=>{if(n)return r(n);e.ephemeralKey.local=i.key,e.shared.generate=i.genSharedKey;const o=t.concat([e.proposalEncoded.out,e.proposalEncoded.in,e.ephemeralKey.local]);e.key.local.sign(o,(t,n)=>{if(t)return r(t);e.exchange.out={epubkey:e.ephemeralKey.local,signature:n},r(null,f.Exchange.encode(e.exchange.out))})})}),e.identify=((t,e,r)=>{c(\"1.1 identify\"),t.proposalEncoded.in=e,t.proposal.in=f.Propose.decode(e);const n=t.proposal.in.pubkey;t.key.remote=o.keys.unmarshalPublicKey(n),i.createFromPubKey(n.toString(\"base64\"),(e,n)=>{if(e)return r(e);if(t.id.remote){if(t.id.remote.toB58String()!==n.toB58String())return r(new Error(\"dialed to the wrong peer, Ids do not match\"))}else t.id.remote=n;c(\"1.1 identify - %s - identified remote peer as %s\",t.id.local.toB58String(),t.id.remote.toB58String()),r()})}),e.selectProtocols=((t,e)=>{c(\"1.2 selection\");const r={pubKeyBytes:t.key.local.public.bytes,exchanges:h.exchanges,hashes:h.hashes,ciphers:h.ciphers,nonce:t.proposal.out.rand},n={pubKeyBytes:t.proposal.in.pubkey,exchanges:t.proposal.in.exchanges.split(\",\"),hashes:t.proposal.in.hashes.split(\",\"),ciphers:t.proposal.in.ciphers.split(\",\"),nonce:t.proposal.in.rand};h.selectBest(r,n,(r,n)=>{if(r)return e(r);t.protocols.remote={order:n.order,curveT:n.curveT,cipherT:n.cipherT,hashT:n.hashT},t.protocols.local={order:n.order,curveT:n.curveT,cipherT:n.cipherT,hashT:n.hashT},e()})}),e.verify=((e,r,n)=>{c(\"2.1. verify\"),e.exchange.in=f.Exchange.decode(r),e.ephemeralKey.remote=e.exchange.in.epubkey;const i=t.concat([e.proposalEncoded.in,e.proposalEncoded.out,e.ephemeralKey.remote]);e.key.remote.verify(i,e.exchange.in.signature,(t,e)=>t?n(t):e?(c(\"2.1. verify - signature verified\"),void n()):n(new Error(\"Bad signature\")))}),e.generateKeys=((t,e)=>{c(\"2.2. keys\"),a([e=>t.shared.generate(t.exchange.in.epubkey,e),(e,r)=>{t.shared.secret=e,o.keys.keyStretcher(t.protocols.local.cipherT,t.protocols.local.hashT,t.shared.secret,r)},(e,r)=>{if(t.protocols.local.order>0)t.protocols.local.keys=e.k1,t.protocols.remote.keys=e.k2;else{if(!(t.protocols.local.order<0))return r(new Error(\"you are trying to talk to yourself\"));t.protocols.local.keys=e.k2,t.protocols.remote.keys=e.k1}c(\"2.3. mac + cipher\"),s([e=>h.makeMacAndCipher(t.protocols.local,e),e=>h.makeMacAndCipher(t.protocols.remote,e)],r)}],e)}),e.verifyNonce=((t,e)=>{const r=t.proposal.out.rand;if(!r.equals(e))throw new Error(`Failed to read our encrypted nonce: ${r.toString(\"hex\")} != ${e.toString(\"hex\")}`)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){\"use strict\";const n=r(11);t.exports=n(\"\\nmessage Identify {\\n  // protocolVersion determines compatibility between peers\\n  optional string protocolVersion = 5; // e.g. ipfs/1.0.0\\n\\n  // agentVersion is like a UserAgent string in browsers, or client version in bittorrent\\n  // includes the client name and client.\\n  optional string agentVersion = 6; // e.g. go-ipfs/0.1.0\\n\\n  // publicKey is this node's public key (which also gives its node.ID)\\n  // - may not need to be sent, as secure channel implies it has been sent.\\n  // - then again, if we change / disable secure channel, may still want it.\\n  optional bytes publicKey = 1;\\n\\n  // listenAddrs are the multiaddrs the sender node listens for open connections on\\n  repeated bytes listenAddrs = 2;\\n\\n  // oservedAddr is the multiaddr of the remote endpoint that the sender node perceives\\n  // this is useful information to convey to the other side, as it helps the remote endpoint\\n  // determine whether its connection to the local peer goes through NAT.\\n  optional bytes observedAddr = 4;\\n\\n  repeated string protocols = 3;\\n}\\n\").Identify},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){\"use strict\";e.Listener=e.listener=r(1488),e.Dialer=e.dialer=r(1492),e.matchSemver=r(1493),e.matchExact=r(651)},function(t,e){t.exports=function(t){return t}},function(t,e,r){\"use strict\";const n=r(46);function i(t){if(\"number\"==typeof t){if(i.codes[t])return i.codes[t];throw new Error(\"no protocol with code: \"+t)}if(\"string\"==typeof t||t instanceof String){if(i.names[t])return i.names[t];throw new Error(\"no protocol with name: \"+t)}throw new Error(\"invalid protocol id type: \"+t)}function o(t,e,r,n){return{code:t,size:e,name:r,resolvable:Boolean(n)}}i.lengthPrefixedVarSize=-1,i.V=-1,i.table=[[4,32,\"ip4\"],[6,16,\"tcp\"],[17,16,\"udp\"],[33,16,\"dccp\"],[41,128,\"ip6\"],[54,-1,\"dns4\",\"resolvable\"],[55,-1,\"dns6\",\"resolvable\"],[56,-1,\"dnsaddr\",\"resolvable\"],[132,16,\"sctp\"],[302,0,\"utp\"],[421,i.lengthPrefixedVarSize,\"ipfs\"],[480,0,\"http\"],[443,0,\"https\"],[477,0,\"ws\"],[478,0,\"wss\"],[479,0,\"p2p-websocket-star\"],[275,0,\"p2p-webrtc-star\"],[276,0,\"p2p-webrtc-direct\"],[290,0,\"p2p-circuit\"]],i.names={},i.codes={},n(i.table,function(t){const e=o.apply(null,t);i.codes[e.code]=e,i.names[e.name]=e}),i.object=o,t.exports=i},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){\"use strict\";const n=r(9),i=r(55),o=r(108),s=r(6),a=s(\"libp2p:circuit:stream-handler\");a.err=s(\"libp2p:circuit:error:stream-handler\");t.exports=class{constructor(t,e,r,i){this.conn=t,this.stream=null,this.shake=null,this.timeout=e||6e4,this.maxLength=i||4096,\"function\"==typeof e&&(this.timeout=r||6e4),this.stream=o({timeout:this.timeout},e),this.shake=this.stream.handshake,n(this.stream,t,this.stream)}isValid(){return this.conn&&this.shake&&this.stream}read(t){this.isValid()||t(new Error(\"handler is not in a valid state\")),i.decodeFromReader(this.shake,{maxLength:this.maxLength},(e,r)=>e?(a.err(e),t(e)):t(null,r))}write(t,e){e=e||(()=>{}),this.isValid()||e(new Error(\"handler is not in a valid state\")),n(n.values([t]),i.encode(),n.collect((t,r)=>{if(t)return a.err(t),this.shake.abort(t),e(t);r.forEach(t=>this.shake.write(t)),e()}))}getRawConn(){return this.conn}rest(){const t=this.shake.rest();return this.conn=null,this.stream=null,this.shake=null,t}}},function(t,e,r){\"use strict\";t.exports={relay:\"/libp2p/circuit/relay/0.1.0\"}},function(t,e,r){var n=r(1530),i=r(1534);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){\"use strict\";t.exports={PROTOCOL:\"/ipfs/ping/1.0.0\",PING_LENGTH:32}},function(t,e,r){var n=r(190),i=r(193),o=\"[object Symbol]\";t.exports=function(t){return\"symbol\"==typeof t||i(t)&&n(t)==o}},function(t,e,r){\"use strict\";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){\"use strict\";t.exports=(()=>{if(\"undefined\"!=typeof self&&(r(60)(self),self.crypto))return self.crypto;throw new Error(\"Please use an environment with crypto support\")})},function(t,e,r){\"use strict\";t.exports=\"enum KeyType {\\n  RSA = 0;\\n  Ed25519 = 1;\\n  Secp256k1 = 2;\\n}\\nmessage PublicKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\\nmessage PrivateKey {\\n  required KeyType Type = 1;\\n  required bytes Data = 2;\\n}\"},function(t,e,r){\"use strict\";const n=r(230);t.exports=function(t){const e=t||100;var r=[];return n(function(t){for(r=r.concat(t);r.length>=e;){const t=e,n=r.slice(0,t);r=r.slice(t),this.queue(n)}},function(t){r.length&&(this.queue(r),r=[]),this.queue(null)})}},function(t,e,r){\"use strict\";t.exports=class{constructor(t,e){this._options=e||{},Object.assign(this,t)}}},function(t,e,r){var n=r(1695);t.exports=function(t,e,r){r=void 0===r||r;var i,o=!1;return function(s){var a,u,c=0,f=0,h=0,l=[],p=!1,d=!1;function y(){if(a){var t=a;if(u)return a=null,t(u);if(Object.hasOwnProperty.call(l,f)){a=null;var r=l[f];delete l[f],f++,t(null,r),e&&m()}else f>=h&&d&&(a=null,t(d))}}var m=n(function(){if(p=!0,d)return y();o||e&&c-e>=f||(o=!0,s(i,function(e,n){if(o=!1,e)h=c,d=e,y();else{var i=c++;t(n,function(t,e){r?l[i]=e:l.push(e),t&&(u=t),y()}),d||m()}}))});return function(t,e){t?s(d=i=t,function(t){if(e)return e(t)}):(a=e,p||m(),y())}}}},function(t,e,r){\"use strict\";const n=r(13),i=r(48),{DAGNode:o,DAGLink:s}=i,a=r(4);t.exports=((t,e,r)=>(e=Object.assign({},{parent:void 0,child:void 0,name:\"\",flush:!0},e)).parent?e.child?void a([t=>{if(e.name)return o.rmLink(e.parent,e.name,t);t(null,e.parent)},(t,r)=>{o.addLink(t,new s(e.name,e.child.size,e.child.hash||e.child.multihash),r)},(r,i)=>{if(!e.flush)return i(null,r);t.dag.put(r,{cid:new n(r.hash||r.multihash)},t=>i(t,r))}],r):r(new Error(\"No child passed to addLink\")):r(new Error(\"No parent passed to addLink\")))},function(t,e,r){\"use strict\";const n=r(175).exporter,i=r(76),o=r(98),s=r(4),a=r(47),{traverseTo:u}=r(50),c=r(6)(\"ipfs:mfs:read-pull-stream\"),f={offset:0,length:void 0};t.exports=(t=>(function(e,r,h){\"function\"==typeof r&&(h=r,r={}),r=Object.assign({},f,r),c(`Reading ${e}`),s([r=>u(t,e,{parents:!1},r),(u,c)=>{const f=u.node;if(\"file\"!==a.unmarshal(f.data).type)return c(new Error(`${e} was not a file`));s([e=>i(n(f.multihash,t._ipld,{offset:r.offset,length:r.length}),o(e)),(t,e)=>e(null,t[0].content)],c)}],h)}))},function(t,e){e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?i-1:0,l=r?-1:1,p=t[e+h];for(h+=l,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+h],h+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*y}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==r.call(t)}},function(t,e,r){var n=r(719),i=r(360);t.exports=function(t){if(\"string\"==typeof t||\"number\"==typeof t){var e=new n(1),r=String(t).toLowerCase().trim(),o=\"0x\"===r.substr(0,2)||\"-0x\"===r.substr(0,3),s=i(r);if(\"-\"===s.substr(0,1)&&(s=i(s.slice(1)),e=new n(-1,10)),!(s=\"\"===s?\"0\":s).match(/^-?[0-9]+$/)&&s.match(/^[0-9A-Fa-f]+$/)||s.match(/^[a-fA-F]+$/)||!0===o&&s.match(/^[0-9A-Fa-f]+$/))return new n(s,16).mul(e);if((s.match(/^-?[0-9]+$/)||\"\"===s)&&!1===o)return new n(s,10).mul(e)}else if(\"object\"==typeof t&&t.toString&&!t.pop&&!t.push&&t.toString(10).match(/^-?[0-9]+$/)&&(t.mul||t.dividedToIntegerBy))return new n(t.toString(10),10);throw new Error(\"[number-to-bn] while converting number \"+JSON.stringify(t)+\" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.\")}},function(t,e,r){var n=r(361);t.exports=function(t){return\"string\"!=typeof t?t:n(t)?t.slice(2):t}},function(t,e){t.exports=function(t){if(\"string\"!=typeof t)throw new Error(\"[is-hex-prefixed] value must be type 'string', is currently type \"+typeof t+\", while checking isHexPrefixed.\");return\"0x\"===t.slice(0,2)}},function(t,e,r){var n=r(31),i=r(363),o=r(359),s=r(720),a=r(364),u=function(t){return t instanceof i||t&&t.constructor&&\"BN\"===t.constructor.name},c=function(t){return t&&t.constructor&&\"BigNumber\"===t.constructor.name},f=function(t){try{return o.apply(null,arguments)}catch(e){throw new Error(e+' Given value: \"'+t+'\"')}},h=function(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(t)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(t))||l(t))},l=function(t){t=t.replace(/^0x/i,\"\");for(var e=g(t.toLowerCase()).replace(/^0x/i,\"\"),r=0;r<40;r++)if(parseInt(e[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(e[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0},p=function(t){var e=\"\";t=(t=(t=(t=(t=s.encode(t)).replace(/^(?:\\u0000)*/,\"\")).split(\"\").reverse().join(\"\")).replace(/^(?:\\u0000)*/,\"\")).split(\"\").reverse().join(\"\");for(var r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?\"0\"+n:n}return\"0x\"+e},d=function(t){if(n.isNull(t)||n.isUndefined(t))return t;if(!isFinite(t)&&!m(t))throw new Error('Given input \"'+t+'\" is not a number.');var e=f(t),r=e.toString(16);return e.lt(new i(0))?\"-0x\"+r.substr(1):\"0x\"+r},y=function(t){if(t=t.toString(16),!m(t))throw new Error('Given value \"'+t+'\" is not a valid hex string.');t=t.replace(/^0x/i,\"\");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},m=function(t){return(n.isString(t)||n.isNumber(t))&&/^(-)?0x[0-9a-f]*$/i.test(t)},g=function(t){m(t)&&/^0x/i.test(t.toString())&&(t=y(t));var e=a.keccak256(t);return\"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470\"===e?null:e};g._Hash=a,t.exports={BN:i,isBN:u,isBigNumber:c,toBN:f,isAddress:h,isBloom:function(t){return!(!/^(0x)?[0-9a-f]{512}$/i.test(t)||!/^(0x)?[0-9a-f]{512}$/.test(t)&&!/^(0x)?[0-9A-F]{512}$/.test(t))},isTopic:function(t){return!(!/^(0x)?[0-9a-f]{64}$/i.test(t)||!/^(0x)?[0-9a-f]{64}$/.test(t)&&!/^(0x)?[0-9A-F]{64}$/.test(t))},checkAddressChecksum:l,utf8ToHex:p,hexToUtf8:function(t){if(!m(t))throw new Error('The parameter \"'+t+'\" must be a valid HEX string.');for(var e=\"\",r=0,n=(t=(t=(t=(t=(t=t.replace(/^0x/i,\"\")).replace(/^(?:00)*/,\"\")).split(\"\").reverse().join(\"\")).replace(/^(?:00)*/,\"\")).split(\"\").reverse().join(\"\")).length,i=0;i<n;i+=2)r=parseInt(t.substr(i,2),16),e+=String.fromCharCode(r);return s.decode(e)},hexToNumber:function(t){return t?f(t).toNumber():t},hexToNumberString:function(t){return t?f(t).toString(10):t},numberToHex:d,toHex:function(t,e){if(h(t))return e?\"address\":\"0x\"+t.toLowerCase().replace(/^0x/i,\"\");if(n.isBoolean(t))return e?\"bool\":t?\"0x01\":\"0x00\";if(n.isObject(t)&&!c(t)&&!u(t))return e?\"string\":p(JSON.stringify(t));if(n.isString(t)){if(0===t.indexOf(\"-0x\")||0===t.indexOf(\"-0X\"))return e?\"int256\":d(t);if(0===t.indexOf(\"0x\")||0===t.indexOf(\"0X\"))return e?\"bytes\":t;if(!isFinite(t))return e?\"string\":p(t)}return e?t<0?\"int256\":\"uint256\":d(t)},hexToBytes:y,bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return\"0x\"+e.join(\"\")},isHex:function(t){return(n.isString(t)||n.isNumber(t))&&/^(-0x|0x)?[0-9a-f]*$/i.test(t)},isHexStrict:m,leftPad:function(t,e,r){var n=/^0x/i.test(t)||\"number\"==typeof t,i=e-(t=t.toString(16).replace(/^0x/i,\"\")).length+1>=0?e-t.length+1:0;return(n?\"0x\":\"\")+new Array(i).join(r||\"0\")+t},rightPad:function(t,e,r){var n=/^0x/i.test(t)||\"number\"==typeof t,i=e-(t=t.toString(16).replace(/^0x/i,\"\")).length+1>=0?e-t.length+1:0;return(n?\"0x\":\"\")+t+new Array(i).join(r||\"0\")},toTwosComplement:function(t){return\"0x\"+f(t).toTwos(256).toString(16,64)},sha3:g}},function(t,e,r){(function(t){!function(t,e){\"use strict\";function n(t,e){if(!t)throw new Error(e||\"Assertion failed\")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(\"le\"!==e&&\"be\"!==e||(r=e,e=10),this._init(t||0,e||10,r||\"be\"))}var s;\"object\"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&\"object\"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if(\"number\"==typeof t)return this._initNumber(t,e,r);if(\"object\"==typeof t)return this._initArray(t,e,r);\"hex\"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;\"-\"===(t=t.toString().replace(/\\s+/g,\"\"))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),\"-\"===t[0]&&(this.negative=1),this.strip(),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n(\"number\"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if(\"be\"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if(\"le\"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"};var c=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=l;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||\"hex\"===t){r=\"\";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],p=h[t];r=\"\";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?y+r:c[l-y.length]+y+r}for(this.isZero()&&(r=\"0\"+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}n(!1,\"Base should be between 2 and 36\")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,\"Number can only safely store up to 53 bits\"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,\"byte array longer than desired length\"),n(o>0,\"Requested array length <= 0\"),this.strip();var s,a,u=\"le\"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n(\"number\"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n(\"number\"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],h=8191&f,l=f>>>13,p=0|s[1],d=8191&p,y=p>>>13,m=0|s[2],g=8191&m,b=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],k=8191&S,E=S>>>13,A=0|s[5],x=8191&A,T=A>>>13,B=0|s[6],I=8191&B,C=B>>>13,M=0|s[7],P=8191&M,O=M>>>13,R=0|s[8],j=8191&R,N=R>>>13,L=0|s[9],K=8191&L,D=L>>>13,U=0|a[0],F=8191&U,q=U>>>13,H=0|a[1],z=8191&H,V=H>>>13,G=0|a[2],W=8191&G,$=G>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],ht=8191&ft,lt=ft>>>13,pt=0|a[9],dt=8191&pt,yt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(c+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(l,F)|0))<<13)|0;c=((o=Math.imul(l,q))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(d,F),i=(i=Math.imul(d,q))+Math.imul(y,F)|0,o=Math.imul(y,q);var gt=(c+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(l,z)|0))<<13)|0;c=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,q))+Math.imul(b,F)|0,o=Math.imul(b,q),n=n+Math.imul(d,z)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,V)|0;var bt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(l,W)|0))<<13)|0;c=((o=o+Math.imul(l,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,q))+Math.imul(w,F)|0,o=Math.imul(w,q),n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,V)|0,n=n+Math.imul(d,W)|0,i=(i=i+Math.imul(d,$)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,$)|0;var vt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,q))+Math.imul(E,F)|0,o=Math.imul(E,q),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,z)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,$)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var _t=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,q))+Math.imul(T,F)|0,o=Math.imul(T,q),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(E,z)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,q))+Math.imul(C,F)|0,o=Math.imul(C,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,q))+Math.imul(O,F)|0,o=Math.imul(O,q),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var kt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,q))+Math.imul(N,F)|0,o=Math.imul(N,q),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(K,F),i=(i=Math.imul(K,q))+Math.imul(D,F)|0,o=Math.imul(D,q),n=n+Math.imul(j,z)|0,i=(i=i+Math.imul(j,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ct)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,lt)|0;var At=(c+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,yt)|0)+Math.imul(l,dt)|0))<<13)|0;c=((o=o+Math.imul(l,yt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(K,z),i=(i=Math.imul(K,V))+Math.imul(D,z)|0,o=Math.imul(D,V),n=n+Math.imul(j,W)|0,i=(i=i+Math.imul(j,$)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,lt)|0;var xt=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,yt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,W),i=(i=Math.imul(K,$))+Math.imul(D,W)|0,o=Math.imul(D,$),n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,lt)|0;var Tt=(c+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,yt)|0)+Math.imul(b,dt)|0))<<13)|0;c=((o=o+Math.imul(b,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(K,J),i=(i=Math.imul(K,Z))+Math.imul(D,J)|0,o=Math.imul(D,Z),n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(_,dt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,dt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,Q),i=(i=Math.imul(K,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,lt)|0;var It=(c+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(E,dt)|0))<<13)|0;c=((o=o+Math.imul(E,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,rt),i=(i=Math.imul(K,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,lt)|0;var Ct=(c+(n=n+Math.imul(x,dt)|0)|0)+((8191&(i=(i=i+Math.imul(x,yt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(K,ot),i=(i=Math.imul(K,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Mt=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,yt)|0)+Math.imul(C,dt)|0))<<13)|0;c=((o=o+Math.imul(C,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(K,ut),i=(i=Math.imul(K,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(j,ht)|0,i=(i=i+Math.imul(j,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Pt=(c+(n=n+Math.imul(P,dt)|0)|0)+((8191&(i=(i=i+Math.imul(P,yt)|0)+Math.imul(O,dt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(K,ht),i=(i=Math.imul(K,lt))+Math.imul(D,ht)|0,o=Math.imul(D,lt);var Ot=(c+(n=n+Math.imul(j,dt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(N,dt)|0))<<13)|0;c=((o=o+Math.imul(N,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Rt=(c+(n=Math.imul(K,dt))|0)+((8191&(i=(i=Math.imul(K,yt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=mt,u[1]=gt,u[2]=bt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=kt,u[8]=Et,u[9]=At,u[10]=xt,u[11]=Tt,u[12]=Bt,u[13]=It,u[14]=Ct,u[15]=Mt,u[16]=Pt,u[17]=Ot,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(p=l),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?l(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;a=67108863&(l=l+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var h=u,l=c,p=0;p<s;p++){var d=r[f+p],y=n[f+p],m=r[f+p+s],g=n[f+p+s],b=h*m-l*g;g=h*g+l*m,m=b,r[f+p]=d+m,n[f+p]=y+g,r[f+p+s]=d-m,n[f+p+s]=y-g,p!==a&&(b=u*h-c*l,l=u*l+c*h,h=b)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,h,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*h[p];u[p]=a[p]*h[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n(\"number\"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n(\"number\"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n(\"number\"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,\"imaskn works only with positive numbers\"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n(\"number\"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n(\"number\"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if(\"mod\"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(i,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=l)}return a&&a.strip(),n.strip(),\"div\"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),\"mod\"!==e&&(i=a.div.neg()),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),\"mod\"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?\"div\"===e?{div:this.divn(t.words[0]),mod:null}:\"mod\"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,\"div\",!1).div},o.prototype.mod=function(t){return this.divmod(t,\"mod\",!1).mod},o.prototype.umod=function(t){return this.divmod(t,\"mod\",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),h=e.clone();!e.isZero();){for(var l=0,p=1;0==(e.words[0]&p)&&l<26;++l,p<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var d=0,y=1;0==(r.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,l=1;0==(r.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n(\"number\"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,\"Number is too big\");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,\"Already a number in reduction context\"),n(0===this.negative,\"red works only with positives\"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,\"Already a number in reduction context\"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,\"redAdd works only with red numbers\"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,\"redSub works only with red numbers\"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,\"redISub works only with red numbers\"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,\"redShl works only with red numbers\"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}function v(){g.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}function _(){g.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}function w(){g.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}function S(t){if(\"string\"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),\"modulus must be greater than 1\"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(b,g),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,g),i(_,g),i(w,g),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if(\"k256\"===t)e=new b;else if(\"p224\"===t)e=new v;else if(\"p192\"===t)e=new _;else{if(\"p25519\"!==t)throw new Error(\"Unknown prime \"+t);e=new w}return m[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,\"red works only with positives\"),n(t.red,\"red works only with red numbers\")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),\"red works only with positives\"),n(t.red&&t.red===e.red,\"red works only with red numbers\")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,i),l=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var y=p,m=0;0!==y.cmp(a);m++)y=y.redSqr();n(m<d);var g=this.pow(h,new o(1).iushln(d-m-1));l=l.redMul(g),h=g.redSqr(),p=p.redMul(h),d=m}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(26)(t))},function(t,e){var r=\"0123456789abcdef\".split(\"\"),n=[1,256,65536,16777216],i=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=function(t){var e,r,n,i,s,a,u,c,f,h,l,p,d,y,m,g,b,v,_,w,S,k,E,A,x,T,B,I,C,M,P,O,R,j,N,L,K,D,U,F,q,H,z,V,G,W,$,Y,J,Z,X,Q,tt,et,rt,nt,it,ot,st,at,ut,ct,ft;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],u=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],f=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(p=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|u>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(u<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(c<<1|f>>>31),r=s^(f<<1|c>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(h<<1|l>>>31),r=u^(l<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=c^(p<<1|d>>>31),r=f^(d<<1|p>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|s>>>31),r=l^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,y=t[0],m=t[1],W=t[11]<<4|t[10]>>>28,$=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,C=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,z=t[41]<<18|t[40]>>>14,j=t[2]<<1|t[3]>>>31,N=t[3]<<1|t[2]>>>31,g=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,J=t[23]<<10|t[22]>>>22,M=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,L=t[14]<<6|t[15]>>>26,K=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,_=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,R=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,x=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,S=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,T=t[18]<<20|t[19]>>>12,B=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,F=t[38]<<8|t[39]>>>24,q=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,E=t[49]<<14|t[48]>>>18,t[0]=y^~g&v,t[1]=m^~b&_,t[10]=A^~T&I,t[11]=x^~B&C,t[20]=j^~L&D,t[21]=N^~K&U,t[30]=V^~W&Y,t[31]=G^~$&J,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=g^~v&w,t[3]=b^~_&S,t[12]=T^~I&M,t[13]=B^~C&P,t[22]=L^~D&F,t[23]=K^~U&q,t[32]=W^~Y&Z,t[33]=$^~J&X,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=v^~w&k,t[5]=_^~S&E,t[14]=I^~M&O,t[15]=C^~P&R,t[24]=D^~F&H,t[25]=U^~q&z,t[34]=Y^~Z&Q,t[35]=J^~X&tt,t[44]=ot^~at&ct,t[45]=st^~ut&ft,t[6]=w^~k&y,t[7]=S^~E&m,t[16]=M^~O&A,t[17]=P^~R&x,t[26]=F^~H&j,t[27]=q^~z&N,t[36]=Z^~Q&V,t[37]=X^~tt&G,t[46]=at^~ct&et,t[47]=ut^~ft&rt,t[8]=k^~y&g,t[9]=E^~m&b,t[18]=O^~A&T,t[19]=R^~x&B,t[28]=H^~j&L,t[29]=z^~N&K,t[38]=Q^~V&W,t[39]=tt^~G&$,t[48]=ct^~et&nt,t[49]=ft^~rt&it,t[0]^=o[n],t[1]^=o[n+1]},a=function(t){return function(e){var o;if(\"0x\"===e.slice(0,2)){o=[];for(var a=2,u=e.length;a<u;a+=2)o.push(parseInt(e.slice(a,a+2),16))}else o=e;return function(t,e){for(var o,a=e.length,u=t.blocks,c=t.blockCount<<2,f=t.blockCount,h=t.outputBlocks,l=t.s,p=0;p<a;){if(t.reset)for(t.reset=!1,u[0]=t.block,m=1;m<f+1;++m)u[m]=0;if(\"string\"!=typeof e)for(m=t.start;p<a&&m<c;++p)u[m>>2]|=e[p]<<i[3&m++];else for(m=t.start;p<a&&m<c;++p)(o=e.charCodeAt(p))<128?u[m>>2]|=o<<i[3&m++]:o<2048?(u[m>>2]|=(192|o>>6)<<i[3&m++],u[m>>2]|=(128|63&o)<<i[3&m++]):o<55296||o>=57344?(u[m>>2]|=(224|o>>12)<<i[3&m++],u[m>>2]|=(128|o>>6&63)<<i[3&m++],u[m>>2]|=(128|63&o)<<i[3&m++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++p)),u[m>>2]|=(240|o>>18)<<i[3&m++],u[m>>2]|=(128|o>>12&63)<<i[3&m++],u[m>>2]|=(128|o>>6&63)<<i[3&m++],u[m>>2]|=(128|63&o)<<i[3&m++]);if(t.lastByteIndex=m,m>=c){for(t.start=m-c,t.block=u[f],m=0;m<f;++m)l[m]^=u[m];s(l),t.reset=!0}else t.start=m}if(u[(m=t.lastByteIndex)>>2]|=n[3&m],t.lastByteIndex===c)for(u[0]=u[f],m=1;m<f+1;++m)u[m]=0;for(u[f-1]|=2147483648,m=0;m<f;++m)l[m]^=u[m];s(l);for(var d,y=\"\",m=0,g=0;g<h;){for(m=0;m<f&&g<h;++m,++g)d=l[m],y+=r[d>>4&15]+r[15&d]+r[d>>12&15]+r[d>>8&15]+r[d>>20&15]+r[d>>16&15]+r[d>>28&15]+r[d>>24&15];g%f==0&&(s(l),m=0)}return\"0x\"+y}(function(t){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:function(t){return[].concat(t,t,t,t,t)}([0,0,0,0,0,0,0,0,0,0])}}(t),o)}};t.exports={keccak256:a(256),keccak512:a(512),keccak256s:a(256),keccak512s:a(512)}},function(t,e,r){\"use strict\";var n=r(57),i=r(725),o=function(t){var e=\"A\".charCodeAt(0),r=\"Z\".charCodeAt(0);return(t=(t=t.toUpperCase()).substr(4)+t.substr(0,4)).split(\"\").map(function(t){var n=t.charCodeAt(0);return n>=e&&n<=r?n-e+10:t}).join(\"\")},s=function(t){for(var e,r=t;r.length>2;)e=r.slice(0,9),r=parseInt(e,10)%97+r.slice(e.length);return parseInt(r,10)%97},a=function(t){this._iban=t};a.toAddress=function(t){if(!(t=new a(t)).isDirect())throw new Error(\"IBAN is indirect and can't be converted\");return t.toAddress()},a.toIban=function(t){return a.fromAddress(t).toString()},a.fromAddress=function(t){if(!n.isAddress(t))throw new Error(\"Provided address is not a valid address: \"+t);t=t.replace(\"0x\",\"\").replace(\"0X\",\"\");var e=function(t,e){for(var r=t;r.length<2*e;)r=\"0\"+r;return r}(new i(t,16).toString(36),15);return a.fromBban(e.toUpperCase())},a.fromBban=function(t){var e=(\"0\"+(98-s(o(\"XE00\"+t)))).slice(-2);return new a(\"XE\"+e+t)},a.createIndirect=function(t){return a.fromBban(\"ETH\"+t.institution+t.identifier)},a.isValid=function(t){return new a(t).isValid()},a.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===s(o(this._iban))},a.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},a.prototype.isIndirect=function(){return 20===this._iban.length},a.prototype.checksum=function(){return this._iban.substr(2,2)},a.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):\"\"},a.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):\"\"},a.prototype.toAddress=function(){if(this.isDirect()){var t=this._iban.substr(4),e=new i(t,36);return n.toChecksumAddress(e.toString(16,20))}return\"\"},a.prototype.toString=function(){return this._iban},t.exports=a},function(t,e,r){\"use strict\";var n={messageId:0,toPayload:function(t,e){if(!t)throw new Error('JSONRPC method should be specified for params: \"'+JSON.stringify(e)+'\"!');return n.messageId++,{jsonrpc:\"2.0\",id:n.messageId,method:t,params:e||[]}},isValidResponse:function(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!(!t||t.error||\"2.0\"!==t.jsonrpc||\"number\"!=typeof t.id&&\"string\"!=typeof t.id||void 0===t.result)}},toBatchPayload:function(t){return t.map(function(t){return n.toPayload(t.method,t.params)})}};t.exports=n},function(t,e,r){(function(t){var n=r(740),i=r(369),o=r(33),s=r(747),a=r(79),u=e;u.request=function(e,r){e=\"string\"==typeof e?a.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?\"http:\":\"\",s=e.protocol||i,u=e.hostname||e.host,c=e.port,f=e.path||\"/\";u&&-1!==u.indexOf(\":\")&&(u=\"[\"+u+\"]\"),e.url=(u?s+\"//\"+u:\"\")+(c?\":\"+c:\"\")+f,e.method=(e.method||\"GET\").toUpperCase(),e.headers=e.headers||{};var h=new n(e);return r&&h.on(\"response\",r),h},u.get=function(t,e){var r=u.request(t,e);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=[\"CHECKOUT\",\"CONNECT\",\"COPY\",\"DELETE\",\"GET\",\"HEAD\",\"LOCK\",\"M-SEARCH\",\"MERGE\",\"MKACTIVITY\",\"MKCOL\",\"MOVE\",\"NOTIFY\",\"OPTIONS\",\"PATCH\",\"POST\",\"PROPFIND\",\"PROPPATCH\",\"PURGE\",\"PUT\",\"REPORT\",\"SEARCH\",\"SUBSCRIBE\",\"TRACE\",\"UNLOCK\",\"UNSUBSCRIBE\"]}).call(this,r(5))},function(t,e,r){(function(t){e.fetch=a(t.fetch)&&a(t.ReadableStream),e.writableStream=a(t.WritableStream),e.abortController=a(t.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var r;function n(){if(void 0!==r)return r;if(t.XMLHttpRequest){r=new t.XMLHttpRequest;try{r.open(\"GET\",t.XDomainRequest?\"/\":\"https://example.com\")}catch(t){r=null}}else r=null;return r}function i(t){var e=n();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}var o=void 0!==t.ArrayBuffer,s=o&&a(t.ArrayBuffer.prototype.slice);function a(t){return\"function\"==typeof t}e.arraybuffer=e.fetch||o&&i(\"arraybuffer\"),e.msstream=!e.fetch&&s&&i(\"ms-stream\"),e.mozchunkedarraybuffer=!e.fetch&&o&&i(\"moz-chunked-arraybuffer\"),e.overrideMimeType=e.fetch||!!n()&&a(n().overrideMimeType),e.vbArray=a(t.VBArray),r=null}).call(this,r(5))},function(t,e,r){(function(t,n,i){var o=r(368),s=r(1),a=r(58),u=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=e.IncomingMessage=function(e,r,s,u){var c=this;if(a.Readable.call(c),c._mode=s,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on(\"end\",function(){t.nextTick(function(){c.emit(\"close\")})}),\"fetch\"===s){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach(function(t,e){c.headers[e.toLowerCase()]=t,c.rawHeaders.push(e,t)}),o.writableStream){var f=new WritableStream({write:function(t){return new Promise(function(e,r){c._destroyed?r():c.push(new n(t))?e():c._resumeFetch=e})},close:function(){i.clearTimeout(u),c._destroyed||c.push(null)},abort:function(t){c._destroyed||c.emit(\"error\",t)}});try{return void r.body.pipeTo(f).catch(function(t){i.clearTimeout(u),c._destroyed||c.emit(\"error\",t)})}catch(t){}}var h=r.body.getReader();!function t(){h.read().then(function(e){if(!c._destroyed){if(e.done)return i.clearTimeout(u),void c.push(null);c.push(new n(e.value)),t()}}).catch(function(t){i.clearTimeout(u),c._destroyed||c.emit(\"error\",t)})}()}else{if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\\r?\\n/).forEach(function(t){var e=t.match(/^([^:]+):\\s*(.*)/);if(e){var r=e[1].toLowerCase();\"set-cookie\"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(e[2])):void 0!==c.headers[r]?c.headers[r]+=\", \"+e[2]:c.headers[r]=e[2],c.rawHeaders.push(e[1],e[2])}}),c._charset=\"x-user-defined\",!o.overrideMimeType){var l=c.rawHeaders[\"mime-type\"];if(l){var p=l.match(/;\\s*charset=([^;])(;|$)/);p&&(c._charset=p[1].toLowerCase())}c._charset||(c._charset=\"utf-8\")}}};s(c,a.Readable),c.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},c.prototype._onXHRProgress=function(){var t=this,e=t._xhr,r=null;switch(t._mode){case\"text:vbarray\":if(e.readyState!==u.DONE)break;try{r=new i.VBArray(e.responseBody).toArray()}catch(t){}if(null!==r){t.push(new n(r));break}case\"text\":try{r=e.responseText}catch(e){t._mode=\"text:vbarray\";break}if(r.length>t._pos){var o=r.substr(t._pos);if(\"x-user-defined\"===t._charset){for(var s=new n(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);t.push(s)}else t.push(o,t._charset);t._pos=r.length}break;case\"arraybuffer\":if(e.readyState!==u.DONE||!e.response)break;r=e.response,t.push(new n(new Uint8Array(r)));break;case\"moz-chunked-arraybuffer\":if(r=e.response,e.readyState!==u.LOADING||!r)break;t.push(new n(new Uint8Array(r)));break;case\"ms-stream\":if(r=e.response,e.readyState!==u.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(new n(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){t.push(null)},c.readAsArrayBuffer(r)}t._xhr.readyState===u.DONE&&\"ms-stream\"!==t._mode&&t.push(null)}}).call(this,r(7),r(0).Buffer,r(5))},function(t,e,r){\"use strict\";(function(e,n){var i=r(177);t.exports=v;var o,s=r(358);v.ReadableState=b;r(19).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=r(371),c=r(3).Buffer,f=e.Uint8Array||function(){};var h=r(134);h.inherits=r(1);var l=r(741),p=void 0;p=l&&l.debuglog?l.debuglog(\"stream\"):function(){};var d,y=r(742),m=r(372);h.inherits(v,u);var g=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function b(t,e){o=o||r(93),t=t||{};var n=e instanceof o;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=r(233).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||r(93),!(this instanceof v))return new v(t);this._readableState=new b(t,this),this.readable=!0,t&&(\"function\"==typeof t.read&&(this._read=t.read),\"function\"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function _(t,e,r,n,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,E(t)}(t,s)):(i||(o=function(t,e){var r;(function(t){return c.isBuffer(t)||t instanceof f})(e)||\"string\"==typeof e||void 0===e||t.objectMode||(r=new TypeError(\"Invalid non-string/buffer chunk\"));return r}(s,e)),o?t.emit(\"error\",o):s.objectMode||e&&e.length>0?(\"string\"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),n?s.endEmitted?t.emit(\"error\",new Error(\"stream.unshift() after end event\")):w(t,s,e,!0):s.ended?t.emit(\"error\",new Error(\"stream.push() after EOF\")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):x(t,s)):w(t,s,e,!1))):n||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit(\"data\",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&E(t)),x(t,e)}Object.defineProperty(v.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:\"string\"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=\"\"),r=!0),_(this,t,e,!1,r)},v.prototype.unshift=function(t){return _(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return d||(d=r(233).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var S=8388608;function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p(\"emitReadable\",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(A,t):A(t))}function A(t){p(\"emit readable\"),t.emit(\"readable\"),C(t)}function x(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(T,t,e))}function T(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p(\"maybeReadMore read 0\"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function B(t){p(\"readable nexttick read 0\"),t.read(0)}function I(t,e){e.reading||(p(\"resume read 0\"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit(\"resume\"),C(t),e.flowing&&!e.reading&&t.read(0)}function C(t){var e=t._readableState;for(p(\"flow\",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(\"\"):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function P(t){var e=t._readableState;if(e.length>0)throw new Error('\"endReadable()\" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(O,e,t))}function O(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit(\"end\"))}function R(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}v.prototype.read=function(t){p(\"read\",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p(\"read: emitReadable\",e.length,e.ended),0===e.length&&e.ended?P(this):E(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&P(this),null;var n,i=e.needReadable;return p(\"need readable\",i),(0===e.length||e.length-t<e.highWaterMark)&&p(\"length less than watermark\",i=!0),e.ended||e.reading?p(\"reading or ended\",i=!1):i&&(p(\"do read\"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(r,e))),null===(n=t>0?M(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&P(this)),null!==n&&this.emit(\"data\",n),n},v.prototype._read=function(t){this.emit(\"error\",new Error(\"_read() is not implemented\"))},v.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p(\"pipe count=%d opts=%j\",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:v;function c(e,n){p(\"onunpipe\"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p(\"cleanup\"),t.removeListener(\"close\",g),t.removeListener(\"finish\",b),t.removeListener(\"drain\",h),t.removeListener(\"error\",m),t.removeListener(\"unpipe\",c),r.removeListener(\"end\",f),r.removeListener(\"end\",v),r.removeListener(\"data\",y),l=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function f(){p(\"onend\"),t.end()}o.endEmitted?i.nextTick(u):r.once(\"end\",u),t.on(\"unpipe\",c);var h=function(t){return function(){var e=t._readableState;p(\"pipeOnDrain\",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,\"data\")&&(e.flowing=!0,C(t))}}(r);t.on(\"drain\",h);var l=!1;var d=!1;function y(e){p(\"ondata\"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==R(o.pipes,t))&&!l&&(p(\"false write response, pause\",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function m(e){p(\"onerror\",e),v(),t.removeListener(\"error\",m),0===a(t,\"error\")&&t.emit(\"error\",e)}function g(){t.removeListener(\"finish\",b),v()}function b(){p(\"onfinish\"),t.removeListener(\"close\",g),v()}function v(){p(\"unpipe\"),r.unpipe(t)}return r.on(\"data\",y),function(t,e,r){if(\"function\"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,\"error\",m),t.once(\"close\",g),t.once(\"finish\",b),t.emit(\"pipe\",r),o.flowing||(p(\"pipe resume\"),r.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit(\"unpipe\",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit(\"unpipe\",this,r);return this}var s=R(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit(\"unpipe\",this,r),this)},v.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if(\"data\"===t)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):i.nextTick(B,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(p(\"resume\"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(I,t,e))}(this,t)),this},v.prototype.pause=function(){return p(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(p(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this},v.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on(\"end\",function(){if(p(\"wrapped end\"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on(\"data\",function(i){(p(\"wrapped data\"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))}),t)void 0===this[i]&&\"function\"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){p(\"wrapped _read\",e),n&&(n=!1,t.resume())},this},Object.defineProperty(v.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=M}).call(this,r(5),r(7))},function(t,e,r){t.exports=r(19).EventEmitter},function(t,e,r){\"use strict\";var n=r(177);function i(t,e){t.emit(\"error\",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){(function(t,e){!function(t,r){\"use strict\";if(!t.setImmediate){var n,i=1,o={},s=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,\"[object process]\"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){f(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage(\"\",\"*\"),t.onmessage=r,e}}()?function(){var e=\"setImmediate$\"+Math.random()+\"$\",r=function(r){r.source===t&&\"string\"==typeof r.data&&0===r.data.indexOf(e)&&f(+r.data.slice(e.length))};t.addEventListener?t.addEventListener(\"message\",r,!1):t.attachEvent(\"onmessage\",r),n=function(r){t.postMessage(e+r,\"*\")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){f(t.data)},n=function(e){t.port2.postMessage(e)}}():a&&\"onreadystatechange\"in a.createElement(\"script\")?function(){var t=a.documentElement;n=function(e){var r=a.createElement(\"script\");r.onreadystatechange=function(){f(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():n=function(t){setTimeout(f,0,t)},u.setImmediate=function(t){\"function\"!=typeof t&&(t=new Function(\"\"+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var s={callback:t,args:e};return o[i]=s,n(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function f(t){if(s)setTimeout(f,0,t);else{var e=o[t];if(e){s=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{c(t),s=!1}}}}}(\"undefined\"==typeof self?void 0===t?this:t:self)}).call(this,r(5),r(7))},function(t,e,r){\"use strict\";t.exports=o;var n=r(93),i=r(134);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit(\"error\",new Error(\"write callback called multiple times\"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(\"function\"==typeof t.transform&&(this._transform=t.transform),\"function\"==typeof t.flush&&(this._flush=t.flush)),this.on(\"prefinish\",s)}function s(){var t=this;\"function\"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(this,null,null)}function a(t,e,r){if(e)return t.emit(\"error\",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error(\"Calling transform done when ws.length != 0\");if(t._transformState.transforming)throw new Error(\"Calling transform done when still transforming\");return t.push(null)}i.inherits=r(1),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error(\"_transform() is not implemented\")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit(\"close\")})}},function(t,e,r){\"use strict\";var n=r(376),i=r(377),o=function(t){var e,r,o=new i(function(){e=arguments[0],r=arguments[1]});if(t)return{resolve:e,reject:r,eventEmitter:o};var s=new n;return o._events=s._events,o.emit=s.emit,o.on=s.on,o.once=s.once,o.off=s.off,o.listeners=s.listeners,o.addListener=s.addListener,o.removeListener=s.removeListener,o.removeAllListeners=s.removeAllListeners,{resolve:e,reject:r,eventEmitter:o}};o.resolve=function(t){var e=o(!0);return e.resolve(t),e.eventEmitter},t.exports=o},function(t,e,r){\"use strict\";var n=\"function\"!=typeof Object.create&&\"~\";function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){}o.prototype._events=void 0,o.prototype.listeners=function(t,e){var r=n?n+t:t,i=this._events&&this._events[r];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,a=new Array(s);o<s;o++)a[o]=i[o].fn;return a},o.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events||!this._events[a])return!1;var u,c,f=this._events[a],h=arguments.length;if(\"function\"==typeof f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),h){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,r),!0;case 4:return f.fn.call(f.context,e,r,i),!0;case 5:return f.fn.call(f.context,e,r,i,o),!0;case 6:return f.fn.call(f.context,e,r,i,o,s),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var l,p=f.length;for(c=0;c<p;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),h){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,r);break;default:if(!u)for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];f[c].fn.apply(f[c].context,u)}}return!0},o.prototype.on=function(t,e,r){var o=new i(e,r||this),s=n?n+t:t;return this._events||(this._events=n?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},o.prototype.once=function(t,e,r){var o=new i(e,r||this,!0),s=n?n+t:t;return this._events||(this._events=n?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},o.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events||!this._events[o])return this;var s=this._events[o],a=[];if(e)if(s.fn)(s.fn!==e||i&&!s.once||r&&s.context!==r)&&a.push(s);else for(var u=0,c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&a.push(s[u]);return a.length?this._events[o]=1===a.length?a[0]:a:delete this._events[o],this},o.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[n?n+t:t]:this._events=n?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=n,t.exports=o},function(t,e,r){t.exports=r(756)().Promise},function(t,e,r){\"use strict\";var n=r(92),i=r(94),o=r(57),s=r(179),a=r(36).formatters,u=function(){var t=this;n.packageInit(this,arguments),this.net=new s(this.currentProvider);var e=null,r=\"latest\";Object.defineProperty(this,\"defaultAccount\",{get:function(){return e},set:function(t){return t&&(e=o.toChecksumAddress(a.inputAddressFormatter(t))),u.forEach(function(t){t.defaultAccount=e}),t},enumerable:!0}),Object.defineProperty(this,\"defaultBlock\",{get:function(){return r},set:function(t){return r=t,u.forEach(function(t){t.defaultBlock=r}),t},enumerable:!0});var u=[new i({name:\"getAccounts\",call:\"personal_listAccounts\",params:0,outputFormatter:o.toChecksumAddress}),new i({name:\"newAccount\",call:\"personal_newAccount\",params:1,inputFormatter:[null],outputFormatter:o.toChecksumAddress}),new i({name:\"unlockAccount\",call:\"personal_unlockAccount\",params:3,inputFormatter:[a.inputAddressFormatter,null,null]}),new i({name:\"lockAccount\",call:\"personal_lockAccount\",params:1,inputFormatter:[a.inputAddressFormatter]}),new i({name:\"importRawKey\",call:\"personal_importRawKey\",params:2}),new i({name:\"sendTransaction\",call:\"personal_sendTransaction\",params:2,inputFormatter:[a.inputTransactionFormatter,null]}),new i({name:\"signTransaction\",call:\"personal_signTransaction\",params:2,inputFormatter:[a.inputTransactionFormatter,null]}),new i({name:\"sign\",call:\"personal_sign\",params:3,inputFormatter:[a.inputSignFormatter,a.inputAddressFormatter,null]}),new i({name:\"ecRecover\",call:\"personal_ecRecover\",params:2,inputFormatter:[a.inputSignFormatter,null]})];u.forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager),e.defaultBlock=t.defaultBlock,e.defaultAccount=t.defaultAccount})};n.addProviders(u),t.exports=u},function(t,e,r){var n=r(31),i=r(57),o=r(73),s=r(762),a=r(763),u=r(764),c=r(765),f=r(766),h=r(767),l=r(768),p=function(t,e){return t.isDynamicType(e)||t.isDynamicArray(e)};function d(){}var y=function(t){this._types=t};y.prototype._requireType=function(t){var e=this._types.filter(function(e){return e.isType(t)})[0];if(!e)throw Error(\"Invalid solidity type: \"+t);return e},y.prototype._getOffsets=function(t,e){for(var r=e.map(function(e,r){return e.staticPartLength(t[r])}),n=1;n<r.length;n++)r[n]+=r[n-1];return r.map(function(r,n){return r-e[n].staticPartLength(t[n])})},y.prototype._getSolidityTypes=function(t){var e=this;return t.map(function(t){return e._requireType(t)})},y.prototype._encodeMultiWithOffset=function(t,e,r,n){var i=\"\",s=this;return t.forEach(function(a,u){if(p(e[u],t[u])){i+=o.formatInputInt(n).encode();var c=s._encodeWithOffset(t[u],e[u],r[u],n);n+=c.length/2}else i+=s._encodeWithOffset(t[u],e[u],r[u],n)}),t.forEach(function(o,a){if(p(e[a],t[a])){var u=s._encodeWithOffset(t[a],e[a],r[a],n);n+=u.length/2,i+=u}}),i},y.prototype._encodeWithOffset=function(t,e,r,n){var i=this;return e.isDynamicArray(t)?function(){var s=e.nestedName(t),a=e.staticPartLength(s),u=r[0];return function(){var t=2;if(e.isDynamicArray(s))for(var i=1;i<r.length;i++)t+=+r[i-1][0]||0,u+=o.formatInputInt(n+i*a+32*t).encode()}(),function(){for(var t=0;t<r.length-1;t++){var o=u/2;u+=i._encodeWithOffset(s,e,r[t+1],n+o)}}(),u}():e.isStaticArray(t)?function(){var s=e.nestedName(t),a=e.staticPartLength(s),u=\"\";return e.isDynamicArray(s)&&function(){for(var t=0,e=0;e<r.length;e++)t+=+(r[e-1]||[])[0]||0,u+=o.formatInputInt(n+e*a+32*t).encode()}(),function(){for(var t=0;t<r.length;t++){var o=u/2;u+=i._encodeWithOffset(s,e,r[t],n+o)}}(),u}():r},y.prototype.encodeFunctionSignature=function(t){return n.isObject(t)&&(t=i._jsonInterfaceMethodToString(t)),i.sha3(t).slice(0,10)},y.prototype.encodeEventSignature=function(t){return n.isObject(t)&&(t=i._jsonInterfaceMethodToString(t)),i.sha3(t)},y.prototype.encodeParameter=function(t,e){return this.encodeParameters([t],[e])},y.prototype.encodeParameters=function(t,e){n.isObject(t)&&t.inputs&&(t=n.map(t.inputs,function(t){return t.type}));var r=this._getSolidityTypes(t),i=r.map(function(r,n){return r.encode(e[n],t[n])}),o=r.reduce(function(e,n,i){var o=n.staticPartLength(t[i]),s=32*Math.floor((o+31)/32);return e+(p(r[i],t[i])?32:s)},0);return\"0x\"+this._encodeMultiWithOffset(t,r,i,o)},y.prototype.encodeFunctionCall=function(t,e){return this.encodeFunctionSignature(t)+this.encodeParameters(t,e).replace(\"0x\",\"\")},y.prototype.decodeParameter=function(t,e){if(!n.isString(t))throw new Error(\"Given parameter type is not a string: \"+t);return this.decodeParameters([{type:t}],e)[0]},y.prototype.decodeParameters=function(t,e){var r=n.isArray(t)&&n.isString(t[0]),i=r?t:[];r||t.forEach(function(t){i.push(t.type)});var o=this._getSolidityTypes(i),s=this._getOffsets(i,o),a=new d;a.__length__=0;var u=0;return t.forEach(function(t,r){var c=o[u].decode(e.replace(/^0x/i,\"\"),s[u],i[u],u);c=\"0x\"===c?null:c,a[r]=c,n.isObject(t)&&t.name&&(a[t.name]=c),a.__length__++,u++}),a},y.prototype.decodeLog=function(t,e,r){e=e||\"\";var i=[],o=[];t.forEach(function(t,e){t.indexed?o[e]=t:i[e]=t});var s=e.slice(2),a=n.isArray(r)?r.map(function(t){return t.slice(2)}).join(\"\"):r,u=this.decodeParameters(i,s),c=this.decodeParameters(o,a),f=new d;return f.__length__=0,t.forEach(function(t,e){f[e]=\"string\"===t.type?\"\":null,u[e]&&(f[e]=u[e]),c[e]&&(f[e]=c[e]),t.name&&(f[t.name]=f[e]),f.__length__++}),f};var m=new y([new s,new a,new u,new c,new f,new l,new h]);t.exports=m},function(t,e,r){var n=r(73),i=function(t,e,r){this.value=t||\"\",this.offset=e,this.rawValue=r};i.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},i.prototype.withOffset=function(t){return new i(this.value,t)},i.prototype.combine=function(t){return new i(this.value+t.value)},i.prototype.isDynamic=function(){return void 0!==this.offset},i.prototype.offsetAsBytes=function(){return this.isDynamic()?n.toTwosComplement(this.offset).replace(\"0x\",\"\"):\"\"},i.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},i.prototype.dynamicPart=function(){return this.isDynamic()?this.value:\"\"},i.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},i.encodeList=function(t){var e=32*t.length,r=t.map(function(t){if(!t.isDynamic())return t;var r=e;return e+=t.dynamicPartLength(),t.withOffset(r)});return r.reduce(function(t,e){return t+e.dynamicPart()},r.reduce(function(t,e){return t+e.staticPart()},\"\"))},t.exports=i},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(86).Transform;function o(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(1)(o,i),o.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&\"string\"!=typeof t)throw new TypeError(e+\" must be a string or a buffer\")}(t,\"Data\"),this._finalized)throw new Error(\"Digest already called\");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error(\"_update is not implemented\")},o.prototype.digest=function(t){if(this._finalized)throw new Error(\"Digest already called\");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},o.prototype._digest=function(){throw new Error(\"_digest is not implemented\")},t.exports=o},function(t,e,r){var n=r(1),i=r(109),o=r(3).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t,e,r){return r^t&(e^r)}function f(t,e,r){return t&e|r&(t|e)}function h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function l(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function p(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function d(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,u=0|this._f,y=0|this._g,m=0|this._h,g=0;g<16;++g)e[g]=t.readInt32BE(4*g);for(;g<64;++g)e[g]=d(e[g-2])+e[g-7]+p(e[g-15])+e[g-16]|0;for(var b=0;b<64;++b){var v=m+l(a)+c(a,u,y)+s[b]+e[b]|0,_=h(r)+f(r,n,i)|0;m=y,y=u,u=a,a=o+v|0,o=i,i=n,n=r,r=v+_|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0,this._f=u+this._f|0,this._g=y+this._g|0,this._h=m+this._h|0},u.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},function(t,e,r){var n=r(1),i=r(109),o=r(3).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(t,e,r){return r^t&(e^r)}function f(t,e,r){return t&e|r&(t|e)}function h(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function l(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function y(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function g(t,e){return t>>>0<e>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,b=0|this._gh,v=0|this._hh,_=0|this._al,w=0|this._bl,S=0|this._cl,k=0|this._dl,E=0|this._el,A=0|this._fl,x=0|this._gl,T=0|this._hl,B=0;B<32;B+=2)e[B]=t.readInt32BE(4*B),e[B+1]=t.readInt32BE(4*B+4);for(;B<160;B+=2){var I=e[B-30],C=e[B-30+1],M=p(I,C),P=d(C,I),O=y(I=e[B-4],C=e[B-4+1]),R=m(C,I),j=e[B-14],N=e[B-14+1],L=e[B-32],K=e[B-32+1],D=P+N|0,U=M+j+g(D,P)|0;U=(U=U+O+g(D=D+R|0,R)|0)+L+g(D=D+K|0,K)|0,e[B]=U,e[B+1]=D}for(var F=0;F<160;F+=2){U=e[F],D=e[F+1];var q=f(r,n,i),H=f(_,w,S),z=h(r,_),V=h(_,r),G=l(a,E),W=l(E,a),$=s[F],Y=s[F+1],J=c(a,u,b),Z=c(E,A,x),X=T+W|0,Q=v+G+g(X,T)|0;Q=(Q=(Q=Q+J+g(X=X+Z|0,Z)|0)+$+g(X=X+Y|0,Y)|0)+U+g(X=X+D|0,D)|0;var tt=V+H|0,et=z+q+g(tt,V)|0;v=b,T=x,b=u,x=A,u=a,A=E,a=o+Q+g(E=k+X|0,k)|0,o=i,k=S,i=n,S=w,n=r,w=_,r=Q+et+g(_=X+tt|0,X)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+k|0,this._el=this._el+E|0,this._fl=this._fl+A|0,this._gl=this._gl+x|0,this._hl=this._hl+T|0,this._ah=this._ah+r+g(this._al,_)|0,this._bh=this._bh+n+g(this._bl,w)|0,this._ch=this._ch+i+g(this._cl,S)|0,this._dh=this._dh+o+g(this._dl,k)|0,this._eh=this._eh+a+g(this._el,E)|0,this._fh=this._fh+u+g(this._fl,A)|0,this._gh=this._gh+b+g(this._gl,x)|0,this._hh=this._hh+v+g(this._hl,T)|0},u.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},function(t,e,r){var n=r(237);t.exports=function(t){return(new n).update(t).digest()}},function(t){t.exports={sha224WithRSAEncryption:{sign:\"rsa\",hash:\"sha224\",id:\"302d300d06096086480165030402040500041c\"},\"RSA-SHA224\":{sign:\"ecdsa/rsa\",hash:\"sha224\",id:\"302d300d06096086480165030402040500041c\"},sha256WithRSAEncryption:{sign:\"rsa\",hash:\"sha256\",id:\"3031300d060960864801650304020105000420\"},\"RSA-SHA256\":{sign:\"ecdsa/rsa\",hash:\"sha256\",id:\"3031300d060960864801650304020105000420\"},sha384WithRSAEncryption:{sign:\"rsa\",hash:\"sha384\",id:\"3041300d060960864801650304020205000430\"},\"RSA-SHA384\":{sign:\"ecdsa/rsa\",hash:\"sha384\",id:\"3041300d060960864801650304020205000430\"},sha512WithRSAEncryption:{sign:\"rsa\",hash:\"sha512\",id:\"3051300d060960864801650304020305000440\"},\"RSA-SHA512\":{sign:\"ecdsa/rsa\",hash:\"sha512\",id:\"3051300d060960864801650304020305000440\"},\"RSA-SHA1\":{sign:\"rsa\",hash:\"sha1\",id:\"3021300906052b0e03021a05000414\"},\"ecdsa-with-SHA1\":{sign:\"ecdsa\",hash:\"sha1\",id:\"\"},sha256:{sign:\"ecdsa\",hash:\"sha256\",id:\"\"},sha224:{sign:\"ecdsa\",hash:\"sha224\",id:\"\"},sha384:{sign:\"ecdsa\",hash:\"sha384\",id:\"\"},sha512:{sign:\"ecdsa\",hash:\"sha512\",id:\"\"},\"DSA-SHA\":{sign:\"dsa\",hash:\"sha1\",id:\"\"},\"DSA-SHA1\":{sign:\"dsa\",hash:\"sha1\",id:\"\"},DSA:{sign:\"dsa\",hash:\"sha1\",id:\"\"},\"DSA-WITH-SHA224\":{sign:\"dsa\",hash:\"sha224\",id:\"\"},\"DSA-SHA224\":{sign:\"dsa\",hash:\"sha224\",id:\"\"},\"DSA-WITH-SHA256\":{sign:\"dsa\",hash:\"sha256\",id:\"\"},\"DSA-SHA256\":{sign:\"dsa\",hash:\"sha256\",id:\"\"},\"DSA-WITH-SHA384\":{sign:\"dsa\",hash:\"sha384\",id:\"\"},\"DSA-SHA384\":{sign:\"dsa\",hash:\"sha384\",id:\"\"},\"DSA-WITH-SHA512\":{sign:\"dsa\",hash:\"sha512\",id:\"\"},\"DSA-SHA512\":{sign:\"dsa\",hash:\"sha512\",id:\"\"},\"DSA-RIPEMD160\":{sign:\"dsa\",hash:\"rmd160\",id:\"\"},ripemd160WithRSA:{sign:\"rsa\",hash:\"rmd160\",id:\"3021300906052b2403020105000414\"},\"RSA-RIPEMD160\":{sign:\"rsa\",hash:\"rmd160\",id:\"3021300906052b2403020105000414\"},md5WithRSAEncryption:{sign:\"rsa\",hash:\"md5\",id:\"3020300c06082a864886f70d020505000410\"},\"RSA-MD5\":{sign:\"rsa\",hash:\"md5\",id:\"3020300c06082a864886f70d020505000410\"}}},function(t,e,r){(function(e){var r=Math.pow(2,30)-1;function n(t,r){if(\"string\"!=typeof t&&!e.isBuffer(t))throw new TypeError(r+\" must be a buffer or string\")}t.exports=function(t,e,i,o){if(n(t,\"Password\"),n(e,\"Salt\"),\"number\"!=typeof i)throw new TypeError(\"Iterations not a number\");if(i<0)throw new TypeError(\"Bad iterations\");if(\"number\"!=typeof o)throw new TypeError(\"Key length not a number\");if(o<0||o>r||o!=o)throw new TypeError(\"Bad key length\")}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var r;e.browser?r=\"utf-8\":r=parseInt(e.version.split(\".\")[0].slice(1),10)>=6?\"utf-8\":\"binary\";t.exports=r}).call(this,r(7))},function(t,e,r){var n=r(384),i=r(238),o=r(239),s=r(386),a=r(387),u=r(3).Buffer,c=u.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(t,e,r){var s=function(t){return\"rmd160\"===t||\"ripemd160\"===t?i:\"md5\"===t?n:function(e){return o(t).update(e).digest()}}(t),a=\"sha512\"===t||\"sha384\"===t?128:64;e.length>a?e=s(e):e.length<a&&(e=u.concat([e,c],a));for(var h=u.allocUnsafe(a+f[t]),l=u.allocUnsafe(a+f[t]),p=0;p<a;p++)h[p]=54^e[p],l[p]=92^e[p];var d=u.allocUnsafe(a+r+4);h.copy(d,0,0,a),this.ipad1=d,this.ipad2=h,this.opad=l,this.alg=t,this.blocksize=a,this.hash=s,this.size=f[t]}h.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,n,i){s(t,e,r,n),u.isBuffer(t)||(t=u.from(t,a)),u.isBuffer(e)||(e=u.from(e,a));var o=new h(i=i||\"sha1\",t,e.length),c=u.allocUnsafe(n),l=u.allocUnsafe(e.length+4);e.copy(l,0,0,e.length);for(var p=0,d=f[i],y=Math.ceil(n/d),m=1;m<=y;m++){l.writeUInt32BE(m,e.length);for(var g=o.run(l,o.ipad1),b=g,v=1;v<r;v++){b=o.run(b,o.ipad2);for(var _=0;_<d;_++)g[_]^=b[_]}g.copy(c,p),p+=d}return c}},function(t,e,r){var n=r(136),i=r(3).Buffer,o=r(390);function s(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var r=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var u=s(t),c=o+16*a;t._cache.writeUInt32BE(u[0],c+0),t._cache.writeUInt32BE(u[1],c+4),t._cache.writeUInt32BE(u[2],c+8),t._cache.writeUInt32BE(u[3],c+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,f)}},function(t,e){t.exports=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}},function(t){t.exports={\"aes-128-ecb\":{cipher:\"AES\",key:128,iv:0,mode:\"ECB\",type:\"block\"},\"aes-192-ecb\":{cipher:\"AES\",key:192,iv:0,mode:\"ECB\",type:\"block\"},\"aes-256-ecb\":{cipher:\"AES\",key:256,iv:0,mode:\"ECB\",type:\"block\"},\"aes-128-cbc\":{cipher:\"AES\",key:128,iv:16,mode:\"CBC\",type:\"block\"},\"aes-192-cbc\":{cipher:\"AES\",key:192,iv:16,mode:\"CBC\",type:\"block\"},\"aes-256-cbc\":{cipher:\"AES\",key:256,iv:16,mode:\"CBC\",type:\"block\"},aes128:{cipher:\"AES\",key:128,iv:16,mode:\"CBC\",type:\"block\"},aes192:{cipher:\"AES\",key:192,iv:16,mode:\"CBC\",type:\"block\"},aes256:{cipher:\"AES\",key:256,iv:16,mode:\"CBC\",type:\"block\"},\"aes-128-cfb\":{cipher:\"AES\",key:128,iv:16,mode:\"CFB\",type:\"stream\"},\"aes-192-cfb\":{cipher:\"AES\",key:192,iv:16,mode:\"CFB\",type:\"stream\"},\"aes-256-cfb\":{cipher:\"AES\",key:256,iv:16,mode:\"CFB\",type:\"stream\"},\"aes-128-cfb8\":{cipher:\"AES\",key:128,iv:16,mode:\"CFB8\",type:\"stream\"},\"aes-192-cfb8\":{cipher:\"AES\",key:192,iv:16,mode:\"CFB8\",type:\"stream\"},\"aes-256-cfb8\":{cipher:\"AES\",key:256,iv:16,mode:\"CFB8\",type:\"stream\"},\"aes-128-cfb1\":{cipher:\"AES\",key:128,iv:16,mode:\"CFB1\",type:\"stream\"},\"aes-192-cfb1\":{cipher:\"AES\",key:192,iv:16,mode:\"CFB1\",type:\"stream\"},\"aes-256-cfb1\":{cipher:\"AES\",key:256,iv:16,mode:\"CFB1\",type:\"stream\"},\"aes-128-ofb\":{cipher:\"AES\",key:128,iv:16,mode:\"OFB\",type:\"stream\"},\"aes-192-ofb\":{cipher:\"AES\",key:192,iv:16,mode:\"OFB\",type:\"stream\"},\"aes-256-ofb\":{cipher:\"AES\",key:256,iv:16,mode:\"OFB\",type:\"stream\"},\"aes-128-ctr\":{cipher:\"AES\",key:128,iv:16,mode:\"CTR\",type:\"stream\"},\"aes-192-ctr\":{cipher:\"AES\",key:192,iv:16,mode:\"CTR\",type:\"stream\"},\"aes-256-ctr\":{cipher:\"AES\",key:256,iv:16,mode:\"CTR\",type:\"stream\"},\"aes-128-gcm\":{cipher:\"AES\",key:128,iv:12,mode:\"GCM\",type:\"auth\"},\"aes-192-gcm\":{cipher:\"AES\",key:192,iv:12,mode:\"GCM\",type:\"auth\"},\"aes-256-gcm\":{cipher:\"AES\",key:256,iv:12,mode:\"GCM\",type:\"auth\"}}},function(t,e,r){var n=r(180),i=r(3).Buffer,o=r(87),s=r(1),a=r(797),u=r(136),c=r(390);function f(t,e,r,s){o.call(this);var u=i.alloc(4,0);this._cipher=new n.AES(e);var f=this._cipher.encryptBlock(u);this._ghash=new a(f),r=function(t,e,r){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var n=new a(r),o=e.length,s=o%16;n.update(e),s&&(s=16-s,n.update(i.alloc(s,0))),n.update(i.alloc(8,0));var u=8*o,f=i.alloc(8);f.writeUIntBE(u,0,8),n.update(f),t._finID=n.state;var h=i.from(t._finID);return c(h),h}(this,r,f),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}s(f,o),f.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error(\"Unsupported state or unable to authenticate data\");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}(t,this._authTag))throw new Error(\"Unsupported state or unable to authenticate data\");this._authTag=t,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error(\"Attempting to get auth tag in unsupported state\");return this._authTag},f.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error(\"Attempting to set auth tag in unsupported state\");this._authTag=t},f.prototype.setAAD=function(t){if(this._called)throw new Error(\"Attempting to set AAD in unsupported state\");this._ghash.update(t),this._alen+=t.length},t.exports=f},function(t,e,r){var n=r(180),i=r(3).Buffer,o=r(87);function s(t,e,r,s){o.call(this),this._cipher=new n.AES(e),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=t}r(1)(s,o),s.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},function(t,e,r){var n=r(85);t.exports=b,b.simpleSieve=m,b.fermatTest=g;var i=r(16),o=new i(24),s=new(r(395)),a=new i(1),u=new i(2),c=new i(5),f=(new i(16),new i(8),new i(10)),h=new i(3),l=(new i(7),new i(11)),p=new i(4),d=(new i(12),null);function y(){if(null!==d)return d;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<e&&t[i]<=n&&r%t[i]!=0;i++);e!==i&&t[i]<=n||(t[e++]=r)}return d=t,t}function m(t){for(var e=y(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function g(t){var e=i.mont(t);return 0===u.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function b(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var r,d;for(e=new i(e);;){for(r=new i(n(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(u),e.cmp(u)){if(!e.cmp(c))for(;r.mod(f).cmp(h);)r.iadd(p)}else for(;r.mod(o).cmp(l);)r.iadd(p);if(m(d=r.shrn(1))&&m(r)&&g(d)&&g(r)&&s.test(d)&&s.test(r))return r}}},function(t,e,r){var n=r(16),i=r(396);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},o.prototype.test=function(t,e,r){var i=t.bitLength(),o=n.mont(t),s=new n(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),u=0;!a.testn(u);u++);for(var c=t.shrn(u),f=a.toRed(o);e>0;e--){var h=this._randrange(new n(2),a);r&&r(h);var l=h.toRed(o).redPow(c);if(0!==l.cmp(s)&&0!==l.cmp(f)){for(var p=1;p<u;p++){if(0===(l=l.redSqr()).cmp(s))return!1;if(0===l.cmp(f))break}if(p===u)return!1}}return!0},o.prototype.getDivisor=function(t,e){var r=t.bitLength(),i=n.mont(t),o=new n(1).toRed(i);e||(e=Math.max(1,r/48|0));for(var s=t.subn(1),a=0;!s.testn(a);a++);for(var u=t.shrn(a),c=s.toRed(i);e>0;e--){var f=this._randrange(new n(2),s),h=t.gcd(f);if(0!==h.cmpn(1))return h;var l=f.toRed(i).redPow(u);if(0!==l.cmp(o)&&0!==l.cmp(c)){for(var p=1;p<a;p++){if(0===(l=l.redSqr()).cmp(o))return l.fromRed().subn(1).gcd(t);if(0===l.cmp(c))break}if(p===a)return(l=l.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,r){var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},\"object\"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:\"object\"==typeof window&&(i.prototype._rand=function(){throw new Error(\"Not implemented yet\")});else try{var o=r(802);if(\"function\"!=typeof o.randomBytes)throw new Error(\"Not supported\");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,r){\"use strict\";var n=e;function i(t){return 1===t.length?\"0\"+t:t}function o(t){for(var e=\"\",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(\"string\"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if(\"hex\"===e)for((t=t.replace(/[^a-z0-9]+/gi,\"\")).length%2!=0&&(t=\"0\"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},n.zero2=i,n.toHex=o,n.encode=function(t,e){return\"hex\"===e?o(t):t}},function(t,e,r){\"use strict\";var n=r(75).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?s(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},function(t,e,r){\"use strict\";var n=r(75),i=r(137),o=r(398),s=r(24),a=n.sum32,u=n.sum32_4,c=n.sum32_5,f=o.ch32,h=o.maj32,l=o.s0_256,p=o.s1_256,d=o.g0_256,y=o.g1_256,m=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(b,m),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(y(r[n-2]),r[n-7],d(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],g=this.h[3],b=this.h[4],v=this.h[5],_=this.h[6],w=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=c(w,p(b),f(b,v,_),this.k[n],r[n]),k=a(l(i),h(i,o,m));w=_,_=v,v=b,b=a(g,S),g=m,m=o,o=i,i=a(S,k)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],_),this.h[7]=a(this.h[7],w)},b.prototype._digest=function(t){return\"hex\"===t?n.toHex32(this.h,\"big\"):n.split32(this.h,\"big\")}},function(t,e,r){\"use strict\";var n=r(75),i=r(137),o=r(24),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,f=n.sum64,h=n.sum64_hi,l=n.sum64_lo,p=n.sum64_4_hi,d=n.sum64_4_lo,y=n.sum64_5_hi,m=n.sum64_5_lo,g=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function _(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function w(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function S(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function k(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function E(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function A(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function x(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function B(t,e){var r=s(t,e,1)^s(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,1)^a(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=s(t,e,19)^s(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}function M(t,e){var r=a(t,e,19)^a(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(v,g),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=C(r[n-4],r[n-3]),o=M(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=B(r[n-30],r[n-29]),c=I(r[n-30],r[n-29]),f=r[n-32],h=r[n-31];r[n]=p(i,o,s,a,u,c,f,h),r[n+1]=d(i,o,s,a,u,c,f,h)}},v.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],p=this.h[6],d=this.h[7],g=this.h[8],b=this.h[9],v=this.h[10],B=this.h[11],I=this.h[12],C=this.h[13],M=this.h[14],P=this.h[15];o(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var R=M,j=P,N=x(g,b),L=T(g,b),K=_(g,b,v,B,I),D=w(g,b,v,B,I,C),U=this.k[O],F=this.k[O+1],q=r[O],H=r[O+1],z=y(R,j,N,L,K,D,U,F,q,H),V=m(R,j,N,L,K,D,U,F,q,H);R=E(n,i),j=A(n,i),N=S(n,i,s,a,u),L=k(n,i,s,a,u,c);var G=h(R,j,N,L),W=l(R,j,N,L);M=I,P=C,I=v,C=B,v=g,B=b,g=h(p,d,z,V),b=l(d,d,z,V),p=u,d=c,u=s,c=a,s=n,a=i,n=h(z,V,G,W),i=l(z,V,G,W)}f(this.h,0,n,i),f(this.h,2,s,a),f(this.h,4,u,c),f(this.h,6,p,d),f(this.h,8,g,b),f(this.h,10,v,B),f(this.h,12,I,C),f(this.h,14,M,P)},v.prototype._digest=function(t){return\"hex\"===t?n.toHex32(this.h,\"big\"):n.split32(this.h,\"big\")}},function(t,e,r){var n=r(1),i=r(139).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){var e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){var n=e;n._reverse=function(t){var e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);var n=t[r];e[n]=r}),e},n.der=r(832)},function(t,e,r){var n=r(1),i=r(138),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){var r=t.readUInt8(e);if(t.isError(r))return r;var n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var o=r;for(r=0;128==(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=127&o}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){var n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(var o=0;o<i;o++){n<<=8;var s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;var n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){var n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;var i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');var o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){var r=f(t,e);if(t.isError(r))return r;var n,i=h(t,r.primitive,e);if(t.isError(i))return i;if(n=r.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(n))return n;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,\"end\");if(t.isError(o))return o;var s=r.decode(t,\"der\",n);if(t.isError(s)&&o)break;i.push(s)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){var r=t.readUInt8();return t.isError(r)?r:{unused:r,data:t.raw()}}if(\"bmpstr\"===e){var n=t.raw();if(n.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");for(var i=\"\",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if(\"numstr\"===e){var s=t.raw().toString(\"ascii\");return this._isNumstr(s)?s:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){var a=t.raw().toString(\"ascii\");return this._isPrintstr(a)?a:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){for(var n,i=[],o=0;!t.isEmpty();){var s=t.readUInt8();o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0)}128&s&&i.push(o);var a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){var c=e[n.join(\" \")];void 0===c&&(c=e[n.join(\".\")]),void 0!==c&&(n=c)}return n},c.prototype._decodeTime=function(t,e){var r=t.raw().toString();if(\"gentime\"===e)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(t){return null},c.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){var r=t.raw(),n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){var n=r(1),i=r(0).Buffer,o=r(138),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){var o,s=function(t,e,r,n){var i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128)return(o=new i(2))[0]=s,o[1]=n.length,this._createEncoderBuffer([o,n]);for(var u=1,c=n.length;c>=256;c>>=8)u++;(o=new i(2+u))[0]=s,o[1]=128|u;c=1+u;for(var f=n.length;f>0;c--,f>>=8)o[c]=255&f;return this._createEncoderBuffer([o,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){for(var r=new i(2*t.length),n=0;n<t.length;n++)r.writeUInt16BE(t.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s\\.]+/g);for(var n=0;n<t.length;n++)t[n]|=0}else if(Array.isArray(t)){t=t.slice();for(n=0;n<t.length;n++)t[n]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}var o=0;for(n=0;n<t.length;n++){var s=t[n];for(o++;s>=128;s>>=7)o++}var a=new i(o),u=a.length-1;for(n=t.length-1;n>=0;n--){s=t[n];for(a[u--]=127&s;(s>>=7)>0;)a[u--]=128|127&s}return this._createEncoderBuffer(a)},c.prototype._encodeTime=function(t,e){var r,n=new Date(t);return\"gentime\"===e?r=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){var r=t.toArray();!t.sign&&128&r[0]&&r.unshift(0),t=new i(r)}if(i.isBuffer(t)){var n=t.length;0===t.length&&n++;var o=new i(n);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);n=1;for(var s=t;s>=256;s>>=8)n++;for(s=(o=new Array(n)).length-1;s>=0;s--)o[s]=255&t,t>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){var n,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},function(t){t.exports={\"1.3.132.0.10\":\"secp256k1\",\"1.3.132.0.33\":\"p224\",\"1.2.840.10045.3.1.1\":\"p192\",\"1.2.840.10045.3.1.7\":\"p256\",\"1.3.132.0.34\":\"p384\",\"1.3.132.0.35\":\"p521\"}},function(t,e,r){(function(e){var n=r(74);function i(t){var r=new e(4);return r.writeUInt32BE(t,0),r}t.exports=function(t,r){for(var o,s=new e(\"\"),a=0;s.length<r;)o=i(a++),s=e.concat([s,n(\"sha1\").update(t).update(o).digest()]);return s.slice(0,r)}}).call(this,r(0).Buffer)},function(t,e){t.exports=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t}},function(t,e,r){(function(e){var n=r(16);t.exports=function(t,r){return new e(t.toRed(n.mont(r.modulus)).redPow(new n(r.publicExponent)).fromRed().toArray())}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(16),i=r(236),o=function(t){return new n(t.slice(2),16)},s=function(t){var e=\"0x\"+(\"0x\"===t.slice(0,2)?new n(t.slice(2),16):new n(t,10)).toString(\"hex\");return\"0x0\"===e?\"0x\":e},a=function(t){return\"string\"==typeof t?/^0x/.test(t)?t:\"0x\"+t:\"0x\"+new n(t).toString(\"hex\")},u=function(t){return o(t).toNumber()},c=function(t){return function(e,r){return function(t){return\"0x\"+t.toString(\"hex\")}(o(e)[t](o(r)))}},f=c(\"add\"),h=c(\"mul\"),l=c(\"div\"),p=c(\"sub\");t.exports={toString:function(t){return o(t).toString(10)},fromString:s,toNumber:u,fromNumber:a,toEther:function(t){return u(l(t,s(\"10000000000\")))/1e8},fromEther:function(t){return h(a(Math.floor(1e8*t)),s(\"10000000000\"))},toUint256:function(t){return i.pad(32,t)},add:f,mul:h,div:l,sub:p}},function(t,e){t.exports={encode:function(t){var e=function(t){return function(t){return t.length%2==0?t:\"0\"+t}(t.toString(16))},r=function(t,r){return t<56?e(r+t):e(r+e(t).length/2+55)+e(t)};return\"0x\"+function t(e){if(\"string\"==typeof e){var n=e.slice(2);return(2!=n.length||n>=\"80\"?r(n.length/2,128):\"\")+n}var i=e.map(t).join(\"\");return r(i.length/2,192)+i}(t)},decode:function(t){var e=2,r=function(){if(e>=t.length)throw\"\";var r=t.slice(e,e+2);return r<\"80\"?(e+=2,\"0x\"+r):r<\"c0\"?i():o()},n=function(){var r=parseInt(t.slice(e,e+=2),16)%64;return r<56?r:parseInt(t.slice(e,e+=2*(r-55)),16)},i=function(){var r=n();return\"0x\"+t.slice(e,e+=2*r)},o=function(){for(var t=2*n()+e,i=[];e<t;)i.push(r());return i};try{return r()}catch(t){return[]}}}},function(t,e){var r=\"0123456789abcdef\".split(\"\"),n=[1,256,65536,16777216],i=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=function(t){var e,r,n,i,s,a,u,c,f,h,l,p,d,y,m,g,b,v,_,w,S,k,E,A,x,T,B,I,C,M,P,O,R,j,N,L,K,D,U,F,q,H,z,V,G,W,$,Y,J,Z,X,Q,tt,et,rt,nt,it,ot,st,at,ut,ct,ft;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],u=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],f=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(p=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|u>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(u<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(c<<1|f>>>31),r=s^(f<<1|c>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(h<<1|l>>>31),r=u^(l<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=c^(p<<1|d>>>31),r=f^(d<<1|p>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|s>>>31),r=l^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,y=t[0],m=t[1],W=t[11]<<4|t[10]>>>28,$=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,C=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,z=t[41]<<18|t[40]>>>14,j=t[2]<<1|t[3]>>>31,N=t[3]<<1|t[2]>>>31,g=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,J=t[23]<<10|t[22]>>>22,M=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,L=t[14]<<6|t[15]>>>26,K=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,_=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,R=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,x=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,S=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,T=t[18]<<20|t[19]>>>12,B=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,F=t[38]<<8|t[39]>>>24,q=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,E=t[49]<<14|t[48]>>>18,t[0]=y^~g&v,t[1]=m^~b&_,t[10]=A^~T&I,t[11]=x^~B&C,t[20]=j^~L&D,t[21]=N^~K&U,t[30]=V^~W&Y,t[31]=G^~$&J,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=g^~v&w,t[3]=b^~_&S,t[12]=T^~I&M,t[13]=B^~C&P,t[22]=L^~D&F,t[23]=K^~U&q,t[32]=W^~Y&Z,t[33]=$^~J&X,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=v^~w&k,t[5]=_^~S&E,t[14]=I^~M&O,t[15]=C^~P&R,t[24]=D^~F&H,t[25]=U^~q&z,t[34]=Y^~Z&Q,t[35]=J^~X&tt,t[44]=ot^~at&ct,t[45]=st^~ut&ft,t[6]=w^~k&y,t[7]=S^~E&m,t[16]=M^~O&A,t[17]=P^~R&x,t[26]=F^~H&j,t[27]=q^~z&N,t[36]=Z^~Q&V,t[37]=X^~tt&G,t[46]=at^~ct&et,t[47]=ut^~ft&rt,t[8]=k^~y&g,t[9]=E^~m&b,t[18]=O^~A&T,t[19]=R^~x&B,t[28]=H^~j&L,t[29]=z^~N&K,t[38]=Q^~V&W,t[39]=tt^~G&$,t[48]=ct^~et&nt,t[49]=ft^~rt&it,t[0]^=o[n],t[1]^=o[n+1]},a=function(t){return function(e){var o;if(\"0x\"===e.slice(0,2)){o=[];for(var a=2,u=e.length;a<u;a+=2)o.push(parseInt(e.slice(a,a+2),16))}else o=e;return function(t,e){for(var o,a=e.length,u=t.blocks,c=t.blockCount<<2,f=t.blockCount,h=t.outputBlocks,l=t.s,p=0;p<a;){if(t.reset)for(t.reset=!1,u[0]=t.block,m=1;m<f+1;++m)u[m]=0;if(\"string\"!=typeof e)for(m=t.start;p<a&&m<c;++p)u[m>>2]|=e[p]<<i[3&m++];else for(m=t.start;p<a&&m<c;++p)(o=e.charCodeAt(p))<128?u[m>>2]|=o<<i[3&m++]:o<2048?(u[m>>2]|=(192|o>>6)<<i[3&m++],u[m>>2]|=(128|63&o)<<i[3&m++]):o<55296||o>=57344?(u[m>>2]|=(224|o>>12)<<i[3&m++],u[m>>2]|=(128|o>>6&63)<<i[3&m++],u[m>>2]|=(128|63&o)<<i[3&m++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++p)),u[m>>2]|=(240|o>>18)<<i[3&m++],u[m>>2]|=(128|o>>12&63)<<i[3&m++],u[m>>2]|=(128|o>>6&63)<<i[3&m++],u[m>>2]|=(128|63&o)<<i[3&m++]);if(t.lastByteIndex=m,m>=c){for(t.start=m-c,t.block=u[f],m=0;m<f;++m)l[m]^=u[m];s(l),t.reset=!0}else t.start=m}if(u[(m=t.lastByteIndex)>>2]|=n[3&m],t.lastByteIndex===c)for(u[0]=u[f],m=1;m<f+1;++m)u[m]=0;for(u[f-1]|=2147483648,m=0;m<f;++m)l[m]^=u[m];s(l);for(var d,y=\"\",m=0,g=0;g<h;){for(m=0;m<f&&g<h;++m,++g)d=l[m],y+=r[d>>4&15]+r[15&d]+r[d>>12&15]+r[d>>8&15]+r[d>>20&15]+r[d>>16&15]+r[d>>28&15]+r[d>>24&15];g%f==0&&(s(l),m=0)}return\"0x\"+y}(function(t){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:function(t){return[].concat(t,t,t,t,t)}([0,0,0,0,0,0,0,0,0,0])}}(t),o)}};t.exports={keccak256:a(256),keccak512:a(512),keccak256s:a(256),keccak512s:a(512)}},function(t,e,r){r(872);var n=function(t,e){return parseInt(t.slice(2*e+2,2*e+4),16)},i=function(t){return(t.length-2)/2},o=function(t){for(var e=[],r=2,n=t.length;r<n;r+=2)e.push(parseInt(t.slice(r,r+2),16));return e},s=function(t){for(var e=\"0x\",r=0,n=t.length;r<n;++r){var i=t[r];e+=(i<16?\"0\":\"\")+i.toString(16)}return e};t.exports={random:function(t){var e=void 0;e=\"undefined\"!=typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(t)):r(96).randomBytes(t);for(var n=\"0x\",i=0;i<t;++i)n+=(\"00\"+e[i].toString(16)).slice(-2);return n},length:i,concat:function(t,e){return t.concat(e.slice(2))},flatten:function(t){return\"0x\"+t.reduce(function(t,e){return t+e.slice(2)},\"\")},slice:function(t,e,r){return\"0x\"+r.slice(2*t+2,2*e+2)},reverse:function(t){for(var e=\"0x\",r=0,n=i(t);r<n;++r)e+=t.slice(2*(n-r),2*(n-r+1));return e},pad:function t(e,r){return r.length===2*e+2?r:t(e,\"0x0\"+r.slice(2))},padRight:function t(e,r){return r.length===2*e+2?r:t(e,r+\"0\")},fromAscii:function(t){for(var e=\"0x\",r=0;r<t.length;++r)e+=(\"00\"+t.charCodeAt(r).toString(16)).slice(-2);return e},toAscii:function(t){for(var e=\"\",r=2;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.slice(r,r+2),16));return e},fromString:function(t){for(var e=function(t){var e=t.toString(16);return e.length<2?\"0\"+e:e},r=\"0x\",n=0;n!=t.length;n++){var i=t.charCodeAt(n);if(i<128)r+=e(i);else{if(i<2048)r+=e(i>>6|192);else{if(i>55295&&i<56320){if(++n==t.length)return null;var o=t.charCodeAt(n);if(o<56320||o>57343)return null;r+=e((i=65536+((1023&i)<<10)+(1023&o))>>18|240),r+=e(i>>12&63|128)}else r+=e(i>>12|224);r+=e(i>>6&63|128)}r+=e(63&i|128)}}return r},toString:function(t){for(var e=\"\",r=0,o=i(t);r<o;){var s=n(t,r++);if(s>127){if(s>191&&s<224){if(r>=o)return null;s=(31&s)<<6|63&n(t,r)}else if(s>223&&s<240){if(r+1>=o)return null;s=(15&s)<<12|(63&n(t,r))<<6|63&n(t,++r)}else{if(!(s>239&&s<248))return null;if(r+2>=o)return null;s=(7&s)<<18|(63&n(t,r))<<12|(63&n(t,++r))<<6|63&n(t,++r)}++r}if(s<=65535)e+=String.fromCharCode(s);else{if(!(s<=1114111))return null;s-=65536,e+=String.fromCharCode(s>>10|55296),e+=String.fromCharCode(1023&s|56320)}}return e},fromNumber:function(t){var e=t.toString(16);return e.length%2==0?\"0x\"+e:\"0x0\"+e},toNumber:function(t){return parseInt(t.slice(2),16)},fromNat:function(t){return\"0x0\"===t?\"0x\":t.length%2==0?t:\"0x0\"+t.slice(2)},toNat:function(t){return\"0\"===t[2]?\"0x\"+t.slice(3):t},fromArray:s,toArray:o,fromUint8Array:function(t){return s([].slice.call(t,0))},toUint8Array:function(t){return new Uint8Array(o(t))}}},function(t,e,r){\"use strict\";t.exports=class{constructor(t){this._repo=t,this._bitswap=null}setExchange(t){this._bitswap=t}unsetExchange(){this._bitswap=null}hasExchange(){return null!=this._bitswap}put(t,e){if(this.hasExchange())return this._bitswap.put(t,e);this._repo.blocks.put(t,e)}putMany(t,e){if(this.hasExchange())return this._bitswap.putMany(t,e);this._repo.blocks.putMany(t,e)}get(t,e){return this.hasExchange()?this._bitswap.get(t,e):this._repo.blocks.get(t,e)}delete(t,e){this._repo.blocks.delete(t,e)}}},function(t,e,r){var n=r(3).Buffer;t.exports=function(t){for(var e={},r=t.length,i=t.charAt(0),o=0;o<t.length;o++){var s=t.charAt(o);if(void 0!==e[s])throw new TypeError(s+\" is ambiguous\");e[s]=o}function a(t){if(\"string\"!=typeof t)throw new TypeError(\"Expected String\");if(0===t.length)return n.allocUnsafe(0);for(var o=[0],s=0;s<t.length;s++){var a=e[t[s]];if(void 0===a)return;for(var u=0,c=a;u<o.length;++u)c+=o[u]*r,o[u]=255&c,c>>=8;for(;c>0;)o.push(255&c),c>>=8}for(var f=0;t[f]===i&&f<t.length-1;++f)o.push(0);return n.from(o.reverse())}return{encode:function(e){if(0===e.length)return\"\";for(var n=[0],o=0;o<e.length;++o){for(var s=0,a=e[o];s<n.length;++s)a+=n[s]<<8,n[s]=a%r,a=a/r|0;for(;a>0;)n.push(a%r),a=a/r|0}for(var u=\"\",c=0;0===e[c]&&c<e.length-1;++c)u+=i;for(var f=n.length-1;f>=0;--f)u+=t[n[f]];return u},decodeUnsafe:a,decode:function(t){var e=a(t);if(e)return e;throw new Error(\"Non-base\"+r+\" character\")}}}},function(t,e,r){\"use strict\";e.names=Object.freeze({sha1:17,\"sha2-256\":18,\"sha2-512\":19,\"dbl-sha2-256\":86,\"sha3-224\":23,\"sha3-256\":22,\"sha3-384\":21,\"sha3-512\":20,\"shake-128\":24,\"shake-256\":25,\"keccak-224\":26,\"keccak-256\":27,\"keccak-384\":28,\"keccak-512\":29,\"murmur3-128\":34,\"murmur3-32\":35,\"blake2b-8\":45569,\"blake2b-16\":45570,\"blake2b-24\":45571,\"blake2b-32\":45572,\"blake2b-40\":45573,\"blake2b-48\":45574,\"blake2b-56\":45575,\"blake2b-64\":45576,\"blake2b-72\":45577,\"blake2b-80\":45578,\"blake2b-88\":45579,\"blake2b-96\":45580,\"blake2b-104\":45581,\"blake2b-112\":45582,\"blake2b-120\":45583,\"blake2b-128\":45584,\"blake2b-136\":45585,\"blake2b-144\":45586,\"blake2b-152\":45587,\"blake2b-160\":45588,\"blake2b-168\":45589,\"blake2b-176\":45590,\"blake2b-184\":45591,\"blake2b-192\":45592,\"blake2b-200\":45593,\"blake2b-208\":45594,\"blake2b-216\":45595,\"blake2b-224\":45596,\"blake2b-232\":45597,\"blake2b-240\":45598,\"blake2b-248\":45599,\"blake2b-256\":45600,\"blake2b-264\":45601,\"blake2b-272\":45602,\"blake2b-280\":45603,\"blake2b-288\":45604,\"blake2b-296\":45605,\"blake2b-304\":45606,\"blake2b-312\":45607,\"blake2b-320\":45608,\"blake2b-328\":45609,\"blake2b-336\":45610,\"blake2b-344\":45611,\"blake2b-352\":45612,\"blake2b-360\":45613,\"blake2b-368\":45614,\"blake2b-376\":45615,\"blake2b-384\":45616,\"blake2b-392\":45617,\"blake2b-400\":45618,\"blake2b-408\":45619,\"blake2b-416\":45620,\"blake2b-424\":45621,\"blake2b-432\":45622,\"blake2b-440\":45623,\"blake2b-448\":45624,\"blake2b-456\":45625,\"blake2b-464\":45626,\"blake2b-472\":45627,\"blake2b-480\":45628,\"blake2b-488\":45629,\"blake2b-496\":45630,\"blake2b-504\":45631,\"blake2b-512\":45632,\"blake2s-8\":45633,\"blake2s-16\":45634,\"blake2s-24\":45635,\"blake2s-32\":45636,\"blake2s-40\":45637,\"blake2s-48\":45638,\"blake2s-56\":45639,\"blake2s-64\":45640,\"blake2s-72\":45641,\"blake2s-80\":45642,\"blake2s-88\":45643,\"blake2s-96\":45644,\"blake2s-104\":45645,\"blake2s-112\":45646,\"blake2s-120\":45647,\"blake2s-128\":45648,\"blake2s-136\":45649,\"blake2s-144\":45650,\"blake2s-152\":45651,\"blake2s-160\":45652,\"blake2s-168\":45653,\"blake2s-176\":45654,\"blake2s-184\":45655,\"blake2s-192\":45656,\"blake2s-200\":45657,\"blake2s-208\":45658,\"blake2s-216\":45659,\"blake2s-224\":45660,\"blake2s-232\":45661,\"blake2s-240\":45662,\"blake2s-248\":45663,\"blake2s-256\":45664,\"Skein256-8\":45825,\"Skein256-16\":45826,\"Skein256-24\":45827,\"Skein256-32\":45828,\"Skein256-40\":45829,\"Skein256-48\":45830,\"Skein256-56\":45831,\"Skein256-64\":45832,\"Skein256-72\":45833,\"Skein256-80\":45834,\"Skein256-88\":45835,\"Skein256-96\":45836,\"Skein256-104\":45837,\"Skein256-112\":45838,\"Skein256-120\":45839,\"Skein256-128\":45840,\"Skein256-136\":45841,\"Skein256-144\":45842,\"Skein256-152\":45843,\"Skein256-160\":45844,\"Skein256-168\":45845,\"Skein256-176\":45846,\"Skein256-184\":45847,\"Skein256-192\":45848,\"Skein256-200\":45849,\"Skein256-208\":45850,\"Skein256-216\":45851,\"Skein256-224\":45852,\"Skein256-232\":45853,\"Skein256-240\":45854,\"Skein256-248\":45855,\"Skein256-256\":45856,\"Skein512-8\":45857,\"Skein512-16\":45858,\"Skein512-24\":45859,\"Skein512-32\":45860,\"Skein512-40\":45861,\"Skein512-48\":45862,\"Skein512-56\":45863,\"Skein512-64\":45864,\"Skein512-72\":45865,\"Skein512-80\":45866,\"Skein512-88\":45867,\"Skein512-96\":45868,\"Skein512-104\":45869,\"Skein512-112\":45870,\"Skein512-120\":45871,\"Skein512-128\":45872,\"Skein512-136\":45873,\"Skein512-144\":45874,\"Skein512-152\":45875,\"Skein512-160\":45876,\"Skein512-168\":45877,\"Skein512-176\":45878,\"Skein512-184\":45879,\"Skein512-192\":45880,\"Skein512-200\":45881,\"Skein512-208\":45882,\"Skein512-216\":45883,\"Skein512-224\":45884,\"Skein512-232\":45885,\"Skein512-240\":45886,\"Skein512-248\":45887,\"Skein512-256\":45888,\"Skein512-264\":45889,\"Skein512-272\":45890,\"Skein512-280\":45891,\"Skein512-288\":45892,\"Skein512-296\":45893,\"Skein512-304\":45894,\"Skein512-312\":45895,\"Skein512-320\":45896,\"Skein512-328\":45897,\"Skein512-336\":45898,\"Skein512-344\":45899,\"Skein512-352\":45900,\"Skein512-360\":45901,\"Skein512-368\":45902,\"Skein512-376\":45903,\"Skein512-384\":45904,\"Skein512-392\":45905,\"Skein512-400\":45906,\"Skein512-408\":45907,\"Skein512-416\":45908,\"Skein512-424\":45909,\"Skein512-432\":45910,\"Skein512-440\":45911,\"Skein512-448\":45912,\"Skein512-456\":45913,\"Skein512-464\":45914,\"Skein512-472\":45915,\"Skein512-480\":45916,\"Skein512-488\":45917,\"Skein512-496\":45918,\"Skein512-504\":45919,\"Skein512-512\":45920,\"Skein1024-8\":45921,\"Skein1024-16\":45922,\"Skein1024-24\":45923,\"Skein1024-32\":45924,\"Skein1024-40\":45925,\"Skein1024-48\":45926,\"Skein1024-56\":45927,\"Skein1024-64\":45928,\"Skein1024-72\":45929,\"Skein1024-80\":45930,\"Skein1024-88\":45931,\"Skein1024-96\":45932,\"Skein1024-104\":45933,\"Skein1024-112\":45934,\"Skein1024-120\":45935,\"Skein1024-128\":45936,\"Skein1024-136\":45937,\"Skein1024-144\":45938,\"Skein1024-152\":45939,\"Skein1024-160\":45940,\"Skein1024-168\":45941,\"Skein1024-176\":45942,\"Skein1024-184\":45943,\"Skein1024-192\":45944,\"Skein1024-200\":45945,\"Skein1024-208\":45946,\"Skein1024-216\":45947,\"Skein1024-224\":45948,\"Skein1024-232\":45949,\"Skein1024-240\":45950,\"Skein1024-248\":45951,\"Skein1024-256\":45952,\"Skein1024-264\":45953,\"Skein1024-272\":45954,\"Skein1024-280\":45955,\"Skein1024-288\":45956,\"Skein1024-296\":45957,\"Skein1024-304\":45958,\"Skein1024-312\":45959,\"Skein1024-320\":45960,\"Skein1024-328\":45961,\"Skein1024-336\":45962,\"Skein1024-344\":45963,\"Skein1024-352\":45964,\"Skein1024-360\":45965,\"Skein1024-368\":45966,\"Skein1024-376\":45967,\"Skein1024-384\":45968,\"Skein1024-392\":45969,\"Skein1024-400\":45970,\"Skein1024-408\":45971,\"Skein1024-416\":45972,\"Skein1024-424\":45973,\"Skein1024-432\":45974,\"Skein1024-440\":45975,\"Skein1024-448\":45976,\"Skein1024-456\":45977,\"Skein1024-464\":45978,\"Skein1024-472\":45979,\"Skein1024-480\":45980,\"Skein1024-488\":45981,\"Skein1024-496\":45982,\"Skein1024-504\":45983,\"Skein1024-512\":45984,\"Skein1024-520\":45985,\"Skein1024-528\":45986,\"Skein1024-536\":45987,\"Skein1024-544\":45988,\"Skein1024-552\":45989,\"Skein1024-560\":45990,\"Skein1024-568\":45991,\"Skein1024-576\":45992,\"Skein1024-584\":45993,\"Skein1024-592\":45994,\"Skein1024-600\":45995,\"Skein1024-608\":45996,\"Skein1024-616\":45997,\"Skein1024-624\":45998,\"Skein1024-632\":45999,\"Skein1024-640\":46e3,\"Skein1024-648\":46001,\"Skein1024-656\":46002,\"Skein1024-664\":46003,\"Skein1024-672\":46004,\"Skein1024-680\":46005,\"Skein1024-688\":46006,\"Skein1024-696\":46007,\"Skein1024-704\":46008,\"Skein1024-712\":46009,\"Skein1024-720\":46010,\"Skein1024-728\":46011,\"Skein1024-736\":46012,\"Skein1024-744\":46013,\"Skein1024-752\":46014,\"Skein1024-760\":46015,\"Skein1024-768\":46016,\"Skein1024-776\":46017,\"Skein1024-784\":46018,\"Skein1024-792\":46019,\"Skein1024-800\":46020,\"Skein1024-808\":46021,\"Skein1024-816\":46022,\"Skein1024-824\":46023,\"Skein1024-832\":46024,\"Skein1024-840\":46025,\"Skein1024-848\":46026,\"Skein1024-856\":46027,\"Skein1024-864\":46028,\"Skein1024-872\":46029,\"Skein1024-880\":46030,\"Skein1024-888\":46031,\"Skein1024-896\":46032,\"Skein1024-904\":46033,\"Skein1024-912\":46034,\"Skein1024-920\":46035,\"Skein1024-928\":46036,\"Skein1024-936\":46037,\"Skein1024-944\":46038,\"Skein1024-952\":46039,\"Skein1024-960\":46040,\"Skein1024-968\":46041,\"Skein1024-976\":46042,\"Skein1024-984\":46043,\"Skein1024-992\":46044,\"Skein1024-1000\":46045,\"Skein1024-1008\":46046,\"Skein1024-1016\":46047,\"Skein1024-1024\":46048}),e.codes=Object.freeze({17:\"sha1\",18:\"sha2-256\",19:\"sha2-512\",86:\"dbl-sha2-256\",23:\"sha3-224\",22:\"sha3-256\",21:\"sha3-384\",20:\"sha3-512\",24:\"shake-128\",25:\"shake-256\",26:\"keccak-224\",27:\"keccak-256\",28:\"keccak-384\",29:\"keccak-512\",34:\"murmur3-128\",35:\"murmur3-32\",45569:\"blake2b-8\",45570:\"blake2b-16\",45571:\"blake2b-24\",45572:\"blake2b-32\",45573:\"blake2b-40\",45574:\"blake2b-48\",45575:\"blake2b-56\",45576:\"blake2b-64\",45577:\"blake2b-72\",45578:\"blake2b-80\",45579:\"blake2b-88\",45580:\"blake2b-96\",45581:\"blake2b-104\",45582:\"blake2b-112\",45583:\"blake2b-120\",45584:\"blake2b-128\",45585:\"blake2b-136\",45586:\"blake2b-144\",45587:\"blake2b-152\",45588:\"blake2b-160\",45589:\"blake2b-168\",45590:\"blake2b-176\",45591:\"blake2b-184\",45592:\"blake2b-192\",45593:\"blake2b-200\",45594:\"blake2b-208\",45595:\"blake2b-216\",45596:\"blake2b-224\",45597:\"blake2b-232\",45598:\"blake2b-240\",45599:\"blake2b-248\",45600:\"blake2b-256\",45601:\"blake2b-264\",45602:\"blake2b-272\",45603:\"blake2b-280\",45604:\"blake2b-288\",45605:\"blake2b-296\",45606:\"blake2b-304\",45607:\"blake2b-312\",45608:\"blake2b-320\",45609:\"blake2b-328\",45610:\"blake2b-336\",45611:\"blake2b-344\",45612:\"blake2b-352\",45613:\"blake2b-360\",45614:\"blake2b-368\",45615:\"blake2b-376\",45616:\"blake2b-384\",45617:\"blake2b-392\",45618:\"blake2b-400\",45619:\"blake2b-408\",45620:\"blake2b-416\",45621:\"blake2b-424\",45622:\"blake2b-432\",45623:\"blake2b-440\",45624:\"blake2b-448\",45625:\"blake2b-456\",45626:\"blake2b-464\",45627:\"blake2b-472\",45628:\"blake2b-480\",45629:\"blake2b-488\",45630:\"blake2b-496\",45631:\"blake2b-504\",45632:\"blake2b-512\",45633:\"blake2s-8\",45634:\"blake2s-16\",45635:\"blake2s-24\",45636:\"blake2s-32\",45637:\"blake2s-40\",45638:\"blake2s-48\",45639:\"blake2s-56\",45640:\"blake2s-64\",45641:\"blake2s-72\",45642:\"blake2s-80\",45643:\"blake2s-88\",45644:\"blake2s-96\",45645:\"blake2s-104\",45646:\"blake2s-112\",45647:\"blake2s-120\",45648:\"blake2s-128\",45649:\"blake2s-136\",45650:\"blake2s-144\",45651:\"blake2s-152\",45652:\"blake2s-160\",45653:\"blake2s-168\",45654:\"blake2s-176\",45655:\"blake2s-184\",45656:\"blake2s-192\",45657:\"blake2s-200\",45658:\"blake2s-208\",45659:\"blake2s-216\",45660:\"blake2s-224\",45661:\"blake2s-232\",45662:\"blake2s-240\",45663:\"blake2s-248\",45664:\"blake2s-256\",45825:\"Skein256-8\",45826:\"Skein256-16\",45827:\"Skein256-24\",45828:\"Skein256-32\",45829:\"Skein256-40\",45830:\"Skein256-48\",45831:\"Skein256-56\",45832:\"Skein256-64\",45833:\"Skein256-72\",45834:\"Skein256-80\",45835:\"Skein256-88\",45836:\"Skein256-96\",45837:\"Skein256-104\",45838:\"Skein256-112\",45839:\"Skein256-120\",45840:\"Skein256-128\",45841:\"Skein256-136\",45842:\"Skein256-144\",45843:\"Skein256-152\",45844:\"Skein256-160\",45845:\"Skein256-168\",45846:\"Skein256-176\",45847:\"Skein256-184\",45848:\"Skein256-192\",45849:\"Skein256-200\",45850:\"Skein256-208\",45851:\"Skein256-216\",45852:\"Skein256-224\",45853:\"Skein256-232\",45854:\"Skein256-240\",45855:\"Skein256-248\",45856:\"Skein256-256\",45857:\"Skein512-8\",45858:\"Skein512-16\",45859:\"Skein512-24\",45860:\"Skein512-32\",45861:\"Skein512-40\",45862:\"Skein512-48\",45863:\"Skein512-56\",45864:\"Skein512-64\",45865:\"Skein512-72\",45866:\"Skein512-80\",45867:\"Skein512-88\",45868:\"Skein512-96\",45869:\"Skein512-104\",45870:\"Skein512-112\",45871:\"Skein512-120\",45872:\"Skein512-128\",45873:\"Skein512-136\",45874:\"Skein512-144\",45875:\"Skein512-152\",45876:\"Skein512-160\",45877:\"Skein512-168\",45878:\"Skein512-176\",45879:\"Skein512-184\",45880:\"Skein512-192\",45881:\"Skein512-200\",45882:\"Skein512-208\",45883:\"Skein512-216\",45884:\"Skein512-224\",45885:\"Skein512-232\",45886:\"Skein512-240\",45887:\"Skein512-248\",45888:\"Skein512-256\",45889:\"Skein512-264\",45890:\"Skein512-272\",45891:\"Skein512-280\",45892:\"Skein512-288\",45893:\"Skein512-296\",45894:\"Skein512-304\",45895:\"Skein512-312\",45896:\"Skein512-320\",45897:\"Skein512-328\",45898:\"Skein512-336\",45899:\"Skein512-344\",45900:\"Skein512-352\",45901:\"Skein512-360\",45902:\"Skein512-368\",45903:\"Skein512-376\",45904:\"Skein512-384\",45905:\"Skein512-392\",45906:\"Skein512-400\",45907:\"Skein512-408\",45908:\"Skein512-416\",45909:\"Skein512-424\",45910:\"Skein512-432\",45911:\"Skein512-440\",45912:\"Skein512-448\",45913:\"Skein512-456\",45914:\"Skein512-464\",45915:\"Skein512-472\",45916:\"Skein512-480\",45917:\"Skein512-488\",45918:\"Skein512-496\",45919:\"Skein512-504\",45920:\"Skein512-512\",45921:\"Skein1024-8\",45922:\"Skein1024-16\",45923:\"Skein1024-24\",45924:\"Skein1024-32\",45925:\"Skein1024-40\",45926:\"Skein1024-48\",45927:\"Skein1024-56\",45928:\"Skein1024-64\",45929:\"Skein1024-72\",45930:\"Skein1024-80\",45931:\"Skein1024-88\",45932:\"Skein1024-96\",45933:\"Skein1024-104\",45934:\"Skein1024-112\",45935:\"Skein1024-120\",45936:\"Skein1024-128\",45937:\"Skein1024-136\",45938:\"Skein1024-144\",45939:\"Skein1024-152\",45940:\"Skein1024-160\",45941:\"Skein1024-168\",45942:\"Skein1024-176\",45943:\"Skein1024-184\",45944:\"Skein1024-192\",45945:\"Skein1024-200\",45946:\"Skein1024-208\",45947:\"Skein1024-216\",45948:\"Skein1024-224\",45949:\"Skein1024-232\",45950:\"Skein1024-240\",45951:\"Skein1024-248\",45952:\"Skein1024-256\",45953:\"Skein1024-264\",45954:\"Skein1024-272\",45955:\"Skein1024-280\",45956:\"Skein1024-288\",45957:\"Skein1024-296\",45958:\"Skein1024-304\",45959:\"Skein1024-312\",45960:\"Skein1024-320\",45961:\"Skein1024-328\",45962:\"Skein1024-336\",45963:\"Skein1024-344\",45964:\"Skein1024-352\",45965:\"Skein1024-360\",45966:\"Skein1024-368\",45967:\"Skein1024-376\",45968:\"Skein1024-384\",45969:\"Skein1024-392\",45970:\"Skein1024-400\",45971:\"Skein1024-408\",45972:\"Skein1024-416\",45973:\"Skein1024-424\",45974:\"Skein1024-432\",45975:\"Skein1024-440\",45976:\"Skein1024-448\",45977:\"Skein1024-456\",45978:\"Skein1024-464\",45979:\"Skein1024-472\",45980:\"Skein1024-480\",45981:\"Skein1024-488\",45982:\"Skein1024-496\",45983:\"Skein1024-504\",45984:\"Skein1024-512\",45985:\"Skein1024-520\",45986:\"Skein1024-528\",45987:\"Skein1024-536\",45988:\"Skein1024-544\",45989:\"Skein1024-552\",45990:\"Skein1024-560\",45991:\"Skein1024-568\",45992:\"Skein1024-576\",45993:\"Skein1024-584\",45994:\"Skein1024-592\",45995:\"Skein1024-600\",45996:\"Skein1024-608\",45997:\"Skein1024-616\",45998:\"Skein1024-624\",45999:\"Skein1024-632\",46000:\"Skein1024-640\",46001:\"Skein1024-648\",46002:\"Skein1024-656\",46003:\"Skein1024-664\",46004:\"Skein1024-672\",46005:\"Skein1024-680\",46006:\"Skein1024-688\",46007:\"Skein1024-696\",46008:\"Skein1024-704\",46009:\"Skein1024-712\",46010:\"Skein1024-720\",46011:\"Skein1024-728\",46012:\"Skein1024-736\",46013:\"Skein1024-744\",46014:\"Skein1024-752\",46015:\"Skein1024-760\",46016:\"Skein1024-768\",46017:\"Skein1024-776\",46018:\"Skein1024-784\",46019:\"Skein1024-792\",46020:\"Skein1024-800\",46021:\"Skein1024-808\",46022:\"Skein1024-816\",46023:\"Skein1024-824\",46024:\"Skein1024-832\",46025:\"Skein1024-840\",46026:\"Skein1024-848\",46027:\"Skein1024-856\",46028:\"Skein1024-864\",46029:\"Skein1024-872\",46030:\"Skein1024-880\",46031:\"Skein1024-888\",46032:\"Skein1024-896\",46033:\"Skein1024-904\",46034:\"Skein1024-912\",46035:\"Skein1024-920\",46036:\"Skein1024-928\",46037:\"Skein1024-936\",46038:\"Skein1024-944\",46039:\"Skein1024-952\",46040:\"Skein1024-960\",46041:\"Skein1024-968\",46042:\"Skein1024-976\",46043:\"Skein1024-984\",46044:\"Skein1024-992\",46045:\"Skein1024-1000\",46046:\"Skein1024-1008\",46047:\"Skein1024-1016\",46048:\"Skein1024-1024\"}),e.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46000:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})},function(t,e,r){\"use strict\";(function(n){const i=r(882);(e=t.exports=s).encode=function(t,e){const r=a(t);return s(r.name,n.from(r.encode(e)))},e.decode=function(t){n.isBuffer(t)&&(t=t.toString());const e=t.substring(0,1);\"string\"==typeof(t=t.substring(1,t.length))&&(t=n.from(t));const r=a(e);return r.name,n.from(r.decode(t.toString()))},e.isEncoded=function(t){n.isBuffer(t)&&(t=t.toString());const e=t.substring(0,1);try{const t=a(e);return t.name}catch(t){return!1}};const o=new Error(\"Unsupported encoding\");function s(t,e){if(!e)throw new Error(\"requires an encoded buffer\");const r=a(t),i=n.from(r.code);return function(t,e){a(t).decode(e.toString())}(r.name,e),n.concat([i,e])}function a(t){let e;if(i.names[t])e=i.names[t];else{if(!i.codes[t])throw o;e=i.codes[t]}if(!e.isImplemented())throw new Error(\"Base \"+t+\" is not implemented yet\");return e}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(185),i=r(418).varintBufferEncode,o={};t.exports=o;for(let t in n){let e=n[t];o[t]=i(e)}},function(t,e,r){\"use strict\";(function(e){const n=r(20);function i(t){return parseInt(t.toString(\"hex\"),16)}function o(t){let r=t.toString(16);return r.length%2==1&&(r=\"0\"+r),e.from(r,\"hex\")}t.exports={numberToBuffer:o,bufferToNumber:i,varintBufferEncode:function(t){return e.from(n.encode(i(t)))},varintBufferDecode:function(t){return o(n.decode(t))}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(185),i={};t.exports=i;for(let t in n){i[n[t].toString(\"hex\")]=t}},function(t,e){t.exports=function(t,e,r){t(e),r&&r(!0===e?null:e)}},function(t,e,r){\"use strict\";var n=r(420);t.exports=function(t,e){return function(r,i){if(r)return n(i,r,e);if(null!=t){var o=t;t=null,i(null,o)}else i(!0)}}},function(t,e,r){\"use strict\";function n(t){return t}var i=r(141);t.exports=function(t){return t?(t=i(t),function(e){return function(r,n){e(r,function(r,i){try{i=r?null:t(i)}catch(t){return e(t,function(){return n(t)})}n(r,i)})}}):n}},function(t,e,r){var n=r(141);function i(t){return t}t.exports=function(t){return\"object\"==typeof t&&\"function\"==typeof t.test?function(e){return t.test(e)}:n(t)||i}},function(t,e,r){\"use strict\";t.exports=function(t,e){var r=!1;function n(t){!r&&e&&(r=!0,e(!0===t?null:t))}return function(e){return function(r,i){return r&&n(r),e(r,function(e,r){e?n(e):t&&t(r),i(e,r)})}}}},function(t,e,r){\"use strict\";function n(t){return t}var i=r(141),o=r(142);t.exports=function(t,e){t=i(t)||n;var r={};return o(function(n){var i=t(n);return r[i]?!!e:(r[i]=!0,!e)})}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r){r=(0,o.default)(r||n.default);var a=(0,s.default)(t),u=function(t){if(t)return r(t);var n=(0,i.default)(arguments,1);if(e.apply(this,n))return a(u);r.apply(null,[null].concat(n))};a(u)};var n=a(r(65)),i=a(r(110)),o=a(r(111)),s=a(r(38));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return function(){var e=(0,n.default)(arguments),r=e.pop();t.call(this,e,r)}};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(110));t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(65)),i=a(r(100)),o=a(r(110)),s=a(r(38));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){(function(e){var r=\"object\"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(5))},function(t,e){var r=9007199254740991;t.exports=function(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=r}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(432)),i=o(r(38));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,h=0,l=!1;function p(t,e){if(h-=1,t)f=!0,u(t);else{if(e===a.default||f&&h<=0)return f=!0,u(null);l||d()}}function d(){for(l=!0;h<t&&!f;){var e=c();if(null===e)return f=!0,void(h<=0&&u(null));h+=1,r(e.value,e.key,(0,s.default)(p))}l=!1}d()}};var n=u(r(65)),i=u(r(189)),o=u(r(908)),s=u(r(111)),a=u(r(250));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){var n=r(434),i=r(918),o=r(100);t.exports=function(t){return o(t)?n(t):i(t)}},function(t,e,r){var n=r(910),i=r(435),o=r(99),s=r(912),a=r(436),u=r(914),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),f=!r&&i(t),h=!r&&!f&&s(t),l=!r&&!f&&!h&&u(t),p=r||f||h||l,d=p?n(t.length,String):[],y=d.length;for(var m in t)!e&&!c.call(t,m)||p&&(\"length\"==m||h&&(\"offset\"==m||\"parent\"==m)||l&&(\"buffer\"==m||\"byteLength\"==m||\"byteOffset\"==m)||a(m,y))||d.push(m);return d}},function(t,e,r){var n=r(911),i=r(193),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&s.call(t,\"callee\")&&!a.call(t,\"callee\")};t.exports=u},function(t,e){var r=9007199254740991,n=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?r:e)&&(\"number\"==i||\"symbol\"!=i&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||r)}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e){var r=1e3,n=60*r,i=60*n,o=24*i,s=365.25*o;function a(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+\" \"+r:Math.ceil(t/e)+\" \"+r+\"s\"}t.exports=function(t,e){e=e||{};var u=typeof t;if(\"string\"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return a*s;case\"days\":case\"day\":case\"d\":return a*o;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return a*i;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return a*n;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return a*r;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return a;default:return}}(t);if(\"number\"===u&&!1===isNaN(t))return e.long?function(t){return a(t,o,\"day\")||a(t,i,\"hour\")||a(t,n,\"minute\")||a(t,r,\"second\")||t+\" ms\"}(t):function(t){if(t>=o)return Math.round(t/o)+\"d\";if(t>=i)return Math.round(t/i)+\"h\";if(t>=n)return Math.round(t/n)+\"m\";if(t>=r)return Math.round(t/r)+\"s\";return t+\"ms\"}(t);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(t))}},function(t,e,r){\"use strict\";(function(e){const n=r(253),i=\"/\",o=e.from(i),s=o[0];class a{constructor(t,r){if(\"string\"==typeof t?this._buf=e.from(t):e.isBuffer(t)&&(this._buf=t),null==r&&(r=!0),r&&this.clean(),0===this._buf.length||this._buf[0]!==s)throw new Error(`Invalid key: ${this.toString()}`)}toString(t){return this._buf.toString(t||\"utf8\")}toBuffer(){return this._buf}get[Symbol.toStringTag](){return`[Key ${this.toString()}]`}static withNamespaces(t){return new a(t.join(i))}static random(){return new a(n().replace(/-/g,\"\"))}clean(){for(this._buf&&0!==this._buf.length||(this._buf=e.from(i)),this._buf[0]!==s&&(this._buf=e.concat([o,this._buf]));this._buf.length>1&&this._buf[this._buf.length-1]===s;)this._buf=this._buf.slice(0,-1)}less(t){const e=this.list(),r=t.list();for(let t=0;t<e.length;t++){if(r.length<t+1)return!1;const n=e[t],i=r[t];if(n<i)return!0;if(n>i)return!1}return e.length<r.length}reverse(){return a.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const t=this.namespaces();return t[t.length-1]}list(){return this.toString().split(i).slice(1)}type(){return function(t){const e=t.split(\":\");if(e.length<2)return\"\";return e.slice(0,-1).join(\":\")}(this.baseNamespace())}name(){return function(t){const e=t.split(\":\");return e[e.length-1]}(this.baseNamespace())}instance(t){return new a(this.toString()+\":\"+t)}path(){let t=this.parent().toString();return t.endsWith(i)||(t+=i),t+=this.type(),new a(t)}parent(){const t=this.list();return 1===t.length?new a(i):new a(t.slice(0,-1).join(i))}child(t){return this.toString()===i?t:t.toString()===i?this:new a(this.toString()+t.toString(),!1)}isAncestorOf(t){return t.toString()!==this.toString()&&t.toString().startsWith(this.toString())}isDecendantOf(t){return t.toString()!==this.toString()&&this.toString().startsWith(t.toString())}isTopLevel(){return 1===this.list().length}}t.exports=a}).call(this,r(0).Buffer)},function(t,e){var r=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,i=r;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],\"-\",i[t[n++]],i[t[n++]],\"-\",i[t[n++]],i[t[n++]],\"-\",i[t[n++]],i[t[n++]],\"-\",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join(\"\")}},function(t,e,r){\"use strict\";const n=r(444),i=r(35).Key,o=r(941),s=e.PREFIX=\"/repo/flatfs/shard/\",a=e.SHARDING_FN=\"SHARDING\";e.README_FN=\"_README\";class u{constructor(t){this.param=t}fun(t){throw new Error(\"implement me\")}toString(){return`${s}v1/${this.name}/${this.param}`}}class c extends u{constructor(t){super(t),this._padding=n(\"\",t,\"_\"),this.name=\"prefix\"}fun(t){return(t+this._padding).slice(0,this.param)}}class f extends u{constructor(t){super(t),this._padding=n(\"\",t,\"_\"),this.name=\"suffix\"}fun(t){const e=this._padding+t;return e.slice(e.length-this.param)}}class h extends u{constructor(t){super(t),this._padding=n(\"\",t+1,\"_\"),this.name=\"next-to-last\"}fun(t){const e=this._padding+t,r=e.length-this.param-1;return e.slice(r,r+this.param)}}function l(t){if(0===(t=t.trim()).length)throw new Error(\"empty shard string\");if(!t.startsWith(s))throw new Error(`invalid or no path prefix: ${t}`);const e=t.slice(s.length).split(\"/\"),r=e[0];if(\"v1\"!==r)throw new Error(`expect 'v1' version, got '${r}'`);const n=e[1];if(!e[2])throw new Error(\"missing param\");const i=parseInt(e[2],10);switch(n){case\"prefix\":return new c(i);case\"suffix\":return new f(i);case\"next-to-last\":return new h(i);default:throw new Error(`unkown sharding function: ${n}`)}}e.readShardFun=((t,e,r)=>{const n=new i(t).child(new i(a));(\"function\"==typeof e.getRaw?e.getRaw.bind(e):e.get.bind(e))(n,(t,e)=>{if(t)return r(t);let n;try{n=l((e||\"\").toString().trim())}catch(t){return r(t)}r(null,n)})}),e.readme=o,e.parseShardFun=l,e.Prefix=c,e.Suffix=f,e.NextToLast=h},function(t,e,r){\"use strict\";t.exports=function(t,e,r){if((e-=(t+=\"\").length)<=0)return t;r||0===r||(r=\" \");if(\" \"==(r+=\"\")&&e<10)return n[e]+t;var i=\"\";for(;1&e&&(i+=r),e>>=1;)r+=r;return i+t};var n=[\"\",\" \",\"  \",\"   \",\"    \",\"     \",\"      \",\"       \",\"        \",\"         \"]},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=o(r(947)),i=o(r(196));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default),t.exports=e.default},function(t,e,r){e.AbstractLevelDOWN=r(953),e.AbstractIterator=r(447),e.AbstractChainedBatch=r(448)},function(t,e,r){(function(e){function r(t){this.db=t,this._ended=!1,this._nexting=!1}r.prototype.next=function(t){var r=this;if(\"function\"!=typeof t)throw new Error(\"next() requires a callback argument\");return r._ended?(e.nextTick(t,new Error(\"cannot call next() after end()\")),r):r._nexting?(e.nextTick(t,new Error(\"cannot call next() before previous next() has completed\")),r):(r._nexting=!0,r._next(function(){r._nexting=!1,t.apply(null,arguments)}),r)},r.prototype._next=function(t){e.nextTick(t)},r.prototype.end=function(t){if(\"function\"!=typeof t)throw new Error(\"end() requires a callback argument\");if(this._ended)return e.nextTick(t,new Error(\"end() already called on iterator\"));this._ended=!0,this._end(t)},r.prototype._end=function(t){e.nextTick(t)},t.exports=r}).call(this,r(7))},function(t,e,r){(function(e){function r(t){this._db=t,this._operations=[],this._written=!1}r.prototype._serializeKey=function(t){return this._db._serializeKey(t)},r.prototype._serializeValue=function(t){return this._db._serializeValue(t)},r.prototype._checkWritten=function(){if(this._written)throw new Error(\"write() already called on this batch\")},r.prototype.put=function(t,e){this._checkWritten();var r=this._db._checkKey(t,\"key\");if(r)throw r;return t=this._serializeKey(t),e=this._serializeValue(e),this._put(t,e),this},r.prototype._put=function(t,e){this._operations.push({type:\"put\",key:t,value:e})},r.prototype.del=function(t){this._checkWritten();var e=this._db._checkKey(t,\"key\");if(e)throw e;return t=this._serializeKey(t),this._del(t),this},r.prototype._del=function(t){this._operations.push({type:\"del\",key:t})},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},r.prototype._clear=function(){},r.prototype.write=function(t,r){if(this._checkWritten(),\"function\"==typeof t&&(r=t),\"function\"!=typeof r)throw new Error(\"write() requires a callback argument\");return\"object\"!=typeof t&&(t={}),this._written=!0,\"function\"==typeof this._write?this._write(r):\"function\"==typeof this._db._batch?this._db._batch(this._operations,t,r):void e.nextTick(r)},t.exports=r}).call(this,r(7))},function(t,e,r){var n=r(450).create,i=n(\"LevelUPError\"),o=n(\"NotFoundError\",i);o.prototype.notFound=!0,o.prototype.status=404,t.exports={LevelUPError:i,InitializationError:n(\"InitializationError\",i),OpenError:n(\"OpenError\",i),ReadError:n(\"ReadError\",i),WriteError:n(\"WriteError\",i),NotFoundError:o,EncodingError:n(\"EncodingError\",i)}},function(t,e,r){var n=t.exports.all=[{errno:-2,code:\"ENOENT\",description:\"no such file or directory\"},{errno:-1,code:\"UNKNOWN\",description:\"unknown error\"},{errno:0,code:\"OK\",description:\"success\"},{errno:1,code:\"EOF\",description:\"end of file\"},{errno:2,code:\"EADDRINFO\",description:\"getaddrinfo error\"},{errno:3,code:\"EACCES\",description:\"permission denied\"},{errno:4,code:\"EAGAIN\",description:\"resource temporarily unavailable\"},{errno:5,code:\"EADDRINUSE\",description:\"address already in use\"},{errno:6,code:\"EADDRNOTAVAIL\",description:\"address not available\"},{errno:7,code:\"EAFNOSUPPORT\",description:\"address family not supported\"},{errno:8,code:\"EALREADY\",description:\"connection already in progress\"},{errno:9,code:\"EBADF\",description:\"bad file descriptor\"},{errno:10,code:\"EBUSY\",description:\"resource busy or locked\"},{errno:11,code:\"ECONNABORTED\",description:\"software caused connection abort\"},{errno:12,code:\"ECONNREFUSED\",description:\"connection refused\"},{errno:13,code:\"ECONNRESET\",description:\"connection reset by peer\"},{errno:14,code:\"EDESTADDRREQ\",description:\"destination address required\"},{errno:15,code:\"EFAULT\",description:\"bad address in system call argument\"},{errno:16,code:\"EHOSTUNREACH\",description:\"host is unreachable\"},{errno:17,code:\"EINTR\",description:\"interrupted system call\"},{errno:18,code:\"EINVAL\",description:\"invalid argument\"},{errno:19,code:\"EISCONN\",description:\"socket is already connected\"},{errno:20,code:\"EMFILE\",description:\"too many open files\"},{errno:21,code:\"EMSGSIZE\",description:\"message too long\"},{errno:22,code:\"ENETDOWN\",description:\"network is down\"},{errno:23,code:\"ENETUNREACH\",description:\"network is unreachable\"},{errno:24,code:\"ENFILE\",description:\"file table overflow\"},{errno:25,code:\"ENOBUFS\",description:\"no buffer space available\"},{errno:26,code:\"ENOMEM\",description:\"not enough memory\"},{errno:27,code:\"ENOTDIR\",description:\"not a directory\"},{errno:28,code:\"EISDIR\",description:\"illegal operation on a directory\"},{errno:29,code:\"ENONET\",description:\"machine is not on the network\"},{errno:31,code:\"ENOTCONN\",description:\"socket is not connected\"},{errno:32,code:\"ENOTSOCK\",description:\"socket operation on non-socket\"},{errno:33,code:\"ENOTSUP\",description:\"operation not supported on socket\"},{errno:34,code:\"ENOENT\",description:\"no such file or directory\"},{errno:35,code:\"ENOSYS\",description:\"function not implemented\"},{errno:36,code:\"EPIPE\",description:\"broken pipe\"},{errno:37,code:\"EPROTO\",description:\"protocol error\"},{errno:38,code:\"EPROTONOSUPPORT\",description:\"protocol not supported\"},{errno:39,code:\"EPROTOTYPE\",description:\"protocol wrong type for socket\"},{errno:40,code:\"ETIMEDOUT\",description:\"connection timed out\"},{errno:41,code:\"ECHARSET\",description:\"invalid Unicode character\"},{errno:42,code:\"EAIFAMNOSUPPORT\",description:\"address family for hostname not supported\"},{errno:44,code:\"EAISERVICE\",description:\"servname not supported for ai_socktype\"},{errno:45,code:\"EAISOCKTYPE\",description:\"ai_socktype not supported\"},{errno:46,code:\"ESHUTDOWN\",description:\"cannot send after transport endpoint shutdown\"},{errno:47,code:\"EEXIST\",description:\"file already exists\"},{errno:48,code:\"ESRCH\",description:\"no such process\"},{errno:49,code:\"ENAMETOOLONG\",description:\"name too long\"},{errno:50,code:\"EPERM\",description:\"operation not permitted\"},{errno:51,code:\"ELOOP\",description:\"too many symbolic links encountered\"},{errno:52,code:\"EXDEV\",description:\"cross-device link not permitted\"},{errno:53,code:\"ENOTEMPTY\",description:\"directory not empty\"},{errno:54,code:\"ENOSPC\",description:\"no space left on device\"},{errno:55,code:\"EIO\",description:\"i/o error\"},{errno:56,code:\"EROFS\",description:\"read-only file system\"},{errno:57,code:\"ENODEV\",description:\"no such device\"},{errno:58,code:\"ESPIPE\",description:\"invalid seek\"},{errno:59,code:\"ECANCELED\",description:\"operation canceled\"}];t.exports.errno={},t.exports.code={},n.forEach(function(e){t.exports.errno[e.errno]=e,t.exports.code[e.code]=e}),t.exports.custom=r(957)(t.exports),t.exports.create=t.exports.custom.createError},function(t,e){t.exports=function(){var t,e=new Promise(function(e,r){t=function(t,n){t?r(t):e(n)}});return t.promise=e,t}},function(t,e,r){(function(e){function r(t){this.db=t,this._ended=!1,this._nexting=!1}r.prototype.next=function(t){var r=this;if(\"function\"!=typeof t)throw new Error(\"next() requires a callback argument\");return r._ended?(e.nextTick(t,new Error(\"cannot call next() after end()\")),r):r._nexting?(e.nextTick(t,new Error(\"cannot call next() before previous next() has completed\")),r):(r._nexting=!0,r._next(function(){r._nexting=!1,t.apply(null,arguments)}),r)},r.prototype._next=function(t){e.nextTick(t)},r.prototype.end=function(t){if(\"function\"!=typeof t)throw new Error(\"end() requires a callback argument\");if(this._ended)return e.nextTick(t,new Error(\"end() already called on iterator\"));this._ended=!0,this._end(t)},r.prototype._end=function(t){e.nextTick(t)},t.exports=r}).call(this,r(7))},function(t,e,r){(function(e){function r(t){this._db=t,this._operations=[],this._written=!1}r.prototype._serializeKey=function(t){return this._db._serializeKey(t)},r.prototype._serializeValue=function(t){return this._db._serializeValue(t)},r.prototype._checkWritten=function(){if(this._written)throw new Error(\"write() already called on this batch\")},r.prototype.put=function(t,e){this._checkWritten();var r=this._db._checkKey(t,\"key\");if(r)throw r;return t=this._serializeKey(t),e=this._serializeValue(e),this._put(t,e),this},r.prototype._put=function(t,e){this._operations.push({type:\"put\",key:t,value:e})},r.prototype.del=function(t){this._checkWritten();var e=this._db._checkKey(t,\"key\");if(e)throw e;return t=this._serializeKey(t),this._del(t),this},r.prototype._del=function(t){this._operations.push({type:\"del\",key:t})},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},r.prototype._clear=function(){},r.prototype.write=function(t,r){if(this._checkWritten(),\"function\"==typeof t&&(r=t),\"function\"!=typeof r)throw new Error(\"write() requires a callback argument\");return\"object\"!=typeof t&&(t={}),this._written=!0,\"function\"==typeof this._write?this._write(r):\"function\"==typeof this._db._batch?this._db._batch(this._operations,t,r):void e.nextTick(r)},t.exports=r}).call(this,r(7))},function(t,e,r){e.AbstractLevelDOWN=r(455),e.AbstractIterator=r(456),e.AbstractChainedBatch=r(457),e.isLevelDOWN=r(965)},function(t,e,r){(function(e,n){var i=r(33),o=r(456),s=r(457);function a(t){if(!arguments.length||void 0===t)throw new Error(\"constructor requires at least a location argument\");if(\"string\"!=typeof t)throw new Error(\"constructor requires a location string argument\");this.location=t,this.status=\"new\"}a.prototype.open=function(t,r){var n=this,i=this.status;if(\"function\"==typeof t&&(r=t),\"function\"!=typeof r)throw new Error(\"open() requires a callback argument\");\"object\"!=typeof t&&(t={}),t.createIfMissing=0!=t.createIfMissing,t.errorIfExists=!!t.errorIfExists,\"function\"==typeof this._open?(this.status=\"opening\",this._open(t,function(t){if(t)return n.status=i,r(t);n.status=\"open\",r()})):(this.status=\"open\",e.nextTick(r))},a.prototype.close=function(t){var r=this,n=this.status;if(\"function\"!=typeof t)throw new Error(\"close() requires a callback argument\");\"function\"==typeof this._close?(this.status=\"closing\",this._close(function(e){if(e)return r.status=n,t(e);r.status=\"closed\",t()})):(this.status=\"closed\",e.nextTick(t))},a.prototype.get=function(t,r,n){var i;if(\"function\"==typeof r&&(n=r),\"function\"!=typeof n)throw new Error(\"get() requires a callback argument\");return(i=this._checkKey(t,\"key\",this._isBuffer))?n(i):(this._isBuffer(t)||(t=String(t)),\"object\"!=typeof r&&(r={}),r.asBuffer=0!=r.asBuffer,\"function\"==typeof this._get?this._get(t,r,n):void e.nextTick(function(){n(new Error(\"NotFound\"))}))},a.prototype.put=function(t,r,n,i){var o;if(\"function\"==typeof n&&(i=n),\"function\"!=typeof i)throw new Error(\"put() requires a callback argument\");return(o=this._checkKey(t,\"key\",this._isBuffer))?i(o):(this._isBuffer(t)||(t=String(t)),null==r||this._isBuffer(r)||e.browser||(r=String(r)),\"object\"!=typeof n&&(n={}),\"function\"==typeof this._put?this._put(t,r,n,i):void e.nextTick(i))},a.prototype.del=function(t,r,n){var i;if(\"function\"==typeof r&&(n=r),\"function\"!=typeof n)throw new Error(\"del() requires a callback argument\");return(i=this._checkKey(t,\"key\",this._isBuffer))?n(i):(this._isBuffer(t)||(t=String(t)),\"object\"!=typeof r&&(r={}),\"function\"==typeof this._del?this._del(t,r,n):void e.nextTick(n))},a.prototype.batch=function(t,r,n){if(!arguments.length)return this._chainedBatch();if(\"function\"==typeof r&&(n=r),\"function\"==typeof t&&(n=t),\"function\"!=typeof n)throw new Error(\"batch(array) requires a callback argument\");if(!Array.isArray(t))return n(new Error(\"batch(array) requires an array argument\"));r&&\"object\"==typeof r||(r={});for(var i,o,s=0,a=t.length;s<a;s++)if(\"object\"==typeof(i=t[s])){if(o=this._checkKey(i.type,\"type\",this._isBuffer))return n(o);if(o=this._checkKey(i.key,\"key\",this._isBuffer))return n(o)}if(\"function\"==typeof this._batch)return this._batch(t,r,n);e.nextTick(n)},a.prototype.approximateSize=function(t,r,n){if(null==t||null==r||\"function\"==typeof t||\"function\"==typeof r)throw new Error(\"approximateSize() requires valid `start`, `end` and `callback` arguments\");if(\"function\"!=typeof n)throw new Error(\"approximateSize() requires a callback argument\");if(this._isBuffer(t)||(t=String(t)),this._isBuffer(r)||(r=String(r)),\"function\"==typeof this._approximateSize)return this._approximateSize(t,r,n);e.nextTick(function(){n(null,0)})},a.prototype._setupIteratorOptions=function(t){var e=this;return t=i(t),[\"start\",\"end\",\"gt\",\"gte\",\"lt\",\"lte\"].forEach(function(r){t[r]&&e._isBuffer(t[r])&&0===t[r].length&&delete t[r]}),t.reverse=!!t.reverse,t.keys=0!=t.keys,t.values=0!=t.values,t.limit=\"limit\"in t?t.limit:-1,t.keyAsBuffer=0!=t.keyAsBuffer,t.valueAsBuffer=0!=t.valueAsBuffer,t},a.prototype.iterator=function(t){return\"object\"!=typeof t&&(t={}),t=this._setupIteratorOptions(t),\"function\"==typeof this._iterator?this._iterator(t):new o(this)},a.prototype._chainedBatch=function(){return new s(this)},a.prototype._isBuffer=function(t){return n.isBuffer(t)},a.prototype._checkKey=function(t,e){if(null===t||void 0===t)return new Error(e+\" cannot be `null` or `undefined`\");if(this._isBuffer(t)){if(0===t.length)return new Error(e+\" cannot be an empty Buffer\")}else if(\"\"===String(t))return new Error(e+\" cannot be an empty String\")},t.exports=a}).call(this,r(7),r(0).Buffer)},function(t,e,r){(function(e){function r(t){this.db=t,this._ended=!1,this._nexting=!1}r.prototype.next=function(t){var r=this;if(\"function\"!=typeof t)throw new Error(\"next() requires a callback argument\");return r._ended?t(new Error(\"cannot call next() after end()\")):r._nexting?t(new Error(\"cannot call next() before previous next() has completed\")):(r._nexting=!0,\"function\"==typeof r._next?r._next(function(){r._nexting=!1,t.apply(null,arguments)}):void e.nextTick(function(){r._nexting=!1,t()}))},r.prototype.end=function(t){if(\"function\"!=typeof t)throw new Error(\"end() requires a callback argument\");return this._ended?t(new Error(\"end() already called on iterator\")):(this._ended=!0,\"function\"==typeof this._end?this._end(t):void e.nextTick(t))},t.exports=r}).call(this,r(7))},function(t,e,r){(function(e){function r(t){this._db=t,this._operations=[],this._written=!1}r.prototype._checkWritten=function(){if(this._written)throw new Error(\"write() already called on this batch\")},r.prototype.put=function(t,e){this._checkWritten();var r=this._db._checkKey(t,\"key\",this._db._isBuffer);if(r)throw r;return this._db._isBuffer(t)||(t=String(t)),this._db._isBuffer(e)||(e=String(e)),\"function\"==typeof this._put?this._put(t,e):this._operations.push({type:\"put\",key:t,value:e}),this},r.prototype.del=function(t){this._checkWritten();var e=this._db._checkKey(t,\"key\",this._db._isBuffer);if(e)throw e;return this._db._isBuffer(t)||(t=String(t)),\"function\"==typeof this._del?this._del(t):this._operations.push({type:\"del\",key:t}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],\"function\"==typeof this._clear&&this._clear(),this},r.prototype.write=function(t,r){if(this._checkWritten(),\"function\"==typeof t&&(r=t),\"function\"!=typeof r)throw new Error(\"write() requires a callback argument\");return\"object\"!=typeof t&&(t={}),this._written=!0,\"function\"==typeof this._write?this._write(r):\"function\"==typeof this._db._batch?this._db._batch(this._operations,t,r):void e.nextTick(r)},t.exports=r}).call(this,r(7))},function(t,e,r){\"use strict\";const n=r(6),i=r(2),o=n(\"repo:lock\"),s={};e.lock=((t,e)=>{const r=t+\"/repo.lock\";o(\"locking %s\",r),s[r]=!0;const n={close(t){s[r]&&delete s[r],i(t)}};i(()=>{e(null,n)})}),e.locked=((t,e)=>{const r=t+\"/repo.lock\";o(\"checking lock: %s\");const n=s[r];i(()=>{e(null,n)})})},function(t,e){t.exports=function(t){var e,r=!1;Math.random();function n(n){if(!n)throw new Error(\"must be passed a readable\");e=n,r&&t(e)}return n.resolve=n.ready=n.start=function(i){return r=!0,t=i||t,e&&t(e),n},n}},function(t,e,r){var n=r(194),i=r(459);t.exports=function(){var t=n(),e=i();return{source:t,sink:e,resolve:function(r){t.resolve(r.source),e.resolve(r.sink)}}}},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var r=\"Input must be an string, Buffer or Uint8Array\";function n(t){return(4294967296+t).toString(16).substring(1)}t.exports={normalizeInput:function(t){var n;if(t instanceof Uint8Array)n=t;else if(t instanceof e)n=new Uint8Array(t);else{if(\"string\"!=typeof t)throw new Error(r);n=new Uint8Array(e.from(t,\"utf8\"))}return n},toHex:function(t){return Array.prototype.map.call(t,function(t){return(t<16?\"0\":\"\")+t.toString(16)}).join(\"\")},debugPrint:function(t,e,r){for(var i=\"\\n\"+t+\" = \",o=0;o<e.length;o+=2){if(32===r)i+=n(e[o]).toUpperCase(),i+=\" \",i+=n(e[o+1]).toUpperCase();else{if(64!==r)throw new Error(\"Invalid size \"+r);i+=n(e[o+1]).toUpperCase(),i+=n(e[o]).toUpperCase()}o%6==4?i+=\"\\n\"+new Array(t.length+4).join(\" \"):o<e.length-2&&(i+=\" \")}console.log(i)},testSpeed:function(t,e,r){for(var n=(new Date).getTime(),i=new Uint8Array(e),o=0;o<e;o++)i[o]=o%256;var s=(new Date).getTime();for(console.log(\"Generated random input in \"+(s-n)+\"ms\"),n=s,o=0;o<r;o++){var a=t(i),u=(new Date).getTime(),c=u-n;n=u,console.log(\"Hashed in \"+c+\"ms: \"+a.substring(0,20)+\"...\"),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+\" MB PER SECOND\")}}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(4),i=r(13),o=r(260);(e=t.exports).multicodec=\"dag-pb\",e.defaultHashAlg=\"sha2-256\",e.resolve=((t,e,r)=>{n([e=>o.deserialize(t,e),(t,n)=>{if(!e)return r(null,{value:t,remainderPath:\"\"});const i=e.split(\"/\");if(\"Links\"===i[0]){let e=\"\";if(!i[1])return n(null,{value:t.links.map(t=>t.toJSON()),remainderPath:\"\"});const r={};t.links.forEach((t,e)=>{const n=t.toJSON();r[e]=r[n.name]={hash:n.multihash,name:n.name,size:n.size}});let o=r[i[1]];\"Hash\"===i[2]?o={\"/\":o.hash}:\"Tsize\"===i[2]?o={\"/\":o.size}:\"Name\"===i[2]&&(o={\"/\":o.name}),n(null,{value:o,remainderPath:e=i.slice(3).join(\"/\")})}else if(\"Data\"===i[0])n(null,{value:t.data,remainderPath:\"\"});else{const e={};t.links.forEach((t,r)=>{const n=t.toJSON();e[n.name]={hash:n.multihash,name:n.name,size:n.size}});const r=e[i[0]];if(r)return n(null,{value:{\"/\":r.hash},remainderPath:i.slice(1).join(\"/\")});n(new Error(\"path not available\"))}}],r)}),e.tree=((t,e,r)=>{\"function\"==typeof e&&(r=e,e={}),e=e||{},o.deserialize(t,(t,e)=>{if(t)return r(t);const n=[];n.push(\"Links\"),e.links.forEach((t,e)=>{n.push(`Links/${e}/Name`),n.push(`Links/${e}/Tsize`),n.push(`Links/${e}/Hash`)}),n.push(\"Data\"),r(null,n)})}),e.isLink=((t,r,n)=>{e.resolve(t,r,(t,e)=>{if(t)return n(t);if(e.remainderPath.length>0)return n(new Error(\"path out of scope\"));if(\"object\"==typeof e.value&&e.value[\"/\"]){let r;try{r=i.isCID(new i(e.value[\"/\"]))}catch(t){r=!1}if(r)return n(null,e.value)}n(null,!1)})})},function(t,e,r){\"use strict\";e.util=r(465),e.resolver=r(469)},function(t,e,r){\"use strict\";(function(n){const i=r(1e3),o=r(67),s=r(13),a=r(4),u=r(2),c=r(1004),f=r(469),h=42;const l=new i.Decoder({tags:{[h]:t=>({\"/\":t=t.slice(1)})}});function p(t){let e;try{e=c(t)}catch(t){e=!1}if(e)throw new Error(\"The object passed has circular references\");return function t(e){if(!e||n.isBuffer(e)||\"string\"==typeof e)return e;if(Array.isArray(e))return e.map(t);const r=Object.keys(e);if(1===r.length&&\"/\"===r[0])return function(t){return\"string\"==typeof t&&(t=new s(t).buffer),new i.Tagged(h,n.concat([n.from(\"00\",\"hex\"),t]))}(e[\"/\"]);if(r.length>0){let n={};return r.forEach(r=>{\"object\"==typeof e[r]?n[r]=t(e[r]):n[r]=e[r]}),n}return e}(t)}(e=t.exports).serialize=((t,e)=>{let r;try{const n=p(t);r=i.encode(n)}catch(t){return u(()=>e(t))}u(()=>e(null,r))}),e.deserialize=((t,e)=>{let r;try{r=l.decodeFirst(t)}catch(t){return u(()=>e(t))}u(()=>e(null,r))}),e.cid=((t,r,n)=>{\"function\"==typeof r&&(n=r,r={});const i=(r=r||{}).hashAlg||f.defaultHashAlg,u=void 0===r.version?1:r.version;a([r=>e.serialize(t,r),(t,e)=>o(t,i,e),(t,e)=>e(null,new s(u,f.multicodec,t))],n)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e,n){const i=r(357),o=r(201),s=r(1002),a=r(262),u=r(202),c=r(467),f=r(468),h=r(79);class l{constructor(t){!(t=t||{}).size||t.size<65536?t.size=65536:t.size=a.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._reset(),this._knownTags=Object.assign({0:t=>new Date(t),1:t=>new Date(1e3*t),2:t=>a.arrayBufferToBignumber(t),3:t=>u.NEG_ONE.minus(a.arrayBufferToBignumber(t)),4:t=>u.TEN.pow(t[0]).times(t[1]),5:t=>u.TWO.pow(t[0]).times(t[1]),32:t=>h.parse(t),35:t=>new RegExp(t)},t.tags),this.parser=s(e,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case u.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case u.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case u.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case u.PARENT.MAP:if(t.values%2>0)throw new Error(\"Odd number of elements in the map\");this._push(this.createMap(t.ref,t.length));break;case u.PARENT.OBJECT:if(t.values%2>0)throw new Error(\"Odd number of elements in the map\");this._push(this.createObject(t.ref,t.length));break;case u.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length))}this._currentParent&&this._currentParent.type===u.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,0===t.length&&this._closeParent())}_push(t,e){const r=this._currentParent;switch(r.values++,r.type){case u.PARENT.ARRAY:case u.PARENT.BYTE_STRING:case u.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=t:this._ref.push(t),this._dec();break;case u.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=t,r.tmpKey=null,this._dec()):(r.tmpKey=t,\"string\"!=typeof r.tmpKey&&(r.type=u.PARENT.MAP,r.ref=a.buildMap(r.ref)));break;case u.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,t),r.tmpKey=null,this._dec()):r.tmpKey=t;break;case u.PARENT.TAG:this._ref.push(t),e||this._dec();break;default:throw new Error(\"Unknown parent type\")}}_createParent(t,e,r){this._parents[this._depth]={type:e,length:r,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:u.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,e){const r=this._knownTags[t];return r?r(e):new f(t,e)}createMap(t,e){return t}createObject(t,e){return t}createArray(t,e){return t}createByteString(t,e){return n.concat(t)}createByteStringFromHeap(t,e){return t===e?n.alloc(0):n.from(this._heap.slice(t,e))}createInt(t){return t}createInt32(t,e){return a.buildInt32(t,e)}createInt64(t,e,r,n){return a.buildInt64(t,e,r,n)}createFloat(t){return t}createFloatSingle(t,e,r,n){return i.read([t,e,r,n],0,!1,23,4)}createFloatDouble(t,e,r,n,o,s,a,u){return i.read([t,e,r,n,o,s,a,u],0,!1,52,8)}createInt32Neg(t,e){return-1-a.buildInt32(t,e)}createInt64Neg(t,e,r,n){const i=a.buildInt32(t,e),s=a.buildInt32(r,n);return i>u.MAX_SAFE_HIGH?u.NEG_ONE.minus(new o(i).times(u.SHIFT32).plus(s)):-1-(i*u.SHIFT32+s)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,e){return t.join(\"\")}createUtf8StringFromHeap(t,e){return t===e?\"\":n.from(this._heap.slice(t,e)).toString(\"utf8\")}createSimpleUnassigned(t){return new c(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,e){this._push(this.createInt32(t,e))}pushInt64(t,e,r,n){this._push(this.createInt64(t,e,r,n))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,e,r,n){this._push(this.createFloatSingle(t,e,r,n))}pushFloatDouble(t,e,r,n,i,o,s,a){this._push(this.createFloatDouble(t,e,r,n,i,o,s,a))}pushInt32Neg(t,e){this._push(this.createInt32Neg(t,e))}pushInt64Neg(t,e,r,n){this._push(this.createInt64Neg(t,e,r,n))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],u.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,e){const r=a.buildInt32(t,e);this._createArrayStartFixed(r)}pushArrayStartFixed64(t,e,r,n){const i=a.buildInt64(t,e,r,n);this._createArrayStartFixed(i)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,e){const r=a.buildInt32(t,e);this._createObjectStartFixed(r)}pushObjectStartFixed64(t,e,r,n){const i=a.buildInt64(t,e,r,n);this._createObjectStartFixed(i)}pushByteStringStart(){this._parents[this._depth]={type:u.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,e){this._push(this.createByteStringFromHeap(t,e))}pushUtf8StringStart(){this._parents[this._depth]={type:u.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,e){this._push(this.createUtf8StringFromHeap(t,e))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:u.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,e){this.pushTagStart(a.buildInt32(t,e))}pushTagStart8(t,e,r,n){this.pushTagStart(a.buildInt64(t,e,r,n))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error(\"Unexpected break\");this._closeParent()}_createObjectStartFixed(t){0!==t?this._createParent({},u.PARENT.OBJECT,t):this._push(this.createObject({}))}_createArrayStartFixed(t){0!==t?this._createParent(new Array(t),u.PARENT.ARRAY,t):this._push(this.createArray([]))}_decode(t){if(0===t.byteLength)throw new Error(\"Input too short\");this._reset(),this._heap8.set(t);const e=this.parser.parse(t.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw new Error(\"Undeterminated nesting\")}if(e>0)throw new Error(\"Failed to parse\");if(0===this._res.length)throw new Error(\"No valid result\")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,e){return\"string\"==typeof t&&(t=n.from(t,e||\"hex\")),new l({size:t.length}).decodeFirst(t)}static decodeAll(t,e){return\"string\"==typeof t&&(t=n.from(t,e||\"hex\")),new l({size:t.length}).decodeAll(t)}}l.decodeFirst=l.decode,t.exports=l}).call(this,r(5),r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(202),i=n.MT,o=n.SIMPLE,s=n.SYMS;class a{constructor(t){if(\"number\"!=typeof t)throw new Error(\"Invalid Simple type: \"+typeof t);if(t<0||t>255||(0|t)!==t)throw new Error(\"value must be a small positive integer: \"+t);this.value=t}toString(){return\"simple(\"+this.value+\")\"}inspect(){return\"simple(\"+this.value+\")\"}encodeCBOR(t){return t._pushInt(this.value,i.SIMPLE_FLOAT)}static isSimple(t){return t instanceof a}static decode(t,e){switch(null==e&&(e=!0),t){case o.FALSE:return!1;case o.TRUE:return!0;case o.NULL:return e?null:s.NULL;case o.UNDEFINED:return e?void 0:s.UNDEFINED;case-1:if(!e)throw new Error(\"Invalid BREAK\");return s.BREAK;default:return new a(t)}}}t.exports=a},function(t,e,r){\"use strict\";class n{constructor(t,e,r){if(this.tag=t,this.value=e,this.err=r,\"number\"!=typeof this.tag)throw new Error(\"Invalid tag type (\"+typeof this.tag+\")\");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error(\"Tag must be a positive integer: \"+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var e,r;if(\"function\"!=typeof(r=null!=t?t[this.tag]:void 0)&&\"function\"!=typeof(r=n[\"_tag\"+this.tag]))return this;try{return r.call(n,this.value)}catch(t){return e=t,this.err=e,this}}}t.exports=n},function(t,e,r){\"use strict\";(function(n){const i=r(465),o=r(470);(e=t.exports).multicodec=\"dag-cbor\",e.defaultHashAlg=\"sha2-256\",e.resolve=((t,e,r)=>{\"function\"==typeof e&&(r=e,e=void 0),i.deserialize(t,(t,i)=>{if(t)return r(t);if(!e||\"/\"===e)return r(null,{value:i,remainderPath:\"\"});const s=e.split(\"/\"),a=o(i).get(s);if(a)return r(null,{value:a,remainderPath:\"\"});let u,c=s.length;for(let t=0;t<c;t++){const t=s.shift();if(Array.isArray(i)&&!n.isBuffer(i)&&(u=i[Number(t)]),!i[t])return u?(s.unshift(t),r(null,{value:u,remainderPath:s.join(\"/\")})):r(new Error(\"path not available at root\"));i=u=i[t]}})}),e.tree=((t,e,r)=>{\"function\"==typeof e&&(r=e,e=void 0),e=e||{},i.deserialize(t,(t,e)=>{if(t)return r(t);const n=function(t,e){return e=e||\"/\",0===Object.keys(t).length?[]:o(t).reduce(function(t,r){\"object\"==typeof r&&r[\"/\"]&&this.update(void 0);const n=this.path.join(e);return\"\"!==n&&t.push({path:n,value:r}),t},[])}(e).map(t=>t.path);r(null,n)})}),e.isLink=((t,r,n)=>{e.resolve(t,r,(t,e)=>t?n(t):e.remainderPath.length>0?n(new Error(\"path out of scope\")):void(\"object\"==typeof e.value&&e.value[\"/\"]?n(null,e.value):n(null,!1)))})}).call(this,r(0).Buffer)},function(t,e){var r=t.exports=function(t){return new n(t)};function n(t){this.value=t}function i(t,e,r){var n=[],i=[],a=!0;return function t(h){var l={},p=!0,d={node:r?o(h):h,node_:h,path:[].concat(n),parent:i[i.length-1],parents:i,key:n.slice(-1)[0],isRoot:0===n.length,level:n.length,circular:null,update:function(t,e){d.isRoot||(d.parent.node[d.key]=t),d.node=t,e&&(p=!1)},delete:function(t){delete d.parent.node[d.key],t&&(p=!1)},remove:function(t){u(d.parent.node)?d.parent.node.splice(d.key,1):delete d.parent.node[d.key],t&&(p=!1)},keys:null,before:function(t){l.before=t},after:function(t){l.after=t},pre:function(t){l.pre=t},post:function(t){l.post=t},stop:function(){a=!1},block:function(){p=!1}};if(!a)return d;function y(){if(\"object\"==typeof d.node&&null!==d.node){d.keys&&d.node_===d.node||(d.keys=s(d.node)),d.isLeaf=0==d.keys.length;for(var t=0;t<i.length;t++)if(i[t].node_===h){d.circular=i[t];break}}else d.isLeaf=!0,d.keys=null;d.notLeaf=!d.isLeaf,d.notRoot=!d.isRoot}y();var m=e.call(d,d.node);return void 0!==m&&d.update&&d.update(m),l.before&&l.before.call(d,d.node),p?(\"object\"!=typeof d.node||null===d.node||d.circular||(i.push(d),y(),c(d.keys,function(e,i){n.push(e),l.pre&&l.pre.call(d,d.node[e],e);var o=t(d.node[e]);r&&f.call(d.node,e)&&(d.node[e]=o.node),o.isLast=i==d.keys.length-1,o.isFirst=0==i,l.post&&l.post.call(d,o),n.pop()}),i.pop()),l.after&&l.after.call(d,d.node),d):d}(t).node}function o(t){if(\"object\"==typeof t&&null!==t){var e;if(u(t))e=[];else if(function(t){return\"[object Date]\"===a(t)}(t))e=new Date(t.getTime?t.getTime():t);else if(function(t){return\"[object RegExp]\"===a(t)}(t))e=new RegExp(t);else if(function(t){return\"[object Error]\"===a(t)}(t))e={message:t.message};else if(function(t){return\"[object Boolean]\"===a(t)}(t))e=new Boolean(t);else if(function(t){return\"[object Number]\"===a(t)}(t))e=new Number(t);else if(function(t){return\"[object String]\"===a(t)}(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var r=t.constructor&&t.constructor.prototype||t.__proto__||{},n=function(){};n.prototype=r,e=new n}return c(s(t),function(r){e[r]=t[r]}),e}return t}n.prototype.get=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!e||!f.call(e,n)){e=void 0;break}e=e[n]}return e},n.prototype.has=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!e||!f.call(e,n))return!1;e=e[n]}return!0},n.prototype.set=function(t,e){for(var r=this.value,n=0;n<t.length-1;n++){var i=t[n];f.call(r,i)||(r[i]={}),r=r[i]}return r[t[n]]=e,e},n.prototype.map=function(t){return i(this.value,t,!0)},n.prototype.forEach=function(t){return this.value=i(this.value,t,!1),this.value},n.prototype.reduce=function(t,e){var r=1===arguments.length,n=r?this.value:e;return this.forEach(function(e){this.isRoot&&r||(n=t.call(this,n,e))}),n},n.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t},n.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t},n.prototype.clone=function(){var t=[],e=[];return function r(n){for(var i=0;i<t.length;i++)if(t[i]===n)return e[i];if(\"object\"==typeof n&&null!==n){var a=o(n);return t.push(n),e.push(a),c(s(n),function(t){a[t]=r(n[t])}),t.pop(),e.pop(),a}return n}(this.value)};var s=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function a(t){return Object.prototype.toString.call(t)}var u=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},c=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)};c(s(n.prototype),function(t){r[t]=function(e){var r=[].slice.call(arguments,1),i=new n(e);return i[t].apply(i,r)}});var f=Object.hasOwnProperty||function(t,e){return e in t}},function(t,e,r){\"use strict\";(function(n){const i=r(2),o=r(4),s=r(67),a=r(13),u=r(472),c=r(203),f=r(1008),h=r(1009),l=r(1010);(e=t.exports).serialize=((t,e)=>{if(null!==t)if(n.isBuffer(t))\"blob\"===t.slice(0,4).toString()?i(()=>e(null,t)):i(()=>e(new Error(\"unexpected dagNode passed to serialize\"),null));else switch(t.gitType){case\"commit\":f.serialize(t,e);break;case\"tag\":h.serialize(t,e);break;default:l.serialize(t,e)}else i(()=>e(new Error(\"dagNode passed to serialize was null\"),null))}),e.deserialize=((t,e)=>{let r=c.find(t,0),n=t.slice(0,r).toString().match(/([^ ]+) (\\d+)/);if(n)switch(n[1]){case\"blob\":e(null,t);break;case\"commit\":f.deserialize(t.slice(r+1),e);break;case\"tag\":h.deserialize(t.slice(r+1),e);break;case\"tree\":l.deserialize(t.slice(r+1),e);break;default:i(()=>e(new Error(\"unknown object type \"+n[1]),null))}else i(()=>e(new Error(\"invalid object header\"),null))}),e.cid=((t,r,n)=>{\"function\"==typeof r&&(n=r,r={});const i=(r=r||{}).hashAlg||u.defaultHashAlg,c=void 0===r.version?1:r.version;o([r=>e.serialize(t,r),(t,e)=>s(t,i,e),(t,e)=>e(null,new a(c,u.multicodec,t))],n)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(n){const i=r(471),o=r(470);(e=t.exports).multicodec=\"git-raw\",e.defaultHashAlg=\"sha1\";const s=[\"original\",\"name\",\"email\",\"date\"];e.resolve=((t,e,r)=>{\"function\"==typeof e&&(r=e,e=void 0),i.deserialize(t,(t,i)=>{if(t)return r(t);if(!e||\"/\"===e)return r(null,{value:i,remainderPath:\"\"});if(n.isBuffer(i))return r(null,{value:i,remainderPath:e});const s=e.split(\"/\"),a=o(i).get(s);if(a)return r(null,{value:a,remainderPath:\"\"});let u,c=s.length;for(let t=0;t<c;t++){const t=s.shift();if(Array.isArray(i)&&(u=i[Number(t)]),!i[t])return u?(s.unshift(t),r(null,{value:u,remainderPath:s.join(\"/\")})):r(new Error(\"path not available at root\"));i=u=i[t]}})}),e.tree=((t,e,r)=>{\"function\"==typeof e&&(r=e,e=void 0),e=e||{},i.deserialize(t,(t,e)=>{if(t)return r(t);if(n.isBuffer(e))return r(null,[]);let i=[];switch(e.gitType){case\"commit\":i=(i=(i=(i=[\"message\",\"tree\"]).concat(s.map(t=>\"author/\"+t))).concat(s.map(t=>\"committer/\"+t))).concat(e.parents.map((t,e)=>\"parents/\"+e)),e.encoding&&i.push(\"encoding\");break;case\"tag\":i=[\"object\",\"type\",\"tag\",\"message\"],e.tagger&&(i=i.concat(s.map(t=>\"tagger/\"+t)));break;default:Object.keys(e).forEach(t=>{i.push(t),i.push(t+\"/hash\"),i.push(t+\"/mode\")})}r(null,i)})}),e.isLink=((t,r,n)=>{e.resolve(t,r,(t,e)=>t?n(t):e.remainderPath.length>0?n(new Error(\"path out of scope\")):void(\"object\"==typeof e.value&&e.value[\"/\"]?n(null,e.value):n(null,!1)))})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1012).Block,i=r(13),o=r(10),s=r(67),a=r(4);t.exports={hashToCid:t=>{const e=r(263).defaultHashAlg,n=o.encode(t,e);return new i(1,\"bitcoin-block\",n)},BITCOIN_BLOCK_HEADER_SIZE:80,cid:(t,e,n)=>{\"function\"==typeof e&&(n=e,e={});const o=(e=e||{}).hashAlg||r(263).defaultHashAlg,u=void 0===e.version?1:e.version;a([e=>{try{s(t.toBuffer(!0),o,e)}catch(t){e(t)}},(t,e)=>e(null,new i(u,\"bitcoin-block\",t))],n)},deserialize:(t,e)=>{if(80!==t.length)return e(new Error(\"Bitcoin block header needs to be 80 bytes\"));e(null,n.fromBuffer(t))},serialize:(t,e)=>{let r,n=null;try{r=t.toBuffer(!0)}catch(t){n=t}finally{e(n,r)}}}},function(t,e,r){var n=r(44);function i(t){return t<n.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}t.exports={encodingLength:i,encode:function(t,e,r){var o=i(e);return 1===o?t.writeUInt8(e,r):2===o?(t.writeUInt8(n.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):3===o?(t.writeUInt8(n.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(n.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),o},decode:function(t,e){var r,i,o=t.readUInt8(e);if(o<n.OP_PUSHDATA1)r=o,i=1;else if(o===n.OP_PUSHDATA1){if(e+2>t.length)return null;r=t.readUInt8(e+1),i=2}else if(o===n.OP_PUSHDATA2){if(e+3>t.length)return null;r=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(o!==n.OP_PUSHDATA4)throw new Error(\"Unexpected opcode\");r=t.readUInt32LE(e+1),i=5}return{opcode:o,number:r,size:i}}}},function(t,e,r){var n=r(265);function i(t){return t.name||t.toString().match(/function (.*?)\\s*\\(/)[1]}function o(t){return n.Nil(t)?\"\":i(t.constructor)}function s(t){return n.Function(t)?t.toJSON?t.toJSON():i(t):n.Array(t)?\"Array\":t&&n.Object(t)?\"Object\":void 0!==t?t:\"\"}function a(t,e,r){var i=function(t){return n.Function(t)?\"\":n.String(t)?JSON.stringify(t):t&&n.Object(t)?\"\":t}(e);return\"Expected \"+s(t)+\", got\"+(\"\"!==r?\" \"+r:\"\")+(\"\"!==i?\" \"+i:\"\")}function u(t,e,r){r=r||o(e),this.message=a(t,e,r),Error.captureStackTrace(this,u),this.__type=t,this.__value=e,this.__valueTypeName=r}function c(t,e,r,n,i){t?(i=i||o(n),this.message=function(t,e,r,n,i){var o='\" of type ';return\"key\"===e&&(o='\" with key type '),a('property \"'+s(r)+o+s(t),n,i)}(t,r,e,n,i)):this.message='Unexpected property \"'+e+'\"',Error.captureStackTrace(this,u),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,c.prototype=Object.create(Error.prototype),c.prototype.constructor=u,t.exports={TfTypeError:u,TfPropertyTypeError:c,tfCustomError:function(t,e){return new u(t,{},e)},tfSubError:function(t,e,r){return t instanceof c?(e=e+\".\"+t.__property,t=new c(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof u&&(t=new c(t.__type,e,r,t.__value,t.__valueTypeName)),Error.captureStackTrace(t),t},tfJSON:s,getValueTypeName:o}},function(t,e,r){var n=r(3).Buffer;t.exports={decode:function(t,e,r){e=e||4,r=void 0===r||r;var n=t.length;if(0===n)return 0;if(n>e)throw new TypeError(\"Script number overflow\");if(r&&0==(127&t[n-1])&&(n<=1||0==(128&t[n-2])))throw new Error(\"Non-minimally encoded script number\");if(5===n){var i=t.readUInt32LE(0),o=t.readUInt8(4);return 128&o?-(4294967296*(-129&o)+i):4294967296*o+i}for(var s=0,a=0;a<n;++a)s|=t[a]<<8*a;return 128&t[n-1]?-(s&~(128<<8*(n-1))):s},encode:function(t){for(var e=Math.abs(t),r=function(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}(e),i=n.allocUnsafe(r),o=t<0,s=0;s<r;++s)i.writeUInt8(255&e,s),e>>=8;return 128&i[r-1]?i.writeUInt8(o?128:0,r-1):o&&(i[r-1]|=128),i}}},function(t,e,r){var n=r(27),i=r(29),o=r(25),s=r(44),a=s.OP_RESERVED;function u(t,e){var r=n.decompile(t);if(r.length<4)return!1;if(r[r.length-1]!==s.OP_CHECKMULTISIG)return!1;if(!i.Number(r[0]))return!1;if(!i.Number(r[r.length-2]))return!1;var o=r[0]-a,u=r[r.length-2]-a;return!(o<=0)&&(!(u>16)&&(!(o>u)&&(u===r.length-3&&(!!e||r.slice(1,-2).every(n.isCanonicalPubKey)))))}u.toJSON=function(){return\"multi-sig output\"},t.exports={check:u,decode:function(t,e){var r=n.decompile(t);return o(u,r,e),{m:r[0]-a,pubKeys:r.slice(1,-2)}},encode:function(t,e){o({m:i.Number,pubKeys:[n.isCanonicalPubKey]},{m:t,pubKeys:e});var r=e.length;if(r<t)throw new TypeError(\"Not enough pubKeys provided\");return n.compile([].concat(a+t,e,a+r,s.OP_CHECKMULTISIG))}}},function(t,e,r){var n=r(27),i=r(29),o=r(25),s=r(44);function a(t){var e=n.compile(t);return 22===e.length&&e[0]===s.OP_0&&20===e[1]}a.toJSON=function(){return\"Witness pubKeyHash output\"},t.exports={check:a,decode:function(t){return o(a,t),t.slice(2)},encode:function(t){return o(i.Hash160bit,t),n.compile([s.OP_0,t])}}},function(t,e,r){var n=r(27),i=r(29),o=r(25),s=r(44);function a(t){var e=n.compile(t);return 34===e.length&&e[0]===s.OP_0&&32===e[1]}a.toJSON=function(){return\"Witness scriptHash output\"},t.exports={check:a,decode:function(t){return o(a,t),t.slice(2)},encode:function(t){return o(i.Hash256bit,t),n.compile([s.OP_0,t])}}},function(t,e,r){var n=r(474),i=r(270);function o(t,e){if(\"number\"!=typeof t)throw new Error(\"cannot write a non-number as a number\");if(t<0)throw new Error(\"specified a negative value for writing an unsigned value\");if(t>e)throw new Error(\"RangeError: value out of range\");if(Math.floor(t)!==t)throw new Error(\"value has a fractional component\")}t.exports={pushDataSize:n.encodingLength,readPushDataInt:n.decode,readUInt64LE:function(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return o((n*=4294967296)+r,9007199254740991),n+r},readVarInt:function(t,e){return{number:i.decode(t,e),size:i.decode.bytes}},varIntBuffer:i.encode,varIntSize:i.encodingLength,writePushDataInt:n.encode,writeUInt64LE:function(t,e,r){return o(e,9007199254740991),t.writeInt32LE(-1&e,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8},writeVarInt:function(t,e,r){return i.encode(e,t,r),i.encode.bytes}}},function(t,e,r){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);null!=t&&(\"number\"==typeof t?this.fromNumber(t,e,r):null==e&&\"string\"!=typeof t?this.fromString(t,256):this.fromString(t,e))}var i=n.prototype;i.__bigi=r(1035).version,n.isBigInteger=function(t,e){return t&&t.__bigi&&(!e||t.__bigi===i.__bigi)},n.prototype.am=function(t,e,r,n,i,o){for(;--o>=0;){var s=e*this[t++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i},n.prototype.DB=26,n.prototype.DM=67108863;var o=n.prototype.DV=1<<26;n.prototype.FV=Math.pow(2,52),n.prototype.F1=26,n.prototype.F2=0;var s,a,u=\"0123456789abcdefghijklmnopqrstuvwxyz\",c=new Array;for(s=\"0\".charCodeAt(0),a=0;a<=9;++a)c[s++]=a;for(s=\"a\".charCodeAt(0),a=10;a<36;++a)c[s++]=a;for(s=\"A\".charCodeAt(0),a=10;a<36;++a)c[s++]=a;function f(t){return u.charAt(t)}function h(t,e){var r=c[t.charCodeAt(e)];return null==r?-1:r}function l(t){var e=new n;return e.fromInt(t),e}function p(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function d(t){this.m=t}function y(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function m(t,e){return t&e}function g(t,e){return t|e}function b(t,e){return t^e}function v(t,e){return t&~e}function _(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function w(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function S(){}function k(t){return t}function E(t){this.r2=new n,this.q3=new n,n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}d.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},d.prototype.revert=function(t){return t},d.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},d.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},d.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},y.prototype.convert=function(t){var e=new n;return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e},y.prototype.revert=function(t){var e=new n;return t.copyTo(e),this.reduce(e),e},y.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},y.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},y.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},i.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},i.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+o:this.t=0},i.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==r?255&t[i]:h(t,i);a<0?\"-\"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&n.ZERO.subTo(this,this)},i.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},i.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},i.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},i.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)e[r]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},i.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&o)<<i,e[s-r]=this[s]>>n;n>0&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},i.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},i.multiplyTo=function(t,e){var r=this.abs(),i=t.abs(),o=r.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+r.t]=r.am(0,i[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)},i.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},i.divRemTo=function(t,e,r){var i=t.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=new n);var s=new n,a=this.s,u=t.s,c=this.DB-p(i[i.t-1]);c>0?(i.lShiftTo(c,s),o.lShiftTo(c,r)):(i.copyTo(s),o.copyTo(r));var f=s.t,h=s[f-1];if(0!=h){var l=h*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),d=this.FV/l,y=(1<<this.F1)/l,m=1<<this.F2,g=r.t,b=g-f,v=null==e?new n:e;for(s.dlShiftTo(b,v),r.compareTo(v)>=0&&(r[r.t++]=1,r.subTo(v,r)),n.ONE.dlShiftTo(f,v),v.subTo(s,s);s.t<f;)s[s.t++]=0;for(;--b>=0;){var _=r[--g]==h?this.DM:Math.floor(r[g]*d+(r[g-1]+m)*y);if((r[g]+=s.am(0,_,r,b,0,f))<_)for(s.dlShiftTo(b,v),r.subTo(v,r);r[g]<--_;)r.subTo(v,r)}null!=e&&(r.drShiftTo(f,e),a!=u&&n.ZERO.subTo(e,e)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&n.ZERO.subTo(r,r)}}},i.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},i.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},i.exp=function(t,e){if(t>4294967295||t<1)return n.ONE;var r=new n,i=new n,o=e.convert(this),s=p(t)-1;for(o.copyTo(r);--s>=0;)if(e.sqrTo(r,i),(t&1<<s)>0)e.mulTo(i,o,r);else{var a=r;r=i,i=a}return e.revert(r)},i.toString=function(t){var e;if(this.s<0)return\"-\"+this.negate().toString(t);if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o=\"\",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=f(r));s>=0;)a<e?(r=(this[s]&(1<<a)-1)<<e-a,r|=this[--s]>>(a+=this.DB-e)):(r=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=f(r));return i?o:\"0\"},i.negate=function(){var t=new n;return n.ZERO.subTo(this,t),t},i.abs=function(){return this.s<0?this.negate():this},i.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},i.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this[this.t-1]^this.s&this.DM)},i.byteLength=function(){return this.bitLength()>>3},i.mod=function(t){var e=new n;return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e},i.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new d(e):new y(e),this.exp(t,r)},S.prototype.convert=k,S.prototype.revert=k,S.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},S.prototype.sqrTo=function(t,e){t.squareTo(e)},E.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=new n;return t.copyTo(e),this.reduce(e),e},E.prototype.revert=function(t){return t},E.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},E.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},E.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var A=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],x=(1<<26)/A[A.length-1];i.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},i.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return\"0\";var e=this.chunkSize(t),r=Math.pow(t,e),i=l(r),o=new n,s=new n,a=\"\";for(this.divRemTo(i,o,s);o.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(t)+a},i.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),o=!1,s=0,a=0,u=0;u<t.length;++u){var c=h(t,u);c<0?\"-\"==t.charAt(u)&&0==this.signum()&&(o=!0):(a=e*a+c,++s>=r&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),o&&n.ZERO.subTo(this,this)},i.fromNumber=function(t,e,r){if(\"number\"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),g,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=1+(t>>3),e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},i.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},i.changeBit=function(t,e){var r=n.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},i.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},i.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},i.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},i.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},i.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},i.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},i.millerRabin=function(t){var e=this.subtract(n.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var i=e.shiftRight(r);(t=t+1>>1)>A.length&&(t=A.length);for(var o=new n(null),s=[],a=0;a<t;++a){for(;c=A[Math.floor(Math.random()*A.length)],-1!=s.indexOf(c););s.push(c),o.fromInt(c);var u=o.modPow(i,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<r&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},i.clone=function(){var t=new n;return this.copyTo(t),t},i.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},i.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},i.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},i.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},i.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0===i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},i.equals=function(t){return 0==this.compareTo(t)},i.min=function(t){return this.compareTo(t)<0?this:t},i.max=function(t){return this.compareTo(t)>0?this:t},i.and=function(t){var e=new n;return this.bitwiseTo(t,m,e),e},i.or=function(t){var e=new n;return this.bitwiseTo(t,g,e),e},i.xor=function(t){var e=new n;return this.bitwiseTo(t,b,e),e},i.andNot=function(t){var e=new n;return this.bitwiseTo(t,v,e),e},i.not=function(){for(var t=new n,e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},i.shiftLeft=function(t){var e=new n;return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},i.shiftRight=function(t){var e=new n;return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},i.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+_(this[t]);return this.s<0?this.t*this.DB:-1},i.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=w(this[r]^e);return t},i.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},i.setBit=function(t){return this.changeBit(t,g)},i.clearBit=function(t){return this.changeBit(t,v)},i.flipBit=function(t){return this.changeBit(t,b)},i.add=function(t){var e=new n;return this.addTo(t,e),e},i.subtract=function(t){var e=new n;return this.subTo(t,e),e},i.multiply=function(t){var e=new n;return this.multiplyTo(t,e),e},i.divide=function(t){var e=new n;return this.divRemTo(t,e,null),e},i.remainder=function(t){var e=new n;return this.divRemTo(t,null,e),e},i.divideAndRemainder=function(t){var e=new n,r=new n;return this.divRemTo(t,e,r),new Array(e,r)},i.modPow=function(t,e){var r,i,o=t.bitLength(),s=l(1);if(o<=0)return s;r=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new d(e):e.isEven()?new E(e):new y(e);var a=new Array,u=3,c=r-1,f=(1<<r)-1;if(a[1]=i.convert(this),r>1){var h=new n;for(i.sqrTo(a[1],h);u<=f;)a[u]=new n,i.mulTo(h,a[u-2],a[u]),u+=2}var m,g,b=t.t-1,v=!0,_=new n;for(o=p(t[b])-1;b>=0;){for(o>=c?m=t[b]>>o-c&f:(m=(t[b]&(1<<o+1)-1)<<c-o,b>0&&(m|=t[b-1]>>this.DB+o-c)),u=r;0==(1&m);)m>>=1,--u;if((o-=u)<0&&(o+=this.DB,--b),v)a[m].copyTo(s),v=!1;else{for(;u>1;)i.sqrTo(s,_),i.sqrTo(_,s),u-=2;u>0?i.sqrTo(s,_):(g=s,s=_,_=g),i.mulTo(_,a[m],s)}for(;b>=0&&0==(t[b]&1<<o);)i.sqrTo(s,_),g=s,s=_,_=g,--o<0&&(o=this.DB-1,--b)}return i.revert(s)},i.modInverse=function(t){var e=t.isEven();if(0===this.signum())throw new Error(\"division by zero\");if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var r=t.clone(),i=this.clone(),o=l(1),s=l(0),a=l(0),u=l(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),e&&o.subTo(a,o),s.subTo(u,s)):(i.subTo(r,i),e&&a.subTo(o,a),u.subTo(s,u))}if(0!=i.compareTo(n.ONE))return n.ZERO;for(;u.compareTo(t)>=0;)u.subTo(t,u);for(;u.signum()<0;)u.addTo(t,u);return u},i.pow=function(t){return this.exp(t,new S)},i.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},i.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=A[A.length-1]){for(e=0;e<A.length;++e)if(r[0]==A[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<A.length;){for(var n=A[e],i=e+1;i<A.length&&n<x;)n*=A[i++];for(n=r.modInt(n);e<i;)if(n%A[e++]==0)return!1}return r.millerRabin(t)},i.square=function(){var t=new n;return this.squareTo(t),t},n.ZERO=l(0),n.ONE=l(1),n.valueOf=l,t.exports=n},function(t,e,r){var n=r(15),i=r(3).Buffer,o=r(102),s=o.valueOf(3);function a(t,e,r,i){n.notStrictEqual(i,void 0,\"Missing Z coordinate\"),this.curve=t,this.x=e,this.y=r,this.z=i,this._zInv=null,this.compressed=!0}Object.defineProperty(a.prototype,\"zInv\",{get:function(){return null===this._zInv&&(this._zInv=this.z.modInverse(this.curve.p)),this._zInv}}),Object.defineProperty(a.prototype,\"affineX\",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}}),Object.defineProperty(a.prototype,\"affineY\",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}}),a.fromAffine=function(t,e,r){return new a(t,e,r,o.ONE)},a.prototype.equals=function(t){return t===this||(this.curve.isInfinity(this)?this.curve.isInfinity(t):this.curve.isInfinity(t)?this.curve.isInfinity(this):0===t.y.multiply(this.z).subtract(this.y.multiply(t.z)).mod(this.curve.p).signum()&&0===t.x.multiply(this.z).subtract(this.x.multiply(t.z)).mod(this.curve.p).signum())},a.prototype.negate=function(){var t=this.curve.p.subtract(this.y);return new a(this.curve,this.x,t,this.z)},a.prototype.add=function(t){if(this.curve.isInfinity(this))return t;if(this.curve.isInfinity(t))return this;var e=this.x,r=this.y,n=t.x,i=t.y.multiply(this.z).subtract(r.multiply(t.z)).mod(this.curve.p),o=n.multiply(this.z).subtract(e.multiply(t.z)).mod(this.curve.p);if(0===o.signum())return 0===i.signum()?this.twice():this.curve.infinity;var u=o.square(),c=u.multiply(o),f=e.multiply(u),h=i.square().multiply(this.z),l=h.subtract(f.shiftLeft(1)).multiply(t.z).subtract(c).multiply(o).mod(this.curve.p),p=f.multiply(s).multiply(i).subtract(r.multiply(c)).subtract(h.multiply(i)).multiply(t.z).add(i.multiply(c)).mod(this.curve.p),d=c.multiply(this.z).multiply(t.z).mod(this.curve.p);return new a(this.curve,l,p,d)},a.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(0===this.y.signum())return this.curve.infinity;var t=this.x,e=this.y,r=e.multiply(this.z).mod(this.curve.p),n=r.multiply(e).mod(this.curve.p),i=this.curve.a,o=t.square().multiply(s);0!==i.signum()&&(o=o.add(this.z.square().multiply(i)));var u=(o=o.mod(this.curve.p)).square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.p),c=o.multiply(s).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(o.pow(3)).mod(this.curve.p),f=r.pow(3).shiftLeft(3).mod(this.curve.p);return new a(this.curve,u,c,f)},a.prototype.multiply=function(t){if(this.curve.isInfinity(this))return this;if(0===t.signum())return this.curve.infinity;for(var e=t,r=e.multiply(s),n=this.negate(),i=this,o=r.bitLength()-2;o>0;--o){var a=r.testBit(o),u=e.testBit(o);i=i.twice(),a!==u&&(i=i.add(a?this:n))}return i},a.prototype.multiplyTwo=function(t,e,r){for(var n=Math.max(t.bitLength(),r.bitLength())-1,i=this.curve.infinity,o=this.add(e);n>=0;){var s=t.testBit(n),a=r.testBit(n);i=i.twice(),s?i=a?i.add(o):i.add(this):a&&(i=i.add(e)),--n}return i},a.prototype.getEncoded=function(t){if(null==t&&(t=this.compressed),this.curve.isInfinity(this))return i.alloc(1,0);var e,r=this.affineX,n=this.affineY,o=this.curve.pLength;return t?(e=i.allocUnsafe(1+o)).writeUInt8(n.isEven()?2:3,0):((e=i.allocUnsafe(1+o+o)).writeUInt8(4,0),n.toBuffer(o).copy(e,1+o)),r.toBuffer(o).copy(e,1),e},a.decodeFrom=function(t,e){var r,i=e.readUInt8(0),s=4!==i,u=Math.floor((t.p.bitLength()+7)/8),c=o.fromBuffer(e.slice(1,1+u));if(s){n.equal(e.length,u+1,\"Invalid sequence length\"),n(2===i||3===i,\"Invalid sequence tag\");var f=3===i;r=t.pointFromX(f,c)}else{n.equal(e.length,1+u+u,\"Invalid sequence length\");var h=o.fromBuffer(e.slice(1+u));r=a.fromAffine(t,c,h)}return r.compressed=s,r},a.prototype.toString=function(){return this.curve.isInfinity(this)?\"(INFINITY)\":\"(\"+this.affineX.toString()+\",\"+this.affineY.toString()+\")\"},t.exports=a},function(t,e,r){var n=r(15),i=r(102),o=r(482);function s(t,e,r,n,s,a,u){this.p=t,this.a=e,this.b=r,this.G=o.fromAffine(this,n,s),this.n=a,this.h=u,this.infinity=new o(this,null,null,i.ZERO),this.pOverFour=t.add(i.ONE).shiftRight(2),this.pLength=Math.floor((this.p.bitLength()+7)/8)}s.prototype.pointFromX=function(t,e){var r=e.pow(3).add(this.a.multiply(e)).add(this.b).mod(this.p).modPow(this.pOverFour,this.p),n=r;return r.isEven()^!t&&(n=this.p.subtract(n)),o.fromAffine(this,e,n)},s.prototype.isInfinity=function(t){return t===this.infinity||0===t.z.signum()&&0!==t.y.signum()},s.prototype.isOnCurve=function(t){if(this.isInfinity(t))return!0;var e=t.affineX,r=t.affineY,n=this.a,i=this.b,o=this.p;if(e.signum()<0||e.compareTo(o)>=0)return!1;if(r.signum()<0||r.compareTo(o)>=0)return!1;var s=r.square().mod(o),a=e.pow(3).add(n.multiply(e)).add(i).mod(o);return s.equals(a)},s.prototype.validate=function(t){n(!this.isInfinity(t),\"Point is at infinity\"),n(this.isOnCurve(t),\"Point is not on the curve\");var e=t.multiply(this.n);return n(this.isInfinity(e),\"Point is not a scalar multiple of G\"),!0},t.exports=s},function(t,e,r){\"use strict\";(function(e){const n=r(1042),i=r(147),o=r(148),s=r(1054);t.exports=o(\"eth-account-snapshot\",n,function(t,r,n){const o=[];o.push({path:\"storage\",value:{\"/\":i(\"eth-storage-trie\",t.stateRoot).toBaseEncodedString()}}),s.equals(t.codeHash)?o.push({path:\"code\",value:e.from(\"\")}):o.push({path:\"code\",value:{\"/\":i(\"raw\",t.codeHash).toBaseEncodedString()}});o.push({path:\"stateRoot\",value:t.stateRoot}),o.push({path:\"codeHash\",value:t.codeHash}),o.push({path:\"nonce\",value:t.nonce}),o.push({path:\"balance\",value:t.balance}),o.push({path:\"isEmpty\",value:t.isEmpty()}),o.push({path:\"isContract\",value:t.isContract()}),n(null,o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(1050),i=r(1051),o=r(277);function s(t,e){return void 0===t?e:(n.isBoolean(t,o.COMPRESSED_TYPE_INVALID),t)}t.exports=function(t){return{privateKeyVerify:function(e){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),32===e.length&&t.privateKeyVerify(e)},privateKeyExport:function(e,r){n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0);var a=t.privateKeyExport(e,r);return i.privateKeyExport(e,a,r)},privateKeyImport:function(e){if(n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),(e=i.privateKeyImport(e))&&32===e.length&&t.privateKeyVerify(e))return e;throw new Error(o.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(e){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyNegate(e)},privateKeyModInverse:function(e){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyModInverse(e)},privateKeyTweakAdd:function(e,r){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),t.privateKeyTweakAdd(e,r)},privateKeyTweakMul:function(e,r){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),t.privateKeyTweakMul(e,r)},publicKeyCreate:function(e,r){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0),t.publicKeyCreate(e,r)},publicKeyConvert:function(e,r){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),r=s(r,!0),t.publicKeyConvert(e,r)},publicKeyVerify:function(e){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),t.publicKeyVerify(e)},publicKeyTweakAdd:function(e,r,i){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),t.publicKeyTweakAdd(e,r,i)},publicKeyTweakMul:function(e,r,i){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),t.publicKeyTweakMul(e,r,i)},publicKeyCombine:function(e,r){n.isArray(e,o.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(e,o.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<e.length;++i)n.isBuffer(e[i],o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e[i],33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID);return r=s(r,!0),t.publicKeyCombine(e,r)},signatureNormalize:function(e){return n.isBuffer(e,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(e,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),t.signatureNormalize(e)},signatureExport:function(e){n.isBuffer(e,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(e,64,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=t.signatureExport(e);return i.signatureExport(r)},signatureImport:function(e){n.isBuffer(e,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(e,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(e);if(r)return t.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(e){n.isBuffer(e,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(e,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(e);if(r)return t.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(e,r,i){n.isBuffer(e,o.MSG32_TYPE_INVALID),n.isBufferLength(e,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID);var s=null,a=null;return void 0!==i&&(n.isObject(i,o.OPTIONS_TYPE_INVALID),void 0!==i.data&&(n.isBuffer(i.data,o.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,o.OPTIONS_DATA_LENGTH_INVALID),s=i.data),void 0!==i.noncefn&&(n.isFunction(i.noncefn,o.OPTIONS_NONCEFN_TYPE_INVALID),a=i.noncefn)),t.sign(e,r,a,s)},verify:function(e,r,i){return n.isBuffer(e,o.MSG32_TYPE_INVALID),n.isBufferLength(e,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),t.verify(e,r,i)},recover:function(e,r,i,a){return n.isBuffer(e,o.MSG32_TYPE_INVALID),n.isBufferLength(e,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,o.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,o.RECOVERY_ID_VALUE_INVALID),a=s(a,!0),t.recover(e,r,i,a)},ecdh:function(e,r){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),t.ecdh(e,r)},ecdhUnsafe:function(e,r,i){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),i=s(i,!0),t.ecdhUnsafe(e,r,i)}}}},function(t,e){t.exports=function(t){return function(e,r,n){t(e,r,(t,e)=>t?n(t):e.remainderPath.length>0?n(new Error(\"path out of scope\")):void(\"object\"==typeof e.value&&e.value[\"/\"]?n(null,e.value):n(null,!1)))}}},function(t,e,r){const n=r(488),i=r(187);t.exports=function(t,e){return{deserialize:i(t=>new e(t)),serialize:i(t=>t.serialize()),cid:i((e,r)=>n(t,e,r))}}},function(t,e,r){\"use strict\";const n=r(147);t.exports=function(t,e,r){const i=e.hash();return n(t,i,r)}},function(t,e,r){\"use strict\";const n=r(490),i=r(147),o=r(148);t.exports=o(\"eth-block\",n,function(t,e,r){const n=[];n.push({path:\"parent\",value:{\"/\":i(\"eth-block\",t.parentHash).toBaseEncodedString()}}),n.push({path:\"ommers\",value:{\"/\":i(\"eth-block-list\",t.uncleHash).toBaseEncodedString()}}),n.push({path:\"transactions\",value:{\"/\":i(\"eth-tx-trie\",t.transactionsTrie).toBaseEncodedString()}}),n.push({path:\"transactionReceipts\",value:{\"/\":i(\"eth-tx-receipt-trie\",t.receiptTrie).toBaseEncodedString()}}),n.push({path:\"state\",value:{\"/\":i(\"eth-state-trie\",t.stateRoot).toBaseEncodedString()}}),n.push({path:\"parentHash\",value:t.parentHash}),n.push({path:\"ommerHash\",value:t.uncleHash}),n.push({path:\"transactionTrieRoot\",value:t.transactionsTrie}),n.push({path:\"transactionReceiptTrieRoot\",value:t.receiptTrie}),n.push({path:\"stateRoot\",value:t.stateRoot}),n.push({path:\"authorAddress\",value:t.coinbase}),n.push({path:\"bloom\",value:t.bloom}),n.push({path:\"difficulty\",value:t.difficulty}),n.push({path:\"number\",value:t.number}),n.push({path:\"gasLimit\",value:t.gasLimit}),n.push({path:\"gasUsed\",value:t.gasUsed}),n.push({path:\"timestamp\",value:t.timestamp}),n.push({path:\"extraData\",value:t.extraData}),n.push({path:\"mixHash\",value:t.mixHash}),n.push({path:\"nonce\",value:t.nonce}),r(null,n)})},function(t,e,r){(function(e){const n=r(205),i=r(1055),o=n.BN;var s=t.exports=function(t){var r=[{name:\"parentHash\",length:32,default:n.zeros(32)},{name:\"uncleHash\",default:n.SHA3_RLP_ARRAY},{name:\"coinbase\",length:20,default:n.zeros(20)},{name:\"stateRoot\",length:32,default:n.zeros(32)},{name:\"transactionsTrie\",length:32,default:n.SHA3_RLP},{name:\"receiptTrie\",length:32,default:n.SHA3_RLP},{name:\"bloom\",default:n.zeros(256)},{name:\"difficulty\",default:new e([])},{name:\"number\",default:n.intToBuffer(i.homeSteadForkNumber.v)},{name:\"gasLimit\",default:new e(\"ffffffffffffff\",\"hex\")},{name:\"gasUsed\",empty:!0,default:new e([])},{name:\"timestamp\",default:new e([])},{name:\"extraData\",allowZero:!0,empty:!0,default:new e([])},{name:\"mixHash\",default:n.zeros(32)},{name:\"nonce\",default:new e([])}];n.defineProperties(this,r,t)};s.prototype.canonicalDifficulty=function(t){const e=new o(this.timestamp),r=new o(t.header.timestamp),s=new o(t.header.difficulty),a=new o(i.minimumDifficulty.v);var u,c=s.div(new o(i.difficultyBoundDivisor.v)),f=t.header.uncleHash.equals(n.SHA3_RLP_ARRAY)?1:2,h=e.sub(r).idivn(9).ineg().iaddn(f),l=new o(-99);1===l.cmp(h)&&(h=l),u=s.add(c.mul(h));var p=new o(this.number).isubn(3e6);p.ltn(0)&&(p=new o(0));var d=p.idivn(1e5).isubn(2);return d.isNeg()||u.iadd(new o(2).pow(d)),-1===u.cmp(a)&&(u=a),u},s.prototype.validateDifficulty=function(t){return 0===this.canonicalDifficulty(t).cmp(new o(this.difficulty))},s.prototype.validateGasLimit=function(t){const e=new o(t.header.gasLimit),r=new o(this.gasLimit),n=e.div(new o(i.gasLimitBoundDivisor.v)),s=e.add(n),a=e.sub(n);return r.lt(s)&&r.gt(a)&&r.gte(i.minGasLimit.v)},s.prototype.validate=function(t,e,r){var s=this;if(2===arguments.length&&(r=e,e=!1),this.isGenesis())return r();t.getBlock(s.parentHash,function(t,a){if(t)return r(\"could not find parent block\");if(s.parentBlock=a,0!==new o(s.number).cmp(new o(a.header.number).iaddn(1)))return r(\"invalid number\");if(e){var u=e.sub(new o(a.header.number));if(-1!==u.cmpn(8)||1!==u.cmpn(1))return r(\"uncle block has a parent that is too old or to young\")}return s.validateDifficulty(a)?s.validateGasLimit(a)?n.bufferToInt(a.header.number)+1!==n.bufferToInt(s.number)?r(\"invalid heigth\"):n.bufferToInt(s.timestamp)<=n.bufferToInt(a.header.timestamp)?r(\"invalid timestamp\"):s.extraData.length>i.maximumExtraDataSize.v?r(\"invalid amount of extra data\"):void r():r(\"invalid gas limit\"):r(\"invalid Difficulty\")})},s.prototype.hash=function(){return n.rlphash(this.raw)},s.prototype.isGenesis=function(){return\"\"===this.number.toString(\"hex\")}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1065),i=r(148);t.exports=i(\"eth-tx\",n,function(t,e,r){const n=[];n.push({path:\"nonce\",value:t.nonce}),n.push({path:\"gasPrice\",value:t.gasPrice}),n.push({path:\"gasLimit\",value:t.gasLimit}),n.push({path:\"toAddress\",value:t.to}),n.push({path:\"value\",value:t.value}),n.push({path:\"data\",value:t.data}),n.push({path:\"v\",value:t.v}),n.push({path:\"r\",value:t.r}),n.push({path:\"s\",value:t.s}),n.push({path:\"fromAddress\",value:t.from}),n.push({path:\"signature\",value:[t.v,t.r,t.s]}),n.push({path:\"isContractPublish\",value:t.toCreationAddress()}),r(null,n)})},function(t,e,r){\"use strict\";const n=r(1070).BlockHeader,i=r(13),o=r(10),s=r(67),a=r(4);t.exports={hashToCid:t=>{const e=r(279).defaultHashAlg,n=o.encode(t,e);return new i(1,\"zcash-block\",n)},ZCASH_BLOCK_HEADER_SIZE:1487,cid:(t,e,n)=>{\"function\"==typeof e&&(n=e,e={});const o=(e=e||{}).hashAlg||r(279).defaultHashAlg,u=void 0===e.version?1:e.version;a([e=>{try{s(t.toBuffer(),o,e)}catch(t){e(t)}},(t,e)=>e(null,new i(u,\"zcash-block\",t))],n)},deserialize:(t,e)=>{if(1487!==t.length)return e(new Error(\"Zcash block header needs to be 1487 bytes\"));e(null,n.fromBuffer(t))},serialize:(t,e)=>{let r,n=null;try{r=t.toBuffer()}catch(t){n=t}finally{e(n,r)}}}},function(t,e,r){\"use strict\";(function(e){var n=r(30),i=r(114),o=r(69),s=r(78),a=r(210),u=r(45),c=r(23),f=r(17),h=r(21),l=function t(e){if(!(this instanceof t))return new t(e);e&&this.set(e)};l.prototype.set=function(t){return this.hashbuf=t.hashbuf||this.hashbuf,this.endian=t.endian||this.endian,this.privkey=t.privkey||this.privkey,this.pubkey=t.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=t.sig||this.sig,this.k=t.k||this.k,this.verified=t.verified||this.verified,this},l.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},l.prototype.calci=function(){for(var t=0;t<4;t++){var e;this.sig.i=t;try{e=this.toPublicKey()}catch(t){console.error(t);continue}if(e.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error(\"Unable to find valid recovery factor\")},l.fromString=function(t){var e=JSON.parse(t);return new l(e)},l.prototype.randomK=function(){var t,e=i.getN();do{t=n.fromBuffer(a.getRandomBuffer(32))}while(!t.lt(e)||!t.gt(n.Zero));return this.k=t,this},l.prototype.deterministicK=function(t){f.isUndefined(t)&&(t=0);var r=new e(32);r.fill(1);var o=new e(32);o.fill(0);var s=this.privkey.bn.toBuffer({size:32}),a=\"little\"===this.endian?c.reverse(this.hashbuf):this.hashbuf;o=u.sha256hmac(e.concat([r,new e([0]),s,a]),o),r=u.sha256hmac(r,o),o=u.sha256hmac(e.concat([r,new e([1]),s,a]),o),r=u.sha256hmac(r,o),r=u.sha256hmac(r,o);for(var h=n.fromBuffer(r),l=i.getN(),p=0;p<t||!h.lt(l)||!h.gt(n.Zero);p++)o=u.sha256hmac(e.concat([r,new e([0])]),o),r=u.sha256hmac(r,o),r=u.sha256hmac(r,o),h=n.fromBuffer(r);return this.k=h,this},l.prototype.toPublicKey=function(){var t=this.sig.i;h.checkArgument(0===t||1===t||2===t||3===t,new Error(\"i must be equal to 0, 1, 2, or 3\"));var e=n.fromBuffer(this.hashbuf),r=this.sig.r,o=this.sig.s,a=1&t,u=t>>1,c=i.getN(),f=i.getG(),l=u?r.add(c):r,p=i.fromX(a,l);if(!p.mul(c).isInfinity())throw new Error(\"nR is not a valid curve point\");var d=e.neg().mod(c),y=r.invm(c),m=p.mul(o).add(f.mul(d)).mul(y);return s.fromPoint(m,this.sig.compressed)},l.prototype.sigError=function(){if(!c.isBuffer(this.hashbuf)||32!==this.hashbuf.length)return\"hashbuf must be a 32 byte buffer\";var t=this.sig.r,e=this.sig.s;if(!(t.gt(n.Zero)&&t.lt(i.getN())&&e.gt(n.Zero)&&e.lt(i.getN())))return\"r and s not in range\";var r=n.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),o=i.getN(),s=e.invm(o),a=s.mul(r).mod(o),u=s.mul(t).mod(o),f=i.getG().mulAdd(a,this.pubkey.point,u);return f.isInfinity()?\"p is infinity\":0!==f.getX().mod(o).cmp(t)&&\"Invalid signature\"},l.toLowS=function(t){return t.gt(n.fromBuffer(new e(\"7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0\",\"hex\")))&&(t=i.getN().sub(t)),t},l.prototype._findSignature=function(t,e){var r,o,s,a=i.getN(),u=i.getG(),c=0;do{(!this.k||c>0)&&this.deterministicK(c),c++,r=this.k,o=u.mul(r).x.mod(a),s=r.invm(a).mul(e.add(t.mul(o))).mod(a)}while(o.cmp(n.Zero)<=0||s.cmp(n.Zero)<=0);return{s:s=l.toLowS(s),r:o}},l.prototype.sign=function(){var t=this.hashbuf,e=this.privkey,r=e.bn;h.checkState(t&&e&&r,new Error(\"invalid parameters\")),h.checkState(c.isBuffer(t)&&32===t.length,new Error(\"hashbuf must be a 32 byte buffer\"));var i=n.fromBuffer(t,this.endian?{endian:this.endian}:void 0),s=this._findSignature(r,i);return s.compressed=this.pubkey.compressed,this.sig=new o(s),this},l.prototype.signRandomK=function(){return this.randomK(),this.sign()},l.prototype.toString=function(){var t={};return this.hashbuf&&(t.hashbuf=this.hashbuf.toString(\"hex\")),this.privkey&&(t.privkey=this.privkey.toString()),this.pubkey&&(t.pubkey=this.pubkey.toString()),this.sig&&(t.sig=this.sig.toString()),this.k&&(t.k=this.k.toString()),JSON.stringify(t)},l.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},l.sign=function(t,e,r){return l().set({hashbuf:t,endian:r,privkey:e}).sign().sig},l.verify=function(t,e,r,n){return l().set({hashbuf:t,endian:n,sig:e,pubkey:r}).verify().verified},t.exports=l}).call(this,r(0).Buffer)},function(t,e){for(var r=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\",n={},i=0;i<r.length;i++)n[r.charAt(i)]=i;var o=58;t.exports={encode:function(t){if(0===t.length)return\"\";var e,n,i=[0];for(e=0;e<t.length;e++){for(n=0;n<i.length;n++)i[n]<<=8;i[0]+=t[e];var s=0;for(n=0;n<i.length;++n)i[n]+=s,s=i[n]/o|0,i[n]%=o;for(;s;)i.push(s%o),s=s/o|0}for(e=0;0===t[e]&&e<t.length-1;e++)i.push(0);return i.reverse().map(function(t){return r[t]}).join(\"\")},decode:function(t){if(0===t.length)return[];var e,r,i=[0];for(e=0;e<t.length;e++){var s=t[e];if(!(s in n))throw new Error(\"Non-base58 character\");for(r=0;r<i.length;r++)i[r]*=o;i[0]+=n[s];var a=0;for(r=0;r<i.length;++r)i[r]+=a,a=i[r]>>8,i[r]&=255;for(;a;)i.push(255&a),a>>=8}for(e=0;\"1\"===t[e]&&e<t.length-1;e++)i.push(0);return i.reverse()}}},function(t,e,r){\"use strict\";(function(e){var n=r(105),i=r(89),o=r(59),s=r(45),a=r(280),u=r(78),c=r(69),f=r(104),h=r(21),l=r(17),p=r(68),d=r(0),y=r(23),m=r(28),g=function t(e){return this instanceof t?(this.chunks=[],y.isBuffer(e)?t.fromBuffer(e):e instanceof n?t.fromAddress(e):e instanceof t?t.fromBuffer(e.toBuffer()):\"string\"==typeof e?t.fromString(e):void(void 0!==e&&this.set(e))):new t(e)};g.prototype.set=function(t){return this.chunks=t.chunks||this.chunks,this},g.fromBuffer=function(t){var e=new g;e.chunks=[];for(var r=new i(t);!r.finished();)try{var n,o,s=r.readUInt8();s>0&&s<a.OP_PUSHDATA1?(n=s,e.chunks.push({buf:r.read(n),len:n,opcodenum:s})):s===a.OP_PUSHDATA1?(n=r.readUInt8(),o=r.read(n),e.chunks.push({buf:o,len:n,opcodenum:s})):s===a.OP_PUSHDATA2?(n=r.readUInt16LE(),o=r.read(n),e.chunks.push({buf:o,len:n,opcodenum:s})):s===a.OP_PUSHDATA4?(n=r.readUInt32LE(),o=r.read(n),e.chunks.push({buf:o,len:n,opcodenum:s})):e.chunks.push({opcodenum:s})}catch(e){if(e instanceof RangeError)throw new p.Script.InvalidBuffer(t.toString(\"hex\"));throw e}return e},g.prototype.toBuffer=function(){for(var t=new o,e=0;e<this.chunks.length;e++){var r=this.chunks[e],n=r.opcodenum;t.writeUInt8(r.opcodenum),r.buf&&(n<a.OP_PUSHDATA1?t.write(r.buf):n===a.OP_PUSHDATA1?(t.writeUInt8(r.len),t.write(r.buf)):n===a.OP_PUSHDATA2?(t.writeUInt16LE(r.len),t.write(r.buf)):n===a.OP_PUSHDATA4&&(t.writeUInt32LE(r.len),t.write(r.buf)))}return t.concat()},g.fromASM=function(t){var r=new g;r.chunks=[];for(var n=t.split(\" \"),i=0;i<n.length;){var o=n[i],s=a(o).toNumber();if(l.isUndefined(s)){var u=new e(n[i],\"hex\");r.chunks.push({buf:u,len:u.length,opcodenum:u.length}),i+=1}else s===a.OP_PUSHDATA1||s===a.OP_PUSHDATA2||s===a.OP_PUSHDATA4?(r.chunks.push({buf:new e(n[i+2],\"hex\"),len:parseInt(n[i+1]),opcodenum:s}),i+=3):(r.chunks.push({opcodenum:s}),i+=1)}return r},g.fromHex=function(t){return new g(new d.Buffer(t,\"hex\"))},g.fromString=function(t){if(m.isHexa(t)||0===t.length)return new g(new d.Buffer(t,\"hex\"));var r=new g;r.chunks=[];for(var n=t.split(\" \"),i=0;i<n.length;){var o=n[i],s=a(o).toNumber();if(l.isUndefined(s)){if(!((s=parseInt(o))>0&&s<a.OP_PUSHDATA1))throw new Error(\"Invalid script: \"+JSON.stringify(t));r.chunks.push({buf:new e(n[i+1].slice(2),\"hex\"),len:s,opcodenum:s}),i+=2}else if(s===a.OP_PUSHDATA1||s===a.OP_PUSHDATA2||s===a.OP_PUSHDATA4){if(\"0x\"!==n[i+2].slice(0,2))throw new Error(\"Pushdata data must start with 0x\");r.chunks.push({buf:new e(n[i+2].slice(2),\"hex\"),len:parseInt(n[i+1]),opcodenum:s}),i+=3}else r.chunks.push({opcodenum:s}),i+=1}return r},g.prototype._chunkToString=function(t,e){var r=t.opcodenum,n=\"asm\"===e,i=\"\";if(t.buf)r!==a.OP_PUSHDATA1&&r!==a.OP_PUSHDATA2&&r!==a.OP_PUSHDATA4||(i=i+\" \"+a(r).toString()),t.len>0&&(i=n?i+\" \"+t.buf.toString(\"hex\"):i+\" \"+t.len+\" 0x\"+t.buf.toString(\"hex\"));else if(void 0!==a.reverseMap[r])i=i+\" \"+a(r).toString();else{var o=r.toString(16);o.length%2!=0&&(o=\"0\"+o),i=n?i+\" \"+o:i+\" 0x\"+o}return i},g.prototype.toASM=function(){for(var t=\"\",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r,\"asm\")}return t.substr(1)},g.prototype.toString=function(){for(var t=\"\",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r)}return t.substr(1)},g.prototype.toHex=function(){return this.toBuffer().toString(\"hex\")},g.prototype.inspect=function(){return\"<Script: \"+this.toString()+\">\"},g.prototype.isPublicKeyHashOut=function(){return!(5!==this.chunks.length||this.chunks[0].opcodenum!==a.OP_DUP||this.chunks[1].opcodenum!==a.OP_HASH160||!this.chunks[2].buf||20!==this.chunks[2].buf.length||this.chunks[3].opcodenum!==a.OP_EQUALVERIFY||this.chunks[4].opcodenum!==a.OP_CHECKSIG)},g.prototype.isPublicKeyHashIn=function(){if(2===this.chunks.length){var t=this.chunks[0].buf,e=this.chunks[1].buf;if(t&&t.length&&48===t[0]&&e&&e.length){var r=e[0];if((4===r||6===r||7===r)&&65===e.length)return!0;if((3===r||2===r)&&33===e.length)return!0}}return!1},g.prototype.getPublicKey=function(){return h.checkState(this.isPublicKeyOut(),\"Can't retreive PublicKey from a non-PK output\"),this.chunks[0].buf},g.prototype.getPublicKeyHash=function(){return h.checkState(this.isPublicKeyHashOut(),\"Can't retrieve PublicKeyHash from a non-PKH output\"),this.chunks[2].buf},g.prototype.isPublicKeyOut=function(){if(2===this.chunks.length&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===a.OP_CHECKSIG){var t=this.chunks[0].buf,e=t[0],r=!1;if((4!==e&&6!==e&&7!==e||65!==t.length)&&(3!==e&&2!==e||33!==t.length)||(r=!0),r)return u.isValid(t)}return!1},g.prototype.isPublicKeyIn=function(){if(1===this.chunks.length){var t=this.chunks[0].buf;if(t&&t.length&&48===t[0])return!0}return!1},g.prototype.isScriptHashOut=function(){var t=this.toBuffer();return 23===t.length&&t[0]===a.OP_HASH160&&20===t[1]&&t[t.length-1]===a.OP_EQUAL},g.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var t,e=this.chunks[this.chunks.length-1].buf;if(!e)return!1;try{t=g.fromBuffer(e)}catch(t){if(t instanceof p.Script.InvalidBuffer)return!1;throw t}return t.classify()!==g.types.UNKNOWN},g.prototype.isMultisigOut=function(){return this.chunks.length>3&&a.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(t){return t.buf&&y.isBuffer(t.buf)})&&a.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===a.OP_CHECKMULTISIG},g.prototype.isMultisigIn=function(){return this.chunks.length>=2&&0===this.chunks[0].opcodenum&&this.chunks.slice(1,this.chunks.length).every(function(t){return t.buf&&y.isBuffer(t.buf)&&c.isTxDER(t.buf)})},g.prototype.isDataOut=function(){return this.chunks.length>=1&&this.chunks[0].opcodenum===a.OP_RETURN&&(1===this.chunks.length||2===this.chunks.length&&this.chunks[1].buf&&this.chunks[1].buf.length<=g.OP_RETURN_STANDARD_SIZE&&this.chunks[1].length===this.chunks.len)},g.prototype.getData=function(){if(this.isDataOut()||this.isScriptHashOut())return l.isUndefined(this.chunks[1])?new e(0):new e(this.chunks[1].buf);if(this.isPublicKeyHashOut())return new e(this.chunks[2].buf);throw new Error(\"Unrecognized script type to get data from\")},g.prototype.isPushOnly=function(){return l.every(this.chunks,function(t){return t.opcodenum<=a.OP_16})},(g.types={}).UNKNOWN=\"Unknown\",g.types.PUBKEY_OUT=\"Pay to public key\",g.types.PUBKEY_IN=\"Spend from public key\",g.types.PUBKEYHASH_OUT=\"Pay to public key hash\",g.types.PUBKEYHASH_IN=\"Spend from public key hash\",g.types.SCRIPTHASH_OUT=\"Pay to script hash\",g.types.SCRIPTHASH_IN=\"Spend from script hash\",g.types.MULTISIG_OUT=\"Pay to multisig\",g.types.MULTISIG_IN=\"Spend from multisig\",g.types.DATA_OUT=\"Data push\",g.OP_RETURN_STANDARD_SIZE=80,g.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var t=this.classifyOutput();return t!=g.types.UNKNOWN?t:this.classifyInput()},(g.outputIdentifiers={}).PUBKEY_OUT=g.prototype.isPublicKeyOut,g.outputIdentifiers.PUBKEYHASH_OUT=g.prototype.isPublicKeyHashOut,g.outputIdentifiers.MULTISIG_OUT=g.prototype.isMultisigOut,g.outputIdentifiers.SCRIPTHASH_OUT=g.prototype.isScriptHashOut,g.outputIdentifiers.DATA_OUT=g.prototype.isDataOut,g.prototype.classifyOutput=function(){for(var t in g.outputIdentifiers)if(g.outputIdentifiers[t].bind(this)())return g.types[t];return g.types.UNKNOWN},(g.inputIdentifiers={}).PUBKEY_IN=g.prototype.isPublicKeyIn,g.inputIdentifiers.PUBKEYHASH_IN=g.prototype.isPublicKeyHashIn,g.inputIdentifiers.MULTISIG_IN=g.prototype.isMultisigIn,g.inputIdentifiers.SCRIPTHASH_IN=g.prototype.isScriptHashIn,g.prototype.classifyInput=function(){for(var t in g.inputIdentifiers)if(g.inputIdentifiers[t].bind(this)())return g.types[t];return g.types.UNKNOWN},g.prototype.isStandard=function(){return this.classify()!==g.types.UNKNOWN},g.prototype.prepend=function(t){return this._addByType(t,!0),this},g.prototype.equals=function(t){if(h.checkState(t instanceof g,\"Must provide another script\"),this.chunks.length!==t.chunks.length)return!1;var e;for(e=0;e<this.chunks.length;e++){if(y.isBuffer(this.chunks[e].buf)&&!y.isBuffer(t.chunks[e].buf))return!1;if(y.isBuffer(this.chunks[e].buf)&&!y.equals(this.chunks[e].buf,t.chunks[e].buf))return!1;if(this.chunks[e].opcodenum!==t.chunks[e].opcodenum)return!1}return!0},g.prototype.add=function(t){return this._addByType(t,!1),this},g.prototype._addByType=function(t,e){if(\"string\"==typeof t)this._addOpcode(t,e);else if(\"number\"==typeof t)this._addOpcode(t,e);else if(t instanceof a)this._addOpcode(t,e);else if(y.isBuffer(t))this._addBuffer(t,e);else if(t instanceof g)this.chunks=this.chunks.concat(t.chunks);else{if(\"object\"!=typeof t)throw new Error(\"Invalid script chunk\");this._insertAtPosition(t,e)}},g.prototype._insertAtPosition=function(t,e){e?this.chunks.unshift(t):this.chunks.push(t)},g.prototype._addOpcode=function(t,e){var r;return r=\"number\"==typeof t?t:t instanceof a?t.toNumber():a(t).toNumber(),this._insertAtPosition({opcodenum:r},e),this},g.prototype._addBuffer=function(t,e){var r,n=t.length;if(n>=0&&n<a.OP_PUSHDATA1)r=n;else if(n<Math.pow(2,8))r=a.OP_PUSHDATA1;else if(n<Math.pow(2,16))r=a.OP_PUSHDATA2;else{if(!(n<Math.pow(2,32)))throw new Error(\"You can't push that much data\");r=a.OP_PUSHDATA4}return this._insertAtPosition({buf:t,len:n,opcodenum:r},e),this},g.prototype.removeCodeseparators=function(){for(var t=[],e=0;e<this.chunks.length;e++)this.chunks[e].opcodenum!==a.OP_CODESEPARATOR&&t.push(this.chunks[e]);return this.chunks=t,this},g.buildMultisigOut=function(t,e,r){h.checkArgument(e<=t.length,\"Number of required signatures must be less than or equal to the number of public keys\"),r=r||{};var n=new g;n.add(a.smallInt(e));var i=t=l.map(t,u);r.noSorting||(i=l.sortBy(t,function(t){return t.toString(\"hex\")}));for(var o=0;o<i.length;o++){var s=i[o];n.add(s.toBuffer())}return n.add(a.smallInt(t.length)),n.add(a.OP_CHECKMULTISIG),n},g.buildMultisigIn=function(t,e,r,n){h.checkArgument(l.isArray(t)),h.checkArgument(l.isNumber(e)),h.checkArgument(l.isArray(r)),n=n||{};var i=new g;return i.add(a.OP_0),l.each(r,function(t){h.checkArgument(y.isBuffer(t),\"Signatures must be an array of Buffers\"),i.add(t)}),i},g.buildP2SHMultisigIn=function(t,e,r,n){h.checkArgument(l.isArray(t)),h.checkArgument(l.isNumber(e)),h.checkArgument(l.isArray(r)),n=n||{};var i=new g;return i.add(a.OP_0),l.each(r,function(t){h.checkArgument(y.isBuffer(t),\"Signatures must be an array of Buffers\"),i.add(t)}),i.add((n.cachedMultisig||g.buildMultisigOut(t,e,n)).toBuffer()),i},g.buildPublicKeyHashOut=function(t){h.checkArgument(!l.isUndefined(t)),h.checkArgument(t instanceof u||t instanceof n||l.isString(t)),t instanceof u?t=t.toAddress():l.isString(t)&&(t=new n(t));var e=new g;return e.add(a.OP_DUP).add(a.OP_HASH160).add(t.hashBuffer).add(a.OP_EQUALVERIFY).add(a.OP_CHECKSIG),e._network=t.network,e},g.buildPublicKeyOut=function(t){h.checkArgument(t instanceof u);var e=new g;return e.add(t.toBuffer()).add(a.OP_CHECKSIG),e},g.buildDataOut=function(t,r){h.checkArgument(l.isUndefined(t)||l.isString(t)||y.isBuffer(t)),l.isString(t)&&(t=new e(t,r));var n=new g;return n.add(a.OP_RETURN),l.isUndefined(t)||n.add(t),n},g.buildScriptHashOut=function(t){h.checkArgument(t instanceof g||t instanceof n&&t.isPayToScriptHash());var e=new g;return e.add(a.OP_HASH160).add(t instanceof n?t.hashBuffer:s.sha256ripemd160(t.toBuffer())).add(a.OP_EQUAL),e._network=t._network||t.network,e},g.buildPublicKeyIn=function(t,e){h.checkArgument(t instanceof c||y.isBuffer(t)),h.checkArgument(l.isUndefined(e)||l.isNumber(e)),t instanceof c&&(t=t.toBuffer());var r=new g;return r.add(y.concat([t,y.integerAsSingleByteBuffer(e||c.SIGHASH_ALL)])),r},g.buildPublicKeyHashIn=function(t,e,r){return h.checkArgument(e instanceof c||y.isBuffer(e)),h.checkArgument(l.isUndefined(r)||l.isNumber(r)),e instanceof c&&(e=e.toBuffer()),(new g).add(y.concat([e,y.integerAsSingleByteBuffer(r||c.SIGHASH_ALL)])).add(new u(t).toBuffer())},g.empty=function(){return new g},g.prototype.toScriptHashOut=function(){return g.buildScriptHashOut(this)},g.fromAddress=function(t){if((t=n(t)).isPayToScriptHash())return g.buildScriptHashOut(t);if(t.isPayToPublicKeyHash())return g.buildPublicKeyHashOut(t);throw new p.Script.UnrecognizedAddress(t)},g.prototype.getAddressInfo=function(t){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var e=this._getOutputAddressInfo();return e||this._getInputAddressInfo()},g.prototype._getOutputAddressInfo=function(){var t={};if(this.isScriptHashOut())t.hashBuffer=this.getData(),t.type=n.PayToScriptHash;else{if(!this.isPublicKeyHashOut())return!1;t.hashBuffer=this.getData(),t.type=n.PayToPublicKeyHash}return t},g.prototype._getInputAddressInfo=function(){var t={};if(this.isPublicKeyHashIn())t.hashBuffer=s.sha256ripemd160(this.chunks[1].buf),t.type=n.PayToPublicKeyHash;else{if(!this.isScriptHashIn())return!1;t.hashBuffer=s.sha256ripemd160(this.chunks[this.chunks.length-1].buf),t.type=n.PayToScriptHash}return t},g.prototype.toAddress=function(t){var e=this.getAddressInfo();return!!e&&(e.network=f.get(t)||this._network||f.defaultNetwork,new n(e))},g.prototype.findAndDelete=function(t){for(var e=t.toBuffer().toString(\"hex\"),r=0;r<this.chunks.length;r++){e===g({chunks:[this.chunks[r]]}).toBuffer().toString(\"hex\")&&this.chunks.splice(r,1)}return this},g.prototype.checkMinimalPush=function(t){var e=this.chunks[t],r=e.buf,n=e.opcodenum;return!r||(0===r.length?n===a.OP_0:1===r.length&&r[0]>=1&&r[0]<=16?n===a.OP_1+(r[0]-1):1===r.length&&129===r[0]?n===a.OP_1NEGATE:r.length<=75?n===r.length:r.length<=255?n===a.OP_PUSHDATA1:!(r.length<=65535)||n===a.OP_PUSHDATA2)},g.prototype._decodeOP_N=function(t){if(t===a.OP_0)return 0;if(t>=a.OP_1&&t<=a.OP_16)return t-(a.OP_1-1);throw new Error(\"Invalid opcode: \"+JSON.stringify(t))},g.prototype.getSignatureOperationsCount=function(t){t=!!l.isUndefined(t)||t;var e=this,r=0,n=a.OP_INVALIDOPCODE;return l.each(e.chunks,function(i){var o=i.opcodenum;o==a.OP_CHECKSIG||o==a.OP_CHECKSIGVERIFY?r++:o!=a.OP_CHECKMULTISIG&&o!=a.OP_CHECKMULTISIGVERIFY||(t&&n>=a.OP_1&&n<=a.OP_16?r+=e._decodeOP_N(n):r+=20),n=o}),r},t.exports=g}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(17),i=r(21),o=r(28),s=r(70),a=r(105),u=r(283);function c(t){if(!(this instanceof c))return new c(t);i.checkArgument(n.isObject(t),\"Must provide an object from where to extract data\");var e=t.address?new a(t.address):void 0,r=t.txid?t.txid:t.txId;if(!r||!o.isHexaString(r)||r.length>64)throw new Error(\"Invalid TXID in object\",t);var f=n.isUndefined(t.vout)?t.outputIndex:t.vout;if(!n.isNumber(f))throw new Error(\"Invalid outputIndex, received \"+f);i.checkArgument(!n.isUndefined(t.scriptPubKey)||!n.isUndefined(t.script),\"Must provide the scriptPubKey for that output!\");var h=new s(t.scriptPubKey||t.script);i.checkArgument(!n.isUndefined(t.amount)||!n.isUndefined(t.satoshis),\"Must provide an amount for the output\");var l=n.isUndefined(t.amount)?t.satoshis:new u.fromBTC(t.amount).toSatoshis();i.checkArgument(n.isNumber(l),\"Amount must be a number\"),o.defineImmutable(this,{address:e,txId:r,outputIndex:f,script:h,satoshis:l})}c.prototype.inspect=function(){return\"<UnspentOutput: \"+this.txId+\":\"+this.outputIndex+\", satoshis: \"+this.satoshis+\", address: \"+this.address+\">\"},c.prototype.toString=function(){return this.txId+\":\"+this.outputIndex},c.fromObject=function(t){return new c(t)},c.prototype.toObject=c.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString(\"hex\"),amount:u.fromSatoshis(this.satoshis).toBTC()}},t.exports=c},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(211),o=r(23),s=r(89),a=r(59),u=r(45),c=(r(28),r(209)),f=r(21);function h(t){if(!(this instanceof h))return new h(t);var e={};if(o.isBuffer(t))e=h._fromBufferReader(s(t));else{if(!n.isObject(t))throw new TypeError(\"Unrecognized argument for MerkleBlock\");e={header:t.header instanceof i?t.header:i.fromObject(t.header),numTransactions:t.numTransactions,hashes:t.hashes,flags:t.flags}}return n.extend(this,e),this._flagBitsUsed=0,this._hashesUsed=0,this}h.fromBuffer=function(t){return h.fromBufferReader(s(t))},h.fromBufferReader=function(t){return new h(h._fromBufferReader(t))},h.prototype.toBuffer=function(){return this.toBufferWriter().concat()},h.prototype.toBufferWriter=function(t){t||(t=new a),t.write(this.header.toBuffer()),t.writeUInt32LE(this.numTransactions),t.writeVarintNum(this.hashes.length);for(var r=0;r<this.hashes.length;r++)t.write(new e(this.hashes[r],\"hex\"));for(t.writeVarintNum(this.flags.length),r=0;r<this.flags.length;r++)t.writeUInt8(this.flags[r]);return t},h.prototype.toObject=h.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},h.prototype.validMerkleTree=function(){if(f.checkState(n.isArray(this.flags),\"MerkleBlock flags is not an array\"),f.checkState(n.isArray(this.hashes),\"MerkleBlock hashes is not an array\"),this.hashes.length>this.numTransactions)return!1;if(8*this.flags.length<this.hashes.length)return!1;var t=this._calcTreeHeight(),e={hashesUsed:0,flagBitsUsed:0},r=this._traverseMerkleTree(t,0,e);return e.hashesUsed===this.hashes.length&&o.equals(r,this.header.merkleRoot)},h.prototype._traverseMerkleTree=function(t,r,n){if((n=n||{}).txs=n.txs||[],n.flagBitsUsed=n.flagBitsUsed||0,n.hashesUsed=n.hashesUsed||0,n.flagBitsUsed>8*this.flags.length)return null;var i=this.flags[n.flagBitsUsed>>3]>>>(7&n.flagBitsUsed++)&1;if(0!==t&&i){var o=this._traverseMerkleTree(t-1,2*r,n),s=o;return 2*r+1<this._calcTreeWidth(t-1)&&(s=this._traverseMerkleTree(t-1,2*r+1,n)),u.sha256sha256(new e.concat([o,s]))}if(n.hashesUsed>=this.hashes.length)return null;var a=this.hashes[n.hashesUsed++];return 0===t&&i&&n.txs.push(a),new e(a,\"hex\")},h.prototype._calcTreeWidth=function(t){return this.numTransactions+(1<<t)-1>>t},h.prototype._calcTreeHeight=function(){for(var t=0;this._calcTreeWidth(t)>1;)t++;return t},h.prototype.hasTransaction=function(t){f.checkArgument(!n.isUndefined(t),\"tx cannot be undefined\"),f.checkArgument(t instanceof c||\"string\"==typeof t,'Invalid tx given, tx must be a \"string\" or \"Transaction\"');var r=t;t instanceof c&&(r=o.reverse(new e(t.id,\"hex\")).toString(\"hex\"));var i=[],s=this._calcTreeHeight();return this._traverseMerkleTree(s,0,{txs:i}),-1!==i.indexOf(r)},h._fromBufferReader=function(t){f.checkState(!t.finished(),\"No merkleblock data received\");var e={};e.header=i.fromBufferReader(t),e.numTransactions=t.readUInt32LE();var r=t.readVarintNum();e.hashes=[];for(var n=0;n<r;n++)e.hashes.push(t.read(32).toString(\"hex\"));var o=t.readVarintNum();for(e.flags=[],n=0;n<o;n++)e.flags.push(t.readUInt8());return e},h.fromObject=function(t){return new h(t)},t.exports=h}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){var n=r(15),i=r(0),o=r(17),s=r(21),a=r(30),u=r(208),c=r(149),f=r(45),h=r(104),l=r(284),p=r(114),d=r(207),y=r(210),m=r(68),g=m.HDPrivateKey,b=r(23),v=r(28);function _(t){if(t instanceof _)return t;if(!(this instanceof _))return new _(t);if(!t)return this._generateRandomly();if(h.get(t))return this._generateRandomly(t);if(o.isString(t)||b.isBuffer(t))if(_.isValidSerialized(t))this._buildFromSerialized(t);else if(v.isValidJSON(t))this._buildFromJSON(t);else{if(!b.isBuffer(t)||!_.isValidSerialized(t.toString()))throw _.getSerializedError(t);this._buildFromSerialized(t.toString())}else{if(!o.isObject(t))throw new g.UnrecognizedArgument(t);this._buildFromObject(t)}}_.isValidPath=function(t,e){if(o.isString(t)){var r=_._getDerivationIndexes(t);return null!==r&&o.all(r,_.isValidPath)}return!!o.isNumber(t)&&(t<_.Hardened&&!0===e&&(t+=_.Hardened),t>=0&&t<_.MaxIndex)},_._getDerivationIndexes=function(t){var e=t.split(\"/\");if(o.contains(_.RootElementAlias,t))return[];if(!o.contains(_.RootElementAlias,e[0]))return null;var r=e.slice(1).map(function(t){var e=\"'\"===t.slice(-1);if(e&&(t=t.slice(0,-1)),!t||\"-\"===t[0])return NaN;var r=+t;return e&&(r+=_.Hardened),r});return o.any(r,isNaN)?null:r},_.prototype.derive=function(t,e){if(o.isNumber(t))return this._deriveWithNumber(t,e);if(o.isString(t))return this._deriveFromString(t);throw new g.InvalidDerivationArgument(t)},_.prototype._deriveWithNumber=function(t,e){if(!_.isValidPath(t,e))throw new g.InvalidPath(t);e=t>=_.Hardened||e,t<_.Hardened&&!0===e&&(t+=_.Hardened);var r=l.get(this.xprivkey,t,e);if(r)return r;var n,o=b.integerAsBuffer(t);n=e?b.concat([new i.Buffer([0]),this.privateKey.toBuffer(),o]):b.concat([this.publicKey.toBuffer(),o]);var s=f.sha512hmac(n,this._buffers.chainCode),u=a.fromBuffer(s.slice(0,32),{size:32}),c=s.slice(32,64),h=u.add(this.privateKey.toBigNumber()).mod(p.getN()).toBuffer({size:32}),d=new _({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:c,privateKey:h});return l.set(this.xprivkey,t,e,d),d},_.prototype._deriveFromString=function(t){if(!_.isValidPath(t))throw new g.InvalidPath(t);return _._getDerivationIndexes(t).reduce(function(t,e){return t._deriveWithNumber(e)},this)},_.isValidSerialized=function(t,e){return!_.getSerializedError(t,e)},_.getSerializedError=function(t,e){if(!o.isString(t)&&!b.isBuffer(t))return new g.UnrecognizedArgument(\"Expected string or buffer\");if(!u.validCharacters(t))return new m.InvalidB58Char(\"(unknown)\",t);try{t=c.decode(t)}catch(e){return new m.InvalidB58Checksum(t)}if(t.length!==_.DataLength)return new g.InvalidLength(t);if(!o.isUndefined(e)){var r=_._validateNetwork(t,e);if(r)return r}return null},_._validateNetwork=function(t,e){var r=h.get(e);if(!r)return new m.InvalidNetworkArgument(e);var n=t.slice(0,4);return b.integerFromBuffer(n)!==r.xprivkey?new m.InvalidNetwork(n):null},_.fromString=function(t){return s.checkArgument(o.isString(t),\"No valid string was provided\"),new _(t)},_.fromObject=function(t){return s.checkArgument(o.isObject(t),\"No valid argument was provided\"),new _(t)},_.prototype._buildFromJSON=function(t){return this._buildFromObject(JSON.parse(t))},_.prototype._buildFromObject=function(t){var e={version:t.network?b.integerAsBuffer(h.get(t.network).xprivkey):t.version,depth:o.isNumber(t.depth)?b.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:o.isNumber(t.parentFingerPrint)?b.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:o.isNumber(t.childIndex)?b.integerAsBuffer(t.childIndex):t.childIndex,chainCode:o.isString(t.chainCode)?b.hexToBuffer(t.chainCode):t.chainCode,privateKey:o.isString(t.privateKey)&&v.isHexa(t.privateKey)?b.hexToBuffer(t.privateKey):t.privateKey,checksum:t.checksum?t.checksum.length?t.checksum:b.integerAsBuffer(t.checksum):void 0};return this._buildFromBuffers(e)},_.prototype._buildFromSerialized=function(t){var e=c.decode(t),r={version:e.slice(_.VersionStart,_.VersionEnd),depth:e.slice(_.DepthStart,_.DepthEnd),parentFingerPrint:e.slice(_.ParentFingerPrintStart,_.ParentFingerPrintEnd),childIndex:e.slice(_.ChildIndexStart,_.ChildIndexEnd),chainCode:e.slice(_.ChainCodeStart,_.ChainCodeEnd),privateKey:e.slice(_.PrivateKeyStart,_.PrivateKeyEnd),checksum:e.slice(_.ChecksumStart,_.ChecksumEnd),xprivkey:t};return this._buildFromBuffers(r)},_.prototype._generateRandomly=function(t){return _.fromSeed(y.getRandomBuffer(64),t)},_.fromSeed=function(t,r){if(v.isHexaString(t)&&(t=b.hexToBuffer(t)),!e.isBuffer(t))throw new g.InvalidEntropyArgument(t);if(t.length<16)throw new g.InvalidEntropyArgument.NotEnoughEntropy(t);if(t.length>64)throw new g.InvalidEntropyArgument.TooMuchEntropy(t);var n=f.sha512hmac(t,new i.Buffer(\"Bitcoin seed\"));return new _({network:h.get(r)||h.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:n.slice(0,32),chainCode:n.slice(32,64)})},_.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var t=r(500);this._hdPublicKey=new t(this)}},_.prototype._buildFromBuffers=function(t){_._validateBufferArguments(t),v.defineImmutable(this,{_buffers:t});var r=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,b.emptyBuffer(1),t.privateKey],n=i.Buffer.concat(r);if(t.checksum&&t.checksum.length){if(t.checksum.toString()!==c.checksum(n).toString())throw new m.InvalidB58Checksum(n)}else t.checksum=c.checksum(n);var o,s=h.get(b.integerFromBuffer(t.version));o=c.encode(i.Buffer.concat(r)),t.xprivkey=new e(o);var u=new d(a.fromBuffer(t.privateKey),s),l=u.toPublicKey(),p=_.ParentFingerPrintSize,y=f.sha256ripemd160(l.toBuffer()).slice(0,p);return v.defineImmutable(this,{xprivkey:o,network:s,depth:b.integerFromSingleByteBuffer(t.depth),privateKey:u,publicKey:l,fingerPrint:y}),this._hdPublicKey=null,Object.defineProperty(this,\"hdPublicKey\",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,\"xpubkey\",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},_._validateBufferArguments=function(t){var e=function(e,r){var i=t[e];n(b.isBuffer(i),e+\" argument is not a buffer\"),n(i.length===r,e+\" has not the expected size: found \"+i.length+\", expected \"+r)};e(\"version\",_.VersionSize),e(\"depth\",_.DepthSize),e(\"parentFingerPrint\",_.ParentFingerPrintSize),e(\"childIndex\",_.ChildIndexSize),e(\"chainCode\",_.ChainCodeSize),e(\"privateKey\",_.PrivateKeySize),t.checksum&&t.checksum.length&&e(\"checksum\",_.CheckSumSize)},_.prototype.toString=function(){return this.xprivkey},_.prototype.inspect=function(){return\"<HDPrivateKey: \"+this.xprivkey+\">\"},_.prototype.toObject=_.prototype.toJSON=function(){return{network:h.get(b.integerFromBuffer(this._buffers.version),\"xprivkey\").name,depth:b.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:b.integerFromBuffer(this.fingerPrint),parentFingerPrint:b.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:b.integerFromBuffer(this._buffers.childIndex),chainCode:b.bufferToHex(this._buffers.chainCode),privateKey:this.privateKey.toBuffer().toString(\"hex\"),checksum:b.integerFromBuffer(this._buffers.checksum),xprivkey:this.xprivkey}},_.fromBuffer=function(t){return new _(t.toString())},_.prototype.toBuffer=function(){return b.copy(this._buffers.xprivkey)},_.DefaultDepth=0,_.DefaultFingerprint=0,_.DefaultChildIndex=0,_.Hardened=2147483648,_.MaxIndex=2*_.Hardened,_.RootElementAlias=[\"m\",\"M\",\"m'\",\"M'\"],_.VersionSize=4,_.DepthSize=1,_.ParentFingerPrintSize=4,_.ChildIndexSize=4,_.ChainCodeSize=32,_.PrivateKeySize=32,_.CheckSumSize=4,_.DataLength=78,_.SerializedByteSize=82,_.VersionStart=0,_.VersionEnd=_.VersionStart+_.VersionSize,_.DepthStart=_.VersionEnd,_.DepthEnd=_.DepthStart+_.DepthSize,_.ParentFingerPrintStart=_.DepthEnd,_.ParentFingerPrintEnd=_.ParentFingerPrintStart+_.ParentFingerPrintSize,_.ChildIndexStart=_.ParentFingerPrintEnd,_.ChildIndexEnd=_.ChildIndexStart+_.ChildIndexSize,_.ChainCodeStart=_.ChildIndexEnd,_.ChainCodeEnd=_.ChainCodeStart+_.ChainCodeSize,_.PrivateKeyStart=_.ChainCodeEnd+1,_.PrivateKeyEnd=_.PrivateKeyStart+_.PrivateKeySize,_.ChecksumStart=_.PrivateKeyEnd,_.ChecksumEnd=_.ChecksumStart+_.CheckSumSize,n(_.ChecksumEnd===_.SerializedByteSize),t.exports=_}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(21),o=r(30),s=r(208),a=r(149),u=r(45),c=r(499),f=r(284),h=r(104),l=r(114),p=r(78),d=r(68),y=d,m=d.HDPublicKey,g=r(15),b=r(28),v=r(23);function _(t){if(t instanceof _)return t;if(!(this instanceof _))return new _(t);if(t){if(n.isString(t)||v.isBuffer(t)){var e=_.getSerializedError(t);if(e){if(v.isBuffer(t)&&!_.getSerializedError(t.toString()))return this._buildFromSerialized(t.toString());if(e instanceof m.ArgumentIsPrivateExtended)return new c(t).hdPublicKey;throw e}return this._buildFromSerialized(t)}if(n.isObject(t))return t instanceof c?this._buildFromPrivate(t):this._buildFromObject(t);throw new m.UnrecognizedArgument(t)}throw new m.MustSupplyArgument}_.isValidPath=function(t){if(n.isString(t)){var e=c._getDerivationIndexes(t);return null!==e&&n.all(e,_.isValidPath)}return!!n.isNumber(t)&&(t>=0&&t<_.Hardened)},_.prototype.derive=function(t,e){if(n.isNumber(t))return this._deriveWithNumber(t,e);if(n.isString(t))return this._deriveFromString(t);throw new m.InvalidDerivationArgument(t)},_.prototype._deriveWithNumber=function(t,e){if(t>=_.Hardened||e)throw new m.InvalidIndexCantDeriveHardened;if(t<0)throw new m.InvalidPath(t);var r=f.get(this.xpubkey,t,!1);if(r)return r;var n=v.integerAsBuffer(t),i=v.concat([this.publicKey.toBuffer(),n]),s=u.sha512hmac(i,this._buffers.chainCode),a=o.fromBuffer(s.slice(0,32),{size:32}),c=s.slice(32,64),h=p.fromPoint(l.getG().mul(a).add(this.publicKey.point)),d=new _({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:c,publicKey:h});return f.set(this.xpubkey,t,!1,d),d},_.prototype._deriveFromString=function(t){if(n.contains(t,\"'\"))throw new m.InvalidIndexCantDeriveHardened;if(!_.isValidPath(t))throw new m.InvalidPath(t);return c._getDerivationIndexes(t).reduce(function(t,e){return t._deriveWithNumber(e)},this)},_.isValidSerialized=function(t,e){return n.isNull(_.getSerializedError(t,e))},_.getSerializedError=function(t,e){if(!n.isString(t)&&!v.isBuffer(t))return new m.UnrecognizedArgument(\"expected buffer or string\");if(!s.validCharacters(t))return new y.InvalidB58Char(\"(unknown)\",t);try{t=a.decode(t)}catch(e){return new y.InvalidB58Checksum(t)}if(t.length!==_.DataSize)return new m.InvalidLength(t);if(!n.isUndefined(e)){var r=_._validateNetwork(t,e);if(r)return r}var i=v.integerFromBuffer(t.slice(0,4));return i===h.livenet.xprivkey||i===h.testnet.xprivkey?new m.ArgumentIsPrivateExtended:null},_._validateNetwork=function(t,e){var r=h.get(e);if(!r)return new y.InvalidNetworkArgument(e);var n=t.slice(_.VersionStart,_.VersionEnd);return v.integerFromBuffer(n)!==r.xpubkey?new y.InvalidNetwork(n):null},_.prototype._buildFromPrivate=function(t){var e=n.clone(t._buffers),r=l.getG().mul(o.fromBuffer(e.privateKey));return e.publicKey=l.pointToCompressed(r),e.version=v.integerAsBuffer(h.get(v.integerFromBuffer(e.version)).xpubkey),e.privateKey=void 0,e.checksum=void 0,e.xprivkey=void 0,this._buildFromBuffers(e)},_.prototype._buildFromObject=function(t){var e={version:t.network?v.integerAsBuffer(h.get(t.network).xpubkey):t.version,depth:n.isNumber(t.depth)?v.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:n.isNumber(t.parentFingerPrint)?v.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:n.isNumber(t.childIndex)?v.integerAsBuffer(t.childIndex):t.childIndex,chainCode:n.isString(t.chainCode)?v.hexToBuffer(t.chainCode):t.chainCode,publicKey:n.isString(t.publicKey)?v.hexToBuffer(t.publicKey):v.isBuffer(t.publicKey)?t.publicKey:t.publicKey.toBuffer(),checksum:n.isNumber(t.checksum)?v.integerAsBuffer(t.checksum):t.checksum};return this._buildFromBuffers(e)},_.prototype._buildFromSerialized=function(t){var e=a.decode(t),r={version:e.slice(_.VersionStart,_.VersionEnd),depth:e.slice(_.DepthStart,_.DepthEnd),parentFingerPrint:e.slice(_.ParentFingerPrintStart,_.ParentFingerPrintEnd),childIndex:e.slice(_.ChildIndexStart,_.ChildIndexEnd),chainCode:e.slice(_.ChainCodeStart,_.ChainCodeEnd),publicKey:e.slice(_.PublicKeyStart,_.PublicKeyEnd),checksum:e.slice(_.ChecksumStart,_.ChecksumEnd),xpubkey:t};return this._buildFromBuffers(r)},_.prototype._buildFromBuffers=function(t){_._validateBufferArguments(t),b.defineImmutable(this,{_buffers:t});var r=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,t.publicKey],n=v.concat(r),i=a.checksum(n);if(t.checksum&&t.checksum.length){if(t.checksum.toString(\"hex\")!==i.toString(\"hex\"))throw new y.InvalidB58Checksum(n,i)}else t.checksum=i;var o,s=h.get(v.integerFromBuffer(t.version));o=a.encode(v.concat(r)),t.xpubkey=new e(o);var c=new p(t.publicKey,{network:s}),f=_.ParentFingerPrintSize,l=u.sha256ripemd160(c.toBuffer()).slice(0,f);return b.defineImmutable(this,{xpubkey:o,network:s,depth:v.integerFromSingleByteBuffer(t.depth),publicKey:c,fingerPrint:l}),this},_._validateBufferArguments=function(t){var e=function(e,r){var n=t[e];g(v.isBuffer(n),e+\" argument is not a buffer, it's \"+typeof n),g(n.length===r,e+\" has not the expected size: found \"+n.length+\", expected \"+r)};e(\"version\",_.VersionSize),e(\"depth\",_.DepthSize),e(\"parentFingerPrint\",_.ParentFingerPrintSize),e(\"childIndex\",_.ChildIndexSize),e(\"chainCode\",_.ChainCodeSize),e(\"publicKey\",_.PublicKeySize),t.checksum&&t.checksum.length&&e(\"checksum\",_.CheckSumSize)},_.fromString=function(t){return i.checkArgument(n.isString(t),\"No valid string was provided\"),new _(t)},_.fromObject=function(t){return i.checkArgument(n.isObject(t),\"No valid argument was provided\"),new _(t)},_.prototype.toString=function(){return this.xpubkey},_.prototype.inspect=function(){return\"<HDPublicKey: \"+this.xpubkey+\">\"},_.prototype.toObject=_.prototype.toJSON=function(){return{network:h.get(v.integerFromBuffer(this._buffers.version)).name,depth:v.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:v.integerFromBuffer(this.fingerPrint),parentFingerPrint:v.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:v.integerFromBuffer(this._buffers.childIndex),chainCode:v.bufferToHex(this._buffers.chainCode),publicKey:this.publicKey.toString(),checksum:v.integerFromBuffer(this._buffers.checksum),xpubkey:this.xpubkey}},_.fromBuffer=function(t){return new _(t)},_.prototype.toBuffer=function(){return v.copy(this._buffers.xpubkey)},_.Hardened=2147483648,_.RootElementAlias=[\"m\",\"M\"],_.VersionSize=4,_.DepthSize=1,_.ParentFingerPrintSize=4,_.ChildIndexSize=4,_.ChainCodeSize=32,_.PublicKeySize=33,_.CheckSumSize=4,_.DataSize=78,_.SerializedByteSize=82,_.VersionStart=0,_.VersionEnd=_.VersionStart+_.VersionSize,_.DepthStart=_.VersionEnd,_.DepthEnd=_.DepthStart+_.DepthSize,_.ParentFingerPrintStart=_.DepthEnd,_.ParentFingerPrintEnd=_.ParentFingerPrintStart+_.ParentFingerPrintSize,_.ChildIndexStart=_.ParentFingerPrintEnd,_.ChildIndexEnd=_.ChildIndexStart+_.ChildIndexSize,_.ChainCodeStart=_.ChildIndexEnd,_.ChainCodeEnd=_.ChainCodeStart+_.ChainCodeSize,_.PublicKeyStart=_.ChainCodeEnd,_.PublicKeyEnd=_.PublicKeyStart+_.PublicKeySize,_.ChecksumStart=_.PublicKeyEnd,_.ChecksumEnd=_.ChecksumStart+_.CheckSumSize,g(_.PublicKeyEnd===_.DataSize),g(_.ChecksumEnd===_.SerializedByteSize),t.exports=_}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(285),i=r(286)(),o=r(1103),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(12);r(18),n.cipher=n.cipher||{};var i=t.exports=n.cipher.modes=n.cipher.modes||{};function o(t){if(\"string\"==typeof t&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4){var e=t;t=n.util.createBuffer();for(var r=0;r<e.length;++r)t.putByte(e[r])}return n.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}function s(t){t[t.length-1]=t[t.length-1]+1&4294967295}function a(t){return[t/4294967296|0,4294967295&t]}i.ecb=function(t){t=t||{},this.name=\"ECB\",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(t){},i.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},i.cbc=function(t){t=t||{},this.name=\"CBC\",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error(\"Invalid IV parameter.\");this._iv=this._prev.slice(0)}else{if(!(\"iv\"in t))throw new Error(\"Invalid IV parameter.\");this._iv=o(t.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},i.cfb=function(t){t=t||{},this.name=\"CFB\",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(t){if(!(\"iv\"in t))throw new Error(\"Invalid IV parameter.\");this._iv=o(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(t){t=t||{},this.name=\"OFB\",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(t){if(!(\"iv\"in t))throw new Error(\"Invalid IV parameter.\");this._iv=o(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(t){t=t||{},this.name=\"CTR\",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(t){if(!(\"iv\"in t))throw new Error(\"Invalid IV parameter.\");this._iv=o(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}s(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(t){t=t||{},this.name=\"GCM\",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(t){if(!(\"iv\"in t))throw new Error(\"Invalid IV parameter.\");var e,r=n.util.createBuffer(t.iv);if(this._cipherLength=0,e=\"additionalData\"in t?n.util.createBuffer(t.additionalData):n.util.createBuffer(),this._tagLength=\"tagLength\"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=n.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error(\"Authentication tag does not match tag length.\");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(a(8*i)))}this._inBlock=this._j0.slice(0),s(this._inBlock),this._partialBytes=0,e=n.util.createBuffer(e),this._aDataLength=a(8*e.length());var o=e.length()%this.blockSize;for(o&&e.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},i.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(0===o||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),s(this._inBlock)},i.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),s(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(a(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var o=[];this.cipher.encrypt(this._j0,o);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^o[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){t[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(t,e){for(var r=1&t[3],n=3;n>0;--n)e[n]=t[n]>>>1|(1&t[n-1])<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)},i.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=t[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];e[0]^=i[0],e[1]^=i[1],e[2]^=i[2],e[3]^=i[3]}return e},i.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},i.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),s=0;s<i;++s){var a=[0,0,0,0],u=(n-1-s%n)*e;a[s/n|0]=1<<e-1<<u,o[s]=this.generateSubHashTable(this.multiply(a,t),e)}return o},i.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var s=1;s<o;++s){var a=i[o],u=i[s];i[o+s]=[a[0]^u[0],a[1]^u[1],a[2]^u[2],a[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i}},function(t,e,r){var n=r(12);r(82),r(152),r(289),r(118),r(504),r(71),r(153),r(18);var i=function(t,e,r,i){var o=n.util.createBuffer(),s=t.length>>1,a=s+(1&t.length),u=t.substr(0,a),c=t.substr(s,a),f=n.util.createBuffer(),h=n.hmac.create();r=e+r;var l=Math.ceil(i/16),p=Math.ceil(i/20);h.start(\"MD5\",u);var d=n.util.createBuffer();f.putBytes(r);for(var y=0;y<l;++y)h.start(null,null),h.update(f.getBytes()),f.putBuffer(h.digest()),h.start(null,null),h.update(f.bytes()+r),d.putBuffer(h.digest());h.start(\"SHA1\",c);var m=n.util.createBuffer();f.clear(),f.putBytes(r);for(y=0;y<p;++y)h.start(null,null),h.update(f.getBytes()),f.putBuffer(h.digest()),h.start(null,null),h.update(f.bytes()+r),m.putBuffer(h.digest());return o.putBytes(n.util.xorBytes(d.getBytes(),m.getBytes(),i)),o},o=function(t,e,r){var i=!1;try{var o=t.deflate(e.fragment.getBytes());e.fragment=n.util.createBuffer(o),e.length=o.length,i=!0}catch(t){}return i},s=function(t,e,r){var i=!1;try{var o=t.inflate(e.fragment.getBytes());e.fragment=n.util.createBuffer(o),e.length=o.length,i=!0}catch(t){}return i},a=function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32()}return n.util.createBuffer(t.getBytes(r))},u=function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},c={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};c.SupportedVersions=[c.Versions.TLS_1_1,c.Versions.TLS_1_0],c.Version=c.SupportedVersions[0],c.MaxFragment=15360,c.ConnectionEnd={server:0,client:1},c.PRFAlgorithm={tls_prf_sha256:0},c.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},c.CipherType={stream:0,block:1,aead:2},c.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},c.CompressionMethod={none:0,deflate:1},c.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},c.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},c.Alert={},c.Alert.Level={warning:1,fatal:2},c.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},c.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},c.CipherSuites={},c.getCipherSuite=function(t){var e=null;for(var r in c.CipherSuites){var n=c.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e},c.handleUnexpected=function(t,e){!t.open&&t.entity===c.ConnectionEnd.client||t.error(t,{message:\"Unexpected message. Received TLS record out of order.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})},c.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(c.queue(t,c.createAlert(t,{level:c.Alert.Level.warning,description:c.Alert.Description.no_renegotiation})),c.flush(t)),t.process()},c.parseHelloMessage=function(t,e,r){var i=null,o=t.entity===c.ConnectionEnd.client;if(r<38)t.error(t,{message:o?\"Invalid ServerHello message. Message too short.\":\"Invalid ClientHello message. Message too short.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});else{var s=e.fragment,u=s.length();if(i={version:{major:s.getByte(),minor:s.getByte()},random:n.util.createBuffer(s.getBytes(32)),session_id:a(s,1),extensions:[]},o?(i.cipher_suite=s.getBytes(2),i.compression_method=s.getByte()):(i.cipher_suites=a(s,2),i.compression_methods=a(s,1)),(u=r-(u-s.length()))>0){for(var f=a(s,2);f.length()>0;)i.extensions.push({type:[f.getByte(),f.getByte()],data:a(f,2)});if(!o)for(var h=0;h<i.extensions.length;++h){var l=i.extensions[h];if(0===l.type[0]&&0===l.type[1])for(var p=a(l.data,2);p.length()>0;){if(0!==p.getByte())break;t.session.extensions.server_name.serverNameList.push(a(p,2).getBytes())}}}if(t.session.version&&(i.version.major!==t.session.version.major||i.version.minor!==t.session.version.minor))return t.error(t,{message:\"TLS version change is disallowed during renegotiation.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});if(o)t.session.cipherSuite=c.getCipherSuite(i.cipher_suite);else for(var d=n.util.createBuffer(i.cipher_suites.bytes());d.length()>0&&(t.session.cipherSuite=c.getCipherSuite(d.getBytes(2)),null===t.session.cipherSuite););if(null===t.session.cipherSuite)return t.error(t,{message:\"No cipher suites in common.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(i.cipher_suite)});t.session.compressionMethod=o?i.compression_method:c.CompressionMethod.none}return i},c.createSecurityParameters=function(t,e){var r=t.entity===c.ConnectionEnd.client,n=e.random.bytes(),i=r?t.session.sp.client_random:n,o=r?n:c.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:c.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}},c.handleServerHello=function(t,e,r){var n=c.parseHelloMessage(t,e,r);if(!t.fail){if(!(n.version.minor<=t.version.minor))return t.error(t,{message:\"Incompatible TLS version.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});t.version.minor=n.version.minor,t.session.version=t.version;var i=n.session_id.bytes();i.length>0&&i===t.session.id?(t.expect=d,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=f,t.session.resuming=!1,c.createSecurityParameters(t,n)),t.session.id=i,t.process()}},c.handleClientHello=function(t,e,r){var i=c.parseHelloMessage(t,e,r);if(!t.fail){var o=i.session_id.bytes(),s=null;if(t.sessionCache&&(null===(s=t.sessionCache.getSession(o))?o=\"\":(s.version.major!==i.version.major||s.version.minor>i.version.minor)&&(s=null,o=\"\")),0===o.length&&(o=n.random.getBytes(32)),t.session.id=o,t.session.clientHelloVersion=i.version,t.session.sp={},s)t.version=t.session.version=s.version,t.session.sp=s.sp;else{for(var a,u=1;u<c.SupportedVersions.length&&!((a=c.SupportedVersions[u]).minor<=i.version.minor);++u);t.version={major:a.major,minor:a.minor},t.session.version=t.version}null!==s?(t.expect=w,t.session.resuming=!0,t.session.sp.client_random=i.random.bytes()):(t.expect=!1!==t.verifyClient?b:v,t.session.resuming=!1,c.createSecurityParameters(t,i)),t.open=!0,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerHello(t)})),t.session.resuming?(c.queue(t,c.createRecord(t,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),t.state.pending=c.createConnectionState(t),t.state.current.write=t.state.pending.write,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createFinished(t)}))):(c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificate(t)})),t.fail||(c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerKeyExchange(t)})),!1!==t.verifyClient&&c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificateRequest(t)})),c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerHelloDone(t)})))),c.flush(t),t.process()}},c.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:\"Invalid Certificate message. Message too short.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i,o,s=e.fragment,u={certificate_list:a(s,3)},f=[];try{for(;u.certificate_list.length()>0;)i=a(u.certificate_list,3),o=n.asn1.fromDer(i),i=n.pki.certificateFromAsn1(o,!0),f.push(i)}catch(e){return t.error(t,{message:\"Could not parse certificate list.\",cause:e,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var l=t.entity===c.ConnectionEnd.client;!l&&!0!==t.verifyClient||0!==f.length?0===f.length?t.expect=l?h:v:(l?t.session.serverCertificate=f[0]:t.session.clientCertificate=f[0],c.verifyCertificateChain(t,f)&&(t.expect=l?h:v)):t.error(t,{message:l?\"No server certificate provided.\":\"No client certificate provided.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}}),t.process()},c.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:\"Invalid key parameters. Only RSA is supported.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});t.expect=l,t.process()},c.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:\"Invalid key parameters. Only RSA is supported.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});var i=e.fragment,o={enc_pre_master_secret:a(i,2).getBytes()},s=null;if(t.getPrivateKey)try{s=t.getPrivateKey(t,t.session.serverCertificate),s=n.pki.privateKeyFromPem(s)}catch(e){t.error(t,{message:\"Could not get private key.\",cause:e,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}if(null===s)return t.error(t,{message:\"No private key set.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});try{var u=t.session.sp;u.pre_master_secret=s.decrypt(o.enc_pre_master_secret);var f=t.session.clientHelloVersion;if(f.major!==u.pre_master_secret.charCodeAt(0)||f.minor!==u.pre_master_secret.charCodeAt(1))throw new Error(\"TLS version rollback attack detected.\")}catch(t){u.pre_master_secret=n.random.getBytes(48)}t.expect=w,null!==t.session.clientCertificate&&(t.expect=_),t.process()},c.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:\"Invalid CertificateRequest. Message too short.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_types:a(n,1),certificate_authorities:a(n,2)};t.session.certificateRequest=i,t.expect=p,t.process()},c.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:\"Invalid CertificateVerify. Message too short.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i=e.fragment;i.read-=4;var o=i.bytes();i.read+=4;var s={signature:a(i,2).getBytes()},u=n.util.createBuffer();u.putBuffer(t.session.md5.digest()),u.putBuffer(t.session.sha1.digest()),u=u.getBytes();try{if(!t.session.clientCertificate.publicKey.verify(u,s.signature,\"NONE\"))throw new Error(\"CertificateVerify signature does not match.\");t.session.md5.update(o),t.session.sha1.update(o)}catch(e){return t.error(t,{message:\"Bad signature in CertificateVerify.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure}})}t.expect=w,t.process()},c.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:\"Invalid ServerHelloDone message. Invalid length.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.record_overflow}});if(null===t.serverCertificate){var i={message:\"No server certificate provided. Not enough security.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.insufficient_security}},o=t.verify(t,i.alert.description,0,[]);if(!0!==o)return(o||0===o)&&(\"object\"!=typeof o||n.util.isArray(o)?\"number\"==typeof o&&(i.alert.description=o):(o.message&&(i.message=o.message),o.alert&&(i.alert.description=o.alert))),t.error(t,i)}null!==t.session.certificateRequest&&(e=c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificate(t)}),c.queue(t,e)),e=c.createRecord(t,{type:c.ContentType.handshake,data:c.createClientKeyExchange(t)}),c.queue(t,e),t.expect=g;var s=function(t,e){null!==t.session.certificateRequest&&null!==t.session.clientCertificate&&c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificateVerify(t,e)})),c.queue(t,c.createRecord(t,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),t.state.pending=c.createConnectionState(t),t.state.current.write=t.state.pending.write,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createFinished(t)})),t.expect=d,c.flush(t),t.process()};if(null===t.session.certificateRequest||null===t.session.clientCertificate)return s(t,null);c.getClientSignature(t,s)},c.handleChangeCipherSpec=function(t,e){if(1!==e.fragment.getByte())return t.error(t,{message:\"Invalid ChangeCipherSpec message received.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var r=t.entity===c.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=c.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?y:S,t.process()},c.handleFinished=function(t,e,r){var o=e.fragment;o.read-=4;var s=o.bytes();o.read+=4;var a=e.fragment.getBytes();(o=n.util.createBuffer()).putBuffer(t.session.md5.digest()),o.putBuffer(t.session.sha1.digest());var u=t.entity===c.ConnectionEnd.client,f=u?\"server finished\":\"client finished\",h=t.session.sp;if((o=i(h.master_secret,f,o.getBytes(),12)).getBytes()!==a)return t.error(t,{message:\"Invalid verify_data in Finished message.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decrypt_error}});t.session.md5.update(s),t.session.sha1.update(s),(t.session.resuming&&u||!t.session.resuming&&!u)&&(c.queue(t,c.createRecord(t,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createFinished(t)}))),t.expect=u?m:k,t.handshaking=!1,++t.handshakes,t.peerCertificate=u?t.session.serverCertificate:t.session.clientCertificate,c.flush(t),t.isConnected=!0,t.connected(t),t.process()},c.handleAlert=function(t,e){var r,n=e.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case c.Alert.Description.close_notify:r=\"Connection closed.\";break;case c.Alert.Description.unexpected_message:r=\"Unexpected message.\";break;case c.Alert.Description.bad_record_mac:r=\"Bad record MAC.\";break;case c.Alert.Description.decryption_failed:r=\"Decryption failed.\";break;case c.Alert.Description.record_overflow:r=\"Record overflow.\";break;case c.Alert.Description.decompression_failure:r=\"Decompression failed.\";break;case c.Alert.Description.handshake_failure:r=\"Handshake failure.\";break;case c.Alert.Description.bad_certificate:r=\"Bad certificate.\";break;case c.Alert.Description.unsupported_certificate:r=\"Unsupported certificate.\";break;case c.Alert.Description.certificate_revoked:r=\"Certificate revoked.\";break;case c.Alert.Description.certificate_expired:r=\"Certificate expired.\";break;case c.Alert.Description.certificate_unknown:r=\"Certificate unknown.\";break;case c.Alert.Description.illegal_parameter:r=\"Illegal parameter.\";break;case c.Alert.Description.unknown_ca:r=\"Unknown certificate authority.\";break;case c.Alert.Description.access_denied:r=\"Access denied.\";break;case c.Alert.Description.decode_error:r=\"Decode error.\";break;case c.Alert.Description.decrypt_error:r=\"Decrypt error.\";break;case c.Alert.Description.export_restriction:r=\"Export restriction.\";break;case c.Alert.Description.protocol_version:r=\"Unsupported protocol version.\";break;case c.Alert.Description.insufficient_security:r=\"Insufficient security.\";break;case c.Alert.Description.internal_error:r=\"Internal error.\";break;case c.Alert.Description.user_canceled:r=\"User canceled.\";break;case c.Alert.Description.no_renegotiation:r=\"Renegotiation not supported.\";break;default:r=\"Unknown error.\"}if(i.description===c.Alert.Description.close_notify)return t.close();t.error(t,{message:r,send:!1,origin:t.entity===c.ConnectionEnd.client?\"server\":\"client\",alert:i}),t.process()},c.handleHandshake=function(t,e){var r=e.fragment,i=r.getByte(),o=r.getInt24();if(o>r.length())return t.fragmented=e,e.fragment=n.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var s=r.bytes(o+4);r.read+=4,i in K[t.entity][t.expect]?(t.entity!==c.ConnectionEnd.server||t.open||t.fail||(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),i!==c.HandshakeType.hello_request&&i!==c.HandshakeType.certificate_verify&&i!==c.HandshakeType.finished&&(t.session.md5.update(s),t.session.sha1.update(s)),K[t.entity][t.expect][i](t,e,o)):c.handleUnexpected(t,e)},c.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()},c.handleHeartbeat=function(t,e){var r=e.fragment,i=r.getByte(),o=r.getInt16(),s=r.getBytes(o);if(i===c.HeartbeatMessageType.heartbeat_request){if(t.handshaking||o>s.length)return t.process();c.queue(t,c.createRecord(t,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_response,s)})),c.flush(t)}else if(i===c.HeartbeatMessageType.heartbeat_response){if(s!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,n.util.createBuffer(s))}t.process()};var f=1,h=2,l=3,p=4,d=5,y=6,m=7,g=8,b=1,v=2,_=3,w=4,S=5,k=6,E=c.handleUnexpected,A=c.handleChangeCipherSpec,x=c.handleAlert,T=c.handleHandshake,B=c.handleApplicationData,I=c.handleHeartbeat,C=[];C[c.ConnectionEnd.client]=[[E,x,T,E,I],[E,x,T,E,I],[E,x,T,E,I],[E,x,T,E,I],[E,x,T,E,I],[A,x,E,E,I],[E,x,T,E,I],[E,x,T,B,I],[E,x,T,E,I]],C[c.ConnectionEnd.server]=[[E,x,T,E,I],[E,x,T,E,I],[E,x,T,E,I],[E,x,T,E,I],[A,x,E,E,I],[E,x,T,E,I],[E,x,T,B,I],[E,x,T,E,I]];var M=c.handleHelloRequest,P=c.handleServerHello,O=c.handleCertificate,R=c.handleServerKeyExchange,j=c.handleCertificateRequest,N=c.handleServerHelloDone,L=c.handleFinished,K=[];K[c.ConnectionEnd.client]=[[E,E,P,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[M,E,E,E,E,E,E,E,E,E,E,O,R,j,N,E,E,E,E,E,E],[M,E,E,E,E,E,E,E,E,E,E,E,R,j,N,E,E,E,E,E,E],[M,E,E,E,E,E,E,E,E,E,E,E,E,j,N,E,E,E,E,E,E],[M,E,E,E,E,E,E,E,E,E,E,E,E,E,N,E,E,E,E,E,E],[M,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[M,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,L],[M,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[M,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]];var D=c.handleClientHello,U=c.handleClientKeyExchange,F=c.handleCertificateVerify;K[c.ConnectionEnd.server]=[[E,D,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,O,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,U,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,F,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,L],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]],c.generateKeys=function(t,e){var r=i,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,\"master secret\",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var o=2*e.mac_key_length+2*e.enc_key_length,s=t.version.major===c.Versions.TLS_1_0.major&&t.version.minor===c.Versions.TLS_1_0.minor;s&&(o+=2*e.fixed_iv_length);var a=r(e.master_secret,\"key expansion\",n,o),u={client_write_MAC_key:a.getBytes(e.mac_key_length),server_write_MAC_key:a.getBytes(e.mac_key_length),client_write_key:a.getBytes(e.enc_key_length),server_write_key:a.getBytes(e.enc_key_length)};return s&&(u.client_write_IV=a.getBytes(e.fixed_iv_length),u.server_write_IV=a.getBytes(e.fixed_iv_length)),u},c.createConnectionState=function(t){var e=t.entity===c.ConnectionEnd.client,r=function(){var t={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(t){return!0},compressionState:null,compressFunction:function(t){return!0},updateSequenceNumber:function(){4294967295===t.sequenceNumber[1]?(t.sequenceNumber[1]=0,++t.sequenceNumber[0]):++t.sequenceNumber[1]}};return t},n={read:r(),write:r()};if(n.read.update=function(t,e){return n.read.cipherFunction(e,n.read)?n.read.compressFunction(t,e,n.read)||t.error(t,{message:\"Could not decompress record.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decompression_failure}}):t.error(t,{message:\"Could not decrypt record or bad MAC.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_record_mac}}),!t.fail},n.write.update=function(t,e){return n.write.compressFunction(t,e,n.write)?n.write.cipherFunction(e,n.write)||t.error(t,{message:\"Could not encrypt record.\",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):t.error(t,{message:\"Could not compress record.\",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}),!t.fail},t.session){var i=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(i),i.keys=c.generateKeys(t,i),n.read.macKey=e?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=e?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,i),i.compression_algorithm){case c.CompressionMethod.none:break;case c.CompressionMethod.deflate:n.read.compressFunction=s,n.write.compressFunction=o;break;default:throw new Error(\"Unsupported compression algorithm.\")}}return n},c.createRandom=function(){var t=new Date,e=+t+6e4*t.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(e),r.putBytes(n.random.getBytes(28)),r},c.createRecord=function(t,e){return e.data?{type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data}:null},c.createAlert=function(t,e){var r=n.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),c.createRecord(t,{type:c.ContentType.alert,data:r})},c.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=n.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var i=t.cipherSuites[r];e.putByte(i.id[0]),e.putByte(i.id[1])}var o=e.length(),s=n.util.createBuffer();s.putByte(c.CompressionMethod.none);var a=s.length(),f=n.util.createBuffer();if(t.virtualHost){var h=n.util.createBuffer();h.putByte(0),h.putByte(0);var l=n.util.createBuffer();l.putByte(0),u(l,2,n.util.createBuffer(t.virtualHost));var p=n.util.createBuffer();u(p,2,l),u(h,2,p),f.putBuffer(h)}var d=f.length();d>0&&(d+=2);var y=t.session.id,m=y.length+1+2+4+28+2+o+1+a+d,g=n.util.createBuffer();return g.putByte(c.HandshakeType.client_hello),g.putInt24(m),g.putByte(t.version.major),g.putByte(t.version.minor),g.putBytes(t.session.sp.client_random),u(g,1,n.util.createBuffer(y)),u(g,2,e),u(g,1,s),d>0&&u(g,2,f),g},c.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,i=n.util.createBuffer();return i.putByte(c.HandshakeType.server_hello),i.putInt24(r),i.putByte(t.version.major),i.putByte(t.version.minor),i.putBytes(t.session.sp.server_random),u(i,1,n.util.createBuffer(e)),i.putByte(t.session.cipherSuite.id[0]),i.putByte(t.session.cipherSuite.id[1]),i.putByte(t.session.compressionMethod),i},c.createCertificate=function(t){var e,r=t.entity===c.ConnectionEnd.client,i=null;t.getCertificate&&(e=r?t.session.certificateRequest:t.session.extensions.server_name.serverNameList,i=t.getCertificate(t,e));var o=n.util.createBuffer();if(null!==i)try{n.util.isArray(i)||(i=[i]);for(var s=null,a=0;a<i.length;++a){var f=n.pem.decode(i[a])[0];if(\"CERTIFICATE\"!==f.type&&\"X509 CERTIFICATE\"!==f.type&&\"TRUSTED CERTIFICATE\"!==f.type){var h=new Error('Could not convert certificate from PEM; PEM header type is not \"CERTIFICATE\", \"X509 CERTIFICATE\", or \"TRUSTED CERTIFICATE\".');throw h.headerType=f.type,h}if(f.procType&&\"ENCRYPTED\"===f.procType.type)throw new Error(\"Could not convert certificate from PEM; PEM is encrypted.\");var l=n.util.createBuffer(f.body);null===s&&(s=n.asn1.fromDer(l.bytes(),!1));var p=n.util.createBuffer();u(p,3,l),o.putBuffer(p)}i=n.pki.certificateFromAsn1(s),r?t.session.clientCertificate=i:t.session.serverCertificate=i}catch(e){return t.error(t,{message:\"Could not send certificate list.\",cause:e,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var d=3+o.length(),y=n.util.createBuffer();return y.putByte(c.HandshakeType.certificate),y.putInt24(d),u(y,3,o),y},c.createClientKeyExchange=function(t){var e=n.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(n.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var i=(e=t.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,o=n.util.createBuffer();return o.putByte(c.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(e.length),o.putBytes(e),o},c.createServerKeyExchange=function(t){var e=n.util.createBuffer();return e},c.getClientSignature=function(t,e){var r=n.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(t,e,r){var i=null;if(t.getPrivateKey)try{i=t.getPrivateKey(t,t.session.clientCertificate),i=n.pki.privateKeyFromPem(i)}catch(e){t.error(t,{message:\"Could not get private key.\",cause:e,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}null===i?t.error(t,{message:\"No private key set.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):e=i.sign(e,null),r(t,e)},t.getSignature(t,r,e)},c.createCertificateVerify=function(t,e){var r=e.length+2,i=n.util.createBuffer();return i.putByte(c.HandshakeType.certificate_verify),i.putInt24(r),i.putInt16(e.length),i.putBytes(e),i},c.createCertificateRequest=function(t){var e=n.util.createBuffer();e.putByte(1);var r=n.util.createBuffer();for(var i in t.caStore.certs){var o=t.caStore.certs[i],s=n.pki.distinguishedNameToAsn1(o.subject),a=n.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var f=1+e.length()+2+r.length(),h=n.util.createBuffer();return h.putByte(c.HandshakeType.certificate_request),h.putInt24(f),u(h,1,e),u(h,2,r),h},c.createServerHelloDone=function(t){var e=n.util.createBuffer();return e.putByte(c.HandshakeType.server_hello_done),e.putInt24(0),e},c.createChangeCipherSpec=function(){var t=n.util.createBuffer();return t.putByte(1),t},c.createFinished=function(t){var e=n.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===c.ConnectionEnd.client,o=t.session.sp,s=r?\"client finished\":\"server finished\";e=i(o.master_secret,s,e.getBytes(),12);var a=n.util.createBuffer();return a.putByte(c.HandshakeType.finished),a.putInt24(e.length()),a.putBuffer(e),a},c.createHeartbeat=function(t,e,r){void 0===r&&(r=e.length);var i=n.util.createBuffer();i.putByte(t),i.putInt16(r),i.putBytes(e);var o=i.length(),s=Math.max(16,o-r-3);return i.putBytes(n.random.getBytes(s)),i},c.queue=function(t,e){if(e&&(0!==e.fragment.length()||e.type!==c.ContentType.handshake&&e.type!==c.ContentType.alert&&e.type!==c.ContentType.change_cipher_spec)){if(e.type===c.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var i;if(e.fragment.length()<=c.MaxFragment)i=[e];else{i=[];for(var o=e.fragment.bytes();o.length>c.MaxFragment;)i.push(c.createRecord(t,{type:e.type,data:n.util.createBuffer(o.slice(0,c.MaxFragment))})),o=o.slice(c.MaxFragment);o.length>0&&i.push(c.createRecord(t,{type:e.type,data:n.util.createBuffer(o)}))}for(var s=0;s<i.length&&!t.fail;++s){var a=i[s];t.state.current.write.update(t,a)&&t.records.push(a)}}},c.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var q=function(t){switch(t){case!0:return!0;case n.pki.certificateError.bad_certificate:return c.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return c.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return c.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return c.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return c.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return c.Alert.Description.unknown_ca;default:return c.Alert.Description.bad_certificate}};for(var H in c.verifyCertificateChain=function(t,e){try{n.pki.verifyCertificateChain(t.caStore,e,function(e,r,i){q(e);var o=t.verify(t,e,r,i);if(!0!==o){if(\"object\"==typeof o&&!n.util.isArray(o)){var s=new Error(\"The application rejected the certificate.\");throw s.send=!0,s.alert={level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate},o.message&&(s.message=o.message),o.alert&&(s.alert.description=o.alert),s}o!==e&&(o=function(t){switch(t){case!0:return!0;case c.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case c.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case c.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case c.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case c.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case c.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(o))}return o})}catch(e){var r=e;(\"object\"!=typeof r||n.util.isArray(r))&&(r={send:!0,alert:{level:c.Alert.Level.fatal,description:q(e)}}),\"send\"in r||(r.send=!0),\"alert\"in r||(r.alert={level:c.Alert.Level.fatal,description:q(r.error)}),t.error(t,r)}return!t.fail},c.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{for(var i in(r={}).cache=t||{},r.capacity=Math.max(e||100,1),r.order=[],t)r.order.length<=e?r.order.push(i):delete t[i];r.getSession=function(t){var e=null,i=null;if(t?i=n.util.bytesToHex(t):r.order.length>0&&(i=r.order[0]),null!==i&&i in r.cache)for(var o in e=r.cache[i],delete r.cache[i],r.order)if(r.order[o]===i){r.order.splice(o,1);break}return e},r.setSession=function(t,e){if(r.order.length===r.capacity){var i=r.order.shift();delete r.cache[i]}i=n.util.bytesToHex(t);r.order.push(i),r.cache[i]=e}}return r},c.createConnection=function(t){var e=null;e=t.caStore?n.util.isArray(t.caStore)?n.pki.createCaStore(t.caStore):t.caStore:n.pki.createCaStore();var r=t.cipherSuites||null;if(null===r)for(var i in r=[],c.CipherSuites)r.push(c.CipherSuites[i]);var o=t.server?c.ConnectionEnd.server:c.ConnectionEnd.client,s=t.sessionCache?c.createSessionCache(t.sessionCache):null,a={version:{major:c.Version.major,minor:c.Version.minor},entity:o,sessionId:t.sessionId,caStore:e,sessionCache:s,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(t,e,r,n){return e},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(e,r){r.origin=r.origin||(e.entity===c.ConnectionEnd.client?\"client\":\"server\"),r.send&&(c.queue(e,c.createAlert(e,r.alert)),c.flush(e));var n=!1!==r.fatal;n&&(e.fail=!0),t.error(e,r),n&&e.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null,reset:function(t){a.version={major:c.Version.major,minor:c.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=(a.entity,c.ConnectionEnd.client,0),a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(t||void 0===t),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=c.createConnectionState(a)}};a.reset();return a.handshake=function(t){if(a.entity!==c.ConnectionEnd.client)a.error(a,{message:\"Cannot initiate handshake as a server.\",fatal:!1});else if(a.handshaking)a.error(a,{message:\"Handshake already in progress.\",fatal:!1});else{a.fail&&!a.open&&0===a.handshakes&&(a.fail=!1),a.handshaking=!0;var e=null;(t=t||\"\").length>0&&(a.sessionCache&&(e=a.sessionCache.getSession(t)),null===e&&(t=\"\")),0===t.length&&a.sessionCache&&null!==(e=a.sessionCache.getSession())&&(t=e.id),a.session={id:t,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},e&&(a.version=e.version,a.session.sp=e.sp),a.session.sp.client_random=c.createRandom().getBytes(),a.open=!0,c.queue(a,c.createRecord(a,{type:c.ContentType.handshake,data:c.createClientHello(a)})),c.flush(a)}},a.process=function(t){var e=0;return t&&a.input.putBytes(t),a.fail||(null!==a.record&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),null===a.record&&(e=function(t){var e=0,r=t.input,i=r.length();if(i<5)e=5-i;else{t.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var o=t.record.version.major===t.version.major;o&&t.session&&t.session.version&&(o=t.record.version.minor===t.version.minor),o||t.error(t,{message:\"Incompatible TLS version.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}})}return e}(a)),a.fail||null===a.record||a.record.ready||(e=function(t){var e=0,r=t.input,n=r.length();n<t.record.length?e=t.record.length-n:(t.record.fragment.putBytes(r.getBytes(t.record.length)),r.compact(),t.state.current.read.update(t,t.record)&&(null!==t.fragmented&&(t.fragmented.type===t.record.type?(t.fragmented.fragment.putBuffer(t.record.fragment),t.record=t.fragmented):t.error(t,{message:\"Invalid fragmented record.\",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})),t.record.ready=!0));return e}(a)),!a.fail&&null!==a.record&&a.record.ready&&function(t,e){var r=e.type-c.ContentType.change_cipher_spec,n=C[t.entity][t.expect];r in n?n[r](t,e):c.handleUnexpected(t,e)}(a,a.record)),e},a.prepare=function(t){return c.queue(a,c.createRecord(a,{type:c.ContentType.application_data,data:n.util.createBuffer(t)})),c.flush(a)},a.prepareHeartbeatRequest=function(t,e){return t instanceof n.util.ByteBuffer&&(t=t.bytes()),void 0===e&&(e=t.length),a.expectedHeartbeatPayload=t,c.queue(a,c.createRecord(a,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_request,t,e)})),c.flush(a)},a.close=function(t){if(!a.fail&&a.sessionCache&&a.session){var e={id:a.session.id,version:a.session.version,sp:a.session.sp};e.sp.keys=null,a.sessionCache.setSession(e.id,e)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,c.queue(a,c.createAlert(a,{level:c.Alert.Level.warning,description:c.Alert.Description.close_notify})),c.flush(a)),a.closed(a)),a.reset(t)},a},t.exports=n.tls=n.tls||{},c)\"function\"!=typeof c[H]&&(n.tls[H]=c[H]);n.tls.prf_tls1=i,n.tls.hmac_sha1=function(t,e,r){var i=n.hmac.create();i.start(\"SHA1\",t);var o=n.util.createBuffer();return o.putInt32(e[0]),o.putInt32(e[1]),o.putByte(r.type),o.putByte(r.version.major),o.putByte(r.version.minor),o.putInt16(r.length),o.putBytes(r.fragment.bytes()),i.update(o.getBytes()),i.digest().getBytes()},n.tls.createSessionCache=c.createSessionCache,n.tls.createConnection=c.createConnection},function(t,e,r){var n=r(12);r(82),r(107),r(505),r(118),r(290),r(512),r(292),r(213),r(18),r(291);var i=n.asn1,o=t.exports=n.pki=n.pki||{};o.pemToDer=function(t){var e=n.pem.decode(t)[0];if(e.procType&&\"ENCRYPTED\"===e.procType.type)throw new Error(\"Could not convert PEM to DER; PEM is encrypted.\");return n.util.createBuffer(e.body)},o.privateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if(\"PRIVATE KEY\"!==e.type&&\"RSA PRIVATE KEY\"!==e.type){var r=new Error('Could not convert private key from PEM; PEM header type is not \"PRIVATE KEY\" or \"RSA PRIVATE KEY\".');throw r.headerType=e.type,r}if(e.procType&&\"ENCRYPTED\"===e.procType.type)throw new Error(\"Could not convert private key from PEM; PEM is encrypted.\");var s=i.fromDer(e.body);return o.privateKeyFromAsn1(s)},o.privateKeyToPem=function(t,e){var r={type:\"RSA PRIVATE KEY\",body:i.toDer(o.privateKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.privateKeyInfoToPem=function(t,e){var r={type:\"PRIVATE KEY\",body:i.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})}},function(t,e,r){var n=r(12);if(r(106),r(82),r(212),r(83),r(107),r(290),r(118),r(71),r(509),r(213),r(18),void 0===i)var i=n.jsbn.BigInteger;var o=n.asn1,s=n.pki=n.pki||{};t.exports=s.pbe=n.pbe=n.pbe||{};var a=s.oids,u={name:\"EncryptedPrivateKeyInfo\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"EncryptedPrivateKeyInfo.encryptionAlgorithm\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"AlgorithmIdentifier.algorithm\",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:\"encryptionOid\"},{name:\"AlgorithmIdentifier.parameters\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:\"encryptionParams\"}]},{name:\"EncryptedPrivateKeyInfo.encryptedData\",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:\"encryptedData\"}]},c={name:\"PBES2Algorithms\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"PBES2Algorithms.keyDerivationFunc\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"PBES2Algorithms.keyDerivationFunc.oid\",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:\"kdfOid\"},{name:\"PBES2Algorithms.params\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"PBES2Algorithms.params.salt\",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:\"kdfSalt\"},{name:\"PBES2Algorithms.params.iterationCount\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"kdfIterationCount\"},{name:\"PBES2Algorithms.params.keyLength\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:\"keyLength\"},{name:\"PBES2Algorithms.params.prf\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:\"PBES2Algorithms.params.prf.algorithm\",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:\"prfOid\"}]}]}]},{name:\"PBES2Algorithms.encryptionScheme\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"PBES2Algorithms.encryptionScheme.oid\",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:\"encOid\"},{name:\"PBES2Algorithms.encryptionScheme.iv\",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:\"encIv\"}]}]},f={name:\"pkcs-12PbeParams\",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:\"pkcs-12PbeParams.salt\",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:\"salt\"},{name:\"pkcs-12PbeParams.iterations\",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:\"iterations\"}]};function h(t,e){return t.start().update(e).digest().getBytes()}function l(t){var e;if(t){if(!(e=s.oids[o.derToOid(t)])){var r=new Error(\"Unsupported PRF OID.\");throw r.oid=t,r.supported=[\"hmacWithSHA1\",\"hmacWithSHA224\",\"hmacWithSHA256\",\"hmacWithSHA384\",\"hmacWithSHA512\"],r}}else e=\"hmacWithSHA1\";return p(e)}function p(t){var e=n.md;switch(t){case\"hmacWithSHA224\":e=n.md.sha512;case\"hmacWithSHA1\":case\"hmacWithSHA256\":case\"hmacWithSHA384\":case\"hmacWithSHA512\":t=t.substr(8).toLowerCase();break;default:var r=new Error(\"Unsupported PRF algorithm.\");throw r.algorithm=t,r.supported=[\"hmacWithSHA1\",\"hmacWithSHA224\",\"hmacWithSHA256\",\"hmacWithSHA384\",\"hmacWithSHA512\"],r}if(!(e&&t in e))throw new Error(\"Unknown hash algorithm: \"+t);return e[t].create()}s.encryptPrivateKeyInfo=function(t,e,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||\"aes128\",r.prfAlgorithm=r.prfAlgorithm||\"sha1\";var i,u,c,f=n.random.getBytesSync(r.saltSize),h=r.count,l=o.integerToDer(h);if(0===r.algorithm.indexOf(\"aes\")||\"des\"===r.algorithm){var d,y,m;switch(r.algorithm){case\"aes128\":i=16,d=16,y=a[\"aes128-CBC\"],m=n.aes.createEncryptionCipher;break;case\"aes192\":i=24,d=16,y=a[\"aes192-CBC\"],m=n.aes.createEncryptionCipher;break;case\"aes256\":i=32,d=16,y=a[\"aes256-CBC\"],m=n.aes.createEncryptionCipher;break;case\"des\":i=8,d=8,y=a.desCBC,m=n.des.createEncryptionCipher;break;default:throw(S=new Error(\"Cannot encrypt private key. Unknown encryption algorithm.\")).algorithm=r.algorithm,S}var g=\"hmacWith\"+r.prfAlgorithm.toUpperCase(),b=p(g),v=n.pkcs5.pbkdf2(e,f,h,i,b),_=n.random.getBytesSync(d);(k=m(v)).start(_),k.update(o.toDer(t)),k.finish(),c=k.output.getBytes();var w=function(t,e,r,i){var a=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,e.getBytes())]);\"hmacWithSHA1\"!==i&&a.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.oids[i]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,\"\")]));return a}(f,l,i,g);u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.pkcs5PBKDF2).getBytes()),w]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(y).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,_)])])])}else{var S;if(\"3des\"!==r.algorithm)throw(S=new Error(\"Cannot encrypt private key. Unknown encryption algorithm.\")).algorithm=r.algorithm,S;i=24;var k,E=new n.util.ByteBuffer(f);v=s.pbe.generatePkcs12Key(e,E,1,h,i),_=s.pbe.generatePkcs12Key(e,E,2,h,i);(k=n.des.createEncryptionCipher(v)).start(_),k.update(o.toDer(t)),k.finish(),c=k.output.getBytes(),u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a[\"pbeWithSHAAnd3-KeyTripleDES-CBC\"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,f),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,l.getBytes())])])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[u,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,c)])},s.decryptPrivateKeyInfo=function(t,e){var r=null,i={},a=[];if(!o.validate(t,u,i,a)){var c=new Error(\"Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.\");throw c.errors=a,c}var f=o.derToOid(i.encryptionOid),h=s.pbe.getCipher(f,i.encryptionParams,e),l=n.util.createBuffer(i.encryptedData);return h.update(l),h.finish()&&(r=o.fromDer(h.output)),r},s.encryptedPrivateKeyToPem=function(t,e){var r={type:\"ENCRYPTED PRIVATE KEY\",body:o.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})},s.encryptedPrivateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if(\"ENCRYPTED PRIVATE KEY\"!==e.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is \"ENCRYPTED PRIVATE KEY\".');throw r.headerType=e.type,r}if(e.procType&&\"ENCRYPTED\"===e.procType.type)throw new Error(\"Could not convert encrypted private key from PEM; PEM is encrypted.\");return o.fromDer(e.body)},s.encryptRsaPrivateKey=function(t,e,r){if(!(r=r||{}).legacy){var i=s.wrapRsaPrivateKey(s.privateKeyToAsn1(t));return i=s.encryptPrivateKeyInfo(i,e,r),s.encryptedPrivateKeyToPem(i)}var a,u,c,f;switch(r.algorithm){case\"aes128\":a=\"AES-128-CBC\",c=16,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case\"aes192\":a=\"AES-192-CBC\",c=24,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case\"aes256\":a=\"AES-256-CBC\",c=32,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case\"3des\":a=\"DES-EDE3-CBC\",c=24,u=n.random.getBytesSync(8),f=n.des.createEncryptionCipher;break;case\"des\":a=\"DES-CBC\",c=8,u=n.random.getBytesSync(8),f=n.des.createEncryptionCipher;break;default:var h=new Error('Could not encrypt RSA private key; unsupported encryption algorithm \"'+r.algorithm+'\".');throw h.algorithm=r.algorithm,h}var l=f(n.pbe.opensslDeriveBytes(e,u.substr(0,8),c));l.start(u),l.update(o.toDer(s.privateKeyToAsn1(t))),l.finish();var p={type:\"RSA PRIVATE KEY\",procType:{version:\"4\",type:\"ENCRYPTED\"},dekInfo:{algorithm:a,parameters:n.util.bytesToHex(u).toUpperCase()},body:l.output.getBytes()};return n.pem.encode(p)},s.decryptRsaPrivateKey=function(t,e){var r=null,i=n.pem.decode(t)[0];if(\"ENCRYPTED PRIVATE KEY\"!==i.type&&\"PRIVATE KEY\"!==i.type&&\"RSA PRIVATE KEY\"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not \"ENCRYPTED PRIVATE KEY\", \"PRIVATE KEY\", or \"RSA PRIVATE KEY\".')).headerType=c,c;if(i.procType&&\"ENCRYPTED\"===i.procType.type){var a,u;switch(i.dekInfo.algorithm){case\"DES-CBC\":a=8,u=n.des.createDecryptionCipher;break;case\"DES-EDE3-CBC\":a=24,u=n.des.createDecryptionCipher;break;case\"AES-128-CBC\":a=16,u=n.aes.createDecryptionCipher;break;case\"AES-192-CBC\":a=24,u=n.aes.createDecryptionCipher;break;case\"AES-256-CBC\":a=32,u=n.aes.createDecryptionCipher;break;case\"RC2-40-CBC\":a=5,u=function(t){return n.rc2.createDecryptionCipher(t,40)};break;case\"RC2-64-CBC\":a=8,u=function(t){return n.rc2.createDecryptionCipher(t,64)};break;case\"RC2-128-CBC\":a=16,u=function(t){return n.rc2.createDecryptionCipher(t,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm \"'+i.dekInfo.algorithm+'\".')).algorithm=i.dekInfo.algorithm,c}var f=n.util.hexToBytes(i.dekInfo.parameters),h=u(n.pbe.opensslDeriveBytes(e,f.substr(0,8),a));if(h.start(f),h.update(n.util.createBuffer(i.body)),!h.finish())return r;r=h.output.getBytes()}else r=i.body;return null!==(r=\"ENCRYPTED PRIVATE KEY\"===i.type?s.decryptPrivateKeyInfo(o.fromDer(r),e):o.fromDer(r))&&(r=s.privateKeyFromAsn1(r)),r},s.pbe.generatePkcs12Key=function(t,e,r,i,o,s){var a,u;if(void 0===s||null===s){if(!(\"sha1\"in n.md))throw new Error('\"sha1\" hash algorithm unavailable.');s=n.md.sha1.create()}var c=s.digestLength,f=s.blockLength,h=new n.util.ByteBuffer,l=new n.util.ByteBuffer;if(null!==t&&void 0!==t){for(u=0;u<t.length;u++)l.putInt16(t.charCodeAt(u));l.putInt16(0)}var p=l.length(),d=e.length(),y=new n.util.ByteBuffer;y.fillWithByte(r,f);var m=f*Math.ceil(d/f),g=new n.util.ByteBuffer;for(u=0;u<m;u++)g.putByte(e.at(u%d));var b=f*Math.ceil(p/f),v=new n.util.ByteBuffer;for(u=0;u<b;u++)v.putByte(l.at(u%p));var _=g;_.putBuffer(v);for(var w=Math.ceil(o/c),S=1;S<=w;S++){var k=new n.util.ByteBuffer;k.putBytes(y.bytes()),k.putBytes(_.bytes());for(var E=0;E<i;E++)s.start(),s.update(k.getBytes()),k=s.digest();var A=new n.util.ByteBuffer;for(u=0;u<f;u++)A.putByte(k.at(u%c));var x=Math.ceil(d/f)+Math.ceil(p/f),T=new n.util.ByteBuffer;for(a=0;a<x;a++){var B=new n.util.ByteBuffer(_.getBytes(f)),I=511;for(u=A.length()-1;u>=0;u--)I>>=8,I+=A.at(u)+B.at(u),B.setAt(u,255&I);T.putBuffer(B)}_=T,h.putBuffer(k)}return h.truncate(h.length()-o),h},s.pbe.getCipher=function(t,e,r){switch(t){case s.oids.pkcs5PBES2:return s.pbe.getCipherForPBES2(t,e,r);case s.oids[\"pbeWithSHAAnd3-KeyTripleDES-CBC\"]:case s.oids[\"pbewithSHAAnd40BitRC2-CBC\"]:return s.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error(\"Cannot read encrypted PBE data block. Unsupported OID.\");throw n.oid=t,n.supportedOids=[\"pkcs5PBES2\",\"pbeWithSHAAnd3-KeyTripleDES-CBC\",\"pbewithSHAAnd40BitRC2-CBC\"],n}},s.pbe.getCipherForPBES2=function(t,e,r){var i,a={},u=[];if(!o.validate(e,c,a,u))throw(i=new Error(\"Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.\")).errors=u,i;if((t=o.derToOid(a.kdfOid))!==s.oids.pkcs5PBKDF2)throw(i=new Error(\"Cannot read encrypted private key. Unsupported key derivation function OID.\")).oid=t,i.supportedOids=[\"pkcs5PBKDF2\"],i;if((t=o.derToOid(a.encOid))!==s.oids[\"aes128-CBC\"]&&t!==s.oids[\"aes192-CBC\"]&&t!==s.oids[\"aes256-CBC\"]&&t!==s.oids[\"des-EDE3-CBC\"]&&t!==s.oids.desCBC)throw(i=new Error(\"Cannot read encrypted private key. Unsupported encryption scheme OID.\")).oid=t,i.supportedOids=[\"aes128-CBC\",\"aes192-CBC\",\"aes256-CBC\",\"des-EDE3-CBC\",\"desCBC\"],i;var f,h,p=a.kdfSalt,d=n.util.createBuffer(a.kdfIterationCount);switch(d=d.getInt(d.length()<<3),s.oids[t]){case\"aes128-CBC\":f=16,h=n.aes.createDecryptionCipher;break;case\"aes192-CBC\":f=24,h=n.aes.createDecryptionCipher;break;case\"aes256-CBC\":f=32,h=n.aes.createDecryptionCipher;break;case\"des-EDE3-CBC\":f=24,h=n.des.createDecryptionCipher;break;case\"desCBC\":f=8,h=n.des.createDecryptionCipher}var y=l(a.prfOid),m=n.pkcs5.pbkdf2(r,p,d,f,y),g=a.encIv,b=h(m);return b.start(g),b},s.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},a=[];if(!o.validate(e,f,i,a))throw(y=new Error(\"Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.\")).errors=a,y;var u,c,h,p=n.util.createBuffer(i.salt),d=n.util.createBuffer(i.iterations);switch(d=d.getInt(d.length()<<3),t){case s.oids[\"pbeWithSHAAnd3-KeyTripleDES-CBC\"]:u=24,c=8,h=n.des.startDecrypting;break;case s.oids[\"pbewithSHAAnd40BitRC2-CBC\"]:u=5,c=8,h=function(t,e){var r=n.rc2.createDecryptionCipher(t,40);return r.start(e,null),r};break;default:var y;throw(y=new Error(\"Cannot read PKCS #12 PBE data block. Unsupported OID.\")).oid=t,y}var m=l(i.prfOid),g=s.pbe.generatePkcs12Key(r,p,1,d,u,m);return m.start(),h(g,s.pbe.generatePkcs12Key(r,p,2,d,c,m))},s.pbe.opensslDeriveBytes=function(t,e,r,i){if(void 0===i||null===i){if(!(\"md5\"in n.md))throw new Error('\"md5\" hash algorithm unavailable.');i=n.md.md5.create()}null===e&&(e=\"\");for(var o=[h(i,t+e)],s=16,a=1;s<r;++a,s+=16)o.push(h(i,o[a-1]+t+e));return o.join(\"\").substr(0,r)}},function(t,e){},function(t,e,r){var n=r(12);r(83),r(18);var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var t=null,e=n.util.createBuffer(),r=new Array(64),i={algorithm:\"sha256\",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,s){\"utf8\"===s&&(o=n.util.encodeUtf8(o));var a=o.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=a[1],a[1]=a[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(o),u(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(e.bytes());var a,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)f+=(a=8*i.fullMessageLength[h+1])/4294967296>>>0,s.putInt32(f>>>0),f=a>>>0;s.putInt32(f);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};u(l,r,s);var p=n.util.createBuffer();return p.putInt32(l.h0),p.putInt32(l.h1),p.putInt32(l.h2),p.putInt32(l.h3),p.putInt32(l.h4),p.putInt32(l.h5),p.putInt32(l.h6),p.putInt32(l.h7),p},i};var o=null,s=!1,a=null;function u(t,e,r){for(var n,i,o,s,u,c,f,h,l,p,d,y,m,g=r.length();g>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=((n=e[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=e[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[u]=n+e[u-7]+i+e[u-16]|0;for(c=t.h0,f=t.h1,h=t.h2,l=t.h3,p=t.h4,d=t.h5,y=t.h6,m=t.h7,u=0;u<64;++u)o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&f|h&(c^f),n=m+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(y^p&(d^y))+a[u]+e[u],m=y,y=d,d=p,p=l+n>>>0,l=h,h=f,f=c,c=n+(i=o+s)>>>0;t.h0=t.h0+c|0,t.h1=t.h1+f|0,t.h2=t.h2+h|0,t.h3=t.h3+l|0,t.h4=t.h4+p|0,t.h5=t.h5+d|0,t.h6=t.h6+y|0,t.h7=t.h7+m|0,g-=64}}},function(t,e,r){(function(e){var n=r(12);r(18);var i=null;!n.util.isNodejs||n.options.usePureJavaScript||e.versions[\"node-webkit\"]||(i=r(506)),(t.exports=n.prng=n.prng||{}).create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:\"\"},r=t.md,o=new Array(32),s=0;s<32;++s)o[s]=r.create();function a(){if(e.pools[0].messageLength>=32)return u();var t=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(t)),u()}function u(){e.reseeds=4294967295===e.reseeds?0:e.reseeds+1;var t=e.plugin.md.create();t.update(e.keyBytes);for(var r=1,n=0;n<32;++n)e.reseeds%r==0&&(t.update(e.pools[n].digest().getBytes()),e.pools[n].start()),r<<=1;e.keyBytes=t.digest().getBytes(),t.start(),t.update(e.keyBytes);var i=t.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(i),e.generated=0}function c(t){var e=null;if(\"undefined\"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(e=function(t){return r.getRandomValues(t)})}var i=n.util.createBuffer();if(e)for(;i.length()<t;){var o=Math.max(1,Math.min(t-i.length(),65536)/4),s=new Uint32Array(Math.floor(o));try{e(s);for(var a=0;a<s.length;++a)i.putInt32(s[a])}catch(t){if(!(\"undefined\"!=typeof QuotaExceededError&&t instanceof QuotaExceededError))throw t}}if(i.length()<t)for(var u,c,f,h=Math.floor(65536*Math.random());i.length()<t;){c=16807*(65535&h),c+=(32767&(u=16807*(h>>16)))<<16,h=4294967295&(c=(2147483647&(c+=u>>15))+(c>>31));for(a=0;a<3;++a)f=h>>>(a<<3),f^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&f))}return i.getBytes(t)}return e.pools=o,e.pool=0,e.generate=function(t,r){if(!r)return e.generateSync(t);var i=e.plugin.cipher,o=e.plugin.increment,s=e.plugin.formatKey,a=e.plugin.formatSeed,c=n.util.createBuffer();e.key=null,function f(h){if(h)return r(h);if(c.length()>=t)return r(null,c.getBytes(t));e.generated>1048575&&(e.key=null);if(null===e.key)return n.util.nextTick(function(){!function(t){if(e.pools[0].messageLength>=32)return u(),t();var r=32-e.pools[0].messageLength<<5;e.seedFile(r,function(r,n){if(r)return t(r);e.collect(n),u(),t()})}(f)});var l=i(e.key,e.seed);e.generated+=l.length;c.putBytes(l);e.key=s(i(e.key,o(e.seed)));e.seed=a(i(e.key,e.seed));n.util.setImmediate(f)}()},e.generateSync=function(t){var r=e.plugin.cipher,i=e.plugin.increment,o=e.plugin.formatKey,s=e.plugin.formatSeed;e.key=null;for(var u=n.util.createBuffer();u.length()<t;){e.generated>1048575&&(e.key=null),null===e.key&&a();var c=r(e.key,e.seed);e.generated+=c.length,u.putBytes(c),e.key=o(r(e.key,i(e.seed))),e.seed=s(r(e.key,e.seed))}return u.getBytes(t)},i?(e.seedFile=function(t,e){i.randomBytes(t,function(t,r){if(t)return e(t);e(null,r.toString())})},e.seedFileSync=function(t){return i.randomBytes(t).toString()}):(e.seedFile=function(t,e){try{e(null,c(t))}catch(t){e(t)}},e.seedFileSync=c),e.collect=function(t){for(var r=t.length,n=0;n<r;++n)e.pools[e.pool].update(t.substr(n,1)),e.pool=31===e.pool?0:e.pool+1},e.collectInt=function(t,r){for(var n=\"\",i=0;i<r;i+=8)n+=String.fromCharCode(t>>i&255);e.collect(n)},e.registerWorker=function(t){if(t===self)e.seedFile=function(t,e){self.addEventListener(\"message\",function t(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener(\"message\",t),e(n.forge.prng.err,n.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:t}}})};else{t.addEventListener(\"message\",function(r){var n=r.data;n.forge&&n.forge.prng&&e.seedFile(n.forge.prng.needed,function(e,r){t.postMessage({forge:{prng:{err:e,bytes:r}}})})})}},e}}).call(this,r(7))},function(t,e,r){var n=r(12);r(18);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5],s=function(t,e){return t<<e&65535|(65535&t)>>16-e},a=function(t,e){return(65535&t)>>e|t<<16-e&65535};t.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(t,e){\"string\"==typeof t&&(t=n.util.createBuffer(t)),e=e||128;var r,o=t,s=t.length(),a=e,u=Math.ceil(a/8),c=255>>(7&a);for(r=s;r<128;r++)o.putByte(i[o.at(r-1)+o.at(r-s)&255]);for(o.setAt(128-u,i[o.at(128-u)&c]),r=127-u;r>=0;r--)o.setAt(r,i[o.at(r+1)^o.at(r+u)]);return o};var u=function(t,e,r){var i,u,c,f,h=!1,l=null,p=null,d=null,y=[];for(t=n.rc2.expandKey(t,e),c=0;c<64;c++)y.push(t.getInt16Le());r?(i=function(t){for(c=0;c<4;c++)t[c]+=y[f]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),t[c]=s(t[c],o[c]),f++},u=function(t){for(c=0;c<4;c++)t[c]+=y[63&t[(c+3)%4]]}):(i=function(t){for(c=3;c>=0;c--)t[c]=a(t[c],o[c]),t[c]-=y[f]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),f--},u=function(t){for(c=3;c>=0;c--)t[c]-=y[63&t[(c+3)%4]]});var m=function(t){var e=[];for(c=0;c<4;c++){var n=l.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),e.push(65535&n)}f=r?0:63;for(var i=0;i<t.length;i++)for(var o=0;o<t[i][0];o++)t[i][1](e);for(c=0;c<4;c++)null!==d&&(r?d.putInt16Le(e[c]):e[c]^=d.getInt16Le()),p.putInt16Le(e[c])},g=null;return g={start:function(t,e){t&&\"string\"==typeof t&&(t=n.util.createBuffer(t)),h=!1,l=n.util.createBuffer(),p=e||new n.util.createBuffer,d=t,g.output=p},update:function(t){for(h||l.putBuffer(t);l.length()>=8;)m([[5,i],[1,u],[6,i],[1,u],[5,i]])},finish:function(t){var e=!0;if(r)if(t)e=t(8,l,!r);else{var n=8===l.length()?8:8-l.length();l.fillWithByte(n,n)}if(e&&(h=!0,g.update()),!r&&(e=0===l.length()))if(t)e=t(8,p,!r);else{var i=p.length(),o=p.at(i-1);o>i?e=!1:p.truncate(o)}return e}}};n.rc2.startEncrypting=function(t,e,r){var i=n.rc2.createEncryptionCipher(t,128);return i.start(e,r),i},n.rc2.createEncryptionCipher=function(t,e){return u(t,e,!0)},n.rc2.startDecrypting=function(t,e,r){var i=n.rc2.createDecryptionCipher(t,128);return i.start(e,r),i},n.rc2.createDecryptionCipher=function(t,e){return u(t,e,!1)}},function(t,e,r){var n=r(12);r(18),r(71),r(153);var i=t.exports=n.pkcs1=n.pkcs1||{};function o(t,e,r){r||(r=n.md.sha1.create());for(var i=\"\",o=Math.ceil(e/r.digestLength),s=0;s<o;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);r.start(),r.update(t+a),i+=r.digest().getBytes()}return i.substring(0,e)}i.encode_rsa_oaep=function(t,e,r){var i,s,a,u;\"string\"==typeof r?(i=r,s=arguments[3]||void 0,a=arguments[4]||void 0):r&&(i=r.label||void 0,s=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),a?a.start():a=n.md.sha1.create(),u||(u=a);var c=Math.ceil(t.n.bitLength()/8),f=c-2*a.digestLength-2;if(e.length>f)throw(m=new Error(\"RSAES-OAEP input message length is too long.\")).length=e.length,m.maxLength=f,m;i||(i=\"\"),a.update(i,\"raw\");for(var h=a.digest(),l=\"\",p=f-e.length,d=0;d<p;d++)l+=\"\\0\";var y=h.getBytes()+l+\"\u0001\"+e;if(s){if(s.length!==a.digestLength){var m;throw(m=new Error(\"Invalid RSAES-OAEP seed. The seed length must match the digest length.\")).seedLength=s.length,m.digestLength=a.digestLength,m}}else s=n.random.getBytes(a.digestLength);var g=o(s,c-a.digestLength-1,u),b=n.util.xorBytes(y,g,y.length),v=o(b,a.digestLength,u);return\"\\0\"+n.util.xorBytes(s,v,s.length)+b},i.decode_rsa_oaep=function(t,e,r){var i,s,a;\"string\"==typeof r?(i=r,s=arguments[3]||void 0):r&&(i=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var u=Math.ceil(t.n.bitLength()/8);if(e.length!==u)throw(g=new Error(\"RSAES-OAEP encoded message length is invalid.\")).length=e.length,g.expectedLength=u,g;if(void 0===s?s=n.md.sha1.create():s.start(),a||(a=s),u<2*s.digestLength+2)throw new Error(\"RSAES-OAEP key is too short for the hash function.\");i||(i=\"\"),s.update(i,\"raw\");for(var c=s.digest().getBytes(),f=e.charAt(0),h=e.substring(1,s.digestLength+1),l=e.substring(1+s.digestLength),p=o(l,s.digestLength,a),d=o(n.util.xorBytes(h,p,h.length),u-s.digestLength-1,a),y=n.util.xorBytes(l,d,l.length),m=y.substring(0,s.digestLength),g=\"\\0\"!==f,b=0;b<s.digestLength;++b)g|=c.charAt(b)!==m.charAt(b);for(var v=1,_=s.digestLength,w=s.digestLength;w<y.length;w++){var S=y.charCodeAt(w);g|=S&(v?65534:0),_+=v&=1&S^1}if(g||1!==y.charCodeAt(_))throw new Error(\"Invalid RSAES-OAEP padding.\");return y.substring(_+1)}},function(t,e,r){var n=r(12);r(18),r(214),r(71),function(){if(n.prime)t.exports=n.prime;else{var e=t.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],o=new r(null);o.fromInt(30);var s=function(t,e){return t|e};e.generateProbablePrime=function(t,e,i){\"function\"==typeof e&&(i=e,e={});var o=(e=e||{}).algorithm||\"PRIMEINC\";\"string\"==typeof o&&(o={name:o}),o.options=o.options||{};var s=e.prng||n.random,c={nextBytes:function(t){for(var e=s.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}};if(\"PRIMEINC\"===o.name)return function(t,e,i,o){if(\"workers\"in i)return function(t,e,i,o){if(\"undefined\"==typeof Worker)return a(t,e,i,o);var s=u(t,e),c=i.workers,f=i.workLoad||100,h=30*f/8,l=i.workerScript||\"forge/prime.worker.js\";if(-1===c)return n.util.estimateCores(function(t,e){t&&(e=2),c=e-1,p()});function p(){c=Math.max(1,c);for(var n=[],i=0;i<c;++i)n[i]=new Worker(l);for(var i=0;i<c;++i)n[i].addEventListener(\"message\",p);var a=!1;function p(i){if(!a){0;var c=i.data;if(c.found){for(var l=0;l<n.length;++l)n[l].terminate();return a=!0,o(null,new r(c.prime,16))}s.bitLength()>t&&(s=u(t,e));var p=s.toString(16);i.target.postMessage({hex:p,workLoad:f}),s.dAddOffset(h,0)}}}p()}(t,e,i,o);return a(t,e,i,o)}(t,c,o.options,i);throw new Error(\"Invalid prime generation algorithm: \"+o.name)}}function a(t,e,r,o){var s=u(t,e),a=function(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}(s.bitLength());\"millerRabinTests\"in r&&(a=r.millerRabinTests);var c=10;\"maxBlockTime\"in r&&(c=r.maxBlockTime),function t(e,r,o,s,a,c,f){var h=+new Date;do{if(e.bitLength()>r&&(e=u(r,o)),e.isProbablePrime(a))return f(null,e);e.dAddOffset(i[s++%8],0)}while(c<0||+new Date-h<c);n.util.setImmediate(function(){t(e,r,o,s,a,c,f)})}(s,t,e,0,a,c,o)}function u(t,e){var n=new r(t,e),i=t-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),s,n),n.dAddOffset(31-n.mod(o).byteValue(),0),n}}()},function(t,e,r){var n=r(12);r(82),r(152),r(107),r(513),r(505),r(71),r(213),r(153),r(18),r(291);var i=n.asn1,o=n.pki,s=t.exports=n.pkcs12=n.pkcs12||{},a={name:\"ContentInfo\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"ContentInfo.contentType\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"contentType\"},{name:\"ContentInfo.content\",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:\"content\"}]},u={name:\"PFX\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"PFX.version\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"version\"},a,{name:\"PFX.macData\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:\"mac\",value:[{name:\"PFX.macData.mac\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"PFX.macData.mac.digestAlgorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"PFX.macData.mac.digestAlgorithm.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"macAlgorithm\"},{name:\"PFX.macData.mac.digestAlgorithm.parameters\",tagClass:i.Class.UNIVERSAL,captureAsn1:\"macAlgorithmParameters\"}]},{name:\"PFX.macData.mac.digest\",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:\"macDigest\"}]},{name:\"PFX.macData.macSalt\",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:\"macSalt\"},{name:\"PFX.macData.iterations\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:\"macIterations\"}]}]},c={name:\"SafeBag\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"SafeBag.bagId\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"bagId\"},{name:\"SafeBag.bagValue\",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:\"bagValue\"},{name:\"SafeBag.bagAttributes\",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:\"bagAttributes\"}]},f={name:\"Attribute\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"Attribute.attrId\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"oid\"},{name:\"Attribute.attrValues\",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:\"values\"}]},h={name:\"CertBag\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"CertBag.certId\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"certId\"},{name:\"CertBag.certValue\",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:\"CertBag.certValue[0]\",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:\"cert\"}]}]};function l(t,e,r,n){for(var i=[],o=0;o<t.length;o++)for(var s=0;s<t[o].safeBags.length;s++){var a=t[o].safeBags[s];void 0!==n&&a.type!==n||(null!==e?void 0!==a.attributes[e]&&a.attributes[e].indexOf(r)>=0&&i.push(a):i.push(a))}return i}function p(t){if(t.composed||t.constructed){for(var e=n.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function d(t,e){var r={},s=[];if(!i.validate(t,n.pkcs7.asn1.encryptedDataValidator,r,s))throw(a=new Error(\"Cannot read EncryptedContentInfo.\")).errors=s,a;var a,u=i.derToOid(r.contentType);if(u!==o.oids.data)throw(a=new Error(\"PKCS#12 EncryptedContentInfo ContentType is not Data.\")).oid=u,a;u=i.derToOid(r.encAlgorithm);var c=o.pbe.getCipher(u,r.encParameter,e),f=p(r.encryptedContentAsn1),h=n.util.createBuffer(f.value);if(c.update(h),!c.finish())throw new Error(\"Failed to decrypt PKCS#12 SafeContents.\");return c.output.getBytes()}function y(t,e,r){if(!e&&0===t.length)return[];if((t=i.fromDer(t,e)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error(\"PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.\");for(var n=[],s=0;s<t.value.length;s++){var a=t.value[s],u={},f=[];if(!i.validate(a,c,u,f))throw(g=new Error(\"Cannot read SafeBag.\")).errors=f,g;var l,p,d={type:i.derToOid(u.bagId),attributes:m(u.bagAttributes)};n.push(d);var y=u.bagValue.value[0];switch(d.type){case o.oids.pkcs8ShroudedKeyBag:if(null===(y=o.decryptPrivateKeyInfo(y,r)))throw new Error(\"Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?\");case o.oids.keyBag:try{d.key=o.privateKeyFromAsn1(y)}catch(t){d.key=null,d.asn1=y}continue;case o.oids.certBag:l=h,p=function(){if(i.derToOid(u.certId)!==o.oids.x509Certificate){var t=new Error(\"Unsupported certificate type, only X.509 supported.\");throw t.oid=i.derToOid(u.certId),t}var r=i.fromDer(u.cert,e);try{d.cert=o.certificateFromAsn1(r,!0)}catch(t){d.cert=null,d.asn1=r}};break;default:var g;throw(g=new Error(\"Unsupported PKCS#12 SafeBag type.\")).oid=d.type,g}if(void 0!==l&&!i.validate(y,l,u,f))throw(g=new Error(\"Cannot read PKCS#12 \"+l.name)).errors=f,g;p()}return n}function m(t){var e={};if(void 0!==t)for(var r=0;r<t.length;++r){var n={},s=[];if(!i.validate(t[r],f,n,s)){var a=new Error(\"Cannot read PKCS#12 BagAttribute.\");throw a.errors=s,a}var u=i.derToOid(n.oid);if(void 0!==o.oids[u]){e[o.oids[u]]=[];for(var c=0;c<n.values.length;++c)e[o.oids[u]].push(n.values[c].value)}}return e}s.pkcs12FromAsn1=function(t,e,r){\"string\"==typeof e?(r=e,e=!0):void 0===e&&(e=!0);var c={};if(!i.validate(t,u,c,[]))throw(f=new Error(\"Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.\")).errors=f,f;var f,h={version:c.version.charCodeAt(0),safeContents:[],getBags:function(t){var e,r={};return\"localKeyId\"in t?e=t.localKeyId:\"localKeyIdHex\"in t&&(e=n.util.hexToBytes(t.localKeyIdHex)),void 0===e&&!(\"friendlyName\"in t)&&\"bagType\"in t&&(r[t.bagType]=l(h.safeContents,null,null,t.bagType)),void 0!==e&&(r.localKeyId=l(h.safeContents,\"localKeyId\",e,t.bagType)),\"friendlyName\"in t&&(r.friendlyName=l(h.safeContents,\"friendlyName\",t.friendlyName,t.bagType)),r},getBagsByFriendlyName:function(t,e){return l(h.safeContents,\"friendlyName\",t,e)},getBagsByLocalKeyId:function(t,e){return l(h.safeContents,\"localKeyId\",t,e)}};if(3!==c.version.charCodeAt(0))throw(f=new Error(\"PKCS#12 PFX of version other than 3 not supported.\")).version=c.version.charCodeAt(0),f;if(i.derToOid(c.contentType)!==o.oids.data)throw(f=new Error(\"Only PKCS#12 PFX in password integrity mode supported.\")).oid=i.derToOid(c.contentType),f;var m=c.content.value[0];if(m.tagClass!==i.Class.UNIVERSAL||m.type!==i.Type.OCTETSTRING)throw new Error(\"PKCS#12 authSafe content data is not an OCTET STRING.\");if(m=p(m),c.mac){var g=null,b=0,v=i.derToOid(c.macAlgorithm);switch(v){case o.oids.sha1:g=n.md.sha1.create(),b=20;break;case o.oids.sha256:g=n.md.sha256.create(),b=32;break;case o.oids.sha384:g=n.md.sha384.create(),b=48;break;case o.oids.sha512:g=n.md.sha512.create(),b=64;break;case o.oids.md5:g=n.md.md5.create(),b=16}if(null===g)throw new Error(\"PKCS#12 uses unsupported MAC algorithm: \"+v);var _=new n.util.ByteBuffer(c.macSalt),w=\"macIterations\"in c?parseInt(n.util.bytesToHex(c.macIterations),16):1,S=s.generateKey(r,_,3,w,b,g),k=n.hmac.create();if(k.start(g,S),k.update(m.value),k.getMac().getBytes()!==c.macDigest)throw new Error(\"PKCS#12 MAC could not be verified. Invalid password?\")}return function(t,e,r,n){if((e=i.fromDer(e,r)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error(\"PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo\");for(var s=0;s<e.value.length;s++){var u=e.value[s],c={},f=[];if(!i.validate(u,a,c,f)){var h=new Error(\"Cannot read ContentInfo.\");throw h.errors=f,h}var l={encrypted:!1},m=null,g=c.content.value[0];switch(i.derToOid(c.contentType)){case o.oids.data:if(g.tagClass!==i.Class.UNIVERSAL||g.type!==i.Type.OCTETSTRING)throw new Error(\"PKCS#12 SafeContents Data is not an OCTET STRING.\");m=p(g).value;break;case o.oids.encryptedData:m=d(g,n),l.encrypted=!0;break;default:var h=new Error(\"Unsupported PKCS#12 contentType.\");throw h.contentType=i.derToOid(c.contentType),h}l.safeBags=y(m,r,n),t.safeContents.push(l)}}(h,m.value,e,r),h},s.toPkcs12Asn1=function(t,e,r,a){(a=a||{}).saltSize=a.saltSize||8,a.count=a.count||2048,a.algorithm=a.algorithm||a.encAlgorithm||\"aes128\",\"useMac\"in a||(a.useMac=!0),\"localKeyId\"in a||(a.localKeyId=null),\"generateLocalKeyId\"in a||(a.generateLocalKeyId=!0);var u,c=a.localKeyId;if(null!==c)c=n.util.hexToBytes(c);else if(a.generateLocalKeyId)if(e){var f=n.util.isArray(e)?e[0]:e;\"string\"==typeof f&&(f=o.certificateFromPem(f)),(T=n.md.sha1.create()).update(i.toDer(o.certificateToAsn1(f)).getBytes()),c=T.digest().getBytes()}else c=n.random.getBytes(20);var h=[];null!==c&&h.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,c)])])),\"friendlyName\"in a&&h.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,a.friendlyName)])])),h.length>0&&(u=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,h));var l=[],p=[];null!==e&&(p=n.util.isArray(e)?e:[e]);for(var d=[],y=0;y<p.length;++y){\"string\"==typeof(e=p[y])&&(e=o.certificateFromPem(e));var m=0===y?u:void 0,g=o.certificateToAsn1(e),b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(g).getBytes())])])]),m]);d.push(b)}if(d.length>0){var v=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d),_=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(v).getBytes())])]);l.push(_)}var w=null;if(null!==t){var S=o.wrapRsaPrivateKey(o.privateKeyToAsn1(t));w=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[S]),u]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[o.encryptPrivateKeyInfo(S,r,a)]),u]);var k=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[w]),E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(k).getBytes())])]);l.push(E)}var A,x=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,l);if(a.useMac){var T=n.md.sha1.create(),B=new n.util.ByteBuffer(n.random.getBytes(a.saltSize)),I=a.count,C=(t=s.generateKey(r,B,3,I,20),n.hmac.create());C.start(T,t),C.update(i.toDer(x).getBytes());var M=C.getMac();A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,M.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(I).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(x).getBytes())])]),A])},s.generateKey=n.pbe.generatePkcs12Key},function(t,e,r){var n=r(12);r(82),r(18);var i=n.asn1,o=t.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=o;var s={name:\"ContentInfo\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"ContentInfo.ContentType\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"contentType\"},{name:\"ContentInfo.content\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:\"content\"}]};o.contentInfoValidator=s;var a={name:\"EncryptedContentInfo\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"EncryptedContentInfo.contentType\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"contentType\"},{name:\"EncryptedContentInfo.contentEncryptionAlgorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"encAlgorithm\"},{name:\"EncryptedContentInfo.contentEncryptionAlgorithm.parameter\",tagClass:i.Class.UNIVERSAL,captureAsn1:\"encParameter\"}]},{name:\"EncryptedContentInfo.encryptedContent\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:\"encryptedContent\",captureAsn1:\"encryptedContentAsn1\"}]};o.envelopedDataValidator={name:\"EnvelopedData\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"EnvelopedData.Version\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"version\"},{name:\"EnvelopedData.RecipientInfos\",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:\"recipientInfos\"}].concat(a)},o.encryptedDataValidator={name:\"EncryptedData\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"EncryptedData.Version\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"version\"}].concat(a)};var u={name:\"SignerInfo\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"SignerInfo.version\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:\"SignerInfo.issuerAndSerialNumber\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"SignerInfo.issuerAndSerialNumber.issuer\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"issuer\"},{name:\"SignerInfo.issuerAndSerialNumber.serialNumber\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"serial\"}]},{name:\"SignerInfo.digestAlgorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"SignerInfo.digestAlgorithm.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"digestAlgorithm\"},{name:\"SignerInfo.digestAlgorithm.parameter\",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:\"digestParameter\",optional:!0}]},{name:\"SignerInfo.authenticatedAttributes\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:\"authenticatedAttributes\"},{name:\"SignerInfo.digestEncryptionAlgorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:\"signatureAlgorithm\"},{name:\"SignerInfo.encryptedDigest\",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:\"signature\"},{name:\"SignerInfo.unauthenticatedAttributes\",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:\"unauthenticatedAttributes\"}]};o.signedDataValidator={name:\"SignedData\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"SignedData.Version\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"version\"},{name:\"SignedData.DigestAlgorithms\",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:\"digestAlgorithms\"},s,{name:\"SignedData.Certificates\",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:\"certificates\"},{name:\"SignedData.CertificateRevocationLists\",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:\"crls\"},{name:\"SignedData.SignerInfos\",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:\"signerInfos\",optional:!0,value:[u]}]},o.recipientInfoValidator={name:\"RecipientInfo\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"RecipientInfo.version\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"version\"},{name:\"RecipientInfo.issuerAndSerial\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"RecipientInfo.issuerAndSerial.issuer\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:\"issuer\"},{name:\"RecipientInfo.issuerAndSerial.serialNumber\",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:\"serial\"}]},{name:\"RecipientInfo.keyEncryptionAlgorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:\"RecipientInfo.keyEncryptionAlgorithm.algorithm\",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:\"encAlgorithm\"},{name:\"RecipientInfo.keyEncryptionAlgorithm.parameter\",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:\"encParameter\"}]},{name:\"RecipientInfo.encryptedKey\",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:\"encKey\"}]}},function(t,e,r){var n=r(12);r(18),n.mgf=n.mgf||{},(t.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(t){return{generate:function(e,r){for(var i=new n.util.ByteBuffer,o=Math.ceil(r/t.digestLength),s=0;s<o;s++){var a=new n.util.ByteBuffer;a.putInt32(s),t.start(),t.update(e+a.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},function(t,e,r){var n=r(12);t.exports=n.debug=n.debug||{},n.debug.storage={},n.debug.get=function(t,e){var r;return void 0===t?r=n.debug.storage:t in n.debug.storage&&(r=void 0===e?n.debug.storage[t]:n.debug.storage[t][e]),r},n.debug.set=function(t,e,r){t in n.debug.storage||(n.debug.storage[t]={}),n.debug.storage[t][e]=r},n.debug.clear=function(t,e){void 0===t?n.debug.storage={}:t in n.debug.storage&&(void 0===e?delete n.debug.storage[t]:delete n.debug.storage[t][e])}},function(t,e,r){var n=r(12);r(83),r(18);var i=t.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var o=n.sha384=n.sha512.sha384=n.sha512.sha384||{};o.create=function(){return i.create(\"SHA-384\")},n.md.sha384=n.md.algorithms.sha384=o,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create(\"SHA-512/256\")}},n.md[\"sha512/256\"]=n.md.algorithms[\"sha512/256\"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create(\"SHA-512/224\")}},n.md[\"sha512/224\"]=n.md.algorithms[\"sha512/224\"]=n.sha512.sha224,i.create=function(t){if(a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})[\"SHA-512\"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c[\"SHA-384\"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c[\"SHA-512/256\"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c[\"SHA-512/224\"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],a=!0),void 0===t&&(t=\"SHA-512\"),!(t in c))throw new Error(\"Invalid SHA-512 algorithm: \"+t);for(var e=c[t],r=null,i=n.util.createBuffer(),o=new Array(80),h=0;h<80;++h)o[h]=new Array(2);var l=64;switch(t){case\"SHA-384\":l=48;break;case\"SHA-512/256\":l=32;break;case\"SHA-512/224\":l=28}var p={algorithm:t.replace(\"-\",\"\").toLowerCase(),blockLength:128,digestLength:l,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){p.messageLength=0,p.fullMessageLength=p.messageLength128=[];for(var t=p.messageLengthSize/4,o=0;o<t;++o)p.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(e.length);for(o=0;o<e.length;++o)r[o]=e[o].slice(0);return p}};return p.start(),p.update=function(t,e){\"utf8\"===e&&(t=n.util.encodeUtf8(t));var s=t.length;p.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=p.fullMessageLength.length-1;a>=0;--a)p.fullMessageLength[a]+=s[1],s[1]=s[0]+(p.fullMessageLength[a]/4294967296>>>0),p.fullMessageLength[a]=p.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return i.putBytes(t),f(r,o,i),(i.read>2048||0===i.length())&&i.compact(),p},p.digest=function(){var e=n.util.createBuffer();e.putBytes(i.bytes());var a,u=p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize&p.blockLength-1;e.putBytes(s.substr(0,p.blockLength-u));for(var c=8*p.fullMessageLength[0],h=0;h<p.fullMessageLength.length-1;++h)c+=(a=8*p.fullMessageLength[h+1])/4294967296>>>0,e.putInt32(c>>>0),c=a>>>0;e.putInt32(c);var l=new Array(r.length);for(h=0;h<r.length;++h)l[h]=r[h].slice(0);f(l,o,e);var d,y=n.util.createBuffer();d=\"SHA-512\"===t?l.length:\"SHA-384\"===t?l.length-2:l.length-4;for(h=0;h<d;++h)y.putInt32(l[h][0]),h===d-1&&\"SHA-512/224\"===t||y.putInt32(l[h][1]);return y},p};var s=null,a=!1,u=null,c=null;function f(t,e,r){for(var n,i,o,s,a,c,f,h,l,p,d,y,m,g,b,v,_,w,S,k,E,A,x,T,B,I,C,M,P,O,R,j,N,L=r.length();L>=128;){for(C=0;C<16;++C)e[C][0]=r.getInt32()>>>0,e[C][1]=r.getInt32()>>>0;for(;C<80;++C)n=(((M=(O=e[C-2])[0])>>>19|(P=O[1])<<13)^(P>>>29|M<<3)^M>>>6)>>>0,i=((M<<13|P>>>19)^(P<<3|M>>>29)^(M<<26|P>>>6))>>>0,o=(((M=(j=e[C-15])[0])>>>1|(P=j[1])<<31)^(M>>>8|P<<24)^M>>>7)>>>0,s=((M<<31|P>>>1)^(M<<24|P>>>8)^(M<<25|P>>>7))>>>0,R=e[C-7],N=e[C-16],P=i+R[1]+s+N[1],e[C][0]=n+R[0]+o+N[0]+(P/4294967296>>>0)>>>0,e[C][1]=P>>>0;for(d=t[0][0],y=t[0][1],m=t[1][0],g=t[1][1],b=t[2][0],v=t[2][1],_=t[3][0],w=t[3][1],S=t[4][0],k=t[4][1],E=t[5][0],A=t[5][1],x=t[6][0],T=t[6][1],B=t[7][0],I=t[7][1],C=0;C<80;++C)f=((S>>>14|k<<18)^(S>>>18|k<<14)^(k>>>9|S<<23))>>>0,h=(x^S&(E^x))>>>0,a=((d>>>28|y<<4)^(y>>>2|d<<30)^(y>>>7|d<<25))>>>0,c=((d<<4|y>>>28)^(y<<30|d>>>2)^(y<<25|d>>>7))>>>0,l=(d&m|b&(d^m))>>>0,p=(y&g|v&(y^g))>>>0,P=I+(((S<<18|k>>>14)^(S<<14|k>>>18)^(k<<23|S>>>9))>>>0)+((T^k&(A^T))>>>0)+u[C][1]+e[C][1],n=B+f+h+u[C][0]+e[C][0]+(P/4294967296>>>0)>>>0,i=P>>>0,o=a+l+((P=c+p)/4294967296>>>0)>>>0,s=P>>>0,B=x,I=T,x=E,T=A,E=S,A=k,S=_+n+((P=w+i)/4294967296>>>0)>>>0,k=P>>>0,_=b,w=v,b=m,v=g,m=d,g=y,d=n+o+((P=i+s)/4294967296>>>0)>>>0,y=P>>>0;P=t[0][1]+y,t[0][0]=t[0][0]+d+(P/4294967296>>>0)>>>0,t[0][1]=P>>>0,P=t[1][1]+g,t[1][0]=t[1][0]+m+(P/4294967296>>>0)>>>0,t[1][1]=P>>>0,P=t[2][1]+v,t[2][0]=t[2][0]+b+(P/4294967296>>>0)>>>0,t[2][1]=P>>>0,P=t[3][1]+w,t[3][0]=t[3][0]+_+(P/4294967296>>>0)>>>0,t[3][1]=P>>>0,P=t[4][1]+k,t[4][0]=t[4][0]+S+(P/4294967296>>>0)>>>0,t[4][1]=P>>>0,P=t[5][1]+A,t[5][0]=t[5][0]+E+(P/4294967296>>>0)>>>0,t[5][1]=P>>>0,P=t[6][1]+T,t[6][0]=t[6][0]+x+(P/4294967296>>>0)>>>0,t[6][1]=P>>>0,P=t[7][1]+I,t[7][0]=t[7][0]+B+(P/4294967296>>>0)>>>0,t[7][1]=P>>>0,L-=128}}},function(t,e,r){var n=r(12);r(18),t.exports=n.log=n.log||{},n.log.levels=[\"none\",\"error\",\"warning\",\"info\",\"debug\",\"verbose\",\"max\"];var i={},o=[],s=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var a=0;a<n.log.levels.length;++a){var u=n.log.levels[a];i[u]={index:a,name:u.toUpperCase()}}n.log.logMessage=function(t){for(var e=i[t.level].index,r=0;r<o.length;++r){var s=o[r];if(s.flags&n.log.NO_LEVEL_CHECK)s.f(t);else e<=i[s.level].index&&s.f(s,t)}},n.log.prepareStandard=function(t){\"standard\"in t||(t.standard=i[t.level].name+\" [\"+t.category+\"] \"+t.message)},n.log.prepareFull=function(t){if(!(\"full\"in t)){var e=[t.message];e=e.concat([]||t.arguments),t.full=n.util.format.apply(this,e)}},n.log.prepareStandardFull=function(t){\"standardFull\"in t||(n.log.prepareStandard(t),t.standardFull=t.standard)};var c=[\"error\",\"warning\",\"info\",\"debug\",\"verbose\"];for(a=0;a<c.length;++a)!function(t){n.log[t]=function(e,r){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:t,category:e,message:r,arguments:i};n.log.logMessage(o)}}(c[a]);if(n.log.makeLogger=function(t){var e={flags:0,f:t};return n.log.setLevel(e,\"none\"),e},n.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&n.log.LEVEL_LOCKED))for(var i=0;i<n.log.levels.length;++i){if(e==n.log.levels[i]){t.level=e,r=!0;break}}return r},n.log.lock=function(t,e){void 0===e||e?t.flags|=n.log.LEVEL_LOCKED:t.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(t){o.push(t)},\"undefined\"!=typeof console&&\"log\"in console){var f;if(console.error&&console.warn&&console.info&&console.debug){var h={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},l=function(t,e){n.log.prepareStandard(e);var r=h[e.level],i=[e.standard];i=i.concat(e.arguments.slice()),r.apply(console,i)};f=n.log.makeLogger(l)}else{l=function(t,e){n.log.prepareStandardFull(e),console.log(e.standardFull)};f=n.log.makeLogger(l)}n.log.setLevel(f,\"debug\"),n.log.addLogger(f),s=f}else console={log:function(){}};if(null!==s){var p=n.util.getQueryVariables();if(\"console.level\"in p&&n.log.setLevel(s,p[\"console.level\"].slice(-1)[0]),\"console.lock\"in p)\"true\"==p[\"console.lock\"].slice(-1)[0]&&n.log.lock(s)}n.log.consoleLogger=s},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1117);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(285),i=r(286)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1120),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(154).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1124)},function(t,e,r){\"use strict\";const n=r(1),i=r(119),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(119),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(119).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1132);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(215),o=r(529);function s(t,e){null===t&&null===e?(this.x=this.y=null,this.inf=!0):(this.x=t,this.y=e,this.inf=!1)}s.fromPublicKey=function(t){var e,r,n=t[0];return 33!==t.length||2!==n&&3!==n?65!==t.length||4!==n&&6!==n&&7!==n?null:(e=i.fromBuffer(t.slice(1,33)),r=i.fromBuffer(t.slice(33,65)),e.ucmp(i.p)>=0||r.ucmp(i.p)>=0?null:6!==n&&7!==n||r.isOdd()===(7===n)?0!==e.redSqr().redMul(e).redIAdd7().ucmp(r.redSqr())?null:new s(e,r):null):(e=i.fromBuffer(t.slice(1,33))).ucmp(i.p)>=0?null:null===(r=e.redSqr().redMul(e).redIAdd7().redSqrt())?null:(3===n!==r.isOdd()&&(r=r.redNeg()),new s(e,r))},s.prototype.toPublicKey=function(t){var e,r=this.x,i=this.y;return t?((e=n.alloc(33))[0]=i.isOdd()?3:2,r.toBuffer().copy(e,1)):((e=n.alloc(65))[0]=4,r.toBuffer().copy(e,1),i.toBuffer().copy(e,33)),e},s.fromECJPoint=function(t){if(t.inf)return new s(null,null);var e=t.z.redInvm(),r=e.redSqr();return new s(t.x.redMul(r),t.y.redMul(r).redMul(e))},s.prototype.toECJPoint=function(){return this.inf?new o(null,null,null):new o(this.x,this.y,o.one)},s.prototype.neg=function(){return this.inf?this:new s(this.x,this.y.redNeg())},s.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(0===this.x.ucmp(t.x))return 0===this.y.ucmp(t.y)?this.dbl():new s(null,null);var e=this.y.redSub(t.y);e.isZero()||(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x);return new s(r,e.redMul(this.x.redSub(r)).redISub(this.y))},s.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.isZero())return new s(null,null);var e=this.x.redSqr(),r=e.redAdd(e).redIAdd(e).redMul(t.redInvm()),n=r.redSqr().redISub(this.x.redAdd(this.x));return new s(n,r.redMul(this.x.redSub(n)).redISub(this.y))},s.prototype.mul=function(t){for(var e=this._getNAFPoints(4),r=e.points,n=t.getNAF(e.wnd),i=new o(null,null,null),a=n.length-1;a>=0;a--){for(var u=0;a>=0&&0===n[a];a--,++u);if(a>=0&&(u+=1),i=i.dblp(u),a<0)break;var c=n[a];i=c>0?i.mixedAdd(r[c-1>>1]):i.mixedAdd(r[-c-1>>1].neg())}return s.fromECJPoint(i)},s.prototype._getNAFPoints1=function(){return{wnd:1,points:[this]}},s.prototype._getNAFPoints=function(t){var e=new Array((1<<t)-1);e[0]=this;for(var r=this.dbl(),n=1;n<e.length;++n)e[n]=e[n-1].add(r);return{wnd:t,points:e}},t.exports=s},function(t,e,r){\"use strict\";var n=r(215);function i(t,e,r){null===t&&null===e&&null===r?(this.x=i.one,this.y=i.one,this.z=i.zero):(this.x=t,this.y=e,this.z=r),this.zOne=this.z===i.one}i.zero=n.fromNumber(0),i.one=n.fromNumber(1),i.prototype.neg=function(){return this.inf?this:new i(this.x,this.y.redNeg(),this.z)},i.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),o=t.x.redMul(r),s=this.y.redMul(e).redMul(t.z),a=t.y.redMul(r).redMul(this.z),u=n.redSub(o),c=s.redSub(a);if(u.isZero())return c.isZero()?this.dbl():new i(null,null,null);var f=u.redSqr(),h=n.redMul(f),l=f.redMul(u),p=c.redSqr().redIAdd(l).redISub(h).redISub(h);return new i(p,c.redMul(h.redISub(p)).redISub(s.redMul(l)),this.z.redMul(t.z).redMul(u))},i.prototype.mixedAdd=function(t){if(this.inf)return t.toECJPoint();if(t.inf)return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),o=this.y,s=t.y.redMul(e).redMul(this.z),a=r.redSub(n),u=o.redSub(s);if(a.isZero())return u.isZero()?this.dbl():new i(null,null,null);var c=a.redSqr(),f=r.redMul(c),h=c.redMul(a),l=u.redSqr().redIAdd(h).redISub(f).redISub(f);return new i(l,u.redMul(f.redISub(l)).redISub(o.redMul(h)),this.z.redMul(a))},i.prototype.dbl=function(){if(this.inf)return this;var t,e,r;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var u=n.redAdd(n).redIAdd(n),c=u.redSqr().redISub(a).redISub(a),f=s.redIAdd(s).redIAdd(s).redIAdd(s);t=c,e=u.redMul(a.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),l=this.y.redSqr(),p=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(h).redISub(p);d=d.redIAdd(d);var y=h.redAdd(h).redIAdd(h),m=y.redSqr(),g=p.redIAdd(p).redIAdd(p).redIAdd(p);t=m.redISub(d).redISub(d),e=y.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return new i(t,e,r)},i.prototype.dblp=function(t){if(0===t||this.inf)return this;for(var e=this,r=0;r<t;r++)e=e.dbl();return e},Object.defineProperty(i.prototype,\"inf\",{enumerable:!0,get:function(){return this.z.isZero()}}),t.exports=i},function(t,e,r){\"use strict\";const n=r(520);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){\"use strict\";(function(t){const n=r(293),i=r(294)(),o=r(1148),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1153);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(293),i=r(294)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1156),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(155).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1160)},function(t,e,r){\"use strict\";const n=r(1),i=r(120),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(120),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(120).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(534);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){\"use strict\";const n=r(1171);t.exports={ensureMultiaddr:function(t){return n.isMultiaddr(t)?t:n(t)}}},function(t,e,r){\"use strict\";var n=r(543).BigInteger,i=r(544),o=r(545),s=r(546),a=r(159).sprintf,u=r(296);function c(t){this.valid=!1,this.address=t,this.groups=u.GROUPS,this.v4=!0,this.subnet=\"/32\",this.subnetMask=32;var e=u.RE_SUBNET_STRING.exec(t);if(e){if(this.parsedSubnet=e[0].replace(\"/\",\"\"),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=\"/\"+this.subnetMask,this.subnetMask<0||this.subnetMask>u.BITS)return this.valid=!1,void(this.error=\"Invalid subnet mask.\");t=t.replace(u.RE_SUBNET_STRING,\"\")}this.addressMinusSuffix=t,this.parsedAddress=this.parse(t)}c.prototype.parse=function(t){var e=t.split(\".\");return t.match(u.RE_ADDRESS)?this.valid=!0:this.error=\"Invalid IPv4 address.\",e},c.prototype.isValid=function(){return this.valid},c.prototype.correctForm=function(){return this.parsedAddress.map(function(t){return parseInt(t,10)}).join(\".\")},c.prototype.isCorrect=i.isCorrect(u.BITS),c.fromHex=function(t){var e,r=o(t.replace(/:/g,\"\"),8,\"0\"),n=[];for(e=0;e<8;e+=2){var i=r.slice(e,e+2);n.push(parseInt(i,16))}return new c(n.join(\".\"))},c.fromInteger=function(t){return c.fromHex(t.toString(16))},c.prototype.toHex=function(){return this.parsedAddress.map(function(t){return a(\"%02x\",parseInt(t,10))}).join(\":\")},c.prototype.toArray=function(){return this.parsedAddress.map(function(t){return parseInt(t,10)})},c.prototype.toGroup6=function(){var t,e=[];for(t=0;t<u.GROUPS;t+=2){var r=a(\"%02x%02x\",parseInt(this.parsedAddress[t],10),parseInt(this.parsedAddress[t+1],10));e.push(a(\"%x\",parseInt(r,16)))}return e.join(\":\")},c.prototype.bigInteger=function(){return this.valid?new n(this.parsedAddress.map(function(t){return a(\"%02x\",parseInt(t,10))}).join(\"\"),16):null},c.prototype.startAddress=function(){var t=new n(this.mask()+s(0,u.BITS-this.subnetMask),2);return c.fromBigInteger(t)},c.prototype.endAddress=function(){var t=new n(this.mask()+s(1,u.BITS-this.subnetMask),2);return c.fromBigInteger(t)},c.fromBigInteger=function(t){return c.fromInteger(parseInt(t.toString(),10))},c.prototype.mask=function(t){return void 0===t&&(t=this.subnetMask),this.getBitsBase2(0,t)},c.prototype.getBitsBase2=function(t,e){return this.binaryZeroPad().slice(t,e)},c.prototype.isInSubnet=i.isInSubnet,c.prototype.binaryZeroPad=function(){return o(this.bigInteger().toString(2),u.BITS,\"0\")},t.exports=c},function(t,e,r){(function(){var e;function r(t,e,r){null!=t&&(\"number\"==typeof t?this.fromNumber(t,e,r):null==e&&\"string\"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function n(){return new r(null)}var i=\"undefined\"!=typeof navigator;i&&\"Microsoft Internet Explorer\"==navigator.appName?(r.prototype.am=function(t,e,r,n,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],c=this[t++]>>15,f=a*u+c*s;i=((u=s*u+((32767&f)<<15)+r[n]+(1073741823&i))>>>30)+(f>>>15)+a*c+(i>>>30),r[n++]=1073741823&u}return i},e=30):i&&\"Netscape\"!=navigator.appName?(r.prototype.am=function(t,e,r,n,i,o){for(;--o>=0;){var s=e*this[t++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i},e=26):(r.prototype.am=function(t,e,r,n,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],c=this[t++]>>14,f=a*u+c*s;i=((u=s*u+((16383&f)<<14)+r[n]+i)>>28)+(f>>14)+a*c,r[n++]=268435455&u}return i},e=28),r.prototype.DB=e,r.prototype.DM=(1<<e)-1,r.prototype.DV=1<<e;r.prototype.FV=Math.pow(2,52),r.prototype.F1=52-e,r.prototype.F2=2*e-52;var o,s,a=\"0123456789abcdefghijklmnopqrstuvwxyz\",u=new Array;for(o=\"0\".charCodeAt(0),s=0;s<=9;++s)u[o++]=s;for(o=\"a\".charCodeAt(0),s=10;s<36;++s)u[o++]=s;for(o=\"A\".charCodeAt(0),s=10;s<36;++s)u[o++]=s;function c(t){return a.charAt(t)}function f(t,e){var r=u[t.charCodeAt(e)];return null==r?-1:r}function h(t){var e=n();return e.fromInt(t),e}function l(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function p(t){this.m=t}function d(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function y(t,e){return t&e}function m(t,e){return t|e}function g(t,e){return t^e}function b(t,e){return t&~e}function v(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function _(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function w(){}function S(t){return t}function k(t){this.r2=n(),this.q3=n(),r.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}p.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},p.prototype.revert=function(t){return t},p.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},p.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},p.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},d.prototype.convert=function(t){var e=n();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(r.ZERO)>0&&this.m.subTo(e,e),e},d.prototype.revert=function(t){var e=n();return t.copyTo(e),this.reduce(e),e},d.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},d.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},d.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},r.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},r.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},r.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==n?255&t[i]:f(t,i);a<0?\"-\"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},r.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},r.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},r.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)e[r]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},r.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&o)<<i,e[s-r]=this[s]>>n;n>0&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},r.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},r.prototype.multiplyTo=function(t,e){var n=this.abs(),i=t.abs(),o=n.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+n.t]=n.am(0,i[o],e,o,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&r.ZERO.subTo(e,e)},r.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},r.prototype.divRemTo=function(t,e,i){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var a=n(),u=this.s,c=t.s,f=this.DB-l(o[o.t-1]);f>0?(o.lShiftTo(f,a),s.lShiftTo(f,i)):(o.copyTo(a),s.copyTo(i));var h=a.t,p=a[h-1];if(0!=p){var d=p*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),y=this.FV/d,m=(1<<this.F1)/d,g=1<<this.F2,b=i.t,v=b-h,_=null==e?n():e;for(a.dlShiftTo(v,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),r.ONE.dlShiftTo(h,_),_.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--v>=0;){var w=i[--b]==p?this.DM:Math.floor(i[b]*y+(i[b-1]+g)*m);if((i[b]+=a.am(0,w,i,v,0,h))<w)for(a.dlShiftTo(v,_),i.subTo(_,i);i[b]<--w;)i.subTo(_,i)}null!=e&&(i.drShiftTo(h,e),u!=c&&r.ZERO.subTo(e,e)),i.t=h,i.clamp(),f>0&&i.rShiftTo(f,i),u<0&&r.ZERO.subTo(i,i)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(t,e){if(t>4294967295||t<1)return r.ONE;var i=n(),o=n(),s=e.convert(this),a=l(t)-1;for(s.copyTo(i);--a>=0;)if(e.sqrTo(i,o),(t&1<<a)>0)e.mulTo(o,s,i);else{var u=i;i=o,o=u}return e.revert(i)},r.prototype.toString=function(t){if(this.s<0)return\"-\"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o=\"\",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=c(r));s>=0;)a<e?(r=(this[s]&(1<<a)-1)<<e-a,r|=this[--s]>>(a+=this.DB-e)):(r=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=c(r));return i?o:\"0\"},r.prototype.negate=function(){var t=n();return r.ZERO.subTo(this,t),t},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+l(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(t){var e=n();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(r.ZERO)>0&&t.subTo(e,e),e},r.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new p(e):new d(e),this.exp(t,r)},r.ZERO=h(0),r.ONE=h(1),w.prototype.convert=S,w.prototype.revert=S,w.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},w.prototype.sqrTo=function(t,e){t.squareTo(e)},k.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=n();return t.copyTo(e),this.reduce(e),e},k.prototype.revert=function(t){return t},k.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},k.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},k.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var E,A,x,T=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],B=(1<<26)/T[T.length-1];function I(){!function(t){A[x++]^=255&t,A[x++]^=t>>8&255,A[x++]^=t>>16&255,A[x++]^=t>>24&255,x>=N&&(x-=N)}((new Date).getTime())}if(r.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},r.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return\"0\";var e=this.chunkSize(t),r=Math.pow(t,e),i=h(r),o=n(),s=n(),a=\"\";for(this.divRemTo(i,o,s);o.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(t)+a},r.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),i=Math.pow(e,n),o=!1,s=0,a=0,u=0;u<t.length;++u){var c=f(t,u);c<0?\"-\"==t.charAt(u)&&0==this.signum()&&(o=!0):(a=e*a+c,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),o&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(t,e,n){if(\"number\"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(r.ONE.shiftLeft(t-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(r.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=1+(t>>3),e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},r.prototype.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},r.prototype.changeBit=function(t,e){var n=r.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},r.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},r.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},r.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},r.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},r.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},r.prototype.millerRabin=function(t){var e=this.subtract(r.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var o=e.shiftRight(i);(t=t+1>>1)>T.length&&(t=T.length);for(var s=n(),a=0;a<t;++a){s.fromInt(T[Math.floor(Math.random()*T.length)]);var u=s.modPow(o,this);if(0!=u.compareTo(r.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<i&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},r.prototype.clone=function(){var t=n();return this.copyTo(t),t},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},r.prototype.equals=function(t){return 0==this.compareTo(t)},r.prototype.min=function(t){return this.compareTo(t)<0?this:t},r.prototype.max=function(t){return this.compareTo(t)>0?this:t},r.prototype.and=function(t){var e=n();return this.bitwiseTo(t,y,e),e},r.prototype.or=function(t){var e=n();return this.bitwiseTo(t,m,e),e},r.prototype.xor=function(t){var e=n();return this.bitwiseTo(t,g,e),e},r.prototype.andNot=function(t){var e=n();return this.bitwiseTo(t,b,e),e},r.prototype.not=function(){for(var t=n(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},r.prototype.shiftLeft=function(t){var e=n();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},r.prototype.shiftRight=function(t){var e=n();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},r.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+v(this[t]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=_(this[r]^e);return t},r.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},r.prototype.setBit=function(t){return this.changeBit(t,m)},r.prototype.clearBit=function(t){return this.changeBit(t,b)},r.prototype.flipBit=function(t){return this.changeBit(t,g)},r.prototype.add=function(t){var e=n();return this.addTo(t,e),e},r.prototype.subtract=function(t){var e=n();return this.subTo(t,e),e},r.prototype.multiply=function(t){var e=n();return this.multiplyTo(t,e),e},r.prototype.divide=function(t){var e=n();return this.divRemTo(t,e,null),e},r.prototype.remainder=function(t){var e=n();return this.divRemTo(t,null,e),e},r.prototype.divideAndRemainder=function(t){var e=n(),r=n();return this.divRemTo(t,e,r),new Array(e,r)},r.prototype.modPow=function(t,e){var r,i,o=t.bitLength(),s=h(1);if(o<=0)return s;r=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new p(e):e.isEven()?new k(e):new d(e);var a=new Array,u=3,c=r-1,f=(1<<r)-1;if(a[1]=i.convert(this),r>1){var y=n();for(i.sqrTo(a[1],y);u<=f;)a[u]=n(),i.mulTo(y,a[u-2],a[u]),u+=2}var m,g,b=t.t-1,v=!0,_=n();for(o=l(t[b])-1;b>=0;){for(o>=c?m=t[b]>>o-c&f:(m=(t[b]&(1<<o+1)-1)<<c-o,b>0&&(m|=t[b-1]>>this.DB+o-c)),u=r;0==(1&m);)m>>=1,--u;if((o-=u)<0&&(o+=this.DB,--b),v)a[m].copyTo(s),v=!1;else{for(;u>1;)i.sqrTo(s,_),i.sqrTo(_,s),u-=2;u>0?i.sqrTo(s,_):(g=s,s=_,_=g),i.mulTo(_,a[m],s)}for(;b>=0&&0==(t[b]&1<<o);)i.sqrTo(s,_),g=s,s=_,_=g,--o<0&&(o=this.DB-1,--b)}return i.revert(s)},r.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return r.ZERO;for(var n=t.clone(),i=this.clone(),o=h(1),s=h(0),a=h(0),u=h(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);n.compareTo(i)>=0?(n.subTo(i,n),e&&o.subTo(a,o),s.subTo(u,s)):(i.subTo(n,i),e&&a.subTo(o,a),u.subTo(s,u))}return 0!=i.compareTo(r.ONE)?r.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},r.prototype.pow=function(t){return this.exp(t,new w)},r.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},r.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=T[T.length-1]){for(e=0;e<T.length;++e)if(r[0]==T[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<T.length;){for(var n=T[e],i=e+1;i<T.length&&n<B;)n*=T[i++];for(n=r.modInt(n);e<i;)if(n%T[e++]==0)return!1}return r.millerRabin(t)},r.prototype.square=function(){var t=n();return this.squareTo(t),t},r.prototype.Barrett=k,null==A){var C;if(A=new Array,x=0,\"undefined\"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var M=new Uint8Array(32);for(window.crypto.getRandomValues(M),C=0;C<32;++C)A[x++]=M[C]}else if(\"Netscape\"==navigator.appName&&navigator.appVersion<\"5\"){var P=window.crypto.random(32);for(C=0;C<P.length;++C)A[x++]=255&P.charCodeAt(C)}for(;x<N;)C=Math.floor(65536*Math.random()),A[x++]=C>>>8,A[x++]=255&C;x=0,I()}function O(){if(null==E){for(I(),(E=new j).init(A),x=0;x<A.length;++x)A[x]=0;x=0}return E.next()}function R(){}function j(){this.i=0,this.j=0,this.S=new Array}R.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=O()},j.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},j.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var N=256;t.exports={default:r,BigInteger:r,SecureRandom:R}}).call(this)},function(t,e,r){\"use strict\";var n=e.falseIfInvalid=function(t){return function(){return!!this.valid&&t.apply(this,arguments)}};e.isInSubnet=n(function(t){return!(this.subnetMask<t.subnetMask)&&this.mask(t.subnetMask)===t.mask()}),e.isCorrect=function(t){return n(function(){return this.addressMinusSuffix===this.correctForm()&&(this.subnetMask===t&&!this.parsedSubnet||this.parsedSubnet===String(this.subnetMask))})}},function(t,e,r){(function(e){var r=1/0,n=9007199254740991,i=1.7976931348623157e308,o=NaN,s=\"[object Symbol]\",a=/^\\s+|\\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=\"[\\\\ud800-\\\\udfff]\",l=\"[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23\\\\u20d0-\\\\u20f0]\",p=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",d=\"[^\\\\ud800-\\\\udfff]\",y=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",m=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",g=\"(?:\"+l+\"|\"+p+\")\"+\"?\",b=\"[\\\\ufe0e\\\\ufe0f]?\"+g+(\"(?:\\\\u200d(?:\"+[d,y,m].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+g+\")*\"),v=\"(?:\"+[d+l+\"?\",l,y,m,h].join(\"|\")+\")\",_=RegExp(p+\"(?=\"+p+\")|\"+v+b,\"g\"),w=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23\\\\u20d0-\\\\u20f0\\\\ufe0e\\\\ufe0f]\"),S=parseInt,k=\"object\"==typeof e&&e&&e.Object===Object&&e,E=\"object\"==typeof self&&self&&self.Object===Object&&self,A=k||E||Function(\"return this\")(),x=function(t){return function(e){return null==e?void 0:e[t]}}(\"length\");function T(t){return w.test(t)}function B(t){return T(t)?function(t){var e=_.lastIndex=0;for(;_.test(t);)e++;return e}(t):x(t)}function I(t){return T(t)?function(t){return t.match(_)||[]}(t):function(t){return t.split(\"\")}(t)}var C=Object.prototype.toString,M=A.Symbol,P=Math.ceil,O=Math.floor,R=M?M.prototype:void 0,j=R?R.toString:void 0;function N(t,e){var r=\"\";if(!t||e<1||e>n)return r;do{e%2&&(r+=t),(e=O(e/2))&&(t+=t)}while(e);return r}function L(t){if(\"string\"==typeof t)return t;if(U(t))return j?j.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-r?\"-0\":e}function K(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}(t,e,r)}function D(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function U(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&C.call(t)==s}function F(t){return t?(t=function(t){if(\"number\"==typeof t)return t;if(U(t))return o;if(D(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=D(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(a,\"\");var r=c.test(t);return r||f.test(t)?S(t.slice(2),r?2:8):u.test(t)?o:+t}(t))===r||t===-r?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}t.exports=function(t,e,r){t=function(t){return null==t?\"\":L(t)}(t);var n=(e=function(t){var e=F(t),r=e%1;return e==e?r?e-r:e:0}(e))?B(t):0;return e&&n<e?function(t,e){var r=(e=void 0===e?\" \":L(e)).length;if(r<2)return r?N(e,t):e;var n=N(e,P(t/B(e)));return T(e)?K(I(n),0,t).join(\"\"):n.slice(0,t)}(e-n,r)+t:t}}).call(this,r(5))},function(t,e,r){(function(e){var r=1/0,n=9007199254740991,i=1.7976931348623157e308,o=NaN,s=\"[object Function]\",a=\"[object GeneratorFunction]\",u=\"[object Symbol]\",c=/^\\s+|\\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\\d*)$/,d=parseInt,y=\"object\"==typeof e&&e&&e.Object===Object&&e,m=\"object\"==typeof self&&self&&self.Object===Object&&self,g=y||m||Function(\"return this\")(),b=Object.prototype.toString,v=g.Symbol,_=Math.floor,w=v?v.prototype:void 0,S=w?w.toString:void 0;function k(t,e,r){if(!E(r))return!1;var i=typeof e;return!!(\"number\"==i?function(t){return null!=t&&function(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=E(t)?b.call(t):\"\";return e==s||e==a}(t)}(r)&&function(t,e){return!!(e=null==e?n:e)&&(\"number\"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}(e,r.length):\"string\"==i&&e in r)&&function(t,e){return t===e||t!=t&&e!=e}(r[e],t)}function E(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function A(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&b.call(t)==u}function x(t){return t?(t=function(t){if(\"number\"==typeof t)return t;if(A(t))return o;if(E(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=E(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(c,\"\");var r=h.test(t);return r||l.test(t)?d(t.slice(2),r?2:8):f.test(t)?o:+t}(t))===r||t===-r?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}function T(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(A(t))return S?S.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-r?\"-0\":e}(t)}t.exports=function(t,e,r){return e=(r?k(t,e,r):void 0===e)?1:function(t){var e=x(t),r=e%1;return e==e?r?e-r:e:0}(e),function(t,e){var r=\"\";if(!t||e<1||e>n)return r;do{e%2&&(r+=t),(e=_(e/2))&&(t+=t)}while(e);return r}(T(t),e)}}).call(this,r(5))},function(t,e,r){(function(t,r){var n=200,i=\"Expected a function\",o=\"__lodash_hash_undefined__\",s=1,a=2,u=1/0,c=9007199254740991,f=1.7976931348623157e308,h=NaN,l=\"[object Arguments]\",p=\"[object Array]\",d=\"[object Boolean]\",y=\"[object Date]\",m=\"[object Error]\",g=\"[object Function]\",b=\"[object GeneratorFunction]\",v=\"[object Map]\",_=\"[object Number]\",w=\"[object Object]\",S=\"[object RegExp]\",k=\"[object Set]\",E=\"[object String]\",A=\"[object Symbol]\",x=\"[object ArrayBuffer]\",T=\"[object DataView]\",B=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,I=/^\\w*$/,C=/^\\./,M=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,P=/^\\s+|\\s+$/g,O=/\\\\(\\\\)?/g,R=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,N=/^\\[object .+?Constructor\\]$/,L=/^0o[0-7]+$/i,K=/^(?:0|[1-9]\\d*)$/,D={};D[\"[object Float32Array]\"]=D[\"[object Float64Array]\"]=D[\"[object Int8Array]\"]=D[\"[object Int16Array]\"]=D[\"[object Int32Array]\"]=D[\"[object Uint8Array]\"]=D[\"[object Uint8ClampedArray]\"]=D[\"[object Uint16Array]\"]=D[\"[object Uint32Array]\"]=!0,D[l]=D[p]=D[x]=D[d]=D[T]=D[y]=D[m]=D[g]=D[v]=D[_]=D[w]=D[S]=D[k]=D[E]=D[\"[object WeakMap]\"]=!1;var U=parseInt,F=\"object\"==typeof t&&t&&t.Object===Object&&t,q=\"object\"==typeof self&&self&&self.Object===Object&&self,H=F||q||Function(\"return this\")(),z=\"object\"==typeof e&&e&&!e.nodeType&&e,V=z&&\"object\"==typeof r&&r&&!r.nodeType&&r,G=V&&V.exports===z&&F.process,W=function(){try{return G&&G.binding(\"util\")}catch(t){}}(),$=W&&W.isTypedArray;function Y(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function J(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}function Z(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function X(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Q=Array.prototype,tt=Function.prototype,et=Object.prototype,rt=H[\"__core-js_shared__\"],nt=function(){var t=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),it=tt.toString,ot=et.hasOwnProperty,st=et.toString,at=RegExp(\"^\"+it.call(ot).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),ut=H.Symbol,ct=H.Uint8Array,ft=et.propertyIsEnumerable,ht=Q.splice,lt=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),pt=Math.max,dt=zt(H,\"DataView\"),yt=zt(H,\"Map\"),mt=zt(H,\"Promise\"),gt=zt(H,\"Set\"),bt=zt(H,\"WeakMap\"),vt=zt(Object,\"create\"),_t=Xt(dt),wt=Xt(yt),St=Xt(mt),kt=Xt(gt),Et=Xt(bt),At=ut?ut.prototype:void 0,xt=At?At.valueOf:void 0,Tt=At?At.toString:void 0;function Bt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ct(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Mt(t){var e=-1,r=t?t.length:0;for(this.__data__=new Ct;++e<r;)this.add(t[e])}function Pt(t){this.__data__=new It(t)}function Ot(t,e){var r=ne(t)||re(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!ot.call(t,o)||i&&(\"length\"==o||Gt(o,n))||r.push(o);return r}function Rt(t,e){for(var r=t.length;r--;)if(ee(t[r][0],e))return r;return-1}function jt(t,e){for(var r=0,n=(e=Wt(e,t)?[e]:Ft(e)).length;null!=t&&r<n;)t=t[Zt(e[r++])];return r&&r==n?t:void 0}function Nt(t,e){return null!=t&&e in Object(t)}function Lt(t,e,r,n,i){return t===e||(null==t||null==e||!ae(t)&&!ue(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=ne(t),c=ne(e),f=p,h=p;u||(f=(f=Vt(t))==l?w:f);c||(h=(h=Vt(e))==l?w:h);var g=f==w&&!J(t),b=h==w&&!J(e),B=f==h;if(B&&!g)return o||(o=new Pt),u||fe(t)?qt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!n(new ct(t),new ct(e)));case d:case y:case _:return ee(+t,+e);case m:return t.name==e.name&&t.message==e.message;case S:case E:return t==e+\"\";case v:var c=Z;case k:var f=o&a;if(c||(c=X),t.size!=e.size&&!f)return!1;var h=u.get(t);if(h)return h==e;o|=s,u.set(t,e);var l=qt(c(t),c(e),n,i,o,u);return u.delete(t),l;case A:if(xt)return xt.call(t)==xt.call(e)}return!1}(t,e,f,r,n,i,o);if(!(i&a)){var I=g&&ot.call(t,\"__wrapped__\"),C=b&&ot.call(e,\"__wrapped__\");if(I||C){var M=I?t.value():t,P=C?e.value():e;return o||(o=new Pt),r(M,P,n,i,o)}}if(!B)return!1;return o||(o=new Pt),function(t,e,r,n,i,o){var s=i&a,u=he(t),c=u.length,f=he(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var l=u[h];if(!(s?l in e:ot.call(e,l)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var y=s;++h<c;){l=u[h];var m=t[l],g=e[l];if(n)var b=s?n(g,m,l,e,t,o):n(m,g,l,t,e,o);if(!(void 0===b?m===g||r(m,g,n,i,o):b)){d=!1;break}y||(y=\"constructor\"==l)}if(d&&!y){var v=t.constructor,_=e.constructor;v!=_&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof v&&v instanceof v&&\"function\"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Lt,r,n,i))}function Kt(t){return!(!ae(t)||function(t){return!!nt&&nt in t}(t))&&(oe(t)||J(t)?at:N).test(Xt(t))}function Dt(t){return\"function\"==typeof t?t:null==t?le:\"object\"==typeof t?ne(t)?function(t,e){if(Wt(t)&&$t(e))return Yt(Zt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:jt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Wt(e,t)?[e]:Ft(e)).length;for(;++i<o;){var s=Zt(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&se(o)&&Gt(s,o)&&(ne(t)||re(t))}(t,e,Nt)}(r,t):Lt(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=he(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,$t(i)]}return e}(t);if(1==e.length&&e[0][2])return Yt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],h=t[f],l=c[1];if(u&&c[2]){if(void 0===h&&!(f in t))return!1}else{var p=new Pt;if(n)var d=n(h,l,f,t,e,p);if(!(void 0===d?Lt(l,h,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):function(t){return Wt(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Zt(t)):function(t){return function(e){return jt(e,t)}}(t)}(t)}function Ut(t){if(!function(t){var e=t&&t.constructor,r=\"function\"==typeof e&&e.prototype||et;return t===r}(t))return lt(t);var e=[];for(var r in Object(t))ot.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function Ft(t){return ne(t)?t:Jt(t)}function qt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var l=-1,p=!0,d=i&s?new Mt:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var y=t[l],m=e[l];if(n)var g=u?n(m,y,l,e,t,o):n(y,m,l,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!Y(e,function(t,e){if(!d.has(e)&&(y===t||r(y,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(y!==m&&!r(y,m,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Ht(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function zt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Kt(r)?r:void 0}Bt.prototype.clear=function(){this.__data__=vt?vt(null):{}},Bt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Bt.prototype.get=function(t){var e=this.__data__;if(vt){var r=e[t];return r===o?void 0:r}return ot.call(e,t)?e[t]:void 0},Bt.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:ot.call(e,t)},Bt.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?o:e,this},It.prototype.clear=function(){this.__data__=[]},It.prototype.delete=function(t){var e=this.__data__,r=Rt(e,t);return!(r<0||(r==e.length-1?e.pop():ht.call(e,r,1),0))},It.prototype.get=function(t){var e=this.__data__,r=Rt(e,t);return r<0?void 0:e[r][1]},It.prototype.has=function(t){return Rt(this.__data__,t)>-1},It.prototype.set=function(t,e){var r=this.__data__,n=Rt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Ct.prototype.clear=function(){this.__data__={hash:new Bt,map:new(yt||It),string:new Bt}},Ct.prototype.delete=function(t){return Ht(this,t).delete(t)},Ct.prototype.get=function(t){return Ht(this,t).get(t)},Ct.prototype.has=function(t){return Ht(this,t).has(t)},Ct.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},Mt.prototype.add=Mt.prototype.push=function(t){return this.__data__.set(t,o),this},Mt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.clear=function(){this.__data__=new It},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof It){var i=r.__data__;if(!yt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new Ct(i)}return r.set(t,e),this};var Vt=function(t){return st.call(t)};function Gt(t,e){return!!(e=null==e?c:e)&&(\"number\"==typeof t||K.test(t))&&t>-1&&t%1==0&&t<e}function Wt(t,e){if(ne(t))return!1;var r=typeof t;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=t&&!ce(t))||(I.test(t)||!B.test(t)||null!=e&&t in Object(e))}function $t(t){return t==t&&!ae(t)}function Yt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(dt&&Vt(new dt(new ArrayBuffer(1)))!=T||yt&&Vt(new yt)!=v||mt&&\"[object Promise]\"!=Vt(mt.resolve())||gt&&Vt(new gt)!=k||bt&&\"[object WeakMap]\"!=Vt(new bt))&&(Vt=function(t){var e=st.call(t),r=e==w?t.constructor:void 0,n=r?Xt(r):void 0;if(n)switch(n){case _t:return T;case wt:return v;case St:return\"[object Promise]\";case kt:return k;case Et:return\"[object WeakMap]\"}return e});var Jt=te(function(t){t=function(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(ce(t))return Tt?Tt.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}(t)}(t);var e=[];return C.test(t)&&e.push(\"\"),t.replace(M,function(t,r,n,i){e.push(n?i.replace(O,\"$1\"):r||t)}),e});function Zt(t){if(\"string\"==typeof t||ce(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}function Xt(t){if(null!=t){try{return it.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}var Qt=function(t){return function(e,r,n){var i=Object(e);if(!ie(e)){var o=Dt(r);e=he(e),r=function(t){return o(i[t],t,i)}}var s=t(e,r,n);return s>-1?i[o?e[s]:s]:void 0}}(function(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=null==r?0:function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if(\"number\"==typeof t)return t;if(ce(t))return h;if(ae(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=ae(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(P,\"\");var r=j.test(t);return r||L.test(t)?U(t.slice(2),r?2:8):R.test(t)?h:+t}(t))===u||t===-u){var e=t<0?-1:1;return e*f}return t==t?t:0}(t),r=e%1;return e==e?r?e-r:e:0}(r);return i<0&&(i=pt(n+i,0)),function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Dt(e),i)});function te(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(te.Cache||Ct),r}function ee(t,e){return t===e||t!=t&&e!=e}function re(t){return function(t){return ue(t)&&ie(t)}(t)&&ot.call(t,\"callee\")&&(!ft.call(t,\"callee\")||st.call(t)==l)}te.Cache=Ct;var ne=Array.isArray;function ie(t){return null!=t&&se(t.length)&&!oe(t)}function oe(t){var e=ae(t)?st.call(t):\"\";return e==g||e==b}function se(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=c}function ae(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function ue(t){return!!t&&\"object\"==typeof t}function ce(t){return\"symbol\"==typeof t||ue(t)&&st.call(t)==A}var fe=$?function(t){return function(e){return t(e)}}($):function(t){return ue(t)&&se(t.length)&&!!D[st.call(t)]};function he(t){return ie(t)?Ot(t):Ut(t)}function le(t){return t}r.exports=Qt}).call(this,r(5),r(26)(t))},function(t,e,r){\"use strict\";var n=r(159).sprintf,i=e.spanAllZeroes=function(t){return t.replace(/(0+)/g,'<span class=\"zero\">$1</span>')};function o(t){return t.replace(/^(0+)/,'<span class=\"zero\">$1</span>')}e.spanAll=function(t,e){return void 0===e&&(e=0),t.split(\"\").map(function(t,r){return n('<span class=\"digit value-%s position-%d\">%s</span>',t,r+e,i(t))}).join(\"\")},e.spanLeadingZeroes=function(t){return t.split(\":\").map(function(t){return o(t)}).join(\":\")},e.simpleGroup=function(t,e){var r=t.split(\":\");return e||(e=0),r.map(function(t,r){return/group-v4/.test(t)?t:n('<span class=\"hover-group group-%d\">%s</span>',r+e,o(t))}).join(\":\")}},function(t,e,r){\"use strict\";(function(e){const n=r(8),i=r(10),o=r(13),s=/^https?:\\/\\/[^/]+\\/(ip(f|n)s)\\/((\\w+).*)/,a=/^\\/(ip(f|n)s)\\/((\\w+).*)/;function u(t){try{return o.isCID(new o(t))}catch(t){return!1}}function c(t,e){const r=h(t);if(!r)return!1;const n=r.match(e);return!!n&&(\"ipfs\"===n[1]&&u(n[4]))}function f(t,e){const r=h(t);if(!r)return!1;const n=r.match(e);return!!n&&\"ipns\"===n[1]}function h(t){return e.isBuffer(t)?n.encode(t):\"string\"==typeof t&&t}t.exports={multihash:function(t){const r=h(t);try{const t=new e(n.decode(r));return i.decode(t),!0}catch(t){return!1}},cid:u,ipfsUrl:t=>c(t,s),ipnsUrl:t=>f(t,s),url:t=>c(t,s)||f(t,s),urlPattern:s,ipfsPath:t=>c(t,a),ipnsPath:t=>f(t,a),path:t=>c(t,a)||f(t,a),pathPattern:a,urlOrPath:t=>c(t,s)||f(t,s)||c(t,a)||f(t,a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(8),i=r(1184),o=r(54);function s(t){let r;if(\"string\"==typeof t)r=t;else if(e.isBuffer(t))r=n.encode(t).toString();else if(i.isPeerId(t))r=t.toB58String();else{if(!o.isPeerInfo(t))throw new Error(\"not valid PeerId or PeerInfo, or B58Str\");r=t.id.toB58String()}return r}t.exports=class{constructor(){this._peers={}}has(t){const e=s(t);return Boolean(this._peers[e])}put(t,e){const r=this._peers[t.id.toB58String()];if(!r||e)return this._peers[t.id.toB58String()]=t,t;t.multiaddrs.forEach(t=>r.multiaddrs.add(t));const n=t.isConnected();return n&&r.connect(n),t.protocols.forEach(t=>r.protocols.add(t)),!r.id.privKey&&t.id.privKey&&(r.id.privKey=t.id.privKey),!r.id.pubKey&&t.id.pubKey&&(r.id.pubKey=t.id.pubKey),r}get(t){const e=s(t),r=this._peers[e];if(r)return r;throw new Error(\"PeerInfo not found\")}getAll(){return this._peers}getAllArray(){return Object.keys(this._peers).map(t=>this._peers[t])}getMultiaddrs(t){return this.get(t).multiaddrs.toArray()}remove(t){const e=s(t);this._peers[e]&&delete this._peers[e]}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(300),i=r(301)(),o=r(1186),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1191);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(300),i=r(301)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1194),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(160).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1198)},function(t,e,r){\"use strict\";const n=r(1),i=r(121),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(121),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(121).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(554);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){!function(e,r){t.exports=r()}(0,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=32)}([function(t,e,r){\"use strict\";(function(t,n){var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=r(17),s=r(15),a=r(37),u=r(16),c=r(18),f={};e.clone=function(r,n){if(\"object\"!==(void 0===r?\"undefined\":i(r))||null===r)return r;var o=(n=n||new Map).get(r);if(o)return o;var s=void 0,a=!1;if(Array.isArray(r))s=[],a=!0;else if(t.isBuffer(r))s=t.from(r);else if(r instanceof Date)s=new Date(r.getTime());else if(r instanceof RegExp)s=new RegExp(r);else{var u=Object.getPrototypeOf(r);u&&u.isImmutable?s=r:(s=Object.create(u),a=!0)}if(n.set(r,s),a)for(var c=Object.getOwnPropertyNames(r),f=0;f<c.length;++f){var h=c[f],l=Object.getOwnPropertyDescriptor(r,h);l&&(l.get||l.set)?Object.defineProperty(s,h,l):s[h]=e.clone(r[h],n)}return s},e.merge=function(r,n,o,s){if(e.assert(r&&\"object\"===(void 0===r?\"undefined\":i(r)),\"Invalid target value: must be an object\"),e.assert(null===n||void 0===n||\"object\"===(void 0===n?\"undefined\":i(n)),\"Invalid source value: must be null, undefined, or an object\"),!n)return r;if(Array.isArray(n)){e.assert(Array.isArray(r),\"Cannot merge array onto an object\"),!1===s&&(r.length=0);for(var a=0;a<n.length;++a)r.push(e.clone(n[a]));return r}for(var u=Object.keys(n),c=0;c<u.length;++c){var f=u[c];if(\"__proto__\"!==f){var h=n[f];h&&\"object\"===(void 0===h?\"undefined\":i(h))?!r[f]||\"object\"!==i(r[f])||Array.isArray(r[f])!==Array.isArray(h)||h instanceof Date||t.isBuffer(h)||h instanceof RegExp?r[f]=e.clone(h):e.merge(r[f],h,o,s):null!==h&&void 0!==h?r[f]=h:!1!==o&&(r[f]=h)}}return r},e.applyToDefaults=function(t,r,n){if(e.assert(t&&\"object\"===(void 0===t?\"undefined\":i(t)),\"Invalid defaults value: must be an object\"),e.assert(!r||!0===r||\"object\"===(void 0===r?\"undefined\":i(r)),\"Invalid options value: must be true, falsy or an object\"),!r)return null;var o=e.clone(t);return!0===r?o:e.merge(o,r,!0===n,!1)},e.cloneWithShallow=function(t,r){if(!t||\"object\"!==(void 0===t?\"undefined\":i(t)))return t;var n=f.store(t,r),o=e.clone(t);return f.restore(o,t,n),o},f.store=function(t,r){for(var n={},i=0;i<r.length;++i){var o=r[i],s=e.reach(t,o);void 0!==s&&(n[o]=s,f.reachSet(t,o,void 0))}return n},f.restore=function(t,e,r){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];f.reachSet(t,o,r[o]),f.reachSet(e,o,r[o])}},f.reachSet=function(t,e,r){for(var n=e.split(\".\"),i=t,o=0;o<n.length;++o){var s=n[o];o+1===n.length&&(i[s]=r),i=i[s]}},e.applyToDefaultsWithShallow=function(t,r,n){if(e.assert(t&&\"object\"===(void 0===t?\"undefined\":i(t)),\"Invalid defaults value: must be an object\"),e.assert(!r||!0===r||\"object\"===(void 0===r?\"undefined\":i(r)),\"Invalid options value: must be true, falsy or an object\"),e.assert(n&&Array.isArray(n),\"Invalid keys\"),!r)return null;var o=e.cloneWithShallow(t,n);if(!0===r)return o;var s=f.store(r,n);return e.merge(o,r,!1,!1),f.restore(o,r,s),o},e.deepEqual=function(r,n,o,s){o=o||{prototype:!0};var a=void 0===r?\"undefined\":i(r);if(a!==(void 0===n?\"undefined\":i(n)))return!1;if(\"object\"!==a||null===r||null===n)return r===n?0!==r||1/r==1/n:r!=r&&n!=n;if(-1!==(s=s||[]).indexOf(r))return!0;if(s.push(r),Array.isArray(r)){if(!Array.isArray(n))return!1;if(!o.part&&r.length!==n.length)return!1;for(var u=0;u<r.length;++u){if(o.part){for(var c=!1,f=0;f<n.length;++f)if(e.deepEqual(r[u],n[f],o)){c=!0;break}return c}if(!e.deepEqual(r[u],n[u],o))return!1}return!0}if(t.isBuffer(r)){if(!t.isBuffer(n))return!1;if(r.length!==n.length)return!1;for(var h=0;h<r.length;++h)if(r[h]!==n[h])return!1;return!0}if(r instanceof Date)return n instanceof Date&&r.getTime()===n.getTime();if(r instanceof RegExp)return n instanceof RegExp&&r.toString()===n.toString();if(o.prototype&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(n))return!1;var l=Object.getOwnPropertyNames(r);if(!o.part&&l.length!==Object.getOwnPropertyNames(n).length)return!1;for(var p=0;p<l.length;++p){var d=l[p],y=Object.getOwnPropertyDescriptor(r,d);if(y.get){if(!e.deepEqual(y,Object.getOwnPropertyDescriptor(n,d),o,s))return!1}else if(!e.deepEqual(r[d],n[d],o,s))return!1}return!0},e.unique=function(t,e){var r=void 0;if(e){r=[];var n=new Set;t.forEach(function(t){var i=t[e];n.has(i)||(n.add(i),r.push(t))})}else r=Array.from(new Set(t));return r},e.mapToObject=function(t,e){if(!t)return null;for(var r={},n=0;n<t.length;++n)e?t[n][e]&&(r[t[n][e]]=!0):r[t[n]]=!0;return r},e.intersect=function(t,r,n){if(!t||!r)return[];for(var i=[],o=Array.isArray(t)?e.mapToObject(t):t,s={},a=0;a<r.length;++a)if(o[r[a]]&&!s[r[a]]){if(n)return r[a];i.push(r[a]),s[r[a]]=!0}return n?null:i},e.contain=function(t,r,n){var o=null;\"object\"!==(void 0===t?\"undefined\":i(t))||\"object\"!==(void 0===r?\"undefined\":i(r))||Array.isArray(t)||Array.isArray(r)?r=[].concat(r):(o=r,r=Object.keys(r)),n=n||{},e.assert(\"string\"==typeof t||\"object\"===(void 0===t?\"undefined\":i(t)),\"Reference must be string or an object\"),e.assert(r.length,\"Values array cannot be empty\");var s=void 0,a=void 0;if(n.deep){s=e.deepEqual;var u=n.hasOwnProperty(\"only\"),c=n.hasOwnProperty(\"part\");a={prototype:u?n.only:!!c&&!n.part,part:u?!n.only:!c||n.part}}else s=function(t,e){return t===e};for(var f=!1,h=new Array(r.length),l=0;l<h.length;++l)h[l]=0;if(\"string\"==typeof t){for(var p=\"(\",d=0;d<r.length;++d){var y=r[d];e.assert(\"string\"==typeof y,\"Cannot compare string reference to non-string value\"),p+=(d?\"|\":\"\")+e.escapeRegex(y)}var m=new RegExp(p+\")\",\"g\");f=!!t.replace(m,function(t,e){var n=r.indexOf(e);return++h[n],\"\"})}else if(Array.isArray(t))for(var g=0;g<t.length;++g){for(var b=!1,v=0;v<r.length&&!1===b;++v)b=s(r[v],t[g],a)&&v;!1!==b?++h[b]:f=!0}else for(var _=Object.getOwnPropertyNames(t),w=0;w<_.length;++w){var S=_[w],k=r.indexOf(S);if(-1!==k){if(o&&!s(o[S],t[S],a))return!1;++h[k]}else f=!0}for(var E=!1,A=0;A<h.length;++A)if(E=E||!!h[A],n.once&&h[A]>1||!n.part&&!h[A])return!1;return(!n.only||!f)&&E},e.flatten=function(t,r){for(var n=r||[],i=0;i<t.length;++i)Array.isArray(t[i])?e.flatten(t[i],n):n.push(t[i]);return n},e.reach=function(t,r,n){if(!1===r||null===r||void 0===r)return t;\"string\"==typeof(n=n||{})&&(n={separator:n});for(var o=r.split(n.separator||\".\"),s=t,a=0;a<o.length;++a){var u=o[a];if(\"-\"===u[0]&&Array.isArray(s)&&(u=u.slice(1,u.length),u=s.length-u),!s||\"object\"!==(void 0===s?\"undefined\":i(s))&&\"function\"!=typeof s||!(u in s)||\"object\"!==(void 0===s?\"undefined\":i(s))&&!1===n.functions){e.assert(!n.strict||a+1===o.length,\"Missing segment\",u,\"in reach path \",r),e.assert(\"object\"===(void 0===s?\"undefined\":i(s))||!0===n.functions||\"function\"!=typeof s,\"Invalid segment\",u,\"in reach path \",r),s=n.default;break}s=s[u]}return s},e.reachTemplate=function(t,r,n){return r.replace(/{([^}]+)}/g,function(r,i){var o=e.reach(t,i,n);return void 0===o||null===o?\"\":o})},e.formatStack=function(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];e.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return e},e.formatTrace=function(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];e.push((n[4]?\"new \":\"\")+n[3]+\" (\"+n[0]+\":\"+n[1]+\":\"+n[2]+\")\")}return e},e.callStack=function(t){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){return e};var n={};Error.captureStackTrace(n,this);var i=n.stack;return Error.prepareStackTrace=r,e.formatStack(i).slice(1+t)},e.displayStack=function(t){var r=e.callStack(void 0===t?1:t+1);return e.formatTrace(r)},e.abortThrow=!1,e.abort=function(t,r){if(\"test\"===n.env.NODE_ENV||!0===e.abortThrow)throw new Error(t||\"Unknown error\");var i=\"\";r||(i=e.displayStack(1).join(\"\\n\\t\")),console.log(\"ABORT: \"+t+\"\\n\\t\"+i),n.exit(1)},e.assert=function(t){if(!t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(1===n.length&&n[0]instanceof Error)throw n[0];var s=n.filter(function(t){return\"\"!==t}).map(function(t){return\"string\"==typeof t?t:t instanceof Error?t.message:e.stringify(t)});throw new o.AssertionError({message:s.join(\" \")||\"Unknown error\",actual:!1,expected:!0,operator:\"==\",stackStartFunction:e.assert})}},e.Bench=function(){this.ts=0,this.reset()},e.Bench.prototype.reset=function(){this.ts=e.Bench.now()},e.Bench.prototype.elapsed=function(){return e.Bench.now()-this.ts},e.Bench.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6},e.escapeRegex=function(t){return t.replace(/[\\^\\$\\.\\*\\+\\-\\?\\=\\!\\:\\|\\\\\\/\\(\\)\\[\\]\\{\\}\\,]/g,\"\\\\$&\")},e.base64urlEncode=function(r,n){return e.assert(\"string\"==typeof r||t.isBuffer(r),\"value must be string or buffer\"),(t.isBuffer(r)?r:t.from(r,n||\"binary\")).toString(\"base64\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/\\=/g,\"\")},e.base64urlDecode=function(e,r){if(\"string\"!=typeof e)throw new Error(\"Value not a string\");if(!/^[\\w\\-]*$/.test(e))throw new Error(\"Invalid character\");var n=t.from(e,\"base64\");return\"buffer\"===r?n:n.toString(r||\"binary\")},e.escapeHeaderAttribute=function(t){return e.assert(/^[ \\w\\!#\\$%&'\\(\\)\\*\\+,\\-\\.\\/\\:;<\\=>\\?@\\[\\]\\^`\\{\\|\\}~\\\"\\\\]*$/.test(t),\"Bad attribute value (\"+t+\")\"),t.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\\"/g,'\\\\\"')},e.escapeHtml=function(t){return c.escapeHtml(t)},e.escapeJavaScript=function(t){return c.escapeJavaScript(t)},e.escapeJson=function(t){return c.escapeJson(t)},e.once=function(t){if(t._hoekOnce)return t;var e=!1,r=function(){if(!e){e=!0;for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(null,n)}};return r._hoekOnce=!0,r},e.isInteger=Number.isSafeInteger,e.ignore=function(){},e.inherits=u.inherits,e.format=u.format,e.transform=function(t,r,n){e.assert(null===t||void 0===t||\"object\"===(void 0===t?\"undefined\":i(t))||Array.isArray(t),\"Invalid source object: must be null, undefined, an object, or an array\");var o=\"object\"===(void 0===n?\"undefined\":i(n))&&null!==n&&n.separator||\".\";if(Array.isArray(t)){for(var s=[],a=0;a<t.length;++a)s.push(e.transform(t[a],r,n));return s}for(var u={},c=Object.keys(r),f=0;f<c.length;++f){var h=c[f],l=h.split(o),p=r[h];e.assert(\"string\"==typeof p,'All mappings must be \".\" delineated strings');for(var d=void 0,y=u;l.length>1;)y[d=l.shift()]||(y[d]={}),y=y[d];y[d=l.shift()]=e.reach(t,p,n)}return u},e.uniqueFilename=function(t,e){e=e?\".\"!==e[0]?\".\"+e:e:\"\",t=a.resolve(t);var r=[Date.now(),n.pid,s.randomBytes(8).toString(\"hex\")].join(\"-\")+e;return a.join(t,r)},e.stringify=function(){try{for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return JSON.stringify.apply(null,e)}catch(t){return\"[Cannot display object: \"+t.message+\"]\"}},e.shallow=function(t){for(var e={},r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];e[i]=t[i]}return e},e.wait=function(t){return new Promise(function(e){return setTimeout(e,t)})},e.block=function(){return new Promise(e.ignore)}}).call(e,r(3).Buffer,r(7))},function(t,e,r){\"use strict\";var n=r(0);e.create=function(t,e){n.assert(\"string\"==typeof t,\"Invalid reference key:\",t);var r=n.clone(e),i=function t(e,i){return n.reach(t.isContext?i.context:e,t.key,r)};return i.isContext=t[0]===(r&&r.contextPrefix||\"$\"),i.key=i.isContext?t.slice(1):t,i.path=i.key.split(r&&r.separator||\".\"),i.depth=i.path.length,i.root=i.path[0],i.isJoi=!0,i.toString=function(){return(i.isContext?\"context:\":\"ref:\")+i.key},i},e.isRef=function(t){return\"function\"==typeof t&&t.isJoi},e.push=function(t,r){e.isRef(r)&&!r.isContext&&t.push(r.root)}},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o=r(0),s=r(11),a=r(1),u=r(6),c=null,f=null,h={Set:r(9),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:\"optional\",strip:!1,noDefaults:!1,escapeHtml:!1}};t.exports=h.Any=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),f=f||r(4),this.isJoi=!0,this._type=\"any\",this._settings=null,this._valids=new h.Set,this._invalids=new h.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return t.prototype._init=function(){return this},t.prototype.createError=function(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this._flags;return u.create(t,e,r,n,i)},t.prototype.createOverrideError=function(t,e,r,n,i,o){return u.create(t,e,r,n,this._flags,i,o)},t.prototype.checkOptions=function(t){var e=r(21).options.validate(t);if(e.error)throw new Error(e.error.details[0].message)},t.prototype.clone=function(){var t=Object.create(Object.getPrototypeOf(this));t.isJoi=!0,t._currentJoi=this._currentJoi,t._type=this._type,t._settings=this._settings,t._baseType=this._baseType,t._valids=this._valids.slice(),t._invalids=this._invalids.slice(),t._tests=this._tests.slice(),t._refs=this._refs.slice(),t._flags=o.clone(this._flags),t._description=this._description,t._unit=this._unit,t._notes=this._notes.slice(),t._tags=this._tags.slice(),t._examples=this._examples.slice(),t._meta=this._meta.slice(),t._inner={};for(var e=Object.keys(this._inner),r=0;r<e.length;++r){var n=e[r];t._inner[n]=this._inner[n]?this._inner[n].slice():null}return t},t.prototype.concat=function(t){o.assert(t instanceof h.Any,\"Invalid schema object\"),o.assert(\"any\"===this._type||\"any\"===t._type||t._type===this._type,\"Cannot merge type\",this._type,\"with another type:\",t._type);var e=this.clone();if(\"any\"===this._type&&\"any\"!==t._type){for(var r=t.clone(),n=[\"_settings\",\"_valids\",\"_invalids\",\"_tests\",\"_refs\",\"_flags\",\"_description\",\"_unit\",\"_notes\",\"_tags\",\"_examples\",\"_meta\",\"_inner\"],i=0;i<n.length;++i)r[n[i]]=e[n[i]];e=r}e._settings=e._settings?s.concat(e._settings,t._settings):t._settings,e._valids.merge(t._valids,t._invalids),e._invalids.merge(t._invalids,t._valids),e._tests=e._tests.concat(t._tests),e._refs=e._refs.concat(t._refs),o.merge(e._flags,t._flags),e._description=t._description||e._description,e._unit=t._unit||e._unit,e._notes=e._notes.concat(t._notes),e._tags=e._tags.concat(t._tags),e._examples=e._examples.concat(t._examples),e._meta=e._meta.concat(t._meta);for(var a=Object.keys(t._inner),u=\"object\"===e._type,c=0;c<a.length;++c){var f=a[c],l=t._inner[f];if(l){var p=e._inner[f];if(p)if(u&&\"children\"===f){for(var d={},y=0;y<p.length;++y)d[p[y].key]=y;for(var m=0;m<l.length;++m){var g=l[m].key;d[g]>=0?p[d[g]]={key:g,schema:p[d[g]].schema.concat(l[m].schema)}:p.push(l[m])}}else e._inner[f]=e._inner[f].concat(l);else e._inner[f]=l.slice()}}return e},t.prototype._test=function(t,e,r,n){var i=this.clone();return i._tests.push({func:r,name:t,arg:e,options:n}),i},t.prototype.options=function(t){o.assert(!t.context,\"Cannot override context\"),this.checkOptions(t);var e=this.clone();return e._settings=s.concat(e._settings,t),e},t.prototype.strict=function(t){var e=this.clone(),r=void 0!==t&&!t;return e._settings=s.concat(e._settings,{convert:r}),e},t.prototype.raw=function(t){var e=void 0===t||t;if(this._flags.raw===e)return this;var r=this.clone();return r._flags.raw=e,r},t.prototype.error=function(t){o.assert(t&&(t instanceof Error||\"function\"==typeof t),\"Must provide a valid Error object or a function\");var e=this.clone();return e._flags.error=t,e},t.prototype.allow=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var s=e[i];o.assert(void 0!==s,\"Cannot call allow/valid/invalid with undefined\"),n._invalids.remove(s),n._valids.add(s,n._refs)}return n},t.prototype.valid=function(){var t=this.allow.apply(this,arguments);return t._flags.allowOnly=!0,t},t.prototype.invalid=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var s=e[i];o.assert(void 0!==s,\"Cannot call allow/valid/invalid with undefined\"),n._valids.remove(s),n._invalids.add(s,n._refs)}return n},t.prototype.required=function(){if(\"required\"===this._flags.presence)return this;var t=this.clone();return t._flags.presence=\"required\",t},t.prototype.optional=function(){if(\"optional\"===this._flags.presence)return this;var t=this.clone();return t._flags.presence=\"optional\",t},t.prototype.forbidden=function(){if(\"forbidden\"===this._flags.presence)return this;var t=this.clone();return t._flags.presence=\"forbidden\",t},t.prototype.strip=function(){if(this._flags.strip)return this;var t=this.clone();return t._flags.strip=!0,t},t.prototype.applyFunctionToChildren=function(t,e,r,n){if(1!==(t=[].concat(t)).length||\"\"!==t[0]){n=n?n+\".\":\"\";var i=(\"\"===t[0]?t.slice(1):t).map(function(t){return n+t});throw new Error(\"unknown key(s) \"+i.join(\", \"))}return this[e].apply(this,r)},t.prototype.default=function(t,e){\"function\"!=typeof t||a.isRef(t)||(!t.description&&e&&(t.description=e),this._flags.func||o.assert(\"string\"==typeof t.description&&t.description.length>0,\"description must be provided when default value is a function\"));var r=this.clone();return r._flags.default=t,a.push(r._refs,t),r},t.prototype.empty=function(t){var e=this.clone();return void 0===t?delete e._flags.empty:e._flags.empty=f.schema(this._currentJoi,t),e},t.prototype.when=function(t,e){o.assert(e&&\"object\"===(void 0===e?\"undefined\":n(e)),\"Invalid options\"),o.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of \"then\" or \"otherwise\"');var i=e.hasOwnProperty(\"then\")?this.concat(f.schema(this._currentJoi,e.then)):void 0,s=e.hasOwnProperty(\"otherwise\")?this.concat(f.schema(this._currentJoi,e.otherwise)):void 0;c=c||r(10);var a={then:i,otherwise:s};Object.prototype.hasOwnProperty.call(e,\"is\")&&(a.is=e.is);var u=c.when(t,a);return u._flags.presence=\"ignore\",u._baseType=this,u},t.prototype.description=function(t){o.assert(t&&\"string\"==typeof t,\"Description must be a non-empty string\");var e=this.clone();return e._description=t,e},t.prototype.notes=function(t){o.assert(t&&(\"string\"==typeof t||Array.isArray(t)),\"Notes must be a non-empty string or array\");var e=this.clone();return e._notes=e._notes.concat(t),e},t.prototype.tags=function(t){o.assert(t&&(\"string\"==typeof t||Array.isArray(t)),\"Tags must be a non-empty string or array\");var e=this.clone();return e._tags=e._tags.concat(t),e},t.prototype.meta=function(t){o.assert(void 0!==t,\"Meta cannot be undefined\");var e=this.clone();return e._meta=e._meta.concat(t),e},t.prototype.example=function(){o.assert(1===arguments.length,\"Missing example\");var t=arguments.length<=0?void 0:arguments[0],e=this.clone();return e._examples.push(t),e},t.prototype.unit=function(t){o.assert(t&&\"string\"==typeof t,\"Unit name must be a non-empty string\");var e=this.clone();return e._unit=t,e},t.prototype._prepareEmptyValue=function(t){return\"string\"==typeof t&&this._flags.trim?t.trim():t},t.prototype._validate=function(t,e,r,n){var i=this,c=t;e=e||{key:\"\",path:[],parent:null,reference:n},this._settings&&(r=s.concat(r,this._settings));var f=[],l=function(){var n=void 0;if(void 0!==t)n=i._flags.raw?c:t;else if(r.noDefaults)n=t;else if(a.isRef(i._flags.default))n=i._flags.default(e.parent,r);else if(\"function\"!=typeof i._flags.default||i._flags.func&&!i._flags.default.description)n=o.clone(i._flags.default);else{var s=void 0;null!==e.parent&&i._flags.default.length>0&&(s=[o.clone(e.parent),r]);var u=h._try(i._flags.default,s);n=u.value,u.error&&f.push(i.createError(\"any.default\",{error:u.error},e,r))}if(f.length&&\"function\"==typeof i._flags.error){var l=i._flags.error.call(i,f);f=\"string\"==typeof l?[i.createOverrideError(\"override\",{reason:f},e,r,l)]:[].concat(l).map(function(t){return t instanceof Error?t:i.createOverrideError(t.type||\"override\",t.context,e,r,t.message,t.template)})}return{value:i._flags.strip?void 0:n,finalValue:n,errors:f.length?f:null}};if(this._coerce){var p=this._coerce.call(this,t,e,r);if(p.errors)return t=p.value,f=f.concat(p.errors),l();t=p.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(t),null,h.defaults).errors&&(t=void 0);var d=this._flags.presence||r.presence;if(\"optional\"===d){if(void 0===t){if(!(this._flags.hasOwnProperty(\"default\")&&void 0===this._flags.default)||\"object\"!==this._type)return l();t={}}}else{if(\"required\"===d&&void 0===t)return f.push(this.createError(\"any.required\",null,e,r)),l();if(\"forbidden\"===d)return void 0===t?l():(f.push(this.createError(\"any.unknown\",null,e,r)),l())}if(this._valids.has(t,e,r,this._flags.insensitive))return l();if(this._invalids.has(t,e,r,this._flags.insensitive)&&(f.push(this.createError(\"\"===t?\"any.empty\":\"any.invalid\",{value:t,invalids:this._invalids.values({stripUndefined:!0})},e,r)),r.abortEarly||void 0===t))return l();if(this._base){var y=this._base.call(this,t,e,r);if(y.errors)return t=y.value,f=f.concat(y.errors),l();if(y.value!==t){if(t=y.value,this._valids.has(t,e,r,this._flags.insensitive))return l();if(this._invalids.has(t,e,r,this._flags.insensitive)&&(f.push(this.createError(\"\"===t?\"any.empty\":\"any.invalid\",{value:t,invalids:this._invalids.values({stripUndefined:!0})},e,r)),r.abortEarly))return l()}}if(this._flags.allowOnly&&(f.push(this.createError(\"any.allowOnly\",{value:t,valids:this._valids.values({stripUndefined:!0})},e,r)),r.abortEarly))return l();for(var m=0;m<this._tests.length;++m){var g=this._tests[m].func.call(this,t,e,r);if(g instanceof u.Err){if(f.push(g),r.abortEarly)return l()}else t=g}return l()},t.prototype._validateWithOptions=function(t,e,r){e&&this.checkOptions(e);var n=s.concat(h.defaults,e),i=this._validate(t,null,n),o=u.process(i.errors,t);return r?r(o,i.value):{error:o,value:i.value,then:function(t,e){return o?Promise.reject(o).catch(e):Promise.resolve(i.value).then(t)},catch:function(t){return o?Promise.reject(o).catch(t):Promise.resolve(i.value)}}},t.prototype.validate=function(t,e,r){return\"function\"==typeof e?this._validateWithOptions(t,null,e):this._validateWithOptions(t,e,r)},t.prototype.describe=function(){var t=this,e={type:this._type},r=Object.keys(this._flags);if(r.length)if([\"empty\",\"default\",\"lazy\",\"label\"].some(function(e){return t._flags.hasOwnProperty(e)})){e.flags={};for(var n=0;n<r.length;++n){var i=r[n];\"empty\"===i?e.flags[i]=this._flags[i].describe():\"default\"===i?a.isRef(this._flags[i])?e.flags[i]=this._flags[i].toString():\"function\"==typeof this._flags[i]?e.flags[i]={description:this._flags[i].description,function:this._flags[i]}:e.flags[i]=this._flags[i]:\"lazy\"===i||\"label\"===i||(e.flags[i]=this._flags[i])}}else e.flags=this._flags;this._settings&&(e.options=o.clone(this._settings)),this._baseType&&(e.base=this._baseType.describe()),this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);var s=this._valids.values();s.length&&(e.valids=s.map(function(t){return a.isRef(t)?t.toString():t}));var u=this._invalids.values();u.length&&(e.invalids=u.map(function(t){return a.isRef(t)?t.toString():t})),e.rules=[];for(var c=0;c<this._tests.length;++c){var f=this._tests[c],h={name:f.name};void 0!==f.arg&&(h.arg=a.isRef(f.arg)?f.arg.toString():f.arg);var l=f.options;if(l){if(l.hasRef){h.arg={};for(var p=Object.keys(f.arg),d=0;d<p.length;++d){var y=p[d],m=f.arg[y];h.arg[y]=a.isRef(m)?m.toString():m}}\"string\"==typeof l.description?h.description=l.description:\"function\"==typeof l.description&&(h.description=l.description(h.arg))}e.rules.push(h)}e.rules.length||delete e.rules;var g=this._getLabel();return g&&(e.label=g),e},t.prototype.label=function(t){o.assert(t&&\"string\"==typeof t,\"Label name must be a non-empty string\");var e=this.clone();return e._flags.label=t,e},t.prototype._getLabel=function(t){return this._flags.label||t},i(t,[{key:\"schemaType\",get:function(){return this._type}}]),t}(),h.Any.prototype.isImmutable=!0,h.Any.prototype.only=h.Any.prototype.equal=h.Any.prototype.valid,h.Any.prototype.disallow=h.Any.prototype.not=h.Any.prototype.invalid,h.Any.prototype.exist=h.Any.prototype.required,h._try=function(t,e){var r=void 0,n=void 0;try{n=t.apply(null,e)}catch(t){r=t}return{value:n,error:r}}},function(t,e,r){\"use strict\";(function(t){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nvar n=r(33),i=r(34),o=r(35);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError(\"Invalid typed array length\");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if(\"number\"==typeof t){if(\"string\"==typeof e)throw new Error(\"If encoding is specified then the first argument must be a string\");return h(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(e.byteLength<r+(n||0))throw new RangeError(\"'length' is out of bounds\");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=l(t,e);return t}(t,e,r,n):\"string\"==typeof e?function(t,e,r){\"string\"==typeof r&&\"\"!==r||(r=\"utf8\");if(!u.isEncoding(r))throw new TypeError('\"encoding\" must be a valid string encoding');var n=0|d(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if(\"undefined\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return\"number\"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):l(t,e);if(\"Buffer\"===e.type&&o(e.data))return l(t,e.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(t,e)}function f(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be a number');if(t<0)throw new RangeError('\"size\" argument must not be negative')}function h(t,e){if(f(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+s().toString(16)+\" bytes\");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;\"string\"!=typeof t&&(t=\"\"+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":case void 0:return U(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return F(t).length;default:if(n)return U(t).length;e=(\"\"+e).toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,i);if(\"number\"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function g(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(c(t,o+l)!==c(e,l)){h=!1;break}if(h)return o}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function v(t,e,r,n){return q(U(e,t.length-r),t,r,n)}function _(t,e,r,n){return q(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return _(t,e,r,n)}function S(t,e,r,n){return q(F(e),t,r,n)}function k(t,e,r,n){return q(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var r=\"\",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\"function\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?a(t,e):void 0!==r?\"string\"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError(\"Arguments must be Buffers\");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!u.isBuffer(s))throw new TypeError('\"list\" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?\"\":0===arguments.length?A(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(e>>>=0))return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return I(this,e,r);case\"utf8\":case\"utf-8\":return A(this,e,r);case\"ascii\":return T(this,e,r);case\"latin1\":case\"binary\":return B(this,e,r);case\"base64\":return E(this,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return C(this,e,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t=\"\",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\"hex\",0,r).match(/.{2}/g).join(\" \"),this.length>r&&(t+=\" ... \")),\"<Buffer \"+t+\">\"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError(\"out of range index\");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r),h=0;h<a;++h)if(c[h]!==f[h]){o=c[h],s=f[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n=\"utf8\",r=this.length,e=0;else if(void 0===r&&\"string\"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");e|=0,isFinite(r)?(r|=0,void 0===n&&(n=\"utf8\")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var o=!1;;)switch(n){case\"hex\":return b(this,t,e,r);case\"utf8\":case\"utf-8\":return v(this,t,e,r);case\"ascii\":return _(this,t,e,r);case\"latin1\":case\"binary\":return w(this,t,e,r);case\"base64\":return S(this,t,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return k(this,t,e,r);default:if(o)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function T(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function B(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",o=e;o<r;++o)i+=D(t[o]);return i}function C(t,e,r){for(var n=t.slice(e,r),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>r)throw new RangeError(\"Trying to access beyond buffer length\")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('\"value\" argument is out of bounds');if(r+n>t.length)throw new RangeError(\"Index out of range\")}function O(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function j(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function N(t,e,r,n,o){return o||j(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,o){return o||j(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if(\"string\"==typeof t){if(\"string\"==typeof e?(n=e,e=0,r=this.length):\"string\"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!u.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n)}else\"number\"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError(\"Out of range index\");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),\"number\"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:U(new u(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var K=/[^+\\/0-9A-Za-z-_]/g;function D(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}(t).replace(K,\"\")).length<2)return\"\";for(;t.length%4!=0;)t+=\"=\";return t}(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(e,r(5))},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=r(0),o=r(1);e.schema=function(t,e){return void 0!==e&&null!==e&&\"object\"===(void 0===e?\"undefined\":n(e))?e.isJoi?e:Array.isArray(e)?t.alternatives().try(e):e instanceof RegExp?t.string().regex(e):e instanceof Date?t.date().valid(e):t.object().keys(e):\"string\"==typeof e?t.string().valid(e):\"number\"==typeof e?t.number().valid(e):\"boolean\"==typeof e?t.boolean().valid(e):o.isRef(e)?t.valid(e):(i.assert(null===e,\"Invalid schema content:\",e),t.valid(null))},e.ref=function(t){return o.isRef(t)?t:o.create(t)}},function(t,e){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};var i=r(0),o=r(20),s={annotations:Symbol(\"joi-annotations\"),stringify:function(t,r){var i=void 0===t?\"undefined\":n(t);if(null===t)return\"null\";if(\"string\"===i)return t;if(t instanceof e.Err||\"function\"===i||\"symbol\"===i)return t.toString();if(\"object\"===i){if(Array.isArray(t)){for(var o=\"\",a=0;a<t.length;++a)o=o+(o.length?\", \":\"\")+s.stringify(t[a],r);return r?\"[\"+o+\"]\":o}return t.toString()}return JSON.stringify(t)}};e.Err=function(){function t(e,r,n,i,s,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.isJoi=!0,this.type=e,this.context=r||{},this.context.key=n.path[n.path.length-1],this.context.label=n.key,this.path=n.path,this.options=i,this.flags=s,this.message=a,this.template=u;var c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||\"\"!==this.context.label&&null!==this.context.label||(this.context.label=c.root||o.errors.root)}return t.prototype.toString=function(){var t=this;if(this.message)return this.message;var e=void 0;this.template&&(e=this.template);var r=this.options.language;if(void 0===(e=e||i.reach(r,this.type)||i.reach(o.errors,this.type)))return'Error code \"'+this.type+'\" is not defined, your custom type is missing the correct language definition';var n=i.reach(r,\"messages.wrapArrays\");if(\"boolean\"!=typeof n&&(n=o.errors.messages.wrapArrays),null===e){var a=s.stringify(this.context.reason,n);return n?a.slice(1,-1):a}var u=/\\{\\{\\!?label\\}\\}/.test(e),c=e.length>2&&\"!\"===e[0]&&\"!\"===e[1];if(c&&(e=e.slice(2)),!u&&!c){var f=i.reach(r,\"key\");e=\"string\"==typeof f?f+e:i.reach(o.errors,\"key\")+e}return e.replace(/\\{\\{(\\!?)([^}]+)\\}\\}/g,function(e,r,o){var a=i.reach(t.context,o),u=s.stringify(a,n);return r&&t.options.escapeHtml?i.escapeHtml(u):u})},t}(),e.create=function(t,r,n,i,o,s,a){return new e.Err(t,r,n,i,o,s,a)},e.process=function(t,e){if(!t||!t.length)return null;var r=\"\",n=[],i=function t(e,i){for(var o=0;o<e.length;++o){var s=e[o];if(s instanceof Error)return s;if(s.flags.error&&\"function\"!=typeof s.flags.error)return s.flags.error;var a=void 0;if(void 0===i&&(a=s.toString(),r=r+(r?\". \":\"\")+a),s.context.reason&&s.context.reason.length){var u=t(s.context.reason,s.path);if(u)return u}else n.push({message:a||s.toString(),path:s.path,type:s.type,context:s.context})}}(t);if(i)return i;var o=new Error(r);return o.isJoi=!0,o.name=\"ValidationError\",o.details=n,o._object=e,o.annotate=s.annotate,o},s.safeStringify=function(t,e){return JSON.stringify(t,s.serializer(),e)},s.serializer=function(){var t=[],e=[];return function(r,i){if(e.length>0){var o=e.indexOf(this);~o?(e.length=o+1,t.length=o+1,t[o]=r):(e.push(this),t.push(r)),~e.indexOf(i)&&(i=function(r,n){return e[0]===n?\"[Circular ~]\":\"[Circular ~.\"+t.slice(0,e.indexOf(n)).join(\".\")+\"]\"}.call(this,r,i))}else e.push(i);if(i){var a=i[s.annotations];if(a){if(Array.isArray(i)){for(var u=[],c=0;c<i.length;++c)a.errors[c]&&u.push(\"_$idx$_\"+a.errors[c].sort().join(\", \")+\"_$end$_\"),u.push(i[c]);i=u}else{for(var f=Object.keys(a.errors),h=0;h<f.length;++h){var l=f[h];i[l+\"_$key$_\"+a.errors[l].sort().join(\", \")+\"_$end$_\"]=i[l],i[l]=void 0}for(var p=Object.keys(a.missing),d=0;d<p.length;++d){var y=p[d];i[\"_$miss$_\"+y+\"|\"+a.missing[y]+\"_$end$_\"]=\"__missing__\"}}return i}}return i===1/0||i===-1/0||Number.isNaN(i)||\"function\"==typeof i||\"symbol\"===(void 0===i?\"undefined\":n(i))?\"[\"+i.toString()+\"]\":i}},s.annotate=function(t){var e=t?\"\":\"\u001b[31m\",r=t?\"\":\"\u001b[41m\",o=t?\"\":\"\u001b[0m\";if(\"object\"!==n(this._object))return this.details[0].message;for(var a=i.clone(this._object||{}),u=this.details.length-1;u>=0;--u)for(var c=u+1,f=this.details[u],h=f.path,l=a,p=0;;++p){var d=h[p];if(l.isImmutable&&(l=l.clone()),!(p+1<h.length&&l[d]&&\"string\"!=typeof l[d])){var y=l[s.annotations]=l[s.annotations]||{errors:{},missing:{}},m=l[d],g=d||f.context.label;void 0!==m?(y.errors[g]=y.errors[g]||[],y.errors[g].push(c)):y.missing[g]=c;break}l=l[d]}var b=/_\\$key\\$_([, \\d]+)_\\$end\\$_\\\"/g,v=/\\\"_\\$miss\\$_([^\\|]+)\\|(\\d+)_\\$end\\$_\\\"\\: \\\"__missing__\\\"/g,_=/\\s*\\\"_\\$idx\\$_([, \\d]+)_\\$end\\$_\\\",?\\n(.*)/g,w=/\"\\[(NaN|Symbol.*|-?Infinity|function.*|\\(.*)\\]\"/g,S=s.safeStringify(a,2).replace(b,function(t,r){return'\" '+e+\"[\"+r+\"]\"+o}).replace(v,function(t,n,i){return r+'\"'+n+'\"'+o+e+\" [\"+i+\"]: -- missing --\"+o}).replace(_,function(t,r,n){return\"\\n\"+n+\" \"+e+\"[\"+r+\"]\"+o}).replace(w,function(t,e){return e});S=S+\"\\n\"+e;for(var k=0;k<this.details.length;++k){S=S+\"\\n[\"+(k+1)+\"] \"+this.details[k].message}return S+=o}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function s(){throw new Error(\"clearTimeout has not been defined\")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n=\"function\"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],f=!1,h=-1;function l(){f&&u&&(f=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!f){var t=a(l);f=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||f||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(t){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function i(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(0),s=r(2),a=r(4),u=r(6),c=r(26),f=r(1),h=r(11),l={alternatives:r(10),array:r(22),boolean:r(24),binary:r(23),date:r(12),func:r(25),number:r(27),object:r(13),string:r(28)};l.callWithDefaults=function(t,e){var r;return o.assert(this,\"Must be invoked on a Joi instance.\"),this._defaults&&(t=this._defaults(t)),t._currentJoi=this,(r=t)._init.apply(r,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e))},l.root=function(){var t=new s,e=t.clone();return s.prototype._currentJoi=e,e._currentJoi=e,e.any=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return o.assert(0===r.length,\"Joi.any() does not allow arguments.\"),l.callWithDefaults.call(this,t,r)},e.alternatives=e.alt=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.callWithDefaults.call(this,l.alternatives,e)},e.array=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,\"Joi.array() does not allow arguments.\"),l.callWithDefaults.call(this,l.array,e)},e.boolean=e.bool=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,\"Joi.boolean() does not allow arguments.\"),l.callWithDefaults.call(this,l.boolean,e)},e.binary=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,\"Joi.binary() does not allow arguments.\"),l.callWithDefaults.call(this,l.binary,e)},e.date=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,\"Joi.date() does not allow arguments.\"),l.callWithDefaults.call(this,l.date,e)},e.func=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,\"Joi.func() does not allow arguments.\"),l.callWithDefaults.call(this,l.func,e)},e.number=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,\"Joi.number() does not allow arguments.\"),l.callWithDefaults.call(this,l.number,e)},e.object=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.callWithDefaults.call(this,l.object,e)},e.string=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return o.assert(0===e.length,\"Joi.string() does not allow arguments.\"),l.callWithDefaults.call(this,l.string,e)},e.ref=function(){return f.create.apply(f,arguments)},e.isRef=function(t){return f.isRef(t)},e.validate=function(r){var n,i=(n=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=n?void 0:arguments[n]),o=\"function\"==typeof i?i:null,s=(arguments.length<=1?0:arguments.length-1)-(o?1:0);if(0===s)return t.validate(r,o);var a=2===s?arguments.length<=2?void 0:arguments[2]:{};return e.compile(arguments.length<=1?void 0:arguments[1])._validateWithOptions(r,a,o)},e.describe=function(){return(arguments.length?e.compile(arguments.length<=0?void 0:arguments[0]):t).describe()},e.compile=function(t){try{return a.schema(this,t)}catch(t){throw t.hasOwnProperty(\"path\")&&(t.message=t.message+\"(\"+t.path+\")\"),t}},e.assert=function(t,r,n){e.attempt(t,r,n)},e.attempt=function(t,r,n){var i=e.validate(t,r),o=i.error;if(o){if(!n)throw\"function\"==typeof o.annotate&&(o.message=o.annotate()),o;if(!(n instanceof Error))throw\"function\"==typeof o.annotate&&(o.message=n+\" \"+o.annotate()),o;throw n}return i.value},e.reach=function(t,e){o.assert(t&&t instanceof s,\"you must provide a joi schema\"),o.assert(Array.isArray(e)||\"string\"==typeof e,\"path must be a string or an array of strings\");return function t(e,r){if(!r.length)return e;var n=e._inner.children;if(n)for(var i=r.shift(),o=0;o<n.length;++o){var s=n[o];if(s.key===i)return t(s.schema,r)}}(t,\"string\"==typeof e?e?e.split(\".\"):[]:e.slice())},e.lazy=function(t){return c.set(t)},e.defaults=function(t){var e=this;o.assert(\"function\"==typeof t,\"Defaults must be a function\");var r=Object.create(this.any());return r=t(r),o.assert(r&&r instanceof this.constructor,\"defaults() must return a schema\"),n(r,this,r.clone()),r._defaults=function(r){return e._defaults&&(r=e._defaults(r),o.assert(r instanceof e.constructor,\"defaults() must return a schema\")),r=t(r),o.assert(r instanceof e.constructor,\"defaults() must return a schema\"),r},r},e.extend=function(){for(var t=this,r=arguments.length,c=Array(r),p=0;p<r;p++)c[p]=arguments[p];var d=o.flatten(c);o.assert(d.length>0,\"You need to provide at least one extension\"),this.assert(d,e.extensionsSchema);var y=Object.create(this.any());n(y,this);for(var m=function(r){var c=d[r];\"function\"==typeof c&&(c=c(y)),t.assert(c,e.extensionSchema);var p=(c.base||t.any()).clone(),m=p.constructor,g=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return c.base&&n(r,p),r._type=c.name,c.language&&(r._settings=h.concat(r._settings,{language:function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},c.name,c.language)})),r}return i(e,t),e}(m);if(c.coerce&&(g.prototype._coerce=function(t,e,r){if(m.prototype._coerce){var n=m.prototype._coerce.call(this,t,e,r);if(n.errors)return n;t=n.value}var i=c.coerce.call(this,t,e,r);return i instanceof u.Err?{value:t,errors:i}:{value:i}}),c.pre&&(g.prototype._base=function(t,e,r){if(m.prototype._base){var n=m.prototype._base.call(this,t,e,r);if(n.errors)return n;t=n.value}var i=c.pre.call(this,t,e,r);return i instanceof u.Err?{value:t,errors:i}:{value:i}}),c.rules)for(var b=function(e){var r=c.rules[e],n=r.params?r.params instanceof s?r.params._inner.children.map(function(t){return t.key}):Object.keys(r.params):[],i=r.params?a.schema(t,r.params):null;g.prototype[r.name]=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];if(e.length>n.length)throw new Error(\"Unexpected number of arguments\");for(var u=!1,c={},h=0;h<n.length;++h)c[n[h]]=e[h],!u&&f.isRef(e[h])&&(u=!0);i&&(c=y.attempt(c,i));var l=void 0;if(r.validate){l=this._test(r.name,c,function(t,e,n){return r.validate.call(this,c,t,e,n)},{description:r.description,hasRef:u})}else l=this.clone();if(r.setup){var p=r.setup.call(l,c);void 0!==p&&(o.assert(p instanceof s,\"Setup of extension Joi.\"+this._type+\"().\"+r.name+\"() must return undefined or a Joi object\"),l=p)}return l}},v=0;v<c.rules.length;++v)b(v);c.describe&&(g.prototype.describe=function(){var t=m.prototype.describe.call(this);return c.describe.call(this,t)});var _=new g;y[c.name]=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.callWithDefaults.call(this,_,e)}},g=0;g<d.length;++g)m(g);return y},e.extensionSchema=l.object.keys({base:l.object.type(s,\"Joi object\"),name:l.string.required(),coerce:l.func.arity(3),pre:l.func.arity(3),language:l.object,describe:l.func.arity(1),rules:l.array.items(l.object.keys({name:l.string.required(),setup:l.func.arity(1),validate:l.func.arity(4),params:[l.object.pattern(/.*/,l.object.type(s,\"Joi object\")),l.object.type(l.object.constructor,\"Joi object\")],description:[l.string,l.func.arity(1)]}).or(\"setup\",\"validate\"))}).strict(),e.extensionsSchema=l.array.items([l.object,l.func.arity(1)]).strict(),e.version=r(36).version,e},t.exports=l.root()},function(t,e,r){\"use strict\";(function(e){var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=r(1),s={extendedCheckForValue:function(t,r){var i=void 0===t?\"undefined\":n(t);if(\"object\"===i){if(t instanceof Date)return function(e){return e instanceof Date&&t.getTime()===e.getTime()};if(e.isBuffer(t))return function(r){return e.isBuffer(r)&&t.length===r.length&&t.toString(\"binary\")===r.toString(\"binary\")}}else if(r&&\"string\"===i){var o=t.toLowerCase();return function(t){return\"string\"==typeof t&&o===t.toLowerCase()}}return null}};t.exports=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._set=new Set(e),this._hasRef=!1}return t.prototype.add=function(t,e){var r=o.isRef(t);return!r&&this.has(t,null,null,!1)?this:(void 0!==e&&o.push(e,t),this._set.add(t),this._hasRef|=r,this)},t.prototype.merge=function(t,e){var r=!0,n=!1,i=void 0;try{for(var o,s=t._set[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value;this.add(a)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}var u=!0,c=!1,f=void 0;try{for(var h,l=e._set[Symbol.iterator]();!(u=(h=l.next()).done);u=!0){var p=h.value;this.remove(p)}}catch(t){c=!0,f=t}finally{try{!u&&l.return&&l.return()}finally{if(c)throw f}}return this},t.prototype.remove=function(t){return this._set.delete(t),this},t.prototype.has=function(t,e,r,n){if(!this._set.size)return!1;var i=this._set.has(t);if(i)return i;var a=s.extendedCheckForValue(t,n);if(!a){if(e&&this._hasRef){var u=!0,c=!1,f=void 0;try{for(var h,l=this._set[Symbol.iterator]();!(u=(h=l.next()).done);u=!0){var p=h.value;if(o.isRef(p)&&(t===(p=p(e.reference||e.parent,r))||Array.isArray(p)&&p.includes(t)))return!0}}catch(t){c=!0,f=t}finally{try{!u&&l.return&&l.return()}finally{if(c)throw f}}}return!1}return this._has(t,e,r,a)},t.prototype._has=function(t,e,r,n){var i=!(!e||!this._hasRef),s=function(e){return t===e||n(e)},a=!0,u=!1,c=void 0;try{for(var f,h=this._set[Symbol.iterator]();!(a=(f=h.next()).done);a=!0){var l=f.value;if(i&&o.isRef(l)&&(l=l(e.reference||e.parent,r),Array.isArray(l))){if(l.find(s))return!0}else if(s(l))return!0}}catch(t){u=!0,c=t}finally{try{!a&&h.return&&h.return()}finally{if(u)throw c}}return!1},t.prototype.values=function(t){if(t&&t.stripUndefined){var e=[],r=!0,n=!1,i=void 0;try{for(var o,s=this._set[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value;void 0!==a&&e.push(a)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return e}return Array.from(this._set)},t.prototype.slice=function(){var e=new t(this._set);return e._hasRef=this._hasRef,e},t.prototype.concat=function(e){var r=new t([].concat(i(this._set),i(e._set)));return r._hasRef=!!(this._hasRef|e._hasRef),r},t}()}).call(e,r(3).Buffer)},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function i(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(0),s=r(2),a=r(4),u=r(1),c={};c.Alternatives=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._type=\"alternatives\",r._invalids.remove(null),r._inner.matches=[],r}return i(e,t),e.prototype._init=function(){return arguments.length?this.try.apply(this,arguments):this},e.prototype._base=function(t,e,r){for(var n=[],i=this._inner.matches.length,o=this._baseType,s=0;s<i;++s){var a=this._inner.matches[s];if(a.schema){var u=a.schema._validate(t,e,r);if(!u.errors)return u;n=n.concat(u.errors)}else{var c=a.peek||a.is,f=a.is?a.ref(e.reference||e.parent,r):t;if(c._validate(f,null,r,e.parent).errors){if(a.otherwise)return a.otherwise._validate(t,e,r)}else if(a.then)return a.then._validate(t,e,r);if(s===i-1&&o)return o._validate(t,e,r)}}return n.length?{errors:this.createError(\"alternatives.child\",{reason:n},e,r)}:{errors:this.createError(\"alternatives.base\",null,e,r)}},e.prototype.try=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];e=o.flatten(e),o.assert(e.length,\"Cannot add other alternatives without at least one schema\");for(var n=this.clone(),i=0;i<e.length;++i){var s=a.schema(this._currentJoi,e[i]);s._refs.length&&(n._refs=n._refs.concat(s._refs)),n._inner.matches.push({schema:s})}return n},e.prototype.when=function(t,e){var r=!1;o.assert(u.isRef(t)||\"string\"==typeof t||(r=t instanceof s),\"Invalid condition:\",t),o.assert(e,\"Missing options\"),o.assert(\"object\"===(void 0===e?\"undefined\":n(e)),\"Invalid options\"),r?o.assert(!e.hasOwnProperty(\"is\"),'\"is\" can not be used with a schema condition'):o.assert(e.hasOwnProperty(\"is\"),'Missing \"is\" directive'),o.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of \"then\" or \"otherwise\"');var i=this.clone(),c=void 0;r||(c=a.schema(this._currentJoi,e.is),null!==e.is&&(u.isRef(e.is)||e.is instanceof s)||(c=c.required()));var f={ref:r?null:a.ref(t),peek:r?t:null,is:c,then:void 0!==e.then?a.schema(this._currentJoi,e.then):void 0,otherwise:void 0!==e.otherwise?a.schema(this._currentJoi,e.otherwise):void 0};return i._baseType&&(f.then=f.then&&i._baseType.concat(f.then),f.otherwise=f.otherwise&&i._baseType.concat(f.otherwise)),r||(u.push(i._refs,f.ref),i._refs=i._refs.concat(f.is._refs)),f.then&&f.then._refs&&(i._refs=i._refs.concat(f.then._refs)),f.otherwise&&f.otherwise._refs&&(i._refs=i._refs.concat(f.otherwise._refs)),i._inner.matches.push(f),i},e.prototype.describe=function(){for(var t=s.prototype.describe.call(this),e=[],r=0;r<this._inner.matches.length;++r){var n=this._inner.matches[r];if(n.schema)e.push(n.schema.describe());else{var i=n.is?{ref:n.ref.toString(),is:n.is.describe()}:{peek:n.peek.describe()};n.then&&(i.then=n.then.describe()),n.otherwise&&(i.otherwise=n.otherwise.describe()),e.push(i)}}return t.alternatives=e,t},e}(s),t.exports=new c.Alternatives},function(t,e,r){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=r(0);e.concat=function(t,e){if(!e)return t;for(var r=n({},t),o=Object.keys(e),s=0;s<o.length;++s){var a=o[s];\"language\"===a&&r.hasOwnProperty(a)?r[a]=i.applyToDefaults(r[a],e[a]):r[a]=e[a]}return r}},function(t,e,r){\"use strict\";function n(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(2),o=r(1),s=r(0),a={isoDate:/^(?:[-+]\\d{2})?(?:\\d{4}(?!\\d{2}\\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\\1(?:[12]\\d|0[1-9]|3[01]))?|W(?:[0-4]\\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\\d|[12]\\d{2}|3(?:[0-5]\\d|6[1-6])))(?![T]$|[T][\\d]+Z$)(?:[T\\s](?:(?:(?:[01]\\d|2[0-3])(?:(:?)[0-5]\\d)?|24\\:?00)(?:[.,]\\d+(?!:))?)(?:\\2[0-5]\\d(?:[.,]\\d+)?)?(?:[Z]|(?:[+-])(?:[01]\\d|2[0-3])(?::?[0-5]\\d)?)?)?)?$/};a.invalidDate=new Date(\"\"),a.isIsoDate=function(){var t=a.isoDate.toString();return function(e){return e&&e.toString()===t}}(),a.Date=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._type=\"date\",r}return n(e,t),e.prototype._base=function(t,e,r){var n={value:r.convert&&a.Date.toDate(t,this._flags.format,this._flags.timestamp,this._flags.multiplier)||t};if(n.value instanceof Date&&!isNaN(n.value.getTime()))n.errors=null;else if(r.convert){var i=void 0;i=a.isIsoDate(this._flags.format)?\"isoDate\":this._flags.timestamp?\"timestamp.\"+this._flags.timestamp:\"base\",n.errors=this.createError(\"date.\"+i,null,e,r)}else n.errors=this.createError(\"date.strict\",null,e,r);return n},e.toDate=function(t,e,r,n){if(t instanceof Date)return t;if(\"string\"==typeof t||\"number\"==typeof t&&!isNaN(t)&&isFinite(t)){\"string\"==typeof t&&/^[+-]?\\d+(\\.\\d+)?$/.test(t)&&(t=parseFloat(t));var i=void 0;if(i=e&&a.isIsoDate(e)?e.test(t)?new Date(t):a.invalidDate:r&&n?/^\\s*$/.test(t)?a.invalidDate:new Date(t*n):new Date(t),!isNaN(i.getTime()))return i}return null},e.prototype.iso=function(){if(this._flags.format===a.isoDate)return this;var t=this.clone();return t._flags.format=a.isoDate,t},e.prototype.timestamp=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"javascript\",e=[\"javascript\",\"unix\"];if(s.assert(e.includes(t),'\"type\" must be one of \"'+e.join('\", \"')+'\"'),this._flags.timestamp===t)return this;var r=this.clone();return r._flags.timestamp=t,r._flags.multiplier=\"unix\"===t?1e3:1,r},e.prototype._isIsoDate=function(t){return a.isoDate.test(t)},e}(i),a.compare=function(t,e){return function(r){var n=\"now\"===r,i=o.isRef(r);return n||i||(r=a.Date.toDate(r)),s.assert(r,\"Invalid date format\"),this._test(t,r,function(o,s,u){var c=void 0;if(n)c=Date.now();else if(i){if(!(c=a.Date.toDate(r(s.reference||s.parent,u))))return this.createError(\"date.ref\",{ref:r.key},s,u);c=c.getTime()}else c=r.getTime();return e(o.getTime(),c)?o:this.createError(\"date.\"+t,{limit:new Date(c)},s,u)})}},a.Date.prototype.min=a.compare(\"min\",function(t,e){return t>=e}),a.Date.prototype.max=a.compare(\"max\",function(t,e){return t<=e}),a.Date.prototype.greater=a.compare(\"greater\",function(t,e){return t>e}),a.Date.prototype.less=a.compare(\"less\",function(t,e){return t<e}),t.exports=new a.Date},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function i(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(0),s=r(31),a=r(2),u=r(6),c=r(4),f={};f.Object=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._type=\"object\",r._inner.children=null,r._inner.renames=[],r._inner.dependencies=[],r._inner.patterns=[],r}return i(e,t),e.prototype._init=function(){return arguments.length?this.keys.apply(this,arguments):this},e.prototype._base=function(t,e,r){var i=t,s=[],a=function(){return{value:i,errors:s.length?s:null}};\"string\"==typeof t&&r.convert&&(t=f.safeParse(t));var c=this._flags.func?\"function\":\"object\";if(!t||(void 0===t?\"undefined\":n(t))!==c||Array.isArray(t))return s.push(this.createError(c+\".base\",null,e,r)),a();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return i=t,a();if(i===t){\"object\"===c?i=Object.create(Object.getPrototypeOf(t)):(i=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r)}).prototype=o.clone(t.prototype);for(var h=Object.keys(t),l=0;l<h.length;++l)i[h[l]]=t[h[l]]}else i=t;for(var p={},d=0;d<this._inner.renames.length;++d){var y=this._inner.renames[d];if(y.isRegExp){for(var m=Object.keys(i),g=[],b=0;b<m.length;++b)y.from.test(m[b])&&g.push(m[b]);var v=g.every(function(t){return void 0===i[t]});if(y.options.ignoreUndefined&&v)continue;if(!y.options.multiple&&p[y.to]&&(s.push(this.createError(\"object.rename.regex.multiple\",{from:g,to:y.to},e,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(i,y.to)&&!y.options.override&&!p[y.to]&&(s.push(this.createError(\"object.rename.regex.override\",{from:g,to:y.to},e,r)),r.abortEarly))return a();if(v?delete i[y.to]:i[y.to]=i[g[g.length-1]],p[y.to]=!0,!y.options.alias)for(var _=0;_<g.length;++_)delete i[g[_]]}else{if(y.options.ignoreUndefined&&void 0===i[y.from])continue;if(!y.options.multiple&&p[y.to]&&(s.push(this.createError(\"object.rename.multiple\",{from:y.from,to:y.to},e,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(i,y.to)&&!y.options.override&&!p[y.to]&&(s.push(this.createError(\"object.rename.override\",{from:y.from,to:y.to},e,r)),r.abortEarly))return a();void 0===i[y.from]?delete i[y.to]:i[y.to]=i[y.from],p[y.to]=!0,y.options.alias||delete i[y.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return a();var w=new Set(Object.keys(i));if(this._inner.children){for(var S=[],k=0;k<this._inner.children.length;++k){var E=this._inner.children[k],A=E.key,x=i[A];w.delete(A);var T={key:A,path:e.path.concat(A),parent:i,reference:e.reference},B=E.schema._validate(x,T,r);if(B.errors){if(s.push(this.createError(\"object.child\",{key:A,child:E.schema._getLabel(A),reason:B.errors},T,r)),r.abortEarly)return a()}else E.schema._flags.strip||void 0===B.value&&B.value!==x?(S.push(A),i[A]=B.finalValue):void 0!==B.value&&(i[A]=B.value)}for(var I=0;I<S.length;++I)delete i[S[I]]}if(w.size&&this._inner.patterns.length){var C=!0,M=!1,P=void 0;try{for(var O,R=w[Symbol.iterator]();!(C=(O=R.next()).done);C=!0)for(var j=O.value,N={key:j,path:e.path.concat(j),parent:i,reference:e.reference},L=i[j],K=0;K<this._inner.patterns.length;++K){var D=this._inner.patterns[K];if(D.regex?D.regex.test(j):!D.schema.validate(j).error){w.delete(j);var U=D.rule._validate(L,N,r);if(U.errors&&(s.push(this.createError(\"object.child\",{key:j,child:D.rule._getLabel(j),reason:U.errors},N,r)),r.abortEarly))return a();i[j]=U.value}}}catch(rt){M=!0,P=rt}finally{try{!C&&R.return&&R.return()}finally{if(M)throw P}}}if(w.size&&(this._inner.children||this._inner.patterns.length)){if(r.stripUnknown&&!0!==this._flags.allowUnknown||r.skipFunctions){var F=!!r.stripUnknown&&(!0===r.stripUnknown||!!r.stripUnknown.objects),q=!0,H=!1,z=void 0;try{for(var V,G=w[Symbol.iterator]();!(q=(V=G.next()).done);q=!0){var W=V.value;F?(delete i[W],w.delete(W)):\"function\"==typeof i[W]&&w.delete(W)}}catch(rt){H=!0,z=rt}finally{try{!q&&G.return&&G.return()}finally{if(H)throw z}}}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!r.allowUnknown){var $=!0,Y=!1,J=void 0;try{for(var Z,X=w[Symbol.iterator]();!($=(Z=X.next()).done);$=!0){var Q=Z.value;s.push(this.createError(\"object.allowUnknown\",{child:Q},{key:Q,path:e.path.concat(Q)},r,{}))}}catch(rt){Y=!0,J=rt}finally{try{!$&&X.return&&X.return()}finally{if(Y)throw J}}}}for(var tt=0;tt<this._inner.dependencies.length;++tt){var et=this._inner.dependencies[tt],rt=f[et.type].call(this,null!==et.key&&i[et.key],et.peers,i,{key:et.key,path:null===et.key?e.path:e.path.concat(et.key)},r);if(rt instanceof u.Err&&(s.push(rt),r.abortEarly))return a()}return a()},e.prototype.keys=function(t){o.assert(null===t||void 0===t||\"object\"===(void 0===t?\"undefined\":n(t)),\"Object schema must be a valid object\"),o.assert(!(t&&t instanceof a),\"Object schema cannot be a joi schema\");var e=this.clone();if(!t)return e._inner.children=null,e;var r=Object.keys(t);if(!r.length)return e._inner.children=[],e;var i=new s;if(e._inner.children)for(var u=0;u<e._inner.children.length;++u){var f=e._inner.children[u];r.includes(f.key)||i.add(f,{after:f._refs,group:f.key})}for(var h=0;h<r.length;++h){var l=r[h],p=t[l];try{var d=c.schema(this._currentJoi,p);i.add({key:l,schema:d},{after:d._refs,group:l})}catch(t){throw t.hasOwnProperty(\"path\")?t.path=l+\".\"+t.path:t.path=l,t}}return e._inner.children=i.nodes,e},e.prototype.append=function(t){return null===t||void 0===t||0===Object.keys(t).length?this:this.keys(t)},e.prototype.unknown=function(t){var e=!1!==t;if(this._flags.allowUnknown===e)return this;var r=this.clone();return r._flags.allowUnknown=e,r},e.prototype.length=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,\"limit must be a positive integer\"),this._test(\"length\",t,function(e,r,n){return Object.keys(e).length===t?e:this.createError(\"object.length\",{limit:t},r,n)})},e.prototype.min=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,\"limit must be a positive integer\"),this._test(\"min\",t,function(e,r,n){return Object.keys(e).length>=t?e:this.createError(\"object.min\",{limit:t},r,n)})},e.prototype.max=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,\"limit must be a positive integer\"),this._test(\"max\",t,function(e,r,n){return Object.keys(e).length<=t?e:this.createError(\"object.max\",{limit:t},r,n)})},e.prototype.pattern=function(t,e){var r=t instanceof RegExp;o.assert(r||t instanceof a,\"pattern must be a regex or schema\"),o.assert(void 0!==e,\"Invalid rule\"),r&&(t=new RegExp(t.source,t.ignoreCase?\"i\":void 0));try{e=c.schema(this._currentJoi,e)}catch(t){throw t.hasOwnProperty(\"path\")&&(t.message=t.message+\"(\"+t.path+\")\"),t}var n=this.clone();return r?n._inner.patterns.push({regex:t,rule:e}):n._inner.patterns.push({schema:t,rule:e}),n},e.prototype.schema=function(){return this._test(\"schema\",null,function(t,e,r){return t instanceof a?t:this.createError(\"object.schema\",null,e,r)})},e.prototype.with=function(t,e){return o.assert(2===arguments.length,\"Invalid number of arguments, expected 2.\"),this._dependency(\"with\",t,e)},e.prototype.without=function(t,e){return o.assert(2===arguments.length,\"Invalid number of arguments, expected 2.\"),this._dependency(\"without\",t,e)},e.prototype.xor=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency(\"xor\",null,e)},e.prototype.or=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency(\"or\",null,e)},e.prototype.and=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency(\"and\",null,e)},e.prototype.nand=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency(\"nand\",null,e)},e.prototype.requiredKeys=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this.applyFunctionToChildren(e,\"required\")},e.prototype.optionalKeys=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this.applyFunctionToChildren(e,\"optional\")},e.prototype.forbiddenKeys=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this.applyFunctionToChildren(e,\"forbidden\")},e.prototype.rename=function(t,e,r){o.assert(\"string\"==typeof t||t instanceof RegExp,\"Rename missing the from argument\"),o.assert(\"string\"==typeof e,\"Rename missing the to argument\"),o.assert(e!==t,\"Cannot rename key to same name:\",t);for(var n=0;n<this._inner.renames.length;++n)o.assert(this._inner.renames[n].from!==t,\"Cannot rename the same key multiple times\");var i=this.clone();return i._inner.renames.push({from:t,to:e,options:o.applyToDefaults(f.renameDefaults,r||{}),isRegExp:t instanceof RegExp}),i},e.prototype.applyFunctionToChildren=function(t,e,r,n){t=[].concat(t),o.assert(t.length>0,\"expected at least one children\");var i=f.groupChildren(t),s=void 0;if(\"\"in i?(s=this[e].apply(this,r),delete i[\"\"]):s=this.clone(),s._inner.children){n=n?n+\".\":\"\";for(var a=0;a<s._inner.children.length;++a){var u=s._inner.children[a],c=i[u.key];c&&(s._inner.children[a]={key:u.key,_refs:u._refs,schema:u.schema.applyFunctionToChildren(c,e,r,n+u.key)},delete i[u.key])}}var h=Object.keys(i);return o.assert(0===h.length,\"unknown key(s)\",h.join(\", \")),s},e.prototype._dependency=function(t,e,r){r=[].concat(r);for(var n=0;n<r.length;++n)o.assert(\"string\"==typeof r[n],t,\"peers must be a string or array of strings\");var i=this.clone();return i._inner.dependencies.push({type:t,key:e,peers:r}),i},e.prototype.describe=function(t){var e=a.prototype.describe.call(this);if(e.rules)for(var r=0;r<e.rules.length;++r){var i=e.rules[r];i.arg&&\"object\"===n(i.arg)&&i.arg.schema&&i.arg.ref&&(i.arg={schema:i.arg.schema.describe(),ref:i.arg.ref.toString()})}if(this._inner.children&&!t){e.children={};for(var s=0;s<this._inner.children.length;++s){var u=this._inner.children[s];e.children[u.key]=u.schema.describe()}}if(this._inner.dependencies.length&&(e.dependencies=o.clone(this._inner.dependencies)),this._inner.patterns.length){e.patterns=[];for(var c=0;c<this._inner.patterns.length;++c){var f=this._inner.patterns[c];f.regex?e.patterns.push({regex:f.regex.toString(),rule:f.rule.describe()}):e.patterns.push({schema:f.schema.describe(),rule:f.rule.describe()})}}return this._inner.renames.length>0&&(e.renames=o.clone(this._inner.renames)),e},e.prototype.assert=function(t,e,r){t=c.ref(t),o.assert(t.isContext||t.depth>1,\"Cannot use assertions for root level references - use direct key rules instead\"),r=r||\"pass the assertion test\";try{e=c.schema(this._currentJoi,e)}catch(t){throw t.hasOwnProperty(\"path\")&&(t.message=t.message+\"(\"+t.path+\")\"),t}var n=t.path[t.path.length-1],i=t.path.join(\".\");return this._test(\"assert\",{schema:e,ref:t},function(s,a,u){if(!e._validate(t(s),null,u,s).errors)return s;var c=o.merge({},a);return c.key=n,c.path=t.path,this.createError(\"object.assert\",{ref:i,message:r},c,u)})},e.prototype.type=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.name;o.assert(\"function\"==typeof t,\"type must be a constructor function\");var r={name:e,ctor:t};return this._test(\"type\",r,function(e,n,i){return e instanceof t?e:this.createError(\"object.type\",{type:r.name},n,i)})},e}(a),f.safeParse=function(t){try{return JSON.parse(t)}catch(t){}return t},f.renameDefaults={alias:!1,multiple:!1,override:!1},f.groupChildren=function(t){t.sort();for(var e={},r=0;r<t.length;++r){var n=t[r];o.assert(\"string\"==typeof n,\"children must be strings\");var i=n.split(\".\")[0];(e[i]=e[i]||[]).push(n.substring(i.length+1))}return e},f.keysToLabels=function(t,e){var r=t._inner.children;if(!r)return e;var n=function(t){var e=r.find(function(e){return e.key===t});return e?e.schema._getLabel(t):t};return Array.isArray(e)?e.map(n):n(e)},f.with=function(t,e,r,n,i){if(void 0===t)return t;for(var o=0;o<e.length;++o){var s=e[o];if(!Object.prototype.hasOwnProperty.call(r,s)||void 0===r[s])return this.createError(\"object.with\",{main:n.key,mainWithLabel:f.keysToLabels(this,n.key),peer:s,peerWithLabel:f.keysToLabels(this,s)},n,i)}return t},f.without=function(t,e,r,n,i){if(void 0===t)return t;for(var o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return this.createError(\"object.without\",{main:n.key,mainWithLabel:f.keysToLabels(this,n.key),peer:s,peerWithLabel:f.keysToLabels(this,s)},n,i)}return t},f.xor=function(t,e,r,n,i){for(var o=[],s=0;s<e.length;++s){var a=e[s];Object.prototype.hasOwnProperty.call(r,a)&&void 0!==r[a]&&o.push(a)}if(1===o.length)return t;var u={peers:e,peersWithLabels:f.keysToLabels(this,e)};return 0===o.length?this.createError(\"object.missing\",u,n,i):this.createError(\"object.xor\",u,n,i)},f.or=function(t,e,r,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return t}return this.createError(\"object.missing\",{peers:e,peersWithLabels:f.keysToLabels(this,e)},n,i)},f.and=function(t,e,r,n,i){for(var o=[],s=[],a=e.length,u=0;u<a;++u){var c=e[u];Object.prototype.hasOwnProperty.call(r,c)&&void 0!==r[c]?s.push(c):o.push(c)}if(!(o.length===a||s.length===a))return this.createError(\"object.and\",{present:s,presentWithLabels:f.keysToLabels(this,s),missing:o,missingWithLabels:f.keysToLabels(this,o)},n,i)},f.nand=function(t,e,r,n,i){for(var s=[],a=0;a<e.length;++a){var u=e[a];Object.prototype.hasOwnProperty.call(r,u)&&void 0!==r[u]&&s.push(u)}var c=o.clone(e),h=c.splice(0,1)[0];return s.length===e.length?this.createError(\"object.nand\",{main:h,mainWithLabel:f.keysToLabels(this,h),peers:c,peersWithLabels:f.keysToLabels(this,c)},n,i):null},t.exports=new f.Object},function(t,e,r){\"use strict\";var n={rfc3986:{},generate:function(){var t=\"|\";n.rfc3986.ipv4Cidr=\"[0-9]|[1-2][0-9]|3[0-2]\",n.rfc3986.ipv6Cidr=\"(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])\";var e=\"a-zA-Z0-9-\\\\._~\",r=\"!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=\",i=e+\"%0-9A-Fa-f\"+r+\":@\",o=\"[\"+i+\"]\",s=\"(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\";n.rfc3986.IPv4address=\"(?:\"+s+\"\\\\.){3}\"+s;var a=\"[0-9A-Fa-f]{1,4}\",u=\"(?:\"+a+\":\"+a+\"|\"+n.rfc3986.IPv4address+\")\",c=\"(?:\"+a+\":){6}\"+u,f=\"::(?:\"+a+\":){5}\"+u,h=\"(?:\"+a+\")?::(?:\"+a+\":){4}\"+u,l=\"(?:(?:\"+a+\":){0,1}\"+a+\")?::(?:\"+a+\":){3}\"+u,p=\"(?:(?:\"+a+\":){0,2}\"+a+\")?::(?:\"+a+\":){2}\"+u,d=\"(?:(?:\"+a+\":){0,3}\"+a+\")?::\"+a+\":\"+u,y=\"(?:(?:\"+a+\":){0,4}\"+a+\")?::\"+u;n.rfc3986.IPv6address=\"(?:\"+c+t+f+t+h+t+l+t+p+t+d+t+y+t+\"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}\"+t+\"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)\",n.rfc3986.IPvFuture=\"v[0-9A-Fa-f]+\\\\.[\"+e+r+\":]+\",n.rfc3986.scheme=\"[a-zA-Z][a-zA-Z0-9+-\\\\.]*\";var m=\"(?:[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:]*@)?\"+(\"(?:\"+(\"\\\\[(?:\"+n.rfc3986.IPv6address+t+n.rfc3986.IPvFuture+\")\\\\]\")+t+n.rfc3986.IPv4address+t+\"[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=]{0,255})\")+\"(?::[0-9]*)?\",g=o+\"+\",b=\"(?:\\\\/[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]*)*\",v=\"\\\\/(?:\"+g+b+\")?\";n.rfc3986.hierPart=\"(?:(?:\\\\/\\\\/\"+m+b+\")\"+t+v+t+\"[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]+(?:\\\\/[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]*)*)\",n.rfc3986.relativeRef=\"(?:(?:\\\\/\\\\/\"+m+b+\")\"+t+v+t+\"[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=@]+(?:\\\\/[a-zA-Z0-9-\\\\._~%0-9A-Fa-f!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=:@]*)*\"+t+\")\",n.rfc3986.query=\"[\"+i+\"\\\\/\\\\?]*(?=#|$)\",n.rfc3986.fragment=\"[\"+i+\"\\\\/\\\\?]*\"}};n.generate(),t.exports=n.rfc3986},function(t,e){},function(t,e,r){(function(t,n){var i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(\" \")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,function(t){if(\"%%\"===t)return\"%\";if(r>=o)return t;switch(t){case\"%s\":return String(n[r++]);case\"%d\":return Number(n[r++]);case\"%j\":try{return JSON.stringify(n[r++])}catch(t){return\"[Circular]\"}default:return t}}),u=n[r];r<o;u=n[++r])y(u)||!_(u)?s+=\" \"+u:s+=\" \"+a(u);return s},e.deprecate=function(r,i){if(b(t.process))return function(){return e.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}};var o,s={};function a(t,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),f(n,t,n.depth)}function u(t,e){var r=a.styles[e];return r?\"\u001b[\"+a.colors[r][0]+\"m\"+t+\"\u001b[\"+a.colors[r][1]+\"m\":t}function c(t,e){return t}function f(t,r,n){if(t.customInspect&&r&&k(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return g(i)||(i=f(t,i,n)),i}var o=function(t,e){if(b(e))return t.stylize(\"undefined\",\"undefined\");if(g(e)){var r=\"'\"+JSON.stringify(e).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return t.stylize(r,\"string\")}if(m(e))return t.stylize(\"\"+e,\"number\");if(d(e))return t.stylize(\"\"+e,\"boolean\");if(y(e))return t.stylize(\"null\",\"null\")}(t,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),S(r)&&(s.indexOf(\"message\")>=0||s.indexOf(\"description\")>=0))return h(r);if(0===s.length){if(k(r)){var u=r.name?\": \"+r.name:\"\";return t.stylize(\"[Function\"+u+\"]\",\"special\")}if(v(r))return t.stylize(RegExp.prototype.toString.call(r),\"regexp\");if(w(r))return t.stylize(Date.prototype.toString.call(r),\"date\");if(S(r))return h(r)}var c,_=\"\",E=!1,A=[\"{\",\"}\"];(p(r)&&(E=!0,A=[\"[\",\"]\"]),k(r))&&(_=\" [Function\"+(r.name?\": \"+r.name:\"\")+\"]\");return v(r)&&(_=\" \"+RegExp.prototype.toString.call(r)),w(r)&&(_=\" \"+Date.prototype.toUTCString.call(r)),S(r)&&(_=\" \"+h(r)),0!==s.length||E&&0!=r.length?n<0?v(r)?t.stylize(RegExp.prototype.toString.call(r),\"regexp\"):t.stylize(\"[Object]\",\"special\"):(t.seen.push(r),c=E?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)T(e,String(s))?o.push(l(t,e,r,n,String(s),!0)):o.push(\"\");return i.forEach(function(i){i.match(/^\\d+$/)||o.push(l(t,e,r,n,i,!0))}),o}(t,r,n,a,s):s.map(function(e){return l(t,r,n,a,e,E)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf(\"\\n\")>=0&&0,t+e.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60)return r[0]+(\"\"===e?\"\":e+\"\\n \")+\" \"+t.join(\",\\n  \")+\" \"+r[1];return r[0]+e+\" \"+t.join(\", \")+\" \"+r[1]}(c,_,A)):A[0]+_+A[1]}function h(t){return\"[\"+Error.prototype.toString.call(t)+\"]\"}function l(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize(\"[Getter/Setter]\",\"special\"):t.stylize(\"[Getter]\",\"special\"):u.set&&(a=t.stylize(\"[Setter]\",\"special\")),T(n,i)||(s=\"[\"+i+\"]\"),a||(t.seen.indexOf(u.value)<0?(a=y(r)?f(t,u.value,null):f(t,u.value,r-1)).indexOf(\"\\n\")>-1&&(a=o?a.split(\"\\n\").map(function(t){return\"  \"+t}).join(\"\\n\").substr(2):\"\\n\"+a.split(\"\\n\").map(function(t){return\"   \"+t}).join(\"\\n\")):a=t.stylize(\"[Circular]\",\"special\")),b(s)){if(o&&i.match(/^\\d+$/))return a;(s=JSON.stringify(\"\"+i)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,\"name\")):(s=s.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),s=t.stylize(s,\"string\"))}return s+\": \"+a}function p(t){return Array.isArray(t)}function d(t){return\"boolean\"==typeof t}function y(t){return null===t}function m(t){return\"number\"==typeof t}function g(t){return\"string\"==typeof t}function b(t){return void 0===t}function v(t){return _(t)&&\"[object RegExp]\"===E(t)}function _(t){return\"object\"==typeof t&&null!==t}function w(t){return _(t)&&\"[object Date]\"===E(t)}function S(t){return _(t)&&(\"[object Error]\"===E(t)||t instanceof Error)}function k(t){return\"function\"==typeof t}function E(t){return Object.prototype.toString.call(t)}function A(t){return t<10?\"0\"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(b(o)&&(o=n.env.NODE_DEBUG||\"\"),t=t.toUpperCase(),!s[t])if(new RegExp(\"\\\\b\"+t+\"\\\\b\",\"i\").test(o)){var r=n.pid;s[t]=function(){var n=e.format.apply(e,arguments);console.error(\"%s %d: %s\",t,r,n)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},e.isArray=p,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=g,e.isSymbol=function(t){return\"symbol\"==typeof t},e.isUndefined=b,e.isRegExp=v,e.isObject=_,e.isDate=w,e.isError=S,e.isFunction=k,e.isPrimitive=function(t){return null===t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||\"symbol\"==typeof t||void 0===t},e.isBuffer=r(40);var x=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log(\"%s - %s\",function(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(\":\");return[t.getDate(),x[t.getMonth()],e].join(\" \")}(),e.format.apply(e,arguments))},e.inherits=r(39),e._extend=function(t,e){if(!e||!_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(e,r(5),r(7))},function(t,e,r){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction n(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function i(t){return e.Buffer&&\"function\"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=r(16),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,u=\"foo\"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(t){return!i(t)&&(\"function\"==typeof e.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=g,l=/\\s*function\\s+([^\\(\\s]*)\\s*/;function p(t){if(o.isFunction(t)){if(u)return t.name;var e=t.toString().match(l);return e&&e[1]}}function d(t,e){return\"string\"==typeof t?t.length<e?t:t.slice(0,e):t}function y(t){if(u||!o.isFunction(t))return o.inspect(t);var e=p(t);return\"[Function\"+(e?\": \"+e:\"\")+\"]\"}function m(t,e,r,n,i){throw new h.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function g(t,e){t||m(t,!0,e,\"==\",h.ok)}function b(t,e,r,s){if(t===e)return!0;if(i(t)&&i(e))return 0===n(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&\"object\"==typeof t||null!==e&&\"object\"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var u=(s=s||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),function(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=v(t),s=v(e);if(i&&!s||!i&&s)return!1;if(i)return t=a.call(t),e=a.call(e),b(t,e,r);var u,c,f=S(t),h=S(e);if(f.length!==h.length)return!1;for(f.sort(),h.sort(),c=f.length-1;c>=0;c--)if(f[c]!==h[c])return!1;for(c=f.length-1;c>=0;c--)if(u=f[c],!b(t[u],e[u],r,n))return!1;return!0}(t,e,r,s))}return r?t===e:t==e}function v(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}function _(t,e){if(!t||!e)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function w(t,e,r,n){var i;if(\"function\"!=typeof e)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?\" (\"+r.name+\").\":\".\")+(n?\" \"+n:\".\"),t&&!i&&m(i,r,\"Missing expected exception\"+n);var s=\"string\"==typeof n,a=!t&&o.isError(i),u=!t&&i&&!r;if((a&&s&&_(i,r)||u)&&m(i,r,\"Got unwanted exception\"+n),t&&i&&r&&!_(i,r)||!t&&i)throw i}h.AssertionError=function(t){this.name=\"AssertionError\",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return d(y(t.actual),128)+\" \"+t.operator+\" \"+d(y(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf(\"\\n\"+i);if(o>=0){var s=n.indexOf(\"\\n\",o+1);n=n.substring(s+1)}this.stack=n}}},o.inherits(h.AssertionError,Error),h.fail=m,h.ok=g,h.equal=function(t,e,r){t!=e&&m(t,e,r,\"==\",h.equal)},h.notEqual=function(t,e,r){t==e&&m(t,e,r,\"!=\",h.notEqual)},h.deepEqual=function(t,e,r){b(t,e,!1)||m(t,e,r,\"deepEqual\",h.deepEqual)},h.deepStrictEqual=function(t,e,r){b(t,e,!0)||m(t,e,r,\"deepStrictEqual\",h.deepStrictEqual)},h.notDeepEqual=function(t,e,r){b(t,e,!1)&&m(t,e,r,\"notDeepEqual\",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,r,n){b(e,r,!0)&&m(e,r,n,\"notDeepStrictEqual\",t)},h.strictEqual=function(t,e,r){t!==e&&m(t,e,r,\"===\",h.strictEqual)},h.notStrictEqual=function(t,e,r){t===e&&m(t,e,r,\"!==\",h.notStrictEqual)},h.throws=function(t,e,r){w(!0,t,e,r)},h.doesNotThrow=function(t,e,r){w(!1,t,e,r)},h.ifError=function(t){if(t)throw t};var S=Object.keys||function(t){var e=[];for(var r in t)s.call(t,r)&&e.push(r);return e}}).call(e,r(5))},function(t,e,r){\"use strict\";(function(t){var r={};e.escapeJavaScript=function(t){if(!t)return\"\";for(var e=\"\",n=0;n<t.length;++n){var i=t.charCodeAt(n);r.isSafe(i)?e+=t[n]:e+=r.escapeJavaScriptChar(i)}return e},e.escapeHtml=function(t){if(!t)return\"\";for(var e=\"\",n=0;n<t.length;++n){var i=t.charCodeAt(n);r.isSafe(i)?e+=t[n]:e+=r.escapeHtmlChar(i)}return e},e.escapeJson=function(t){if(!t)return\"\";var e=void 0;return t.replace(/[<>&\\u2028\\u2029]/g,function(t){return 60===(e=t.charCodeAt(0))?\"\\\\u003c\":62===e?\"\\\\u003e\":38===e?\"\\\\u0026\":8232===e?\"\\\\u2028\":\"\\\\u2029\"})},r.escapeJavaScriptChar=function(e){if(e>=256)return\"\\\\u\"+r.padLeft(\"\"+e,4);var n=t.from(String.fromCharCode(e),\"ascii\").toString(\"hex\");return\"\\\\x\"+r.padLeft(n,2)},r.escapeHtmlChar=function(e){var n=r.namedHtml[e];if(void 0!==n)return n;if(e>=256)return\"&#\"+e+\";\";var i=t.from(String.fromCharCode(e),\"ascii\").toString(\"hex\");return\"&#x\"+r.padLeft(i,2)+\";\"},r.padLeft=function(t,e){for(;t.length<e;)t=\"0\"+t;return t},r.isSafe=function(t){return void 0!==r.safeCharCodes[t]},r.namedHtml={38:\"&amp;\",60:\"&lt;\",62:\"&gt;\",34:\"&quot;\",160:\"&nbsp;\",162:\"&cent;\",163:\"&pound;\",164:\"&curren;\",169:\"&copy;\",174:\"&reg;\"},r.safeCharCodes=function(){for(var t={},e=32;e<123;++e)(e>=97||e>=65&&e<=90||e>=48&&e<=57||32===e||46===e||44===e||45===e||58===e||95===e)&&(t[e]=null);return t}()}).call(e,r(3).Buffer)},function(t,e,r){\"use strict\";(function(t){var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=r(38),o={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};o.specials=function(){var t=new Array(256);t.fill(!1);for(var e=0;e<'()<>[]:;@\\\\,.\"'.length;++e)t['()<>[]:;@\\\\,.\"'.codePointAt(e)]=!0;return function(e){return t[e]}}(),o.c0Controls=function(){var t=new Array(256);t.fill(!1);for(var e=0;e<33;++e)t[e]=!0;return function(e){return t[e]}}(),o.c1Controls=function(){var t=new Array(256);t.fill(!1);for(var e=127;e<160;++e)t[e]=!0;return function(e){return t[e]}}(),o.regex={ipV4:/\\b(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipV6:/^[a-fA-F\\d]{0,4}$/},o.normalizeSupportsNul=\"\\0\"===\"\\0\".normalize(\"NFC\"),o.nulNormalize=function(t){return t.split(\"\\0\").map(function(t){return t.normalize(\"NFC\")}).join(\"\\0\")},o.normalize=function(t){return!o.normalizeSupportsNul&&t.indexOf(\"\\0\")>=0?o.nulNormalize(t):t.normalize(\"NFC\")},o.checkIpV6=function(t){return t.every(function(t){return o.regex.ipV6.test(t)})},o.validDomain=function(t,e){return e.tldBlacklist?Array.isArray(e.tldBlacklist)?-1===o.indexOf.call(e.tldBlacklist,t):!o.hasOwn.call(e.tldBlacklist,t):Array.isArray(e.tldWhitelist)?-1!==o.indexOf.call(e.tldWhitelist,t):o.hasOwn.call(e.tldWhitelist,t)},e.validate=o.validate=function(e,r,s){r=r||{},e=o.normalize(e),\"function\"==typeof r&&(s=r,r={}),\"function\"!=typeof s&&(s=null);var a=void 0,u=void 0;if(\"number\"==typeof r.errorLevel?(a=!0,u=r.errorLevel):(a=!!r.errorLevel,u=o.diagnoses.valid),r.tldWhitelist)if(\"string\"==typeof r.tldWhitelist)r.tldWhitelist=[r.tldWhitelist];else if(\"object\"!==n(r.tldWhitelist))throw new TypeError(\"expected array or object tldWhitelist\");if(r.tldBlacklist)if(\"string\"==typeof r.tldBlacklist)r.tldBlacklist=[r.tldBlacklist];else if(\"object\"!==n(r.tldBlacklist))throw new TypeError(\"expected array or object tldBlacklist\");if(r.minDomainAtoms&&(r.minDomainAtoms!==(0|+r.minDomainAtoms)||r.minDomainAtoms<0))throw new TypeError(\"expected positive integer minDomainAtoms\");var c=o.diagnoses.valid,f=function(t){t>c&&(c=t)};!(void 0===r.allowUnicode||!!r.allowUnicode)&&/[^\\x00-\\x7f]/.test(e)&&f(o.diagnoses.undesiredNonAscii);for(var h={now:o.components.localpart,prev:o.components.localpart,stack:[o.components.localpart]},l=\"\",p={local:\"\",domain:\"\"},d={locals:[\"\"],domains:[\"\"]},y=0,m=0,g=0,b=void 0,v=!1,_=!1,w=e.length,S=void 0,k=0;k<w;k+=S.length){switch(S=String.fromCodePoint(e.codePointAt(k)),h.now){case o.components.localpart:switch(S){case\"(\":0===m?f(0===y?o.diagnoses.cfwsComment:o.diagnoses.deprecatedComment):(f(o.diagnoses.cfwsComment),_=!0),h.stack.push(h.now),h.now=o.components.contextComment;break;case\".\":0===m?f(0===y?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):(_&&f(o.diagnoses.deprecatedLocalPart),_=!1,m=0,++y,p.local+=S,d.locals[y]=\"\");break;case'\"':0===m?(f(0===y?o.diagnoses.rfc5321QuotedString:o.diagnoses.deprecatedLocalPart),p.local+=S,d.locals[y]+=S,m+=t.byteLength(S,\"utf8\"),_=!0,h.stack.push(h.now),h.now=o.components.contextQuotedString):f(o.diagnoses.errExpectingATEXT);break;case\"\\r\":if(w===++k||\"\\n\"!==e[k]){f(o.diagnoses.errCRNoLF);break}case\" \":case\"\\t\":0===m?f(0===y?o.diagnoses.cfwsFWS:o.diagnoses.deprecatedFWS):_=!0,h.stack.push(h.now),h.now=o.components.contextFWS,l=S;break;case\"@\":if(1!==h.stack.length)throw new Error(\"unexpected item on context stack\");0===p.local.length?f(o.diagnoses.errNoLocalPart):0===m?f(o.diagnoses.errDotEnd):t.byteLength(p.local,\"utf8\")>64?f(o.diagnoses.rfc5322LocalTooLong):h.prev!==o.components.contextComment&&h.prev!==o.components.contextFWS||f(o.diagnoses.deprecatedCFWSNearAt),h.now=o.components.domain,h.stack[0]=o.components.domain,y=0,m=0,_=!1;break;default:if(_)switch(h.prev){case o.components.contextComment:case o.components.contextFWS:f(o.diagnoses.errATEXTAfterCFWS);break;case o.components.contextQuotedString:f(o.diagnoses.errATEXTAfterQS);break;default:throw new Error(\"more atext found where none is allowed, but unrecognized prev context: \"+h.prev)}else h.prev=h.now,b=S.codePointAt(0),(o.specials(b)||o.c0Controls(b)||o.c1Controls(b))&&f(o.diagnoses.errExpectingATEXT),p.local+=S,d.locals[y]+=S,m+=t.byteLength(S,\"utf8\")}break;case o.components.domain:switch(S){case\"(\":0===m?f(0===y?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedComment):(_=!0,f(o.diagnoses.cfwsComment)),h.stack.push(h.now),h.now=o.components.contextComment;break;case\".\":var E=i.encode(d.domains[y]).length;0===m?f(0===y?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):v?f(o.diagnoses.errDomainHyphenEnd):E>63&&f(o.diagnoses.rfc5322LabelTooLong),_=!1,m=0,++y,d.domains[y]=\"\",p.domain+=S;break;case\"[\":0===p.domain.length?(_=!0,m+=t.byteLength(S,\"utf8\"),h.stack.push(h.now),h.now=o.components.literal,p.domain+=S,d.domains[y]+=S,p.literal=\"\"):f(o.diagnoses.errExpectingATEXT);break;case\"\\r\":if(w===++k||\"\\n\"!==e[k]){f(o.diagnoses.errCRNoLF);break}case\" \":case\"\\t\":0===m?f(0===y?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedFWS):(f(o.diagnoses.cfwsFWS),_=!0),h.stack.push(h.now),h.now=o.components.contextFWS,l=S;break;default:if(_)switch(h.prev){case o.components.contextComment:case o.components.contextFWS:f(o.diagnoses.errATEXTAfterCFWS);break;case o.components.literal:f(o.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error(\"more atext found where none is allowed, but unrecognized prev context: \"+h.prev)}b=S.codePointAt(0),v=!1,o.specials(b)||o.c0Controls(b)||o.c1Controls(b)?f(o.diagnoses.errExpectingATEXT):\"-\"===S?(0===m&&f(o.diagnoses.errDomainHyphenStart),v=!0):(b<48||b>122&&b<192||b>57&&b<65||b>90&&b<97)&&f(o.diagnoses.rfc5322Domain),p.domain+=S,d.domains[y]+=S,m+=t.byteLength(S,\"utf8\")}break;case o.components.literal:switch(S){case\"]\":if(c<o.categories.deprecated){var A=-1,x=p.literal,T=o.regex.ipV4.exec(x);if(T&&0!==(A=T.index)&&(x=x.slice(0,A)+\"0:0\"),0===A)f(o.diagnoses.rfc5321AddressLiteral);else if(\"ipv6:\"!==x.slice(0,5).toLowerCase())f(o.diagnoses.rfc5322DomainLiteral);else{var B=x.slice(5),I=o.maxIPv6Groups,C=B.split(\":\");~(A=B.indexOf(\"::\"))?A!==B.lastIndexOf(\"::\")?f(o.diagnoses.rfc5322IPv62x2xColon):(0!==A&&A!==B.length-2||++I,C.length>I?f(o.diagnoses.rfc5322IPv6MaxGroups):C.length===I&&f(o.diagnoses.deprecatedIPv6)):C.length!==I&&f(o.diagnoses.rfc5322IPv6GroupCount),\":\"===B[0]&&\":\"!==B[1]?f(o.diagnoses.rfc5322IPv6ColonStart):\":\"===B[B.length-1]&&\":\"!==B[B.length-2]?f(o.diagnoses.rfc5322IPv6ColonEnd):o.checkIpV6(C)?f(o.diagnoses.rfc5321AddressLiteral):f(o.diagnoses.rfc5322IPv6BadCharacter)}}else f(o.diagnoses.rfc5322DomainLiteral);p.domain+=S,d.domains[y]+=S,m+=t.byteLength(S,\"utf8\"),h.prev=h.now,h.now=h.stack.pop();break;case\"\\\\\":f(o.diagnoses.rfc5322DomainLiteralOBSDText),h.stack.push(h.now),h.now=o.components.contextQuotedPair;break;case\"\\r\":if(w===++k||\"\\n\"!==e[k]){f(o.diagnoses.errCRNoLF);break}case\" \":case\"\\t\":f(o.diagnoses.cfwsFWS),h.stack.push(h.now),h.now=o.components.contextFWS,l=S;break;default:if(127!==(b=S.codePointAt(0))&&o.c1Controls(b)||0===b||\"[\"===S){f(o.diagnoses.errExpectingDTEXT);break}(o.c0Controls(b)||127===b)&&f(o.diagnoses.rfc5322DomainLiteralOBSDText),p.literal+=S,p.domain+=S,d.domains[y]+=S,m+=t.byteLength(S,\"utf8\")}break;case o.components.contextQuotedString:switch(S){case\"\\\\\":h.stack.push(h.now),h.now=o.components.contextQuotedPair;break;case\"\\r\":if(w===++k||\"\\n\"!==e[k]){f(o.diagnoses.errCRNoLF);break}case\"\\t\":p.local+=\" \",d.locals[y]+=\" \",m+=t.byteLength(S,\"utf8\"),f(o.diagnoses.cfwsFWS),h.stack.push(h.now),h.now=o.components.contextFWS,l=S;break;case'\"':p.local+=S,d.locals[y]+=S,m+=t.byteLength(S,\"utf8\"),h.prev=h.now,h.now=h.stack.pop();break;default:127!==(b=S.codePointAt(0))&&o.c1Controls(b)||0===b||10===b?f(o.diagnoses.errExpectingQTEXT):(o.c0Controls(b)||127===b)&&f(o.diagnoses.deprecatedQTEXT),p.local+=S,d.locals[y]+=S,m+=t.byteLength(S,\"utf8\")}break;case o.components.contextQuotedPair:127!==(b=S.codePointAt(0))&&o.c1Controls(b)?f(o.diagnoses.errExpectingQPair):(b<31&&9!==b||127===b)&&f(o.diagnoses.deprecatedQP),h.prev=h.now,h.now=h.stack.pop();var M=\"\\\\\"+S;switch(h.now){case o.components.contextComment:break;case o.components.contextQuotedString:p.local+=M,d.locals[y]+=M,m+=2;break;case o.components.literal:p.domain+=M,d.domains[y]+=M,m+=2;break;default:throw new Error(\"quoted pair logic invoked in an invalid context: \"+h.now)}break;case o.components.contextComment:switch(S){case\"(\":h.stack.push(h.now),h.now=o.components.contextComment;break;case\")\":h.prev=h.now,h.now=h.stack.pop();break;case\"\\\\\":h.stack.push(h.now),h.now=o.components.contextQuotedPair;break;case\"\\r\":if(w===++k||\"\\n\"!==e[k]){f(o.diagnoses.errCRNoLF);break}case\" \":case\"\\t\":f(o.diagnoses.cfwsFWS),h.stack.push(h.now),h.now=o.components.contextFWS,l=S;break;default:if(0===(b=S.codePointAt(0))||10===b||127!==b&&o.c1Controls(b)){f(o.diagnoses.errExpectingCTEXT);break}(o.c0Controls(b)||127===b)&&f(o.diagnoses.deprecatedCTEXT)}break;case o.components.contextFWS:if(\"\\r\"===l){if(\"\\r\"===S){f(o.diagnoses.errFWSCRLFx2);break}++g>1?f(o.diagnoses.deprecatedFWS):g=1}switch(S){case\"\\r\":w!==++k&&\"\\n\"===e[k]||f(o.diagnoses.errCRNoLF);break;case\" \":case\"\\t\":break;default:\"\\r\"===l&&f(o.diagnoses.errFWSCRLFEnd),g=0,h.prev=h.now,h.now=h.stack.pop(),--k}l=S;break;default:throw new Error(\"unknown context: \"+h.now)}if(c>o.categories.rfc5322)break}if(c<o.categories.rfc5322){var P=i.encode(p.domain).length;if(h.now===o.components.contextQuotedString)f(o.diagnoses.errUnclosedQuotedString);else if(h.now===o.components.contextQuotedPair)f(o.diagnoses.errBackslashEnd);else if(h.now===o.components.contextComment)f(o.diagnoses.errUnclosedComment);else if(h.now===o.components.literal)f(o.diagnoses.errUnclosedDomainLiteral);else if(\"\\r\"===S)f(o.diagnoses.errFWSCRLFEnd);else if(0===p.domain.length)f(o.diagnoses.errNoDomain);else if(0===m)f(o.diagnoses.errDotEnd);else if(v)f(o.diagnoses.errDomainHyphenEnd);else if(P>255)f(o.diagnoses.rfc5322DomainTooLong);else if(t.byteLength(p.local,\"utf8\")+P+1>254)f(o.diagnoses.rfc5322TooLong);else if(m>63)f(o.diagnoses.rfc5322LabelTooLong);else if(r.minDomainAtoms&&d.domains.length<r.minDomainAtoms)f(o.diagnoses.errDomainTooShort);else if(r.tldWhitelist||r.tldBlacklist){var O=d.domains[y];o.validDomain(O,r)||f(o.diagnoses.errUnknownTLD)}}c<o.categories.dnsWarn&&(d.domains[y].codePointAt(0)<=57&&f(o.diagnoses.rfc5321TLDNumeric));c<u&&(c=o.diagnoses.valid);var R=a?c:c<o.defaultThreshold;return s&&s(R),R},e.diagnoses=o.validate.diagnoses=function(){for(var t={},e=Object.keys(o.diagnoses),r=0;r<e.length;++r){var n=e[r];t[n]=o.diagnoses[n]}return t}(),e.normalize=o.normalize}).call(e,r(3).Buffer)},function(t,e,r){\"use strict\";e.errors={root:\"value\",key:'\"{{!label}}\" ',messages:{wrapArrays:!0},any:{unknown:\"is not allowed\",invalid:\"contains an invalid value\",empty:\"is not allowed to be empty\",required:\"is required\",allowOnly:\"must be one of {{valids}}\",default:\"threw an error when running default method\"},alternatives:{base:\"not matching any of the allowed alternatives\",child:null},array:{base:\"must be an array\",includes:\"at position {{pos}} does not match any of the allowed types\",includesSingle:'single value of \"{{!label}}\" does not match any of the allowed types',includesOne:\"at position {{pos}} fails because {{reason}}\",includesOneSingle:'single value of \"{{!label}}\" fails because {{reason}}',includesRequiredUnknowns:\"does not contain {{unknownMisses}} required value(s)\",includesRequiredKnowns:\"does not contain {{knownMisses}}\",includesRequiredBoth:\"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)\",excludes:\"at position {{pos}} contains an excluded value\",excludesSingle:'single value of \"{{!label}}\" contains an excluded value',min:\"must contain at least {{limit}} items\",max:\"must contain less than or equal to {{limit}} items\",length:\"must contain {{limit}} items\",ordered:\"at position {{pos}} fails because {{reason}}\",orderedLength:\"at position {{pos}} fails because array must contain at most {{limit}} items\",ref:'references \"{{ref}}\" which is not a positive integer',sparse:\"must not be a sparse array\",unique:\"position {{pos}} contains a duplicate value\"},boolean:{base:\"must be a boolean\"},binary:{base:\"must be a buffer or a string\",min:\"must be at least {{limit}} bytes\",max:\"must be less than or equal to {{limit}} bytes\",length:\"must be {{limit}} bytes\"},date:{base:\"must be a number of milliseconds or valid date string\",format:\"must be a string with one of the following formats {{format}}\",strict:\"must be a valid date\",min:'must be larger than or equal to \"{{limit}}\"',max:'must be less than or equal to \"{{limit}}\"',less:'must be less than \"{{limit}}\"',greater:'must be greater than \"{{limit}}\"',isoDate:\"must be a valid ISO 8601 date\",timestamp:{javascript:\"must be a valid timestamp or number of milliseconds\",unix:\"must be a valid timestamp or number of seconds\"},ref:'references \"{{ref}}\" which is not a date'},function:{base:\"must be a Function\",arity:\"must have an arity of {{n}}\",minArity:\"must have an arity greater or equal to {{n}}\",maxArity:\"must have an arity lesser or equal to {{n}}\",ref:\"must be a Joi reference\",class:\"must be a class\"},lazy:{base:\"!!schema error: lazy schema must be set\",schema:\"!!schema error: lazy schema function must return a schema\"},object:{base:\"must be an object\",child:'!!child \"{{!child}}\" fails because {{reason}}',min:\"must have at least {{limit}} children\",max:\"must have less than or equal to {{limit}} children\",length:\"must have {{limit}} children\",allowUnknown:'!!\"{{!child}}\" is not allowed',with:'!!\"{{mainWithLabel}}\" missing required peer \"{{peerWithLabel}}\"',without:'!!\"{{mainWithLabel}}\" conflict with forbidden peer \"{{peerWithLabel}}\"',missing:\"must contain at least one of {{peersWithLabels}}\",xor:\"contains a conflict between exclusive peers {{peersWithLabels}}\",or:\"must contain at least one of {{peersWithLabels}}\",and:\"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}\",nand:'!!\"{{mainWithLabel}}\" must not exist simultaneously with {{peersWithLabels}}',assert:'!!\"{{ref}}\" validation failed because \"{{ref}}\" failed to {{message}}',rename:{multiple:'cannot rename child \"{{from}}\" because multiple renames are disabled and another key was already renamed to \"{{to}}\"',override:'cannot rename child \"{{from}}\" because override is disabled and target \"{{to}}\" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to \"{{to}}\"',override:'cannot rename children {{from}} because override is disabled and target \"{{to}}\" exists'}},type:'must be an instance of \"{{type}}\"',schema:\"must be a Joi instance\"},number:{base:\"must be a number\",min:\"must be larger than or equal to {{limit}}\",max:\"must be less than or equal to {{limit}}\",less:\"must be less than {{limit}}\",greater:\"must be greater than {{limit}}\",float:\"must be a float or double\",integer:\"must be an integer\",negative:\"must be a negative number\",positive:\"must be a positive number\",precision:\"must have no more than {{limit}} decimal places\",ref:'references \"{{ref}}\" which is not a number',multiple:\"must be a multiple of {{multiple}}\",port:\"must be a valid port\"},string:{base:\"must be a string\",min:\"length must be at least {{limit}} characters long\",max:\"length must be less than or equal to {{limit}} characters long\",length:\"length must be {{limit}} characters long\",alphanum:\"must only contain alpha-numeric characters\",token:\"must only contain alpha-numeric and underscore characters\",regex:{base:'with value \"{{!value}}\" fails to match the required pattern: {{pattern}}',name:'with value \"{{!value}}\" fails to match the {{name}} pattern',invert:{base:'with value \"{{!value}}\" matches the inverted pattern: {{pattern}}',name:'with value \"{{!value}}\" matches the inverted {{name}} pattern'}},email:\"must be a valid email\",uri:\"must be a valid uri\",uriRelativeOnly:\"must be a valid relative uri\",uriCustomScheme:\"must be a valid uri with a scheme matching the {{scheme}} pattern\",isoDate:\"must be a valid ISO 8601 date\",guid:\"must be a valid GUID\",hex:\"must only contain hexadecimal characters\",hexAlign:\"hex decoded representation must be byte aligned\",base64:\"must be a valid base64 string\",hostname:\"must be a valid hostname\",normalize:\"must be unicode normalized in the {{form}} form\",lowercase:\"must only contain lowercase characters\",uppercase:\"must only contain uppercase characters\",trim:\"must not have leading or trailing whitespace\",creditCard:\"must be a credit card\",ref:'references \"{{ref}}\" which is not a number',ip:\"must be a valid ip address with a {{cidr}} CIDR\",ipVersion:\"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR\"}}},function(t,e,r){\"use strict\";var n=r(8);e.options=n.object({abortEarly:n.boolean(),convert:n.boolean(),allowUnknown:n.boolean(),skipFunctions:n.boolean(),stripUnknown:[n.boolean(),n.object({arrays:n.boolean(),objects:n.boolean()}).or(\"arrays\",\"objects\")],language:n.object(),presence:n.string().only(\"required\",\"optional\",\"forbidden\",\"ignore\"),raw:n.boolean(),context:n.object(),strip:n.boolean(),noDefaults:n.boolean(),escapeHtml:n.boolean()}).strict()},function(t,e,r){\"use strict\";var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function i(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(2),s=r(4),a=r(1),u=r(0),c={fastSplice:function(t,e){for(var r=e;r<t.length;)t[r++]=t[r];--t.length}};c.Array=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._type=\"array\",r._inner.items=[],r._inner.ordereds=[],r._inner.inclusions=[],r._inner.exclusions=[],r._inner.requireds=[],r._flags.sparse=!1,r}return i(e,t),e.prototype._base=function(t,e,r){var n={value:t};\"string\"==typeof t&&r.convert&&c.safeParse(t,n);var i=Array.isArray(n.value),o=i;if(r.convert&&this._flags.single&&!i&&(n.value=[n.value],i=!0),!i)return n.errors=this.createError(\"array.base\",null,e,r),n;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(o&&(n.value=n.value.slice(0)),n.errors=this._checkItems.call(this,n.value,o,e,r),n.errors&&o&&r.convert&&this._flags.single)){var s=n.errors;n.value=[n.value],n.errors=this._checkItems.call(this,n.value,o,e,r),n.errors&&(n.errors=s,n.value=n.value[0])}return n},e.prototype._checkItems=function(t,e,r,n){for(var i=[],o=void 0,s=this._inner.requireds.slice(),a=this._inner.ordereds.slice(),u=this._inner.inclusions.concat(s),f=t.length,h=0;h<f;++h){o=!1;var l=t[h],p=!1,d={key:e?h:r.key,path:e?r.path.concat(h):r.path,parent:r.parent,reference:r.reference},y=void 0;if(this._flags.sparse||void 0!==l){for(var m=0;m<this._inner.exclusions.length;++m)if(!(y=this._inner.exclusions[m]._validate(l,d,{})).errors){if(i.push(this.createError(e?\"array.excludes\":\"array.excludesSingle\",{pos:h,value:l},{key:r.key,path:d.path},n)),o=!0,n.abortEarly)return i;a.shift();break}if(!o){if(this._inner.ordereds.length){if(a.length>0){var g=a.shift();if((y=g._validate(l,d,n)).errors){if(i.push(this.createError(\"array.ordered\",{pos:h,reason:y.errors,value:l},{key:r.key,path:d.path},n)),n.abortEarly)return i}else if(g._flags.strip)c.fastSplice(t,h),--h,--f;else{if(!this._flags.sparse&&void 0===y.value){if(i.push(this.createError(\"array.sparse\",null,{key:r.key,path:d.path,pos:h},n)),n.abortEarly)return i;continue}t[h]=y.value}continue}if(!this._inner.items.length){if(i.push(this.createError(\"array.orderedLength\",{pos:h,limit:this._inner.ordereds.length},{key:r.key,path:d.path},n)),n.abortEarly)return i;continue}}for(var b=[],v=s.length,_=0;_<v;++_)if(!(y=b[_]=s[_]._validate(l,d,n)).errors){if(t[h]=y.value,p=!0,c.fastSplice(s,_),--_,--v,!this._flags.sparse&&void 0===y.value&&(i.push(this.createError(\"array.sparse\",null,{key:r.key,path:d.path,pos:h},n)),n.abortEarly))return i;break}if(!p){var w=!!n.stripUnknown&&(!0===n.stripUnknown||!!n.stripUnknown.arrays);v=u.length;for(var S=0;S<v;++S){var k=u[S],E=s.indexOf(k);if(-1!==E)y=b[E];else if(!(y=k._validate(l,d,n)).errors){k._flags.strip?(c.fastSplice(t,h),--h,--f):this._flags.sparse||void 0!==y.value?t[h]=y.value:(i.push(this.createError(\"array.sparse\",null,{key:r.key,path:d.path,pos:h},n)),o=!0),p=!0;break}if(1===v){if(w){c.fastSplice(t,h),--h,--f,p=!0;break}if(i.push(this.createError(e?\"array.includesOne\":\"array.includesOneSingle\",{pos:h,reason:y.errors,value:l},{key:r.key,path:d.path},n)),o=!0,n.abortEarly)return i;break}}if(!o&&this._inner.inclusions.length&&!p){if(w){c.fastSplice(t,h),--h,--f;continue}if(i.push(this.createError(e?\"array.includes\":\"array.includesSingle\",{pos:h,value:l},{key:r.key,path:d.path},n)),n.abortEarly)return i}}}}else{if(i.push(this.createError(\"array.sparse\",null,{key:r.key,path:d.path,pos:h},n)),n.abortEarly)return i;a.shift()}}return s.length&&this._fillMissedErrors.call(this,i,s,r,n),a.length&&this._fillOrderedErrors.call(this,i,a,r,n),i.length?i:null},e.prototype.describe=function(){var t=o.prototype.describe.call(this);if(this._inner.ordereds.length){t.orderedItems=[];for(var e=0;e<this._inner.ordereds.length;++e)t.orderedItems.push(this._inner.ordereds[e].describe())}if(this._inner.items.length){t.items=[];for(var r=0;r<this._inner.items.length;++r)t.items.push(this._inner.items[r].describe())}return t},e.prototype.items=function(){for(var t=this,e=this.clone(),r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return u.flatten(n).forEach(function(r,n){try{r=s.schema(t._currentJoi,r)}catch(t){throw t.hasOwnProperty(\"path\")?t.path=n+\".\"+t.path:t.path=n,t.message=t.message+\"(\"+t.path+\")\",t}e._inner.items.push(r),\"required\"===r._flags.presence?e._inner.requireds.push(r):\"forbidden\"===r._flags.presence?e._inner.exclusions.push(r.optional()):e._inner.inclusions.push(r)}),e},e.prototype.ordered=function(){for(var t=this,e=this.clone(),r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return u.flatten(n).forEach(function(r,n){try{r=s.schema(t._currentJoi,r)}catch(t){throw t.hasOwnProperty(\"path\")?t.path=n+\".\"+t.path:t.path=n,t.message=t.message+\"(\"+t.path+\")\",t}e._inner.ordereds.push(r)}),e},e.prototype.min=function(t){var e=a.isRef(t);return u.assert(Number.isSafeInteger(t)&&t>=0||e,\"limit must be a positive integer or reference\"),this._test(\"min\",t,function(r,n,i){var o=void 0;if(e){if(o=t(n.reference||n.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError(\"array.ref\",{ref:t.key},n,i)}else o=t;return r.length>=o?r:this.createError(\"array.min\",{limit:t,value:r},n,i)})},e.prototype.max=function(t){var e=a.isRef(t);return u.assert(Number.isSafeInteger(t)&&t>=0||e,\"limit must be a positive integer or reference\"),this._test(\"max\",t,function(r,n,i){var o=void 0;if(e){if(o=t(n.reference||n.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError(\"array.ref\",{ref:t.key},n,i)}else o=t;return r.length<=o?r:this.createError(\"array.max\",{limit:t,value:r},n,i)})},e.prototype.length=function(t){var e=a.isRef(t);return u.assert(Number.isSafeInteger(t)&&t>=0||e,\"limit must be a positive integer or reference\"),this._test(\"length\",t,function(r,n,i){var o=void 0;if(e){if(o=t(n.reference||n.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError(\"array.ref\",{ref:t.key},n,i)}else o=t;return r.length===o?r:this.createError(\"array.length\",{limit:t,value:r},n,i)})},e.prototype.unique=function(t){u.assert(void 0===t||\"function\"==typeof t||\"string\"==typeof t,\"comparator must be a function or a string\");var e={};return\"string\"==typeof t?e.path=t:\"function\"==typeof t&&(e.comparator=t),this._test(\"unique\",e,function(t,r,i){for(var o={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},s=e.comparator||u.deepEqual,a=0;a<t.length;++a){var c=e.path?u.reach(t[a],e.path):t[a],f=e.comparator?o.custom:o[void 0===c?\"undefined\":n(c)];if(f)if(f instanceof Map){for(var h=f.entries(),l=void 0;!(l=h.next()).done;)if(s(l.value[0],c)){var p={key:r.key,path:r.path.concat(a),parent:r.parent,reference:r.reference},d={pos:a,value:t[a],dupePos:l.value[1],dupeValue:t[l.value[1]]};return e.path&&(d.path=e.path),this.createError(\"array.unique\",d,p,i)}f.set(c,a)}else{if(void 0!==f[c]){var y={key:r.key,path:r.path.concat(a),parent:r.parent,reference:r.reference},m={pos:a,value:t[a],dupePos:f[c],dupeValue:t[f[c]]};return e.path&&(m.path=e.path),this.createError(\"array.unique\",m,y,i)}f[c]=a}}return t})},e.prototype.sparse=function(t){var e=void 0===t||!!t;if(this._flags.sparse===e)return this;var r=this.clone();return r._flags.sparse=e,r},e.prototype.single=function(t){var e=void 0===t||!!t;if(this._flags.single===e)return this;var r=this.clone();return r._flags.single=e,r},e.prototype._fillMissedErrors=function(t,e,r,n){for(var i=[],o=0,s=0;s<e.length;++s){var a=e[s]._getLabel();a?i.push(a):++o}i.length?o?t.push(this.createError(\"array.includesRequiredBoth\",{knownMisses:i,unknownMisses:o},{key:r.key,path:r.path},n)):t.push(this.createError(\"array.includesRequiredKnowns\",{knownMisses:i},{key:r.key,path:r.path},n)):t.push(this.createError(\"array.includesRequiredUnknowns\",{unknownMisses:o},{key:r.key,path:r.path},n))},e.prototype._fillOrderedErrors=function(t,e,r,n){for(var i=[],o=0;o<e.length;++o){\"required\"===u.reach(e[o],\"_flags.presence\")&&i.push(e[o])}i.length&&this._fillMissedErrors.call(this,t,i,r,n)},e}(o),c.safeParse=function(t,e){try{var r=JSON.parse(t);Array.isArray(r)&&(e.value=r)}catch(t){}},t.exports=new c.Array},function(t,e,r){\"use strict\";(function(e){function n(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(2),o=r(0),s={};s.Binary=function(t){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return e._type=\"binary\",e}return n(r,t),r.prototype._base=function(t,r,n){var i={value:t};if(\"string\"==typeof t&&n.convert)try{i.value=e.from(t,this._flags.encoding)}catch(t){}return i.errors=e.isBuffer(i.value)?null:this.createError(\"binary.base\",null,r,n),i},r.prototype.encoding=function(t){if(o.assert(e.isEncoding(t),\"Invalid encoding:\",t),this._flags.encoding===t)return this;var r=this.clone();return r._flags.encoding=t,r},r.prototype.min=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,\"limit must be a positive integer\"),this._test(\"min\",t,function(e,r,n){return e.length>=t?e:this.createError(\"binary.min\",{limit:t,value:e},r,n)})},r.prototype.max=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,\"limit must be a positive integer\"),this._test(\"max\",t,function(e,r,n){return e.length<=t?e:this.createError(\"binary.max\",{limit:t,value:e},r,n)})},r.prototype.length=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,\"limit must be a positive integer\"),this._test(\"length\",t,function(e,r,n){return e.length===t?e:this.createError(\"binary.length\",{limit:t,value:e},r,n)})},r}(i),t.exports=new s.Binary}).call(e,r(3).Buffer)},function(t,e,r){\"use strict\";function n(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(2),o=r(0),s={Set:r(9)};s.Boolean=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._type=\"boolean\",r._flags.insensitive=!0,r._inner.truthySet=new s.Set,r._inner.falsySet=new s.Set,r}return n(e,t),e.prototype._base=function(t,e,r){var n={value:t};if(\"string\"==typeof t&&r.convert){var i=this._flags.insensitive?t.toLowerCase():t;n.value=\"true\"===i||\"false\"!==i&&t}return\"boolean\"!=typeof n.value&&(n.value=!!this._inner.truthySet.has(t,null,null,this._flags.insensitive)||!this._inner.falsySet.has(t,null,null,this._flags.insensitive)&&t),n.errors=\"boolean\"==typeof n.value?null:this.createError(\"boolean.base\",null,e,r),n},e.prototype.truthy=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var s=e[i];o.assert(void 0!==s,\"Cannot call truthy with undefined\"),n._inner.truthySet.add(s)}return n},e.prototype.falsy=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var s=e[i];o.assert(void 0!==s,\"Cannot call falsy with undefined\"),n._inner.falsySet.add(s)}return n},e.prototype.insensitive=function(t){var e=void 0===t||!!t;if(this._flags.insensitive===e)return this;var r=this.clone();return r._flags.insensitive=e,r},e.prototype.describe=function(){var t=i.prototype.describe.call(this);return t.truthy=[!0].concat(this._inner.truthySet.values()),t.falsy=[!1].concat(this._inner.falsySet.values()),t},e}(i),t.exports=new s.Boolean},function(t,e,r){\"use strict\";function n(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(0),o=r(13),s=r(1),a={};a.Func=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._flags.func=!0,r}return n(e,t),e.prototype.arity=function(t){return i.assert(Number.isSafeInteger(t)&&t>=0,\"n must be a positive integer\"),this._test(\"arity\",t,function(e,r,n){return e.length===t?e:this.createError(\"function.arity\",{n:t},r,n)})},e.prototype.minArity=function(t){return i.assert(Number.isSafeInteger(t)&&t>0,\"n must be a strict positive integer\"),this._test(\"minArity\",t,function(e,r,n){return e.length>=t?e:this.createError(\"function.minArity\",{n:t},r,n)})},e.prototype.maxArity=function(t){return i.assert(Number.isSafeInteger(t)&&t>=0,\"n must be a positive integer\"),this._test(\"maxArity\",t,function(e,r,n){return e.length<=t?e:this.createError(\"function.maxArity\",{n:t},r,n)})},e.prototype.ref=function(){return this._test(\"ref\",null,function(t,e,r){return s.isRef(t)?t:this.createError(\"function.ref\",null,e,r)})},e.prototype.class=function(){return this._test(\"class\",null,function(t,e,r){return/^\\s*class\\s/.test(t.toString())?t:this.createError(\"function.class\",null,e,r)})},e}(o.constructor),t.exports=new a.Func},function(t,e,r){\"use strict\";function n(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(2),o=r(0),s={};s.Lazy=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._type=\"lazy\",r}return n(e,t),e.prototype._base=function(t,e,r){var n={value:t},o=this._flags.lazy;if(!o)return n.errors=this.createError(\"lazy.base\",null,e,r),n;var s=o();return s instanceof i?s._validate(t,e,r):(n.errors=this.createError(\"lazy.schema\",null,e,r),n)},e.prototype.set=function(t){o.assert(\"function\"==typeof t,\"You must provide a function as first argument\");var e=this.clone();return e._flags.lazy=t,e},e}(i),t.exports=new s.Lazy},function(t,e,r){\"use strict\";function n(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(2),o=r(1),s=r(0),a={precisionRx:/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/};a.Number=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._type=\"number\",r._invalids.add(1/0),r._invalids.add(-1/0),r}return n(e,t),e.prototype._base=function(t,e,r){var n={errors:null,value:t};if(\"string\"==typeof t&&r.convert){var i=parseFloat(t);n.value=isNaN(i)||!isFinite(t)?NaN:i}var o=\"number\"==typeof n.value&&!isNaN(n.value);if(r.convert&&\"precision\"in this._flags&&o){var s=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*s)/s}return n.errors=o?null:this.createError(\"number.base\",null,e,r),n},e.prototype.multiple=function(t){var e=o.isRef(t);return e||(s.assert(\"number\"==typeof t&&isFinite(t),\"multiple must be a number\"),s.assert(t>0,\"multiple must be greater than 0\")),this._test(\"multiple\",t,function(r,n,i){var o=e?t(n.reference||n.parent,i):t;return!e||\"number\"==typeof o&&isFinite(o)?r%o==0?r:this.createError(\"number.multiple\",{multiple:t,value:r},n,i):this.createError(\"number.ref\",{ref:t.key},n,i)})},e.prototype.integer=function(){return this._test(\"integer\",void 0,function(t,e,r){return Number.isSafeInteger(t)?t:this.createError(\"number.integer\",{value:t},e,r)})},e.prototype.negative=function(){return this._test(\"negative\",void 0,function(t,e,r){return t<0?t:this.createError(\"number.negative\",{value:t},e,r)})},e.prototype.positive=function(){return this._test(\"positive\",void 0,function(t,e,r){return t>0?t:this.createError(\"number.positive\",{value:t},e,r)})},e.prototype.precision=function(t){s.assert(Number.isSafeInteger(t),\"limit must be an integer\"),s.assert(!(\"precision\"in this._flags),\"precision already set\");var e=this._test(\"precision\",t,function(e,r,n){var i=e.toString().match(a.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=t?e:this.createError(\"number.precision\",{limit:t,value:e},r,n)});return e._flags.precision=t,e},e.prototype.port=function(){return this._test(\"port\",void 0,function(t,e,r){return!Number.isSafeInteger(t)||t<0||t>65535?this.createError(\"number.port\",{value:t},e,r):t})},e}(i),a.compare=function(t,e){return function(r){var n=o.isRef(r),i=\"number\"==typeof r&&!isNaN(r);return s.assert(i||n,\"limit must be a number or reference\"),this._test(t,r,function(i,o,s){var a=void 0;if(n){if(\"number\"!=typeof(a=r(o.reference||o.parent,s))||isNaN(a))return this.createError(\"number.ref\",{ref:r.key},o,s)}else a=r;return e(i,a)?i:this.createError(\"number.\"+t,{limit:a,value:i},o,s)})}},a.Number.prototype.min=a.compare(\"min\",function(t,e){return t>=e}),a.Number.prototype.max=a.compare(\"max\",function(t,e){return t<=e}),a.Number.prototype.greater=a.compare(\"greater\",function(t,e){return t>e}),a.Number.prototype.less=a.compare(\"less\",function(t,e){return t<e}),t.exports=new a.Number},function(t,e,r){\"use strict\";(function(e){var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};function i(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(15),s=r(0),a=void 0,u=r(2),c=r(1),f=r(12),h=r(30),l=r(29),p={uriRegex:h.createUriRegex(),ipRegex:l.createIpRegex([\"ipv4\",\"ipv6\",\"ipvfuture\"],\"optional\"),guidBrackets:{\"{\":\"}\",\"[\":\"]\",\"(\":\")\",\"\":\"\"},guidVersions:{uuidv1:\"1\",uuidv2:\"2\",uuidv3:\"3\",uuidv4:\"4\",uuidv5:\"5\"},cidrPresences:[\"required\",\"optional\",\"forbidden\"],normalizationForms:[\"NFC\",\"NFD\",\"NFKC\",\"NFKD\"]};p.String=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this));return r._type=\"string\",r._invalids.add(\"\"),r}return i(e,t),e.prototype._base=function(t,e,r){if(\"string\"==typeof t&&r.convert){if(this._flags.normalize&&(t=t.normalize(this._flags.normalize)),this._flags.case&&(t=\"upper\"===this._flags.case?t.toLocaleUpperCase():t.toLocaleLowerCase()),this._flags.trim&&(t=t.trim()),this._inner.replacements)for(var n=0;n<this._inner.replacements.length;++n){var i=this._inner.replacements[n];t=t.replace(i.pattern,i.replacement)}if(this._flags.truncate)for(var o=0;o<this._tests.length;++o){var s=this._tests[o];if(\"max\"===s.name){t=t.slice(0,s.arg);break}}this._flags.byteAligned&&t.length%2!=0&&(t=\"0\"+t)}return{value:t,errors:\"string\"==typeof t?null:this.createError(\"string.base\",{value:t},e,r)}},e.prototype.insensitive=function(){if(this._flags.insensitive)return this;var t=this.clone();return t._flags.insensitive=!0,t},e.prototype.creditCard=function(){return this._test(\"creditCard\",void 0,function(t,e,r){for(var n=t.length,i=0,o=1;n--;){var s=t.charAt(n)*o;i+=s-9*(s>9),o^=3}return i%10==0&&i>0?t:this.createError(\"string.creditCard\",{value:t},e,r)})},e.prototype.regex=function(t,e){s.assert(t instanceof RegExp,\"pattern must be a RegExp\");var r={pattern:new RegExp(t.source,t.ignoreCase?\"i\":void 0)};\"string\"==typeof e?r.name=e:\"object\"===(void 0===e?\"undefined\":n(e))&&(r.invert=!!e.invert,e.name&&(r.name=e.name));var i=[\"string.regex\",r.invert?\".invert\":\"\",r.name?\".name\":\".base\"].join(\"\");return this._test(\"regex\",r,function(t,e,n){return r.pattern.test(t)^r.invert?t:this.createError(i,{name:r.name,pattern:r.pattern,value:t},e,n)})},e.prototype.alphanum=function(){return this._test(\"alphanum\",void 0,function(t,e,r){return/^[a-zA-Z0-9]+$/.test(t)?t:this.createError(\"string.alphanum\",{value:t},e,r)})},e.prototype.token=function(){return this._test(\"token\",void 0,function(t,e,r){return/^\\w+$/.test(t)?t:this.createError(\"string.token\",{value:t},e,r)})},e.prototype.email=function(t){return t&&(s.assert(\"object\"===(void 0===t?\"undefined\":n(t)),\"email options must be an object\"),s.assert(void 0===t.checkDNS,\"checkDNS option is not supported\"),s.assert(void 0===t.tldWhitelist||\"object\"===n(t.tldWhitelist),\"tldWhitelist must be an array or object\"),s.assert(void 0===t.minDomainAtoms||Number.isSafeInteger(t.minDomainAtoms)&&t.minDomainAtoms>0,\"minDomainAtoms must be a positive integer\"),s.assert(void 0===t.errorLevel||\"boolean\"==typeof t.errorLevel||Number.isSafeInteger(t.errorLevel)&&t.errorLevel>=0,\"errorLevel must be a non-negative integer or boolean\")),this._test(\"email\",t,function(e,n,i){a=a||r(19);try{var o=a.validate(e,t);if(!0===o||0===o)return e}catch(t){}return this.createError(\"string.email\",{value:e},n,i)})},e.prototype.ip=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=p.ipRegex;s.assert(\"object\"===(void 0===t?\"undefined\":n(t)),\"options must be an object\"),t.cidr?(s.assert(\"string\"==typeof t.cidr,\"cidr must be a string\"),t.cidr=t.cidr.toLowerCase(),s.assert(s.contain(p.cidrPresences,t.cidr),\"cidr must be one of \"+p.cidrPresences.join(\", \")),t.version||\"optional\"===t.cidr||(e=l.createIpRegex([\"ipv4\",\"ipv6\",\"ipvfuture\"],t.cidr))):t.cidr=\"optional\";var r=void 0;if(t.version){Array.isArray(t.version)||(t.version=[t.version]),s.assert(t.version.length>=1,\"version must have at least 1 version specified\"),r=[];for(var i=0;i<t.version.length;++i){var o=t.version[i];s.assert(\"string\"==typeof o,\"version at position \"+i+\" must be a string\"),o=o.toLowerCase(),s.assert(l.versions[o],\"version at position \"+i+\" must be one of \"+Object.keys(l.versions).join(\", \")),r.push(o)}r=s.unique(r),e=l.createIpRegex(r,t.cidr)}return this._test(\"ip\",t,function(n,i,o){return e.test(n)?n:r?this.createError(\"string.ipVersion\",{value:n,cidr:t.cidr,version:r},i,o):this.createError(\"string.ip\",{value:n,cidr:t.cidr},i,o)})},e.prototype.uri=function(t){var e=\"\",r=!1,i=!1,o=p.uriRegex;if(t){if(s.assert(\"object\"===(void 0===t?\"undefined\":n(t)),\"options must be an object\"),t.scheme){s.assert(t.scheme instanceof RegExp||\"string\"==typeof t.scheme||Array.isArray(t.scheme),\"scheme must be a RegExp, String, or Array\"),Array.isArray(t.scheme)||(t.scheme=[t.scheme]),s.assert(t.scheme.length>=1,\"scheme must have at least 1 scheme specified\");for(var a=0;a<t.scheme.length;++a){var u=t.scheme[a];s.assert(u instanceof RegExp||\"string\"==typeof u,\"scheme at position \"+a+\" must be a RegExp or String\"),e+=e?\"|\":\"\",u instanceof RegExp?e+=u.source:(s.assert(/[a-zA-Z][a-zA-Z0-9+-\\.]*/.test(u),\"scheme at position \"+a+\" must be a valid scheme\"),e+=s.escapeRegex(u))}}t.allowRelative&&(r=!0),t.relativeOnly&&(i=!0)}return(e||r||i)&&(o=h.createUriRegex(e,r,i)),this._test(\"uri\",t,function(t,r,n){return o.test(t)?t:i?this.createError(\"string.uriRelativeOnly\",{value:t},r,n):e?this.createError(\"string.uriCustomScheme\",{scheme:e,value:t},r,n):this.createError(\"string.uri\",{value:t},r,n)})},e.prototype.isoDate=function(){return this._test(\"isoDate\",void 0,function(t,e,r){if(f._isIsoDate(t)){if(!r.convert)return t;var n=new Date(t);if(!isNaN(n.getTime()))return n.toISOString()}return this.createError(\"string.isoDate\",{value:t},e,r)})},e.prototype.guid=function(t){var e=\"\";if(t&&t.version){Array.isArray(t.version)||(t.version=[t.version]),s.assert(t.version.length>=1,\"version must have at least 1 valid version specified\");for(var r=new Set,n=0;n<t.version.length;++n){var i=t.version[n];s.assert(\"string\"==typeof i,\"version at position \"+n+\" must be a string\"),i=i.toLowerCase();var o=p.guidVersions[i];s.assert(o,\"version at position \"+n+\" must be one of \"+Object.keys(p.guidVersions).join(\", \")),s.assert(!r.has(o),\"version at position \"+n+\" must not be a duplicate.\"),e+=o,r.add(o)}}var a=new RegExp(\"^([\\\\[{\\\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\\\2?[\"+(e||\"0-9A-F\")+\"][0-9A-F]{3}\\\\2?[\"+(e?\"89AB\":\"0-9A-F\")+\"][0-9A-F]{3}\\\\2?[0-9A-F]{12}([\\\\]}\\\\)]?)$\",\"i\");return this._test(\"guid\",t,function(t,e,r){var n=a.exec(t);return n?p.guidBrackets[n[1]]!==n[n.length-1]?this.createError(\"string.guid\",{value:t},e,r):t:this.createError(\"string.guid\",{value:t},e,r)})},e.prototype.hex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assert(\"object\"===(void 0===t?\"undefined\":n(t)),\"hex options must be an object\"),s.assert(void 0===t.byteAligned||\"boolean\"==typeof t.byteAligned,\"byteAligned must be boolean\");var e=!0===t.byteAligned,r=/^[a-f0-9]+$/i,i=this._test(\"hex\",r,function(t,n,i){return r.test(t)?e&&t.length%2!=0?this.createError(\"string.hexAlign\",{value:t},n,i):t:this.createError(\"string.hex\",{value:t},n,i)});return e&&(i._flags.byteAligned=!0),i},e.prototype.base64=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assert(\"object\"===(void 0===t?\"undefined\":n(t)),\"base64 options must be an object\"),s.assert(void 0===t.paddingRequired||\"boolean\"==typeof t.paddingRequired,\"paddingRequired must be boolean\");var e=(!1===t.paddingRequired?t.paddingRequired:t.paddingRequired||!0)?/^(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/:/^(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?$/;return this._test(\"base64\",e,function(t,r,n){return e.test(t)?t:this.createError(\"string.base64\",{value:t},r,n)})},e.prototype.hostname=function(){var t=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$/;return this._test(\"hostname\",void 0,function(e,r,n){return e.length<=255&&t.test(e)||o.isIPv6(e)?e:this.createError(\"string.hostname\",{value:e},r,n)})},e.prototype.normalize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"NFC\";s.assert(s.contain(p.normalizationForms,t),\"normalization form must be one of \"+p.normalizationForms.join(\", \"));var e=this._test(\"normalize\",t,function(e,r,n){return n.convert||e===e.normalize(t)?e:this.createError(\"string.normalize\",{value:e,form:t},r,n)});return e._flags.normalize=t,e},e.prototype.lowercase=function(){var t=this._test(\"lowercase\",void 0,function(t,e,r){return r.convert||t===t.toLocaleLowerCase()?t:this.createError(\"string.lowercase\",{value:t},e,r)});return t._flags.case=\"lower\",t},e.prototype.uppercase=function(){var t=this._test(\"uppercase\",void 0,function(t,e,r){return r.convert||t===t.toLocaleUpperCase()?t:this.createError(\"string.uppercase\",{value:t},e,r)});return t._flags.case=\"upper\",t},e.prototype.trim=function(){var t=this._test(\"trim\",void 0,function(t,e,r){return r.convert||t===t.trim()?t:this.createError(\"string.trim\",{value:t},e,r)});return t._flags.trim=!0,t},e.prototype.replace=function(t,e){\"string\"==typeof t&&(t=new RegExp(s.escapeRegex(t),\"g\")),s.assert(t instanceof RegExp,\"pattern must be a RegExp\"),s.assert(\"string\"==typeof e,\"replacement must be a String\");var r=this.clone();return r._inner.replacements||(r._inner.replacements=[]),r._inner.replacements.push({pattern:t,replacement:e}),r},e.prototype.truncate=function(t){var e=void 0===t||!!t;if(this._flags.truncate===e)return this;var r=this.clone();return r._flags.truncate=e,r},e}(u),p.compare=function(t,r){return function(n,i){var o=c.isRef(n);return s.assert(Number.isSafeInteger(n)&&n>=0||o,\"limit must be a positive integer or reference\"),s.assert(!i||e.isEncoding(i),\"Invalid encoding:\",i),this._test(t,n,function(e,s,a){var u=void 0;if(o){if(u=n(s.reference||s.parent,a),!Number.isSafeInteger(u))return this.createError(\"string.ref\",{ref:n.key},s,a)}else u=n;return r(e,u,i)?e:this.createError(\"string.\"+t,{limit:u,value:e,encoding:i},s,a)})}},p.String.prototype.min=p.compare(\"min\",function(t,r,n){return(n?e.byteLength(t,n):t.length)>=r}),p.String.prototype.max=p.compare(\"max\",function(t,r,n){return(n?e.byteLength(t,n):t.length)<=r}),p.String.prototype.length=p.compare(\"length\",function(t,r,n){return(n?e.byteLength(t,n):t.length)===r}),p.String.prototype.uuid=p.String.prototype.guid,t.exports=new p.String}).call(e,r(3).Buffer)},function(t,e,r){\"use strict\";var n=r(14),i={Ip:{cidrs:{ipv4:{required:\"\\\\/(?:\"+n.ipv4Cidr+\")\",optional:\"(?:\\\\/(?:\"+n.ipv4Cidr+\"))?\",forbidden:\"\"},ipv6:{required:\"\\\\/\"+n.ipv6Cidr,optional:\"(?:\\\\/\"+n.ipv6Cidr+\")?\",forbidden:\"\"},ipvfuture:{required:\"\\\\/\"+n.ipv6Cidr,optional:\"(?:\\\\/\"+n.ipv6Cidr+\")?\",forbidden:\"\"}},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};i.Ip.createIpRegex=function(t,e){for(var r=void 0,n=0;n<t.length;++n){var o=t[n];r?r+=\"|\"+i.Ip.versions[o]+i.Ip.cidrs[o][e]:r=\"^(?:\"+i.Ip.versions[o]+i.Ip.cidrs[o][e]}return new RegExp(r+\")$\")},t.exports=i.Ip},function(t,e,r){\"use strict\";var n=r(14),i={Uri:{createUriRegex:function(t,e,r){var i=n.scheme,o=void 0;if(r)o=\"(?:\"+n.relativeRef+\")\";else{t&&(i=\"(?:\"+t+\")\");var s=\"(?:\"+i+\":\"+n.hierPart+\")\";o=e?\"(?:\"+s+\"|\"+n.relativeRef+\")\":s}return new RegExp(\"^\"+o+\"(?:\\\\?\"+n.query+\")?(?:#\"+n.fragment+\")?$\")}}};t.exports=i.Uri},function(t,e,r){\"use strict\";var n=r(0),i={};t.exports=i.Topo=function(){this._items=[],this.nodes=[]},i.Topo.prototype.add=function(t,e){var r=this,i=[].concat((e=e||{}).before||[]),o=[].concat(e.after||[]),s=e.group||\"?\",a=e.sort||0;n.assert(-1===i.indexOf(s),\"Item cannot come before itself:\",s),n.assert(-1===i.indexOf(\"?\"),\"Item cannot come before unassociated items\"),n.assert(-1===o.indexOf(s),\"Item cannot come after itself:\",s),n.assert(-1===o.indexOf(\"?\"),\"Item cannot come after unassociated items\"),[].concat(t).forEach(function(t,e){var n={seq:r._items.length,sort:a,before:i,after:o,group:s,node:t};r._items.push(n)});var u=this._sort();return n.assert(!u,\"item\",\"?\"!==s?\"added into group \"+s:\"\",\"created a dependencies error\"),this.nodes},i.Topo.prototype.merge=function(t){t=[].concat(t);for(var e=0;e<t.length;++e){var r=t[e];if(r)for(var o=0;o<r._items.length;++o){var s=n.shallow(r._items[o]);this._items.push(s)}}this._items.sort(i.mergeSort);for(var a=0;a<this._items.length;++a)this._items[a].seq=a;var u=this._sort();return n.assert(!u,\"merge created a dependencies error\"),this.nodes},i.mergeSort=function(t,e){return t.sort===e.sort?0:t.sort<e.sort?-1:1},i.Topo.prototype._sort=function(){for(var t={},e=Object.create(null),r=Object.create(null),n=0;n<this._items.length;++n){var i=this._items[n],o=i.seq,s=i.group;r[s]=r[s]||[],r[s].push(o),t[o]=i.before;for(var a=i.after,u=0;u<a.length;++u)e[a[u]]=(e[a[u]]||[]).concat(o)}for(var c=Object.keys(t),f=0;f<c.length;++f){for(var h=c[f],l=[],p=Object.keys(t[h]),d=0;d<p.length;++d){var y=t[h][p[d]];r[y]=r[y]||[];for(var m=0;m<r[y].length;++m)l.push(r[y][m])}t[h]=l}for(var g=Object.keys(e),b=0;b<g.length;++b){var v=g[b];if(r[v])for(var _=0;_<r[v].length;++_){var w=r[v][_];t[w]=t[w].concat(e[v])}}var S=void 0,k={};c=Object.keys(t);for(var E=0;E<c.length;++E){var A=c[E];S=t[A];for(var x=0;x<S.length;++x)k[S[x]]=(k[S[x]]||[]).concat(A)}for(var T={},B=[],I=0;I<this._items.length;++I){var C=I;if(k[I]){C=null;for(var M=0;M<this._items.length;++M)if(!0!==T[M]){k[M]||(k[M]=[]);for(var P=k[M].length,O=0,R=0;R<P;++R)T[k[M][R]]&&++O;if(O===P){C=M;break}}}null!==C&&(T[C]=!0,B.push(C))}if(B.length!==this._items.length)return new Error(\"Invalid dependencies\");for(var j={},N=0;N<this._items.length;++N){var L=this._items[N];j[L.seq]=L}var K=[];this._items=B.map(function(t){var e=j[t];return K.push(e.node),e}),this.nodes=K}},function(t,e,r){\"use strict\";var n=r(8);t.exports=n},function(t,e,r){\"use strict\";e.byteLength=function(t){return 3*t.length/4-c(t)},e.toByteArray=function(t){var e,r,n,s,a,u=t.length;s=c(t),a=new o(3*u/4-s),r=s>0?u-4:u;var f=0;for(e=0;e<r;e+=4)n=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],a[f++]=n>>16&255,a[f++]=n>>8&255,a[f++]=255&n;2===s?(n=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,a[f++]=255&n):1===s&&(n=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,a[f++]=n>>8&255,a[f++]=255&n);return a},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=\"\",s=[],a=0,u=r-i;a<u;a+=16383)s.push(h(t,a,a+16383>u?u:a+16383));1===i?(e=t[r-1],o+=n[e>>2],o+=n[e<<4&63],o+=\"==\"):2===i&&(e=(t[r-2]<<8)+t[r-1],o+=n[e>>10],o+=n[e>>4&63],o+=n[e<<2&63],o+=\"=\");return s.push(o),s.join(\"\")};for(var n=[],i=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");return\"=\"===t[e-2]?2:\"=\"===t[e-1]?1:0}function f(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function h(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(f(n));return i.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?i-1:0,l=r?-1:1,p=t[e+h];for(h+=l,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+h],h+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*y}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==r.call(t)}},function(t,e){t.exports={_args:[[\"joi@13.4.0\",\"/Users/jeff/projects/joi-browser\"]],_development:!0,_from:\"joi@13.4.0\",_id:\"joi@13.4.0\",_inBundle:!1,_integrity:\"sha512-JuK4GjEu6j7zr9FuVe2MAseZ6si/8/HaY0qMAejfDFHp7jcH4OKE937mIHM5VT4xDS0q7lpQbszbxKV9rm0yUg==\",_location:\"/joi\",_phantomChildren:{},_requested:{type:\"version\",registry:!0,raw:\"joi@13.4.0\",name:\"joi\",escapedName:\"joi\",rawSpec:\"13.4.0\",saveSpec:null,fetchSpec:\"13.4.0\"},_requiredBy:[\"#DEV:/\"],_resolved:\"https://registry.npmjs.org/joi/-/joi-13.4.0.tgz\",_spec:\"13.4.0\",_where:\"/Users/jeff/projects/joi-browser\",bugs:{url:\"https://github.com/hapijs/joi/issues\"},dependencies:{hoek:\"5.x.x\",isemail:\"3.x.x\",topo:\"3.x.x\"},description:\"Object schema validation\",devDependencies:{code:\"5.x.x\",hapitoc:\"1.x.x\",lab:\"15.x.x\"},engines:{node:\">=8.9.0\"},homepage:\"https://github.com/hapijs/joi\",keywords:[\"hapi\",\"schema\",\"validation\"],license:\"BSD-3-Clause\",main:\"lib/index.js\",name:\"joi\",repository:{type:\"git\",url:\"git://github.com/hapijs/joi.git\"},scripts:{test:\"lab -t 100 -a code -L\",\"test-cov-html\":\"lab -r html -o coverage.html -a code\",\"test-debug\":\"lab -a code\",toc:\"hapitoc\",version:\"npm run toc && git add API.md README.md\"},version:\"13.4.0\"}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];\".\"===i?t.splice(n,1):\"..\"===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift(\"..\");return t}var n=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e=\"\",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if(\"string\"!=typeof s)throw new TypeError(\"Arguments to path.resolve must be strings\");s&&(e=s+\"/\"+e,n=\"/\"===s.charAt(0))}return e=r(o(e.split(\"/\"),function(t){return!!t}),!n).join(\"/\"),(n?\"/\":\"\")+e||\".\"},e.normalize=function(t){var n=e.isAbsolute(t),i=\"/\"===s(t,-1);return(t=r(o(t.split(\"/\"),function(t){return!!t}),!n).join(\"/\"))||n||(t=\".\"),t&&i&&(t+=\"/\"),(n?\"/\":\"\")+t},e.isAbsolute=function(t){return\"/\"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"Arguments to path.join must be strings\");return t}).join(\"/\"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&\"\"===t[e];e++);for(var r=t.length-1;r>=0&&\"\"===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split(\"/\")),o=n(r.split(\"/\")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push(\"..\");return(c=c.concat(o.slice(a))).join(\"/\")},e.sep=\"/\",e.delimiter=\":\",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):\".\"},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s=\"b\"===\"ab\".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(e,r(7))},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){\"object\"==typeof e&&e&&e.nodeType,\"object\"==typeof t&&t&&t.nodeType;var s=\"object\"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,f=1,h=26,l=38,p=700,d=72,y=128,m=\"-\",g=/^xn--/,b=/[^\\x20-\\x7E]/,v=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,_={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},w=c-f,S=Math.floor,k=String.fromCharCode;function E(t){throw new RangeError(_[t])}function A(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function x(t,e){var r=t.split(\"@\"),n=\"\";return r.length>1&&(n=r[0]+\"@\",t=r[1]),n+A((t=t.replace(v,\".\")).split(\".\"),e).join(\".\")}function T(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function B(t){return A(t,function(t){var e=\"\";return t>65535&&(e+=k((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=k(t)}).join(\"\")}function I(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,r){var n=0;for(t=r?S(t/p):t>>1,t+=S(t/e);t>w*h>>1;n+=c)t=S(t/w);return S(n+(w+1)*t/(t+l))}function P(t){var e,r,n,i,o,s,a,l,p,g,b=[],v=t.length,_=0,w=y,k=d;for((r=t.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&E(\"not-basic\"),b.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(o=_,s=1,a=c;i>=v&&E(\"invalid-input\"),((l=I(t.charCodeAt(i++)))>=c||l>S((u-_)/s))&&E(\"overflow\"),_+=l*s,!(l<(p=a<=k?f:a>=k+h?h:a-k));a+=c)s>S(u/(g=c-p))&&E(\"overflow\"),s*=g;k=M(_-o,e=b.length+1,0==o),S(_/e)>u-w&&E(\"overflow\"),w+=S(_/e),_%=e,b.splice(_++,0,w)}return B(b)}function O(t){var e,r,n,i,o,s,a,l,p,g,b,v,_,w,A,x=[];for(v=(t=T(t)).length,e=y,r=0,o=d,s=0;s<v;++s)(b=t[s])<128&&x.push(k(b));for(n=i=x.length,i&&x.push(m);n<v;){for(a=u,s=0;s<v;++s)(b=t[s])>=e&&b<a&&(a=b);for(a-e>S((u-r)/(_=n+1))&&E(\"overflow\"),r+=(a-e)*_,e=a,s=0;s<v;++s)if((b=t[s])<e&&++r>u&&E(\"overflow\"),b==e){for(l=r,p=c;!(l<(g=p<=o?f:p>=o+h?h:p-o));p+=c)A=l-g,w=c-g,x.push(k(C(g+A%w,0))),l=S(A/w);x.push(k(C(l,0))),o=M(r,_,n==i),r=0,++n}++r,++e}return x.join(\"\")}a={version:\"1.4.1\",ucs2:{decode:T,encode:B},decode:P,encode:O,toASCII:function(t){return x(t,function(t){return b.test(t)?\"xn--\"+O(t):t})},toUnicode:function(t){return x(t,function(t){return g.test(t)?P(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(e,r(41)(t),r(5))},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&\"object\"==typeof t&&\"function\"==typeof t.copy&&\"function\"==typeof t.fill&&\"function\"==typeof t.readUInt8}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}])})},function(t,e,r){\"use strict\";t.exports=r(1220)},function(t,e,r){\"use strict\";(function(t){const n=r(306),i=r(307)(),o=r(1227),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1232);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(306),i=r(307)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1235),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(161).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1239)},function(t,e,r){\"use strict\";const n=r(1),i=r(122),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(122),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(122).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(566);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){(function(e){var r=\"Expected a function\",n=NaN,i=\"[object Symbol]\",o=/^\\s+|\\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,f=\"object\"==typeof e&&e&&e.Object===Object&&e,h=\"object\"==typeof self&&self&&self.Object===Object&&self,l=f||h||Function(\"return this\")(),p=Object.prototype.toString,d=Math.max,y=Math.min,m=function(){return l.Date.now()};function g(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function b(t){if(\"number\"==typeof t)return t;if(function(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&p.call(t)==i}(t))return n;if(g(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(o,\"\");var r=a.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):s.test(t)?n:+t}t.exports=function(t,e,n){var i,o,s,a,u,c,f=0,h=!1,l=!1,p=!0;if(\"function\"!=typeof t)throw new TypeError(r);function v(e){var r=i,n=o;return i=o=void 0,f=e,a=t.apply(n,r)}function _(t){var r=t-c;return void 0===c||r>=e||r<0||l&&t-f>=s}function w(){var t=m();if(_(t))return S(t);u=setTimeout(w,function(t){var r=e-(t-c);return l?y(r,s-(t-f)):r}(t))}function S(t){return u=void 0,p&&i?v(t):(i=o=void 0,a)}function k(){var t=m(),r=_(t);if(i=arguments,o=this,c=t,r){if(void 0===u)return function(t){return f=t,u=setTimeout(w,e),h?v(t):a}(c);if(l)return u=setTimeout(w,e),v(c)}return void 0===u&&(u=setTimeout(w,e)),a}return e=b(e)||0,g(n)&&(h=!!n.leading,s=(l=\"maxWait\"in n)?d(b(n.maxWait)||0,e):s,p=\"trailing\"in n?!!n.trailing:p),k.cancel=function(){void 0!==u&&clearTimeout(u),f=0,i=c=o=u=void 0},k.flush=function(){return void 0===u?a:S(m())},k}}).call(this,r(5))},function(t,e,r){\"use strict\";var n=r(1266);function i(t){return\"function\"==typeof t}function o(t,e){return e?function(r,n){var i=setTimeout(function(){t(new Error(\"pull-reader: read exceeded timeout\"),n)},e);t(r,function(t,e){clearTimeout(i),n(t,e)})}:t}t.exports=function(t){var e,r,s,a,u,c=[],f=!1,h=n();function l(){for(;c.length;)if(null==c[0].length&&h.has(1))c.shift().cb(null,h.get());else if(h.has(c[0].length)){var t=c.shift();t.cb(null,h.get(t.length))}else if(1==s&&c[0].length&&h.length<c[0].length){var e=\"stream ended with:\"+h.length+\" but wanted:\"+c[0].length;c.shift().cb(new Error(e))}else{if(!s)return!!c.length;c.shift().cb(s)}return c.length||!h.has(1)||u}function p(){l()&&!f&&(!e||f||a||(f=!0,r(null,function(t,e){if(f=!1,t)return s=t,l();h.add(e),p()})))}function d(n){if(u){for(;c.length;)c.shift().cb(u);return cb&&cb(u)}r=o(n,t),e=n,p()}return d.abort=function(t,r){u=t||!0,e?(f=!0,e(u,function(){for(;c.length;)c.shift().cb(u);r&&r(u)})):r()},d.read=function(r,n,s){if(i(n)&&(s=n,n=t),!i(s))return a=!0,function(t,r){if(f||h.has(1)){if(t)return e(t,r);c.push({length:null,cb:r}),p()}else o(e,n)(t,function(t,e){r(t,e)})};c.push({length:function(t){return Number.isFinite(t)}(r)?r:null,cb:s}),p()},d}},function(t,e){var r=9007199254740991,n=\"[object Arguments]\",i=\"[object Function]\",o=\"[object GeneratorFunction]\",s=/^(?:0|[1-9]\\d*)$/;function a(t,e){return function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(e,function(e){return t[e]})}var u=Object.prototype,c=u.hasOwnProperty,f=u.toString,h=u.propertyIsEnumerable,l=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object);function p(t,e){var r=m(t)||function(t){return function(t){return function(t){return!!t&&\"object\"==typeof t}(t)&&g(t)}(t)&&c.call(t,\"callee\")&&(!h.call(t,\"callee\")||f.call(t)==n)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],i=r.length,o=!!i;for(var s in t)!e&&!c.call(t,s)||o&&(\"length\"==s||y(s,i))||r.push(s);return r}function d(t){if(!function(t){var e=t&&t.constructor,r=\"function\"==typeof e&&e.prototype||u;return t===r}(t))return l(t);var e=[];for(var r in Object(t))c.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function y(t,e){return!!(e=null==e?r:e)&&(\"number\"==typeof t||s.test(t))&&t>-1&&t%1==0&&t<e}var m=Array.isArray;function g(t){return null!=t&&function(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}(t)?f.call(t):\"\";return e==i||e==o}(t)}t.exports=function(t){return t?a(t,function(t){return g(t)?p(t):d(t)}(t)):[]}},function(t,e,r){\"use strict\";const n=Math.exp;t.exports=function(t){if(\"number\"!=typeof t)throw new Error(\"must provide a timespan to the moving average constructor\");if(t<=0)throw new Error(\"must provide a timespan > 0 to the moving average constructor\");let e,r,i=0,o=0,s=0,a={};return a.push=function(a,u){if(r){const c=function(e,r){return 1-n(-(e-r)/t)}(a,r),f=u-e;e=c*u+(1-c)*e,i=(1-c)*(i+f*(c*f)),o=Math.sqrt(i),s=e+c*f}else e=u;r=a},a.movingAverage=function(){return e},a.variance=function(){return i},a.deviation=function(){return o},a.forecast=function(){return s},a}},function(t){t.exports={_from:\"ipfs\",_id:\"ipfs@0.30.1\",_inBundle:!1,_integrity:\"sha512-Vks8ADqtuRR9lMDr7hS7qpA2C6TiJDwwsK7m9Bih0nvy+ZWlnvDWajJD9h+zUtkIJZT2PldcT5/6rZhQKd5TcQ==\",_location:\"/ipfs\",_phantomChildren:{},_requested:{type:\"tag\",registry:!0,raw:\"ipfs\",name:\"ipfs\",escapedName:\"ipfs\",rawSpec:\"\",saveSpec:null,fetchSpec:\"latest\"},_requiredBy:[\"#USER\",\"/\"],_resolved:\"https://registry.npmjs.org/ipfs/-/ipfs-0.30.1.tgz\",_shasum:\"67903586300730e6884d8c716248f91e70287f61\",_spec:\"ipfs\",_where:\"/Users/markfocella/truffle_projects/leth_contracts\",bin:{jsipfs:\"src/cli/bin.js\"},browser:{\"./src/core/components/init-assets.js\":!1,\"./src/core/runtime/config-nodejs.js\":\"./src/core/runtime/config-browser.js\",\"./src/core/runtime/libp2p-nodejs.js\":\"./src/core/runtime/libp2p-browser.js\",\"./src/core/runtime/repo-nodejs.js\":\"./src/core/runtime/repo-browser.js\",\"./src/core/runtime/dns-nodejs.js\":\"./src/core/runtime/dns-browser.js\",\"./test/utils/create-repo-nodejs.js\":\"./test/utils/create-repo-browser.js\",stream:\"readable-stream\",joi:\"joi-browser\"},bugs:{url:\"https://github.com/ipfs/js-ipfs/issues\"},bundleDependencies:!1,contributors:[{name:\"Alan Shaw\",email:\"alan@tableflip.io\"},{name:\"Alex Potsides\",email:\"alex@achingbrain.net\"},{name:\"Andrew de Andrade\",email:\"andrew@deandrade.com.br\"},{name:\"Arpit Agarwal\",email:\"93arpit@gmail.com\"},{name:\"Arpit Agarwal\",email:\"atvanguard@users.noreply.github.com\"},{name:\"Bernard Mordan\",email:\"bernard@tableflip.io\"},{name:\"Brian Vander Schaaf\",email:\"bvs330@gmail.com\"},{name:\"Bruno Zell\",email:\"bruno.zzell@gmail.com\"},{name:\"CHEVALAY JOSSELIN\",email:\"josselin54.chevalay@gmail.com\"},{name:\"Caio Gondim\",email:\"me@caiogondim.com\"},{name:\"Christian Couder\",email:\"chriscool@tuxfamily.org\"},{name:\"Dafeng\",email:\"dfguo.joe@gmail.com\"},{name:\"Daniel J. O'Quinn\",email:\"danieljoquinn@gmail.com\"},{name:\"Daniela Borges Matos de Carvalho\",email:\"alunassertiva@gmail.com\"},{name:\"David Dias\",email:\"daviddias.p@gmail.com\"},{name:\"David da Silva\",email:\"dasilvacontin@gmail.com\"},{name:\"Diogo Silva\",email:\"fsdiogo@gmail.com\"},{name:\"Dmitriy Ryajov\",email:\"dryajov@gmail.com\"},{name:\"Dzmitry Das\",email:\"dbachko@gmail.com\"},{name:\"Enrico Marino\",email:\"enrico.marino@email.com\"},{name:\"Faheel Ahmad\",email:\"faheel@live.in\"},{name:\"Felix Yan\",email:\"felixonmars@archlinux.org\"},{name:\"Francisco Baio Dias\",email:\"xicombd@gmail.com\"},{name:\"Francisco Baio Dias\",email:\"francisco@typeform.com\"},{name:\"Friedel Ziegelmayer\",email:\"dignifiedquire@gmail.com\"},{name:\"Gar\",email:\"gar+gh@danger.computer\"},{name:\"Georgios Rassias\",email:\"georassias@gmail.com\"},{name:\"Gorka Ludlow\",email:\"gorka@aquigorka.com\"},{name:\"Greenkeeper\",email:\"support@greenkeeper.io\"},{name:\"Haad\",email:\"haadcode@users.noreply.github.com\"},{name:\"Haoliang Yu\",email:\"haoliangyu@users.noreply.github.com\"},{name:\"Harsh Vakharia\",email:\"harshjv@users.noreply.github.com\"},{name:\"Henrique Dias\",email:\"hacdias@gmail.com\"},{name:\"Henry Rodrick\",email:\"moshisushi@gmail.com\"},{name:\"Heo Sangmin\",email:\"heo@mapiacompany.com\"},{name:\"Jacob Heun\",email:\"jacobheun@gmail.com\"},{name:\"Jacob Heun\",email:\"jake@andyet.net\"},{name:\"Jade Meskill\",email:\"jade.meskill@gmail.com\"},{name:\"Johannes Wikner\",email:\"johannes.wikner@gmail.com\"},{name:\"Jon Schlinkert\",email:\"dev@sellside.com\"},{name:\"Jonathan\",email:\"jkrone@vt.edu\"},{name:\"João Antunes\",email:\"j.goncalo.antunes@gmail.com\"},{name:\"João Santos\",email:\"joaosantos15@users.noreply.github.com\"},{name:\"Kevin Wang\",email:\"kevin@fossa.io\"},{name:\"Lars Gierth\",email:\"larsg@systemli.org\"},{name:\"Lukas Drgon\",email:\"lukas.drgon@gmail.com\"},{name:\"Maciej Krüger\",email:\"mkg20001@gmail.com\"},{name:\"Marius Darila\",email:\"marius.darila@gmail.com\"},{name:\"Michelle Lee\",email:\"michelle@protocol.ai\"},{name:\"Mikeal Rogers\",email:\"mikeal.rogers@gmail.com\"},{name:\"Mithgol\",email:\"getgit@mithgol.ru\"},{name:\"My9Bot\",email:\"34904312+My9Bot@users.noreply.github.com\"},{name:\"Nuno Nogueira\",email:\"nunofmn@gmail.com\"},{name:\"Oskar Nyberg\",email:\"oskar@oskarnyberg.com\"},{name:\"Pascal Precht\",email:\"pascal.precht@googlemail.com\"},{name:\"Pau Ramon Revilla\",email:\"masylum@gmail.com\"},{name:\"Paulo Rodrigues\",email:\"me@paulogr.com\"},{name:\"Pedro Teixeira\",email:\"i@pgte.me\"},{name:\"RasmusErik Voel Jensen\",email:\"github@solsort.com\"},{name:\"Richard Littauer\",email:\"richard.littauer@gmail.com\"},{name:\"Richard Schneider\",email:\"makaretu@gmail.com\"},{name:\"Rob Brackett\",email:\"rob@robbrackett.com\"},{name:\"Rod Keys\",email:\"rod@zokos.com\"},{name:\"Sangwon Hong\",email:\"qpakzk@gmail.com\"},{name:\"Sid Harder\",email:\"sideharder@gmail.com\"},{name:\"SidHarder\",email:\"softwarenavigator@gmail.com\"},{name:\"Stephen Whitmore\",email:\"stephen.whitmore@gmail.com\"},{name:\"Stephen Whitmore\",email:\"noffle@users.noreply.github.com\"},{name:\"Terence Pae\",email:\"terencepae@gmail.com\"},{name:\"Uroš Jurglič\",email:\"jurglic@gmail.com\"},{name:\"Vasco Santos\",email:\"vasco.santos@ua.pt\"},{name:\"Vasco Santos\",email:\"vasco.santos@moxy.studio\"},{name:\"Volker Mische\",email:\"volker.mische@gmail.com\"},{name:\"Xiao Liang\",email:\"yxliang01@users.noreply.github.com\"},{name:\"Yahya\",email:\"ya7yaz@gmail.com\"},{name:\"bitspill\",email:\"bitspill+github@bitspill.net\"},{name:\"haad\",email:\"haad@headbanggames.com\"},{name:\"jbenet\",email:\"juan@benet.ai\"},{name:\"jonahweissman\",email:\"19804455+jonahweissman@users.noreply.github.com\"},{name:\"kevingzhang\",email:\"kevin.zhang.canada@gmail.com\"},{name:\"kumavis\",email:\"kumavis@users.noreply.github.com\"},{name:\"nginnever\",email:\"ginneversource@gmail.com\"},{name:\"npmcdn-to-unpkg-bot\",email:\"npmcdn-to-unpkg-bot@users.noreply.github.com\"},{name:\"seungwon-kang\",email:\"ksw3894@gmail.com\"},{name:\"tcme\",email:\"hi@this-connect.me\"},{name:\"Łukasz Magiera\",email:\"magik6k@users.noreply.github.com\"},{name:\"ᴠɪᴄᴛᴏʀ ʙᴊᴇʟᴋʜᴏʟᴍ\",email:\"victorbjelkholm@gmail.com\"}],dependencies:{\"@nodeutils/defaults-deep\":\"^1.1.0\",async:\"^2.6.1\",\"big.js\":\"^5.1.2\",\"binary-querystring\":\"~0.1.2\",bl:\"^2.0.1\",boom:\"^7.2.0\",bs58:\"^4.0.1\",byteman:\"^1.3.5\",cids:\"~0.5.3\",debug:\"^3.1.0\",\"file-type\":\"^8.0.0\",filesize:\"^3.6.1\",fnv1a:\"^1.0.1\",\"fsm-event\":\"^2.1.0\",\"get-folder-size\":\"^2.0.0\",glob:\"^7.1.2\",hapi:\"^16.6.2\",\"hapi-set-header\":\"^1.0.2\",hoek:\"^5.0.3\",\"human-to-milliseconds\":\"^1.0.0\",\"interface-datastore\":\"~0.4.2\",\"ipfs-api\":\"^22.2.1\",\"ipfs-bitswap\":\"~0.20.2\",\"ipfs-block\":\"~0.7.1\",\"ipfs-block-service\":\"~0.14.0\",\"ipfs-http-response\":\"~0.1.2\",\"ipfs-mfs\":\"~0.1.0\",\"ipfs-multipart\":\"~0.1.0\",\"ipfs-repo\":\"~0.22.1\",\"ipfs-unixfs\":\"~0.1.15\",\"ipfs-unixfs-engine\":\"~0.30.0\",ipld:\"~0.17.2\",\"ipld-dag-cbor\":\"~0.12.1\",\"ipld-dag-pb\":\"~0.14.5\",\"is-ipfs\":\"~0.3.2\",\"is-pull-stream\":\"~0.0.0\",\"is-stream\":\"^1.1.0\",joi:\"^13.4.0\",\"joi-browser\":\"^13.4.0\",\"joi-multiaddr\":\"^2.0.0\",libp2p:\"~0.22.0\",\"libp2p-bootstrap\":\"~0.9.3\",\"libp2p-circuit\":\"~0.2.0\",\"libp2p-floodsub\":\"~0.15.0\",\"libp2p-kad-dht\":\"~0.10.0\",\"libp2p-keychain\":\"~0.3.1\",\"libp2p-mdns\":\"~0.12.0\",\"libp2p-mplex\":\"~0.8.0\",\"libp2p-secio\":\"~0.10.0\",\"libp2p-tcp\":\"~0.12.0\",\"libp2p-webrtc-star\":\"~0.15.3\",\"libp2p-websocket-star\":\"~0.8.1\",\"libp2p-websockets\":\"~0.12.0\",lodash:\"^4.17.10\",mafmt:\"^6.0.0\",\"mime-types\":\"^2.1.18\",mkdirp:\"~0.5.1\",multiaddr:\"^5.0.0\",multibase:\"~0.4.0\",multihashes:\"~0.4.13\",once:\"^1.4.0\",\"path-exists\":\"^3.0.0\",\"peer-book\":\"~0.8.0\",\"peer-id\":\"~0.11.0\",\"peer-info\":\"~0.14.1\",progress:\"^2.0.0\",\"prom-client\":\"^11.1.1\",\"prometheus-gc-stats\":\"~0.5.1\",\"promisify-es6\":\"^1.0.3\",\"pull-abortable\":\"^4.1.1\",\"pull-defer\":\"~0.2.2\",\"pull-file\":\"^1.1.0\",\"pull-ndjson\":\"~0.1.1\",\"pull-paramap\":\"^1.2.2\",\"pull-pushable\":\"^2.2.0\",\"pull-sort\":\"^1.0.1\",\"pull-stream\":\"^3.6.8\",\"pull-stream-to-stream\":\"^1.3.4\",\"pull-zip\":\"^2.0.1\",\"read-pkg-up\":\"^4.0.0\",\"readable-stream\":\"2.3.6\",\"stream-to-pull-stream\":\"^1.7.2\",\"tar-stream\":\"^1.6.1\",temp:\"~0.8.3\",through2:\"^2.0.3\",\"update-notifier\":\"^2.5.0\",yargs:\"^12.0.1\",\"yargs-parser\":\"^10.1.0\",\"yargs-promise\":\"^1.1.0\"},deprecated:!1,description:\"JavaScript implementation of the IPFS specification\",devDependencies:{aegir:\"^15.0.0\",\"buffer-loader\":\"~0.0.1\",chai:\"^4.1.2\",delay:\"^3.0.0\",\"detect-node\":\"^2.0.3\",\"dir-compare\":\"^1.4.0\",\"dirty-chai\":\"^2.0.1\",\"eslint-plugin-react\":\"^7.10.0\",execa:\"~0.10.0\",\"expose-loader\":\"~0.7.5\",\"form-data\":\"^2.3.2\",hat:\"0.0.3\",\"interface-ipfs-core\":\"~0.72.0\",\"ipfsd-ctl\":\"~0.37.5\",mocha:\"^5.2.0\",ncp:\"^2.0.0\",nexpect:\"~0.5.0\",\"pretty-bytes\":\"^5.1.0\",qs:\"^6.5.2\",\"random-fs\":\"^1.0.3\",rimraf:\"^2.6.2\",\"stream-to-promise\":\"^2.2.0\",\"transform-loader\":\"~0.2.4\"},engines:{node:\">=6.0.0\",npm:\">=3.0.0\"},homepage:\"https://github.com/ipfs/js-ipfs#readme\",keywords:[\"IPFS\"],leadMaintainer:\"Alan Shaw <alan@tableflip.io>\",license:\"MIT\",main:\"src/core/index.js\",name:\"ipfs\",optionalDependencies:{\"prom-client\":\"^11.1.1\",\"prometheus-gc-stats\":\"~0.5.1\"},repository:{type:\"git\",url:\"git+https://github.com/ipfs/js-ipfs.git\"},scripts:{benchmark:'echo \"Error: no benchmarks yet\" && exit 1',\"benchmark:browser\":'echo \"Error: no benchmarks yet\" && exit 1',\"benchmark:node\":'echo \"Error: no benchmarks yet\" && exit 1',\"benchmark:node:core\":'echo \"Error: no benchmarks yet\" && exit 1',\"benchmark:node:http\":'echo \"Error: no benchmarks yet\" && exit 1',build:\"aegir build\",coverage:\"aegir coverage\",\"coverage-publish\":\"aegir-coverage publish\",lint:\"aegir lint\",release:\"aegir release -t node -t browser\",\"release-major\":\"aegir release --type major -t node -t browser\",\"release-minor\":\"aegir release --type minor -t node -t browser\",test:\"aegir test -t node -t browser -t webworker --no-cors\",\"test:bootstrapers\":\"IPFS_TEST=bootstrapers aegir test -t browser -f test/bootstrapers.js\",\"test:browser\":\"aegir test -t browser --no-cors\",\"test:node\":\"aegir test -t node\",\"test:node:cli\":\"aegir test -t node -f test/cli/index.js\",\"test:node:core\":\"aegir test -t node -f test/core/**/*.js\",\"test:node:gateway\":\"aegir test -t node -f test/gateway/index.js\",\"test:node:http\":\"aegir test -t node -f test/http-api/index.js\",\"test:webworker\":\"aegir test -t webworker --no-cors\"},version:\"0.30.1\"}},function(t,e,r){\"use strict\";const n=r(22),i=r(188).repoVersion;t.exports=function(t){return{init:(t,e,r)=>{},version:n(e=>{t._repo._isInitialized(r=>{if(r){return[/Key not found in database \\[\\/version\\]/,/ENOENT/,/repo is not initialized yet/].some(t=>t.test(r.message))?e(null,i):e(r)}t._repo.version.get(e)})}),gc:n((t,e)=>{\"function\"==typeof t&&(e=t,t={}),e(new Error(\"Not implemented\"))}),stat:n((e,r)=>{\"function\"==typeof e&&(r=e,e={}),t._repo.stat(e,(t,e)=>{if(t)return r(t);r(null,{numObjects:e.numObjects,repoSize:e.repoSize,repoPath:e.repoPath,version:e.version.toString(),storageMax:e.storageMax})})}),path:()=>t._repo.path}}},function(t,e,r){\"use strict\";t.exports=(()=>({Addresses:{Swarm:[],API:\"\",Gateway:\"\"},Discovery:{MDNS:{Enabled:!1,Interval:10},webRTCStar:{Enabled:!0}},Bootstrap:[\"/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd\",\"/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3\",\"/dns4/sfo-3.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLPppuBtQSGwKDZT2M73ULpjvfd3aZ6ha4oFGL1KrGM\",\"/dns4/sgp-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLSafTMBsPKadTEgaXctDQVcqN88CNLHXMkTNwMKPnu\",\"/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm\",\"/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64\",\"/dns4/wss0.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic\",\"/dns4/wss1.bootstrap.libp2p.io/tcp/443/wss/ipfs/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6\"]}))},function(t,e,r){\"use strict\";const n=r(1295),i=r(84),o=r(64),s=r(1304),a=r(49).Connection,u=r(1306),c=r(6)(\"libp2p:websockets:dialer\"),f=r(1307);t.exports=o(class{dial(t,e,r){\"function\"==typeof e&&(r=e,e={}),r=r||function(){};const i=u(t);c(\"dialing %s\",i);const o=n(i,{binary:!0,onConnect:t=>{r(t)}}),s=new a(o);return s.getObservedAddrs=(e=>e(null,[t])),s.close=(t=>o.close(t)),s}createListener(t,e){return\"function\"==typeof t&&(e=t,t={}),f(t,e)}filter(t){return Array.isArray(t)||(t=[t]),t.filter(t=>!s(t.protoNames(),\"p2p-circuit\")&&(s(t.protoNames(),\"ipfs\")&&(t=t.decapsulate(\"ipfs\")),i.WebSockets.matches(t)||i.WebSocketsSecure.matches(t)))}},{className:\"WebSockets\",symbolName:\"@libp2p/js-libp2p-websockets/websockets\"})},function(t,e,r){var n=r(1309),i=r(311),o=r(585),s=r(6)(\"socket.io-client\");t.exports=e=u;var a=e.managers={};function u(t,e){\"object\"==typeof t&&(e=t,t=void 0),e=e||{};var r,i=n(t),u=i.source,c=i.id,f=i.path,h=a[c]&&f in a[c].nsps;return e.forceNew||e[\"force new connection\"]||!1===e.multiplex||h?(s(\"ignoring socket cache for %s\",u),r=o(u,e)):(a[c]||(s(\"new io instance for %s\",u),a[c]=o(u,e)),r=a[c]),i.query&&!e.query&&(e.query=i.query),r.socket(i.path,e)}e.protocol=i.protocol,e.connect=u,e.Manager=r(585),e.Socket=r(590)},function(t,e){var r=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,n=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];t.exports=function(t){var e=t,i=t.indexOf(\"[\"),o=t.indexOf(\"]\");-1!=i&&-1!=o&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,\";\")+t.substring(o,t.length));for(var s=r.exec(t||\"\"),a={},u=14;u--;)a[n[u]]=s[u]||\"\";return-1!=i&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,\":\"),a.authority=a.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),a.ipv6uri=!0),a}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==r.call(t)}},function(t,e,r){(function(e){t.exports=function(t){return r&&e.Buffer.isBuffer(t)||n&&(t instanceof e.ArrayBuffer||i(t))};var r=\"function\"==typeof e.Buffer&&\"function\"==typeof e.Buffer.isBuffer,n=\"function\"==typeof e.ArrayBuffer,i=n&&\"function\"==typeof e.ArrayBuffer.isView?e.ArrayBuffer.isView:function(t){return t.buffer instanceof e.ArrayBuffer}}).call(this,r(5))},function(t,e,r){var n=r(1311),i=r(590),o=r(124),s=r(311),a=r(591),u=r(592),c=r(6)(\"socket.io-client:manager\"),f=r(245),h=r(1326),l=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&\"object\"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||\"/socket.io\",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState=\"closed\",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=e.parser||s;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)l.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)l.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return(\"/\"===t?\"\":t+\"#\")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(c(\"readyState %s\",this.readyState),~this.readyState.indexOf(\"open\"))return this;c(\"opening %s\",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,i=this;this.readyState=\"opening\",this.skipReconnect=!1;var o=a(r,\"open\",function(){i.onopen(),t&&t()}),s=a(r,\"error\",function(e){if(c(\"connect_error\"),i.cleanup(),i.readyState=\"closed\",i.emitAll(\"connect_error\",e),t){var r=new Error(\"Connection error\");r.data=e,t(r)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var u=this._timeout;c(\"connect attempt will timeout after %d\",u);var f=setTimeout(function(){c(\"connect attempt timed out after %d\",u),o.destroy(),r.close(),r.emit(\"error\",\"timeout\"),i.emitAll(\"connect_timeout\",u)},u);this.subs.push({destroy:function(){clearTimeout(f)}})}return this.subs.push(o),this.subs.push(s),this},p.prototype.onopen=function(){c(\"open\"),this.cleanup(),this.readyState=\"open\",this.emit(\"open\");var t=this.engine;this.subs.push(a(t,\"data\",u(this,\"ondata\"))),this.subs.push(a(t,\"ping\",u(this,\"onping\"))),this.subs.push(a(t,\"pong\",u(this,\"onpong\"))),this.subs.push(a(t,\"error\",u(this,\"onerror\"))),this.subs.push(a(t,\"close\",u(this,\"onclose\"))),this.subs.push(a(this.decoder,\"decoded\",u(this,\"ondecoded\")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll(\"ping\")},p.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit(\"packet\",t)},p.prototype.onerror=function(t){c(\"error\",t),this.emitAll(\"error\",t)},p.prototype.socket=function(t,e){var r=this.nsps[t];if(!r){r=new i(this,t,e),this.nsps[t]=r;var n=this;r.on(\"connecting\",o),r.on(\"connect\",function(){r.id=n.generateId(t)}),this.autoConnect&&o()}function o(){~f(n.connecting,r)||n.connecting.push(r)}return r},p.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){c(\"writing packet %j\",t);var e=this;t.query&&0===t.type&&(t.nsp+=\"?\"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){c(\"cleanup\");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c(\"disconnect\"),this.skipReconnect=!0,this.reconnecting=!1,\"opening\"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.engine&&this.engine.close()},p.prototype.onclose=function(t){c(\"onclose\"),this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.emit(\"close\",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c(\"reconnect failed\"),this.backoff.reset(),this.emitAll(\"reconnect_failed\"),this.reconnecting=!1;else{var e=this.backoff.duration();c(\"will wait %dms before reconnect attempt\",e),this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(c(\"attempting reconnect\"),t.emitAll(\"reconnect_attempt\",t.backoff.attempts),t.emitAll(\"reconnecting\",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(c(\"reconnect attempt error\"),t.reconnecting=!1,t.reconnect(),t.emitAll(\"reconnect_error\",e.data)):(c(\"reconnect success\"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll(\"reconnect\",t)}},function(t,e,r){(function(t){var n=r(312),i=r(1314),o=r(1322),s=r(1323);e.polling=function(e){var r=!1,s=!1,a=!1!==e.jsonp;if(t.location){var u=\"https:\"===location.protocol,c=location.port;c||(c=u?443:80),r=e.hostname!==location.hostname||c!==e.port,s=e.secure!==u}if(e.xdomain=r,e.xscheme=s,\"open\"in new n(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error(\"JSONP disabled\");return new o(e)},e.websocket=s}).call(this,r(5))},function(t,e,r){var n=r(313),i=r(219),o=r(125),s=r(220),a=r(589),u=r(6)(\"engine.io-client:polling\");t.exports=f;var c=null!=new(r(312))({xdomain:!1}).responseType;function f(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),n.call(this,t)}s(f,n),f.prototype.name=\"polling\",f.prototype.doOpen=function(){this.poll()},f.prototype.pause=function(t){var e=this;function r(){u(\"paused\"),e.readyState=\"paused\",t()}if(this.readyState=\"pausing\",this.polling||!this.writable){var n=0;this.polling&&(u(\"we are currently polling - waiting to pause\"),n++,this.once(\"pollComplete\",function(){u(\"pre-pause polling complete\"),--n||r()})),this.writable||(u(\"we are currently writing - waiting to pause\"),n++,this.once(\"drain\",function(){u(\"pre-pause writing complete\"),--n||r()}))}else r()},f.prototype.poll=function(){u(\"polling\"),this.polling=!0,this.doPoll(),this.emit(\"poll\")},f.prototype.onData=function(t){var e=this;u(\"polling got data %s\",t);o.decodePayload(t,this.socket.binaryType,function(t,r,n){if(\"opening\"===e.readyState&&e.onOpen(),\"close\"===t.type)return e.onClose(),!1;e.onPacket(t)}),\"closed\"!==this.readyState&&(this.polling=!1,this.emit(\"pollComplete\"),\"open\"===this.readyState?this.poll():u('ignoring poll - transport state \"%s\"',this.readyState))},f.prototype.doClose=function(){var t=this;function e(){u(\"writing close packet\"),t.write([{type:\"close\"}])}\"open\"===this.readyState?(u(\"transport open - closing\"),e()):(u(\"transport not open - deferring close\"),this.once(\"open\",e))},f.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit(\"drain\")};o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},f.prototype.uri=function(){var t=this.query||{},e=this.secure?\"https\":\"http\",r=\"\";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&(\"https\"===e&&443!==Number(this.port)||\"http\"===e&&80!==Number(this.port))&&(r=\":\"+this.port),t.length&&(t=\"?\"+t),e+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+r+this.path+t}},function(t,e,r){(function(e){var n=r(1316),i=Object.prototype.toString,o=\"function\"==typeof Blob||\"undefined\"!=typeof Blob&&\"[object BlobConstructor]\"===i.call(Blob),s=\"function\"==typeof File||\"undefined\"!=typeof File&&\"[object FileConstructor]\"===i.call(File);t.exports=function t(r){if(!r||\"object\"!=typeof r)return!1;if(n(r)){for(var i=0,a=r.length;i<a;i++)if(t(r[i]))return!0;return!1}if(\"function\"==typeof e&&e.isBuffer&&e.isBuffer(r)||\"function\"==typeof ArrayBuffer&&r instanceof ArrayBuffer||o&&r instanceof Blob||s&&r instanceof File)return!0;if(r.toJSON&&\"function\"==typeof r.toJSON&&1===arguments.length)return t(r.toJSON(),!0);for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)&&t(r[u]))return!0;return!1}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n,i=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),o=64,s={},a=0,u=0;function c(t){var e=\"\";do{e=i[t%o]+e,t=Math.floor(t/o)}while(t>0);return e}function f(){var t=c(+new Date);return t!==n?(a=0,n=t):t+\".\"+c(a++)}for(;u<o;u++)s[i[u]]=u;f.encode=c,f.decode=function(t){var e=0;for(u=0;u<t.length;u++)e=e*o+s[t.charAt(u)];return e},t.exports=f},function(t,e,r){var n=r(311),i=r(124),o=r(1325),s=r(591),a=r(592),u=r(6)(\"socket.io-client:socket\"),c=r(219),f=r(588);t.exports=p;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=i.prototype.emit;function p(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,\"open\",a(this,\"onopen\")),s(t,\"packet\",a(this,\"onpacket\")),s(t,\"close\",a(this,\"onclose\"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),\"open\"===this.io.readyState&&this.onopen(),this.emit(\"connecting\"),this)},p.prototype.send=function(){var t=o(arguments);return t.unshift(\"message\"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(h.hasOwnProperty(t))return l.apply(this,arguments),this;var e=o(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:f(e))?n.BINARY_EVENT:n.EVENT,data:e,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,\"function\"==typeof e[e.length-1]&&(u(\"emitting packet with ack id %d\",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(u(\"transport is open - connecting\"),\"/\"!==this.nsp)if(this.query){var t=\"object\"==typeof this.query?c.encode(this.query):this.query;u(\"sending connect packet with query %s\",t),this.packet({type:n.CONNECT,query:t})}else this.packet({type:n.CONNECT})},p.prototype.onclose=function(t){u(\"close (%s)\",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit(\"disconnect\",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,r=t.type===n.ERROR&&\"/\"===t.nsp;if(e||r)switch(t.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(t);break;case n.ACK:case n.BINARY_ACK:this.onack(t);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit(\"error\",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];u(\"emitting event %j\",e),null!=t.id&&(u(\"attaching ack callback to event\"),e.push(this.ack(t.id))),this.connected?l.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var i=o(arguments);u(\"sending ack %j\",i),e.packet({type:f(i)?n.BINARY_ACK:n.ACK,id:t,data:i})}}},p.prototype.onack=function(t){var e=this.acks[t.id];\"function\"==typeof e?(u(\"calling ack %s with %j\",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u(\"bad ack %s\",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit(\"connect\"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)l.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){u(\"server disconnect (%s)\",this.nsp),this.destroy(),this.onclose(\"io server disconnect\")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(u(\"performing disconnect (%s)\",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}},function(t,e){var r=[].slice;t.exports=function(t,e){if(\"string\"==typeof e&&(e=t[e]),\"function\"!=typeof e)throw new Error(\"bind() requires a function\");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},function(t,e,r){\"use strict\";(function(t){const n=r(314),i=r(315)(),o=r(1331),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1336);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(314),i=r(315)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1339),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(162).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1343)},function(t,e,r){\"use strict\";const n=r(1),i=r(126),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(126),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(126).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(596);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e){t.exports=function(t){!function e(){var r=!0,n=!1;do{n=!0,r=!1,t.call(this,function(){n?r=!0:e()}),n=!1}while(r)}()}},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(1358),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(317),i=r(318)(),o=r(1359),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1364);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(317),i=r(318)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1367),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(163).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1371)},function(t,e,r){\"use strict\";const n=r(1),i=r(127),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(127),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(127).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(608);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){\"use strict\";(function(n){const i=r(63),o=r(604),s=r(117),a=r(84);const u={string:t=>\"string\"==typeof t,object:t=>\"object\"==typeof t,multiaddr:t=>{if(u.string(t))try{return i(t),!0}catch(t){return!1}},function:t=>\"function\"==typeof t};function c(t,e){if(!Array.isArray(e))throw new Error(\"Data is not an array\");t.forEach((t,r)=>{if(!u[t])throw console.error(\"Type %s does not exist\",t),new Error(\"Type \"+t+\" does not exist\");if(!u[t](e[r]))throw new Error(\"Data at index \"+r+\" is invalid for type \"+t)})}(e=t.exports).cleanUrlSIO=function(t){const e=t.protos(),r=e[0].name,n=e[1].name,i=e[2].name,o=t.stringTuples(),s=o[1][1];if(\"tcp\"!==n||\"ws\"!==i&&\"wss\"!==i)throw new Error(\"invalid multiaddr: \"+t.toString());let a=o[0][1];\"ip6\"===r&&(a=\"[\"+a+\"]\");let u=\"ws\"===i&&80===s||\"wss\"===i&&443===s?\"\":s;return(\"wss\"===i?\"https\":\"http\")+\"://\"+a+(u?\":\"+u:\"\")},e.validate=c,e.Protocol=function(t){t||(t=(()=>{}));const e=this;e.requests={},e.addRequest=((t,r,n)=>{e.requests[t]={def:r,handle:n}}),e.handleSocket=(r=>{r.r={},Object.keys(e.requests).forEach(n=>{const i=e.requests[n];r.on(n,function(){const e=[...arguments];try{c(i.def,e),e.unshift(r),i.handle.apply(null,e)}catch(i){t(i),t(\"peer %s has sent invalid data for request %s\",r.id||\"<server>\",n,e)}})})})},e.getIdAndValidate=function(t,e,r){o.createFromPubKey(n.from(t,\"hex\"),(i,o)=>i?r(new Error(\"Crypto error\")):o.toB58String()!==e?r(new Error(\"Id is not matching\")):r(null,s.keys.unmarshalPublicKey(n.from(t,\"hex\"))))},e.validateMa=(t=>a.WebSocketStar.matches(i(t)))}).call(this,r(0).Buffer)},function(t,e,r){var n=r(1385),i=r(253),o=i;o.v1=n,o.v4=i,t.exports=o},function(t,e,r){var n=r(72),i=function(){},o=function(t,e,r){if(\"function\"==typeof e)return o(t,null,e);e||(e={}),r=n(r||i);var s=t._writableState,a=t._readableState,u=e.readable||!1!==e.readable&&t.readable,c=e.writable||!1!==e.writable&&t.writable,f=function(){t.writable||h()},h=function(){c=!1,u||r.call(t)},l=function(){u=!1,c||r.call(t)},p=function(e){r.call(t,e?new Error(\"exited with error code: \"+e):null)},d=function(e){r.call(t,e)},y=function(){return(!u||a&&a.ended)&&(!c||s&&s.ended)?void 0:r.call(t,new Error(\"premature close\"))},m=function(){t.req.on(\"finish\",h)};return!function(t){return t.setHeader&&\"function\"==typeof t.abort}(t)?c&&!s&&(t.on(\"end\",f),t.on(\"close\",f)):(t.on(\"complete\",h),t.on(\"abort\",y),t.req?m():t.on(\"request\",m)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on(\"exit\",p),t.on(\"end\",l),t.on(\"finish\",h),!1!==e.error&&t.on(\"error\",d),t.on(\"close\",y),function(){t.removeListener(\"complete\",h),t.removeListener(\"abort\",y),t.removeListener(\"request\",m),t.req&&t.req.removeListener(\"finish\",h),t.removeListener(\"end\",f),t.removeListener(\"close\",f),t.removeListener(\"finish\",h),t.removeListener(\"exit\",p),t.removeListener(\"end\",l),t.removeListener(\"error\",d),t.removeListener(\"close\",y)}};t.exports=o},function(t,e,r){\"use strict\";t.exports=\"/mplex/6.7.0\"},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(323),i=r(324)(),o=r(1401),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(323),i=r(324)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1406),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(165).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1410)},function(t,e,r){\"use strict\";const n=r(1),i=r(128),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(128),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(128).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(621);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){\"use strict\";(function(t){const n=r(327),i=r(328)(),o=r(1430),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1435);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(327),i=r(328)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1438),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(167).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1442)},function(t,e,r){\"use strict\";const n=r(1),i=r(129),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(129),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(129).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(631);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){\"use strict\";(function(t){const n=r(331),i=r(332)(),o=r(1465),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1470);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(331),i=r(332)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1473),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(168).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1477)},function(t,e,r){\"use strict\";const n=r(1),i=r(130),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(130),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(130).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(641);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){(function(e){var r=\"[object AsyncFunction]\",n=\"[object Function]\",i=\"[object GeneratorFunction]\",o=\"[object Null]\",s=\"[object Proxy]\",a=\"[object Undefined]\",u=\"object\"==typeof e&&e&&e.Object===Object&&e,c=\"object\"==typeof self&&self&&self.Object===Object&&self,f=u||c||Function(\"return this\")(),h=Object.prototype,l=h.hasOwnProperty,p=h.toString,d=f.Symbol,y=d?d.toStringTag:void 0;function m(t){return null==t?void 0===t?a:o:y&&y in Object(t)?function(t){var e=l.call(t,y),r=t[y];try{t[y]=void 0;var n=!0}catch(t){}var i=p.call(t);n&&(e?t[y]=r:delete t[y]);return i}(t):function(t){return p.call(t)}(t)}t.exports=function(t){if(!function(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}(t))return!1;var e=m(t);return e==n||e==i||e==r||e==s}}).call(this,r(5))},function(t,e,r){\"use strict\";(function(e){const n=r(108),i=r(55),o=r(223).writeEncoded;t.exports=function(t,r,s){const a=n({timeout:6e4},r),u=a.handshake;return s(\"writing multicodec: \"+t),o(u,e.from(t+\"\\n\"),r),i.decodeFromReader(u,(e,n)=>{if(e)return r(e);const i=n.toString().slice(0,-1);if(i!==t)return r(new Error(`\"${t}\" not supported`),u.rest());s(\"received ack: \"+i),r(null,u.rest())}),a}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e){return function(r,o,s,a){a=a||n.default;var u,c=!1;r(o,function(r,n,o){s(r,function(n,s){n?o(n):t(s)&&!u?(c=!0,u=e(!0,r),o(null,i.default)):o()})},function(t){t?a(t):a(null,c?u:e(!1))})}};var n=o(r(65)),i=o(r(250));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";t.exports=function(t,e,r){r(null,t===e)}},function(t,e,r){\"use strict\";t.exports.PROTOCOL_ID=\"/multistream/1.0.0\"},function(t,e,r){\"use strict\";t.exports=r(1495)},function(t,e,r){\"use strict\";(function(t){const n=r(337),i=r(338)(),o=r(1500),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1505);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(337),i=r(338)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1508),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(171).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1512)},function(t,e,r){\"use strict\";const n=r(1),i=r(131),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(131),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(131).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(657);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){var n=r(665);t.exports=function(t,e,r){\"__proto__\"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},function(t,e,r){var n=r(342),i=function(){try{var t=n(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}();t.exports=i},function(t,e,r){\"use strict\";const n=r(2);t.exports={tag:\"/plaintext/1.0.0\",encrypt:(t,e,r,i)=>(\"function\"==typeof r&&(i=r,r=void 0),n(()=>i()),e)}},function(t,e,r){\"use strict\";const n=r(1547),i=r(54),o=r(63);t.exports=function(t,e){let r;if(i.isPeerInfo(t))return t;if(o.isMultiaddr(t)){const o=t.getPeerId();try{r=e.get(o)}catch(t){r=new i(n.createFromB58String(o))}return r.multiaddrs.add(t),r}if(n.isPeerId(t)){const r=t.toB58String();try{return e.get(r)}catch(t){throw new Error(\"Couldnt get PeerInfo\")}}throw new Error(\"peer type not recognized\")}},function(t,e,r){\"use strict\";(function(t){const n=r(344),i=r(345)(),o=r(1549),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1554);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(344),i=r(345)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1557),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(173).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1561)},function(t,e,r){\"use strict\";const n=r(1),i=r(132),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(132),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(132).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(671);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){\"use strict\";const n=r(49).Connection,i=r(9);t.exports=((t,e,r,o)=>{const s=new Promise((t,e)=>{r.getPeerInfo((e,n)=>{if(!e&&n)return void t(n);const i=r.setPeerInfo;r.setPeerInfo=(e=>{i.call(r,e),t(e)})})}),a={source:i(r,o.incoming(t,e,s)),sink:i(o.outgoing(t,e,s),r)};return new n(a,r)})},function(t,e,r){var n=r(1588);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&\"env\"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(1618)).log=function(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?\"%c\":\"\")+this.namespace+(r?\" %c\":\" \")+t[0]+(r?\"%c \":\" \")+\"+\"+e.humanize(this.diff),!r)return;var n=\"color: \"+this.color;t.splice(1,0,n,\"color: inherit\");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){\"%%\"!==t&&\"%c\"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem(\"debug\"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if(\"undefined\"!=typeof window&&window.process&&\"renderer\"===window.process.type)return!0;return\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},e.storage=\"undefined\"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return\"[UnexpectedJSONParseError]: \"+t.message}},e.enable(i())}).call(this,r(7))},function(t,e,r){\"use strict\";const n=r(11),i=n(r(1628)),o=n(r(1629));(e=t.exports).rpc=i,e.td=o},function(t,e,r){\"use strict\";(function(t){const n=r(349),i=r(350)(),o=r(1635),s={SHA1:\"SHA-1\",SHA256:\"SHA-256\",SHA512:\"SHA-512\"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey(\"raw\",r,{name:\"HMAC\",hash:{name:u}},!1,[\"sign\"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:\"HMAC\"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1640);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(2);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,\"hex\")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(349),i=r(350)();function o(t){return Promise.all([i.subtle.exportKey(\"jwk\",t.privateKey),i.subtle.exportKey(\"jwk\",t.publicKey)])}e.utils=r(1643),e.generateKey=function(t,e){n(i.subtle.generateKey({name:\"RSASSA-PKCS1-v1_5\",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:\"SHA-256\"}},!0,[\"sign\",\"verify\"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"sign\"]);n(Promise.all([r,function(t){return i.subtle.importKey(\"jwk\",{kty:t.kty,n:t.n,e:t.e},{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!0,[\"verify\"])}(t)]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey(\"jwk\",e,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"sign\"]).then(t=>i.subtle.sign({name:\"RSASSA-PKCS1-v1_5\"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey(\"jwk\",t,{name:\"RSASSA-PKCS1-v1_5\",hash:{name:\"SHA-256\"}},!1,[\"verify\"]).then(t=>i.subtle.verify({name:\"RSASSA-PKCS1-v1_5\"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1),i=r(174).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error(\"Input not Buffer\")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if(\"number\"==typeof t){if(!(0<=t&&t<=255))return e.error(\"non-byte EncoderBuffer value\");this.value=t,this.length=1}else if(\"string\"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error(\"Unsupported type: \"+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||\"DecoderBuffer overrun\")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||\"DecoderBuffer overrun\");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):(\"number\"==typeof this.value?t[e]=this.value:\"string\"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){\"use strict\";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1647)},function(t,e,r){\"use strict\";const n=r(1),i=r(133),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,\"der\",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error(\"length octect is too long\");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: \"'+e+'\"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+\"of\"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of \"'+e+'\"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of \"'+e+'\"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+\"of\"!==e)return t.error('Failed to match tag: \"'+e+'\"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: \"'+e+'\"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: \"'+this.tag+'\"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: \"'+e+'\"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if(\"end\"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,\"end\");if(t.isError(e))return e;const o=r.decode(t,\"der\",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if(\"bitstr\"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if(\"bmpstr\"===e){const e=t.raw();if(e.length%2==1)return t.error(\"Decoding of string type: bmpstr length mismatch\");let r=\"\";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if(\"numstr\"===e){const e=t.raw().toString(\"ascii\");return this._isNumstr(e)?e:t.error(\"Decoding of string type: numstr unsupported characters\")}if(\"octstr\"===e)return t.raw();if(\"objDesc\"===e)return t.raw();if(\"printstr\"===e){const e=t.raw().toString(\"ascii\");return this._isPrintstr(e)?e:t.error(\"Decoding of string type: printstr unsupported characters\")}return/str$/.test(e)?t.raw().toString():t.error(\"Decoding of string type: \"+e+\" unsupported\")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(\" \")];void 0===t&&(t=e[n.join(\".\")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if(\"gentime\"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if(\"utctime\"!==e)return t.error(\"Decoding \"+e+\" time is not supported yet\");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getDecoder(\"der\").tree}},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(133),s=o.base,a=o.constants.der;function u(t){this.enc=\"der\",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,\"der\",t)}function f(t){return t<10?\"0\"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;\"seqof\"===t?t=\"seq\":\"setof\"===t&&(t=\"set\");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if(\"number\"!=typeof t||(0|t)!==t)return n.error(\"Unknown tag: \"+t);i=t}if(i>=31)return n.error(\"Multi-octet tag encoding unsupported\");e||(i|=32);return i|=a.tagClassByName[r||\"universal\"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if(\"bitstr\"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if(\"bmpstr\"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return\"numstr\"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: numstr supports only digits and space\"):\"printstr\"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark\"):/str$/.test(e)?this._createEncoderBuffer(t):\"objDesc\"===e?this._createEncoderBuffer(t):this.reporter.error(\"Encoding of string type: \"+e+\" unsupported\")},c.prototype._encodeObjid=function(t,e,r){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"string objid given, but no values map found\");if(!e.hasOwnProperty(t))return this.reporter.error(\"objid not found in values map\");t=e[t].split(/[\\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error(\"objid() should be either array or string, got: \"+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error(\"Second objid identifier OOB\");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return\"gentime\"===e?r=[f(n.getUTCFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):\"utctime\"===e?r=[f(n.getUTCFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),\"Z\"].join(\"\"):this.reporter.error(\"Encoding \"+e+\" time is not supported yet\"),this._encodeStr(r,\"octstr\")},c.prototype._encodeNull=function(){return this._createEncoderBuffer(\"\")},c.prototype._encodeInt=function(t,e){if(\"string\"==typeof t){if(!e)return this.reporter.error(\"String int or enum given, but no values map\");if(!e.hasOwnProperty(t))return this.reporter.error(\"Values map doesn't contain: \"+JSON.stringify(t));t=e[t]}if(\"number\"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return\"function\"==typeof t&&(t=t(e)),t._getEncoder(\"der\").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){\"use strict\";(function(t){const n=r(133).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,\"be\",r).toString(\"base64\").replace(/(=*)$/,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")},e.toBn=function(e){return new n(t.from(e,\"base64\"))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(685);t.exports=function(t){if(!t||\"number\"!=typeof t)throw new Error(\"first argument must be a Number bigger than 0\");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){\"use strict\";var n=r(1659);t.exports=function(){var t={};return n.toArray(arguments).reverse().forEach(function(e){n.mergeWith(t,e,function(t,e){return n.isArray(e)?e:void 0})}),t}},function(t,e){t.exports=function(t){var e,r,n;function i(t){return r=t,function(t,i){n?e=[t,i]:r(t,i)}}return i.pause=function(){n||(n=!0,t&&t(n))},i.resume=function(){if(n&&(n=!1,t&&t(n),e)){var i=e;e=null,r(i[0],i[1])}},i}},function(t,e,r){\"use strict\";var n=t.exports=function(t){return null!==t&&\"object\"==typeof t&&\"function\"==typeof t.pipe};n.writable=function(t){return n(t)&&!1!==t.writable&&\"function\"==typeof t._write&&\"object\"==typeof t._writableState},n.readable=function(t){return n(t)&&!1!==t.readable&&\"function\"==typeof t._read&&\"object\"==typeof t._readableState},n.duplex=function(t){return n.writable(t)&&n.readable(t)},n.transform=function(t){return n.duplex(t)&&\"function\"==typeof t._transform&&\"object\"==typeof t._transformState}},function(t,e){function r(t){return\"function\"==typeof t}function n(t){return r(t)&&2===t.length}function i(t){return r(t)&&1===t.length}e.isDuplex=function(t){return\"object\"==typeof t&&n(t.source)&&i(t.sink)},e.isSource=n,e.isSink=i},function(t,e,r){\"use strict\";const n=r(228).OFFLINE_ERROR,i=r(22),o=r(2),s=r(697),a=r(13),u=r(116);function c(t){return Array.from(t).map(t=>({\"/\":t[1].cid.toBaseEncodedString()}))}t.exports=function(t){return{wantlist:i((e,r)=>{if(r||(r=e,e=void 0),!t.isOnline())return o(()=>r(new Error(n)));let i;if(e){try{e=u.createFromB58String(e)}catch(t){e=null}if(!e)return o(()=>r(new Error(\"Invalid peerId\")));i=t._bitswap.wantlistForPeer(e)}else i=t._bitswap.getWantlist();return i=c(i),o(()=>r(null,{Keys:i}))}),stat:i(e=>{if(!t.isOnline())return o(()=>e(new Error(n)));const r=t._bitswap.stat().snapshot;e(null,{provideBufLen:parseInt(r.providesBufferLength.toString()),blocksReceived:new s(r.blocksReceived),wantlist:c(t._bitswap.getWantlist()),peers:t._bitswap.peers().map(t=>t.toB58String()),dupBlksReceived:new s(r.dupBlksReceived),dupDataReceived:new s(r.dupDataReceived),dataReceived:new s(r.dataReceived),blocksSent:new s(r.blocksSent),dataSent:new s(r.dataSent)})}),unwant:i((e,r)=>t.isOnline()?(Array.isArray(e)||(e=[e]),e=e.map(t=>a.isCID(t)?t:new a(t)),o(()=>r(null,t._bitswap.unwant(e)))):o(()=>r(new Error(n))))}}},function(t,e,r){var n;!function(i){\"use strict\";var o,s=20,a=1,u=1e6,c=-7,f=21,h=\"[big.js] \",l=h+\"Invalid \",p=l+\"decimal places\",d=l+\"rounding mode\",y={},m=void 0,g=/^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;function b(t,e,r,n){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===r)n=i[o]>=5;else if(2===r)n=i[o]>5||5==i[o]&&(n||o<0||i[o+1]!==m||1&i[o-1]);else if(3===r)n=n||i[o]!==m||o<0;else if(n=!1,0!==r)throw Error(d);if(o<1)i.length=1,n?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(r<0||r>3||r!==~~r)throw Error(d);return t}function v(t,e,r,n){var i,o,s=t.constructor,a=!t.c[0];if(r!==m){if(r!==~~r||r<(3==e)||r>u)throw Error(3==e?l+\"precision\":p);for(r=n-(t=new s(t)).e,t.c.length>++n&&b(t,r,s.RM),2==e&&(n=t.e+r+1);t.c.length<n;)t.c.push(0)}if(i=t.e,r=(o=t.c.join(\"\")).length,2!=e&&(1==e||3==e&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(r>1?\".\"+o.slice(1):\"\")+(i<0?\"e\":\"e+\")+i;else if(i<0){for(;++i;)o=\"0\"+o;o=\"0.\"+o}else if(i>0)if(++i>r)for(i-=r;i--;)o+=\"0\";else i<r&&(o=o.slice(0,i)+\".\"+o.slice(i));else r>1&&(o=o.charAt(0)+\".\"+o.slice(1));return t.s<0&&(!a||4==e)?\"-\"+o:o}y.abs=function(){var t=new this.constructor(this);return t.s=1,t},y.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,s=t.s,a=r.e,u=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(e=o<0,a!=u)return a>u^e?1:-1;for(s=(a=n.length)<(u=i.length)?a:u,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return a==u?0:a>u^e?1:-1},y.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,o=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>u)throw Error(p);if(!i[0])throw Error(\"[big.js] Division by zero\");if(!n[0])return new r(0*o);var a,c,f,h,l,d=i.slice(),y=a=i.length,g=n.length,v=n.slice(0,a),_=v.length,w=t,S=w.c=[],k=0,E=s+(w.e=e.e-t.e)+1;for(w.s=o,o=E<0?0:E,d.unshift(0);_++<a;)v.push(0);do{for(f=0;f<10;f++){if(a!=(_=v.length))h=a>_?1:-1;else for(l=-1,h=0;++l<a;)if(i[l]!=v[l]){h=i[l]>v[l]?1:-1;break}if(!(h<0))break;for(c=_==a?i:d;_;){if(v[--_]<c[_]){for(l=_;l&&!v[--l];)v[l]=9;--v[l],v[_]+=10}v[_]-=c[_]}for(;!v[0];)v.shift()}S[k++]=h?f:++f,v[0]&&h?v[_]=n[y]||0:v=[n[y]]}while((y++<g||v[0]!==m)&&o--);return S[0]||1==k||(S.shift(),w.e--),k>E&&b(w,s,r.RM,v[0]!==m),w},y.eq=function(t){return!this.cmp(t)},y.gt=function(t){return this.cmp(t)>0},y.gte=function(t){return this.cmp(t)>-1},y.lt=function(t){return this.cmp(t)<0},y.lte=function(t){return this.cmp(t)<1},y.minus=y.sub=function(t){var e,r,n,i,o=this,s=o.constructor,a=o.s,u=(t=new s(t)).s;if(a!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,h=t.c,l=t.e;if(!c[0]||!h[0])return h[0]?(t.s=-u,t):new s(c[0]?o:0);if(a=f-l){for((i=a<0)?(a=-a,n=c):(l=f,n=h),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(r=((i=c.length<h.length)?c:h).length,a=u=0;u<r;u++)if(c[u]!=h[u]){i=c[u]<h[u];break}if(i&&(n=c,c=h,h=n,t.s=-t.s),(u=(r=h.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;r>a;){if(c[--r]<h[r]){for(e=r;e&&!c[--e];)c[e]=9;--c[e],c[r]+=10}c[r]-=h[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--l;return c[0]||(t.s=1,c=[l=0]),t.c=c,t.e=l,t},y.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error(\"[big.js] Division by zero\");return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},y.plus=y.add=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,r.minus(t);var s=r.e,a=r.c,u=t.e,c=t.c;if(!a[0]||!c[0])return c[0]?t:new n(a[0]?r:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,e=c):(i=-i,e=a),e.reverse();i--;)e.push(0);e.reverse()}for(a.length-c.length<0&&(e=c,c=a,a=e),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];)a.pop();return t.c=a,t.e=u,t},y.pow=function(t){var e=this,r=new e.constructor(1),n=r,i=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(l+\"exponent\");for(i&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return i?r.div(n):n},y.round=function(t,e){var r=this.constructor;if(t===m)t=0;else if(t!==~~t||t<0||t>u)throw Error(p);return b(new r(this),t,e===m?r.RM:e)},y.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,s=n.e,a=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(h+\"No square root\");0===(o=Math.sqrt(n.toString()))||o===1/0?((e=n.c.join(\"\")).length+s&1||(e+=\"0\"),(t=new i(Math.sqrt(e).toString())).e=((s+1)/2|0)-(s<0||1&s)):t=new i(o.toString()),s=t.e+(i.DP+=4);do{r=t,t=a.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join(\"\")!==t.c.slice(0,s).join(\"\"));return b(t,i.DP-=4,i.RM)},y.times=y.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,s=i.length,a=o.length,u=r.e,c=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return new n(0*t.s);for(t.e=u+c,s<a&&(e=i,i=o,o=e,c=s,s=a,a=c),e=new Array(c=s+a);c--;)e[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=e[c]+o[u]*i[c-u-1]+a,e[c--]=a%10,a=a/10|0;e[c]=(e[c]+a)%10}for(a?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},y.toExponential=function(t){return v(this,1,t,t)},y.toFixed=function(t){return v(this,2,t,this.e+t)},y.toPrecision=function(t){return v(this,3,t,t-1)},y.toString=function(){return v(this)},y.valueOf=y.toJSON=function(){return v(this,4)},(o=function t(){function e(r){var n=this;if(!(n instanceof e))return r===m?t():new e(r);r instanceof e?(n.s=r.s,n.e=r.e,n.c=r.c.slice()):function(t,e){var r,n,i;if(0===e&&1/e<0)e=\"-0\";else if(!g.test(e+=\"\"))throw Error(l+\"number\");for(t.s=\"-\"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf(\".\"))>-1&&(e=e.replace(\".\",\"\")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&\"0\"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&\"0\"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(n,r),n.constructor=e}return e.prototype=y,e.DP=s,e.RM=a,e.NE=c,e.PE=f,e.version=\"5.0.2\",e}()).default=o.Big=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){\"use strict\";t.exports=r(1718)},function(t,e){t.exports={WORKER_REQUEST_READ_LOCK:\"lock:worker:request-read\",WORKER_RELEASE_READ_LOCK:\"lock:worker:release-read\",MASTER_GRANT_READ_LOCK:\"lock:master:grant-read\",WORKER_REQUEST_WRITE_LOCK:\"lock:worker:request-write\",WORKER_RELEASE_WRITE_LOCK:\"lock:worker:release-write\",MASTER_GRANT_WRITE_LOCK:\"lock:master:grant-write\"}},function(t,e){const r={},n=t=>{t.addEventListener(\"message\",e=>{n.dispatchEvent(\"message\",t,e)}),t.port&&t.port.addEventListener(\"message\",e=>{n.dispatchEvent(\"message\",t,e)})};n.addEventListener=((t,e)=>{r[t]||(r[t]=[]),r[t].push(e)}),n.removeEventListener=((t,e)=>{r[t]&&(r[t]=r[t].filter(t=>t===e))}),n.dispatchEvent=function(){const t=Array.prototype.slice.call(arguments),e=t.shift();r[e]&&r[e].forEach(e=>e.apply(null,t))},t.exports=n},function(t,e,r){\"use strict\";const n=r(4),{DAGNode:i}=r(48),o={format:\"dag-pb\",hashAlg:\"sha2-256\"};t.exports=((t,e,r,s,a)=>{s=Object.assign({},o,s),n([t=>i.create(e,r,t),(e,r)=>{t.dag.put(e,{format:s.format,hashAlg:s.hashAlg},t=>r(t,e))}],a)})},function(t,e,r){\"use strict\";t.exports=(t=>{return t(!0)})},function(t,e,r){\"use strict\";const n=r(144);t.exports=function(t,e){const r=(t=t.slice()).filter(t=>\"function\"==typeof t).pop(),i=Object.assign({},e,t.filter(t=>\"object\"==typeof t).pop()||{});return Array.isArray(t[0])&&(t=t[0]),{sources:t.filter(t=>\"string\"==typeof t).map(t=>({path:t=t.trim(),name:n.basename(t),dir:n.dirname(t)})),options:i,callback:r}}},function(t,e,r){\"use strict\";const n=r(8),i=r(13),o=r(6)(\"ipfs:mfs:utils:with-mfs-root\"),s=r(4),{MFS_ROOT_KEY:a}=r(176);t.exports=((t,e)=>{const r=t._repo,u=r&&r.datastore;if(!r||!u)return e(new Error(\"Please run jsipfs init first\"));s([t=>u.open(e=>t(e)),e=>{u.get(a,(i,c)=>{if(i&&i.notFound)return o(\"Creating new MFS root\"),s([e=>t.files.add({path:\"/\"},e),([{hash:t}],e)=>e(null,n.decode(t)),(t,e)=>r.closed?u.open(r=>e(r,t)):e(null,t),(t,e)=>u.put(a,t,r=>e(r,t))],e);e(i,c)})},(t,e)=>{o(`Fetched MFS root ${n.encode(t)}`),e(null,new i(t))}],e)})},function(t,e,r){\"use strict\";const{FILE_SEPARATOR:n}=r(176);t.exports=((t,e)=>{if(!(t=(t||\"\").trim()))return e(new Error(\"paths must not be empty\"));if(t.substring(0,1)!==n)return e(new Error(`paths must start with a leading ${n}`));t.substring(t.length-n.length)===n&&(t=t.substring(0,t.length-n.length));const r=t.split(n).filter(Boolean),i=r.pop(),o=`${n}${r.join(n)}`;if(\"/ipfs\"===t.substring(0,\"/ipfs\".length))return e(null,{type:\"ifps\",path:t.substring(\"/ipfs\".length+1),directory:o,name:i});e(null,{type:\"mfs\",path:t||n,directory:o,name:i})})},function(t,e,r){\"use strict\";const n=r(47).unmarshal,i=r(8),{traverseTo:o}=r(50),s=r(4),a=r(6)(\"ipfs:mfs:stat\"),u={hash:!1,size:!1,withLocal:!1};t.exports=(t=>(function(e,r,c){\"function\"==typeof r&&(c=r,r={}),r=Object.assign({},u,r),a(`Fetching stats for ${e}`),s([r=>o(t,e,{withCreateHint:!1},r),({node:t},e)=>{if(r.hash)return e(null,{hash:i.encode(t.multihash)});if(r.size)return e(null,{size:t.size});const o=n(t.data);let s=t.links.length;\"file\"===o.type&&(s=o.blockSizes.length),e(null,{hash:i.encode(t.multihash),size:o.fileSize()||0,cumulativeSize:t.size,blocks:s,type:o.type,local:void 0,sizeLocal:void 0,withLocality:!1})}],c)}))},function(t,e,r){\"use strict\";const n=r(4),i=r(66),o=r(52),s=r(47),{traverseTo:a,addLink:u,updateTree:c,updateMfsRoot:f,toSourcesAndDestination:h}=r(50),l=r(706),p=r(6)(\"ipfs:mfs:cp\"),d={parents:!1,flush:!0,format:\"dag-pb\",hashAlg:\"sha2-256\"};t.exports=(t=>(function(){const e=Array.from(arguments),{sources:r,destination:n,options:i,callback:o}=h(e,d);return r.length?n?(i.parents=i.p||i.parents,void a(t,n.path,{},(e,a)=>{if(e)return 1===r.length?(p(\"Only one source, copying to a file\"),y(t,r.pop(),n,i,o)):(p(\"Multiple sources, copying to a directory\"),m(t,r,n,i,o));if(\"directory\"===s.unmarshal(a.node.data).type)return m(t,r,n,i,o);o(new Error(\"directory already has entry by that name\"))})):o(new Error(\"Please supply a destination\")):o(new Error(\"Please supply at least one source\"))}));const y=(t,e,r,o,s)=>{n([n=>{i([r=>l(t)(e.path,o,r),e=>l(t)(r.path,o,t=>{if(!t)return e(new Error(\"directory already has entry by that name\"));e()}),e=>a(t,r.dir,o,e)],n)},([e,i,o],s)=>{n([n=>u(t,{parent:o.node,child:{size:e.cumulativeSize,hash:e.hash},name:r.name},n),(e,r)=>{o.node=e,c(t,o,r)},(e,r)=>f(t,e.node.multihash,r)],s)}],t=>s(t))},m=(t,e,r,s,h)=>{n([n=>{o([r=>i(e.map(e=>r=>l(t)(e.path,s,r)),r),e=>a(t,r.path,Object.assign({},s,{createLastComponent:!0}),e)],n)},(o,a)=>{const h=o.pop(),p=o[0];n([n=>{i(e.map(e=>n=>{l(t)(`${r.path}/${e.name}`,s,t=>{if(!t)return n(new Error(\"directory already has entry by that name\"));n()})}),t=>n(t))},r=>{n([t=>t(null,h.node)].concat(p.map((r,n)=>(i,o)=>u(t,{parent:i,child:{size:r.cumulativeSize,hash:r.hash},name:e[n].name},o))),r)},(e,r)=>{h.node=e,c(t,h,r)},(e,r)=>f(t,e.node.multihash,r)],a)}],t=>h(t))}},function(t,e,r){\"use strict\";const n=r(47),i=r(4),o=r(52),{DAGNode:s}=r(48),a=r(13),{traverseTo:u,updateTree:c,updateMfsRoot:f,toSources:h,FILE_SEPARATOR:l}=r(50),p={recursive:!1};t.exports=(t=>(function(){const e=Array.from(arguments),{sources:r,options:n,callback:i}=h(e,p);if(!r.length)return i(new Error(\"Please supply at least one path to remove\"));o(r.map(e=>r=>d(t,e.path,n,r)),t=>i(t))}));const d=(t,e,r,o)=>{if(e===l)return o(new Error(\"Cannot delete root\"));i([r=>u(t,e,{withCreateHint:!1},r),(o,u)=>{if(\"directory\"===n.unmarshal(o.node.data).type&&!r.recursive)return u(new Error(`${e} is a directory, use -r to remove directories`));i([t=>s.rmLink(o.parent.node,o.name,t),(e,r)=>{t.dag.put(e,{cid:new a(e.hash||e.multihash)},t=>r(t,e))},(e,r)=>{o.parent.node=e,c(t,o.parent,r)},(e,r)=>f(t,e.node.multihash,r)],u)}],o)}},function(t,e,r){\"use strict\";const n=r(4),i=r(76),o=r(97),s=r(98),a=r(175).importer,u=r(8),c=r(6)(\"ipfs:mfs:import-node\"),{loadNode:f}=r(50);t.exports=((t,e,r,h)=>{n([n=>i(o([{content:i(e)}]),a(t._ipld,{progress:r.progress,hashAlg:r.hash,cidVersion:r.cidVersion,strategy:r.strategy,rawLeafNodes:r.rawLeafNodes,reduceSingleLeafToSelf:r.reduceSingleLeafToSelf}),s(n)),(e,r)=>(c(`Imported file ${u.encode(e[0].multihash)}`),f(t,e[0],r))],h)})},function(t,e,r){var n,i,o,s,a=r(711),u=r(876),c=r(877);window.Dapp={start_ipfs:function(){var t=new c;document.getElementById(\"uploading_contract_ready\").innerHTML=\"<p>IPFS is not ready for Contract Document Upload.</p>\",series([e=>t.on(\"ready\",e),e=>t.version((t,r)=>{if(t)return e(t);document.getElementById(\"uploading_contract_ready\").innerHTML=\"<p>IPFS is ready for Contract Document Upload.</p>\",console.log(\"Version:\",r.version),e()})])},compile_main_contract:function(){BrowserSolc.getVersions();var t={\"leth_contract.sol\":contractcode},e=u.compile({sources:t},1);for(var r in e.errors)console.log(\"error:   \"+e.errors[r]+\"\\n\");n=\"0x\"+e.contracts[\"leth_contract.sol:TwoPartyLegalContract\"].bytecode,i=e.contracts[\"leth_contract.sol:TwoPartyLegalContract\"].interface,o=s.eth.contract(i)},SubmitAndDeployMainContract:function(){address1=document.getElementById(\"initialize_party1_address\").value,address2=document.getElementById(\"initialize_party2_address\").value,name=document.getElementById(\"initialize_contract_name\").value,file=document.getElementById(\"initialize_document\");var t=\"\";if(0==file.name.length)return console.log(\"No file Selected\"),alert(\"Please Select a file to upload.\");node.files.add({path:file.name,content:file.value},function(e,r){e?console.log(e):(t=r[0].hash,console.log(\"The file has been uploaded to IPFS. The file hash is \"+r[0].hash))}),o.deploy({data:n,arguments:[address1,address2,name,t]}).send({from:s.eth.accounts[0]},function(t,e){document.getElementById(\"mainContractDeploymentText\").innerHTML=\"<p>Contract Deployed... Waiting for Verification.</p>\",console.log(\"Deployed Main TwoPartyLegalContract\")}).on(\"error\",function(t){document.getElementById(\"mainContractDeploymentText\").innerHTML=\"<p>There was an error when deploying the contract.</p>\",console.log(t)}).on(\"transactionHash\",function(t){console.log(\"TransactionHash is \"+t)}).on(\"reciept\",function(t){console.log(\"The receipt contract Address is: \"+receipt.contractAddress)}).on(\"confirmation\",function(t,e){console.log(\"Confirmation happened.\")}).then(function(t){document.getElementById(\"mainContractDeploymentText\").innerHTML=\"<p>The contract has been deployed.  Please use the contract address above.  \"+t.option.address+\"</p>\",console.log(\"the new Contract address is \"+t.option.address)})},GetContractData:function(t){try{var e=new s.eth.Contract(i,t),r=e.methods.mainContract().call().then(console.log),n=e.methods.partiesAddresses().call().then(console.log),o=e.methods.parties().call().then(console.log),a=e.methods.contractFile().call().then(console.log)}catch(t){document.getElementByClassName(\"view_response_messages\").innerHTML=\"<p>There was an error.  Please view the console logs for more or try again.</p>\",console.log(t.message)}return o[n[1]].status==negotiating&&o[n[2]].status==negotiating?d_status=\"unlocked\":d_status=\"locked\",{main_contract_name:r.name,main_contract_signed:r.signed,main_contract_time_created:new Date(1e3*r.main_contract_time_created).format(\"yyyy/MM/dd HH:mm:ss\"),main_contract_time_signed:new Date(1e3*r.main_contract_time_signed).format(\"yyyy/MM/dd HH:mm:ss\"),party1_address:n[1],party1_name:o[n[1]].name,party1_email:o[n[1]].email,party1_status:o[n[1]].status,party2_address:n[2],party2_name:o[n[2]].name,party2_email:o[n[2]].email,party2_status:o[n[2]].status,document_version:a.version_number,document_last_updated:new Date(1e3*a.last_updated).format(\"yyyy/MM/dd HH:mm:ss\"),document_hash:a.filehash,document_status:d_status}},ClickViewTab:function(){var t=document.getElementById(\"contract_address\");document.getElementByClassName(\"view_response_messages\").innerHTML=\"\",data=GetContractData(t),document.getElementById(\"contract_name\").innerHTML=data.main_contract_name,document.getElementById(\"main_contract_details\").innerHTML=\"<p>Contract Created: \"+data.main_contract_time_created+\"</p><p>Contract Signed: \"+data.main_contract_time_signed+\"</p><p>Status: \"+data.main_contract_signed+\"</p>\",document.getElementById(\"party1_view_column\").innerHTML=\"<p>Address: \"+data.party1_address+\"</p><p>Name: \"+data.party1_name+\"</p><p>Email: \"+data.party1_email+\"</p><p>Status: \"+data.party1_status+\"</p>\",document.getElementById(\"party2_view_column\").innerHTML=\"<p>Address: \"+data.party2_address+\"</p><p>Name: \"+data.party2_name+\"</p><p>Email: \"+data.party2_email+\"</p><p>Status: \"+data.party2_status+\"</p>\",document.getElementById(\"document_view_details\").innerHTML=\"<h5>Document</h5> <p>Document hash: \"+data.document_hash+\"</p><p>Document last updated: \"+data.document_last_updated+\"</p><p>Document version: \"+data.document_version+\"</p><p>Document Status: \"+data.document_status+'</p><a href=\"www.blblblblblb\">Document Link</a>'},ClickUploadTab:function(){document.getElementByClassName(\"view_response_messages\").innerHTML=\"\";new s.eth.Contract(i,mainContractAddress);var t=document.getElementById(\"contract_address\"),e=GetContractData(t);document.getElementById(\"document_upload_status\").innerHTML=\"<p>Document Uploading is: \"+e.d_status+\"</p>\"},UploadContractFile:function(){var t=new s.eth.Contract(i,mainContractAddress),e=document.getElementById(\"updated_document_upload\"),r=document.getElementById(\"contract_address\").value;GetContractData(r);if(0==e.name.length)return console.log(\"No file Selected\"),alert(\"Please Select a file to upload.\");node.files.add({path:e.name,content:e.value},function(r,n){r?console.log(r):(console.log(\"file has been uploaded. The file hash is \"+n[0].hash),t.updateDocument(e.name,n[0].hash).send({from:s.eth.accounts[0]}),function(t,e){console.log(\"Uploading file hash \"+n[0].hash)}.on(\"error\",function(t){document.getElementById(\"upload_notifications\").innerHTML=\"<p>There was an error when uploading the document.</p>\",console.log(t)}).on(\"transactionHash\",function(t){console.log(\"TransactionHash is \"+t)}).on(\"reciept\",function(t){console.log(\"The receipt contract Address is: \"+receipt.contractAddress)}).on(\"confirmation\",function(t,e){console.log(\"Confirmation that the document hash has been updated in the contract.\"),document.getElementById(\"upload_nofications\").innerHTML=\"<p>The file hash has been uploaded in IPFS and the hash stored in the contract</p>\"}))})},ClickUpdateTab:function(){document.getElementByClassName(\"view_response_messages\").innerHTML=\"\";new s.eth.Contract(i,mainContractAddress);var t=document.getElementById(\"contract_address\");data=GetContractData(t),data.party1_address!=s.eth.accounts[0]||data.party2_address!=s.eth.accounts[0]?alert(\"Update will fail because you are not one of the two parties on this contract\"):data.party1_address==s.eth.accounts[0]?(document.getElementById(\"name_update\").value(data.party1_name),document.getElementById(\"email_update\").value(data.party1_email),document.getElementById(\"address_update\").value(data.party1_address),document.getElementById(\"status_update\").option(data.party1_status)):(document.getElementById(\"name_update\").value(data.party2_name),document.getElementById(\"email_update\").value(data.party2_email),document.getElementById(\"address_update\").value(data.party2_address),document.getElementById(\"status_update\").option(data.party2_status))},UpdatePartyDetails:function(){var t=new s.eth.Contract(i,mainContractAddress);name=document.getElementById(\"name_update\").value,email=document.getElementById(\"email_update\").value,address=document.getElementById(\"address_update\").value,status=document.getElementById(\"status_update\").option,t.updateParty(address,name,email,status).send({from:s.eth.accounts[0]}),function(t,e){console.log(\"Updating party with address: \"+address+\" name: \"+name+\" email: \"+email+\" status: \"+status)}.on(\"error\",function(t){document.getElementByClassName(\"view_response_messages\").innerHTML=\"<p>There was an error when updating the party details.</p>\",console.log(t)}).on(\"transactionHash\",function(t){document.getElementById(\"update_notifications\").innerHTML=\"<p>The transaction has been created.  Waiting for Confirmation.</p>\",console.log(\"TransactionHash is \"+t)}).on(\"receipt\",function(t){console.log(\"The receipt contract Address is: \"+receipt.contractAddress)}).on(\"confirmation\",function(t,e){console.log(\"This successfully confirms that the party details been updated in the contract.\"),document.getElementById(\"update_notifications\").innerHTML=\"<p>The details have been updated.</p>\"})}},window.addEventListener(\"load\",function(){s=new a(a.givenProvider||\"http://127.0.0.1:9545\"),compile_main_contract(),start_ipfs()})},function(t,e,r){\"use strict\";var n=r(712).version,i=r(92),o=r(759),s=r(179),a=r(378),u=r(851),c=r(852),f=r(57),h=function(){var t=this;i.packageInit(this,arguments),this.version=n,this.utils=f,this.eth=new o(this),this.shh=new u(this),this.bzz=new c(this);var e=this.setProvider;this.setProvider=function(r,n){return e.apply(t,arguments),this.eth.setProvider(r,n),this.shh.setProvider(r,n),this.bzz.setProvider(r),!0}};h.version=n,h.utils=f,h.modules={Eth:o,Net:s,Personal:a,Shh:u,Bzz:c},i.addProviders(h),t.exports=h},function(t){t.exports={_from:\"web3@^1.0.0-beta.34\",_id:\"web3@1.0.0-beta.35\",_inBundle:!1,_integrity:\"sha512-xwDmUhvTcHQvvNnOPcPZZgCxKUsI2e+GbHy7JkTK3/Rmnutazy8x7fsAXT9myw7V1qpi3GgLoZ3fkglSUbg1Mg==\",_location:\"/web3\",_phantomChildren:{},_requested:{type:\"range\",registry:!0,raw:\"web3@^1.0.0-beta.34\",name:\"web3\",escapedName:\"web3\",rawSpec:\"^1.0.0-beta.34\",saveSpec:null,fetchSpec:\"^1.0.0-beta.34\"},_requiredBy:[\"/\"],_resolved:\"https://registry.npmjs.org/web3/-/web3-1.0.0-beta.35.tgz\",_shasum:\"6475095bd451a96e50a32b997ddee82279292f11\",_spec:\"web3@^1.0.0-beta.34\",_where:\"/Users/markfocella/truffle_projects/leth_contracts\",author:{name:\"ethereum.org\"},authors:[{name:\"Fabian Vogelsteller\",email:\"fabian@ethereum.org\",homepage:\"http://frozeman.de\"},{name:\"Marek Kotewicz\",email:\"marek@parity.io\",url:\"https://github.com/debris\"},{name:\"Marian Oancea\",url:\"https://github.com/cubedro\"},{name:\"Gav Wood\",email:\"g@parity.io\",homepage:\"http://gavwood.com\"},{name:\"Jeffery Wilcke\",email:\"jeffrey.wilcke@ethereum.org\",url:\"https://github.com/obscuren\"}],bugs:{url:\"https://github.com/ethereum/web3.js/issues\"},bundleDependencies:!1,dependencies:{\"web3-bzz\":\"1.0.0-beta.35\",\"web3-core\":\"1.0.0-beta.35\",\"web3-eth\":\"1.0.0-beta.35\",\"web3-eth-personal\":\"1.0.0-beta.35\",\"web3-net\":\"1.0.0-beta.35\",\"web3-shh\":\"1.0.0-beta.35\",\"web3-utils\":\"1.0.0-beta.35\"},deprecated:!1,description:\"Ethereum JavaScript API\",keywords:[\"Ethereum\",\"JavaScript\",\"API\"],license:\"LGPL-3.0\",main:\"src/index.js\",name:\"web3\",namespace:\"ethereum\",repository:{type:\"git\",url:\"https://github.com/ethereum/web3.js/tree/master/packages/web3\"},types:\"index.d.ts\",version:\"1.0.0-beta.35\"}},function(t,e,r){\"use strict\";var n=r(31),i=r(36).errors,o=r(366),s=r(726),a=r(727),u=function t(e){this.provider=null,this.providers=t.providers,this.setProvider(e),this.subscriptions={}};u.givenProvider=a,u.providers={WebsocketProvider:r(728),HttpProvider:r(737),IpcProvider:r(753)},u.prototype.setProvider=function(t,e){var r=this;if(t&&\"string\"==typeof t&&this.providers)if(/^http(s)?:\\/\\//i.test(t))t=new this.providers.HttpProvider(t);else if(/^ws(s)?:\\/\\//i.test(t))t=new this.providers.WebsocketProvider(t);else if(t&&\"object\"==typeof e&&\"function\"==typeof e.connect)t=new this.providers.IpcProvider(t,e);else if(t)throw new Error(\"Can't autodetect provider for \\\"\"+t+'\"');this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=t||null,this.provider&&this.provider.on&&this.provider.on(\"data\",function(t,e){(t=t||e).method&&r.subscriptions[t.params.subscription]&&r.subscriptions[t.params.subscription].callback&&r.subscriptions[t.params.subscription].callback(null,t.params.result)})},u.prototype.send=function(t,e){if(e=e||function(){},!this.provider)return e(i.InvalidProvider());var r=o.toPayload(t.method,t.params);this.provider[this.provider.sendAsync?\"sendAsync\":\"send\"](r,function(t,n){return n&&n.id&&r.id!==n.id?e(new Error('Wrong response id \"'+n.id+'\" (expected: \"'+r.id+'\") in '+JSON.stringify(r))):t?e(t):n&&n.error?e(i.ErrorResponse(n)):o.isValidResponse(n)?void e(null,n.result):e(i.InvalidResponse(n))})},u.prototype.sendBatch=function(t,e){if(!this.provider)return e(i.InvalidProvider());var r=o.toBatchPayload(t);this.provider[this.provider.sendAsync?\"sendAsync\":\"send\"](r,function(t,r){return t?e(t):n.isArray(r)?void e(null,r):e(i.InvalidResponse(r))})},u.prototype.addSubscription=function(t,e,r,n){if(!this.provider.on)throw new Error(\"The provider doesn't support subscriptions: \"+this.provider.constructor.name);this.subscriptions[t]={callback:n,type:r,name:e}},u.prototype.removeSubscription=function(t,e){this.subscriptions[t]&&(this.send({method:this.subscriptions[t].type+\"_unsubscribe\",params:[t]},e),delete this.subscriptions[t])},u.prototype.clearSubscriptions=function(t){var e=this;Object.keys(this.subscriptions).forEach(function(r){t&&\"syncing\"===e.subscriptions[r].name||e.removeSubscription(r)}),this.provider.reset&&this.provider.reset()},t.exports={Manager:u,BatchManager:s}},function(t,e,r){\"use strict\";t.exports={ErrorResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:JSON.stringify(t);return new Error(\"Returned error: \"+e)},InvalidNumberOfParams:function(t,e,r){return new Error('Invalid number of parameters for \"'+r+'\". Got '+t+\" expected \"+e+\"!\")},InvalidConnection:function(t){return new Error(\"CONNECTION ERROR: Couldn't connect to node \"+t+\".\")},InvalidProvider:function(){return new Error(\"Provider not set or invalid\")},InvalidResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:\"Invalid JSON RPC response: \"+JSON.stringify(t);return new Error(e)},ConnectionTimeout:function(t){return new Error(\"CONNECTION TIMEOUT: timeout of \"+t+\" ms achived\")}}},function(t,e,r){\"use strict\";var n=r(31),i=r(57),o=r(365),s=function(t){return i.toBN(t).toString(10)},a=function(t){if(void 0!==t)return function(t){return\"latest\"===t||\"pending\"===t||\"earliest\"===t}(t)?t:i.isHexStrict(t)?n.isString(t)?t.toLowerCase():t:i.numberToHex(t)},u=function(t){if(t.to&&(t.to=h(t.to)),t.data&&t.input)throw new Error('You can\\'t have \"data\" and \"input\" as properties of transactions at the same time, please use either \"data\" or \"input\" instead.');if(!t.data&&t.input&&(t.data=t.input,delete t.input),t.data&&!i.isHex(t.data))throw new Error(\"The data field must be HEX encoded data.\");return(t.gas||t.gasLimit)&&(t.gas=t.gas||t.gasLimit),[\"gasPrice\",\"gas\",\"value\",\"nonce\"].filter(function(e){return void 0!==t[e]}).forEach(function(e){t[e]=i.numberToHex(t[e])}),t},c=function(t){return null!==t.blockNumber&&(t.blockNumber=i.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=i.hexToNumber(t.transactionIndex)),t.nonce=i.hexToNumber(t.nonce),t.gas=i.hexToNumber(t.gas),t.gasPrice=s(t.gasPrice),t.value=s(t.value),t.to&&i.isAddress(t.to)?t.to=i.toChecksumAddress(t.to):t.to=null,t.from&&(t.from=i.toChecksumAddress(t.from)),t},f=function(t){if(\"string\"==typeof t.blockHash&&\"string\"==typeof t.transactionHash&&\"string\"==typeof t.logIndex){var e=i.sha3(t.blockHash.replace(\"0x\",\"\")+t.transactionHash.replace(\"0x\",\"\")+t.logIndex.replace(\"0x\",\"\"));t.id=\"log_\"+e.replace(\"0x\",\"\").substr(0,8)}else t.id||(t.id=null);return null!==t.blockNumber&&(t.blockNumber=i.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=i.hexToNumber(t.transactionIndex)),null!==t.logIndex&&(t.logIndex=i.hexToNumber(t.logIndex)),t.address&&(t.address=i.toChecksumAddress(t.address)),t},h=function(t){var e=new o(t);if(e.isValid()&&e.isDirect())return e.toAddress().toLowerCase();if(i.isAddress(t))return\"0x\"+t.toLowerCase().replace(\"0x\",\"\");throw new Error('Provided address \"'+t+\"\\\" is invalid, the capitalization checksum test failed, or its an indrect IBAN address which can't be converted.\")};t.exports={inputDefaultBlockNumberFormatter:function(t){return!this||void 0!==t&&null!==t?\"genesis\"===t||\"earliest\"===t?\"0x0\":a(t):this.defaultBlock},inputBlockNumberFormatter:a,inputCallFormatter:function(t){var e=(t=u(t)).from||(this?this.defaultAccount:null);return e&&(t.from=h(e)),t},inputTransactionFormatter:function(t){if(t=u(t),!n.isNumber(t.from)&&!n.isObject(t.from)){if(t.from=t.from||(this?this.defaultAccount:null),!t.from&&!n.isNumber(t.from))throw new Error('The send transactions \"from\" field must be defined!');t.from=h(t.from)}return t},inputAddressFormatter:h,inputPostFormatter:function(t){return t.ttl&&(t.ttl=i.numberToHex(t.ttl)),t.workToProve&&(t.workToProve=i.numberToHex(t.workToProve)),t.priority&&(t.priority=i.numberToHex(t.priority)),n.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map(function(t){return 0===t.indexOf(\"0x\")?t:i.fromUtf8(t)}),t},inputLogFormatter:function(t){var e=function(t){return null===t||void 0===t?null:0===(t=String(t)).indexOf(\"0x\")?t:i.fromUtf8(t)};return t.topics=t.topics||[],t.topics=t.topics.map(function(t){return n.isArray(t)?t.map(e):e(t)}),e=null,t.address&&(t.address=n.isArray(t.address)?t.address.map(function(t){return h(t)}):h(t.address)),t},inputSignFormatter:function(t){return i.isHexStrict(t)?t:i.utf8ToHex(t)},outputBigNumberFormatter:s,outputTransactionFormatter:c,outputTransactionReceiptFormatter:function(t){if(\"object\"!=typeof t)throw new Error(\"Received receipt is invalid: \"+t);return null!==t.blockNumber&&(t.blockNumber=i.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=i.hexToNumber(t.transactionIndex)),t.cumulativeGasUsed=i.hexToNumber(t.cumulativeGasUsed),t.gasUsed=i.hexToNumber(t.gasUsed),n.isArray(t.logs)&&(t.logs=t.logs.map(f)),t.contractAddress&&(t.contractAddress=i.toChecksumAddress(t.contractAddress)),void 0!==t.status&&(t.status=Boolean(parseInt(t.status))),t},outputBlockFormatter:function(t){return t.gasLimit=i.hexToNumber(t.gasLimit),t.gasUsed=i.hexToNumber(t.gasUsed),t.size=i.hexToNumber(t.size),t.timestamp=i.hexToNumber(t.timestamp),null!==t.number&&(t.number=i.hexToNumber(t.number)),t.difficulty&&(t.difficulty=s(t.difficulty)),t.totalDifficulty&&(t.totalDifficulty=s(t.totalDifficulty)),n.isArray(t.transactions)&&t.transactions.forEach(function(t){if(!n.isString(t))return c(t)}),t.miner&&(t.miner=i.toChecksumAddress(t.miner)),t},outputLogFormatter:f,outputPostFormatter:function(t){return t.expiry=i.hexToNumber(t.expiry),t.sent=i.hexToNumber(t.sent),t.ttl=i.hexToNumber(t.ttl),t.workProved=i.hexToNumber(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map(function(t){return i.toUtf8(t)}),t},outputSyncingFormatter:function(t){return t.startingBlock=i.hexToNumber(t.startingBlock),t.currentBlock=i.hexToNumber(t.currentBlock),t.highestBlock=i.hexToNumber(t.highestBlock),t.knownStates&&(t.knownStates=i.hexToNumber(t.knownStates),t.pulledStates=i.hexToNumber(t.pulledStates)),t}}},function(t,e,r){\"use strict\";var n=r(717),i=r(359),o=new n(0),s=new n(-1),a={noether:\"0\",wei:\"1\",kwei:\"1000\",Kwei:\"1000\",babbage:\"1000\",femtoether:\"1000\",mwei:\"1000000\",Mwei:\"1000000\",lovelace:\"1000000\",picoether:\"1000000\",gwei:\"1000000000\",Gwei:\"1000000000\",shannon:\"1000000000\",nanoether:\"1000000000\",nano:\"1000000000\",szabo:\"1000000000000\",microether:\"1000000000000\",micro:\"1000000000000\",finney:\"1000000000000000\",milliether:\"1000000000000000\",milli:\"1000000000000000\",ether:\"1000000000000000000\",kether:\"1000000000000000000000\",grand:\"1000000000000000000000\",mether:\"1000000000000000000000000\",gether:\"1000000000000000000000000000\",tether:\"1000000000000000000000000000000\"};function u(t){var e=t?t.toLowerCase():\"ether\",r=a[e];if(\"string\"!=typeof r)throw new Error(\"[ethjs-unit] the unit provided \"+t+\" doesn't exists, please use the one of the following units \"+JSON.stringify(a,null,2));return new n(r,10)}function c(t){if(\"string\"==typeof t){if(!t.match(/^-?[0-9.]+$/))throw new Error(\"while converting number to string, invalid number value '\"+t+\"', should be a number matching (^-?[0-9.]+).\");return t}if(\"number\"==typeof t)return String(t);if(\"object\"==typeof t&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10);throw new Error(\"while converting number to string, invalid number value '\"+t+\"' type \"+typeof t+\".\")}t.exports={unitMap:a,numberToString:c,getValueOfUnit:u,fromWei:function(t,e,r){var n=i(t),c=n.lt(o),f=u(e),h=a[e].length-1||1,l=r||{};c&&(n=n.mul(s));for(var p=n.mod(f).toString(10);p.length<h;)p=\"0\"+p;l.pad||(p=p.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var d=n.div(f).toString(10);l.commify&&(d=d.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"));var y=d+(\"0\"==p?\"\":\".\"+p);return c&&(y=\"-\"+y),y},toWei:function(t,e){var r=c(t),i=u(e),o=a[e].length-1||1,f=\"-\"===r.substring(0,1);if(f&&(r=r.substring(1)),\".\"===r)throw new Error(\"[ethjs-unit] while converting number \"+t+\" to wei, invalid value\");var h=r.split(\".\");if(h.length>2)throw new Error(\"[ethjs-unit] while converting number \"+t+\" to wei,  too many decimal points\");var l=h[0],p=h[1];if(l||(l=\"0\"),p||(p=\"0\"),p.length>o)throw new Error(\"[ethjs-unit] while converting number \"+t+\" to wei, too many decimal places\");for(;p.length<o;)p+=\"0\";l=new n(l),p=new n(p);var d=l.mul(i).add(p);return f&&(d=d.mul(s)),new n(d.toString(10),10)}}},function(t,e,r){(function(t){!function(t,e){\"use strict\";function n(t,e){if(!t)throw new Error(e||\"Assertion failed\")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(\"le\"!==e&&\"be\"!==e||(r=e,e=10),this._init(t||0,e||10,r||\"be\"))}var s;\"object\"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&\"object\"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if(\"number\"==typeof t)return this._initNumber(t,e,r);if(\"object\"==typeof t)return this._initArray(t,e,r);\"hex\"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;\"-\"===(t=t.toString().replace(/\\s+/g,\"\"))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),\"-\"===t[0]&&(this.negative=1),this.strip(),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n(\"number\"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if(\"be\"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if(\"le\"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"};var c=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=l;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||\"hex\"===t){r=\"\";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],p=h[t];r=\"\";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?y+r:c[l-y.length]+y+r}for(this.isZero()&&(r=\"0\"+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}n(!1,\"Base should be between 2 and 36\")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,\"Number can only safely store up to 53 bits\"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,\"byte array longer than desired length\"),n(o>0,\"Requested array length <= 0\"),this.strip();var s,a,u=\"le\"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n(\"number\"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n(\"number\"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],h=8191&f,l=f>>>13,p=0|s[1],d=8191&p,y=p>>>13,m=0|s[2],g=8191&m,b=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],k=8191&S,E=S>>>13,A=0|s[5],x=8191&A,T=A>>>13,B=0|s[6],I=8191&B,C=B>>>13,M=0|s[7],P=8191&M,O=M>>>13,R=0|s[8],j=8191&R,N=R>>>13,L=0|s[9],K=8191&L,D=L>>>13,U=0|a[0],F=8191&U,q=U>>>13,H=0|a[1],z=8191&H,V=H>>>13,G=0|a[2],W=8191&G,$=G>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],ht=8191&ft,lt=ft>>>13,pt=0|a[9],dt=8191&pt,yt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(c+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(l,F)|0))<<13)|0;c=((o=Math.imul(l,q))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(d,F),i=(i=Math.imul(d,q))+Math.imul(y,F)|0,o=Math.imul(y,q);var gt=(c+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(l,z)|0))<<13)|0;c=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,q))+Math.imul(b,F)|0,o=Math.imul(b,q),n=n+Math.imul(d,z)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,V)|0;var bt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(l,W)|0))<<13)|0;c=((o=o+Math.imul(l,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,q))+Math.imul(w,F)|0,o=Math.imul(w,q),n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,V)|0,n=n+Math.imul(d,W)|0,i=(i=i+Math.imul(d,$)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,$)|0;var vt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,q))+Math.imul(E,F)|0,o=Math.imul(E,q),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,z)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,$)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var _t=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,q))+Math.imul(T,F)|0,o=Math.imul(T,q),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(E,z)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,q))+Math.imul(C,F)|0,o=Math.imul(C,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,q))+Math.imul(O,F)|0,o=Math.imul(O,q),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var kt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,q))+Math.imul(N,F)|0,o=Math.imul(N,q),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(K,F),i=(i=Math.imul(K,q))+Math.imul(D,F)|0,o=Math.imul(D,q),n=n+Math.imul(j,z)|0,i=(i=i+Math.imul(j,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ct)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,lt)|0;var At=(c+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,yt)|0)+Math.imul(l,dt)|0))<<13)|0;c=((o=o+Math.imul(l,yt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(K,z),i=(i=Math.imul(K,V))+Math.imul(D,z)|0,o=Math.imul(D,V),n=n+Math.imul(j,W)|0,i=(i=i+Math.imul(j,$)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,lt)|0;var xt=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,yt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,W),i=(i=Math.imul(K,$))+Math.imul(D,W)|0,o=Math.imul(D,$),n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,lt)|0;var Tt=(c+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,yt)|0)+Math.imul(b,dt)|0))<<13)|0;c=((o=o+Math.imul(b,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(K,J),i=(i=Math.imul(K,Z))+Math.imul(D,J)|0,o=Math.imul(D,Z),n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(_,dt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,dt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,Q),i=(i=Math.imul(K,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,lt)|0;var It=(c+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(E,dt)|0))<<13)|0;c=((o=o+Math.imul(E,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,rt),i=(i=Math.imul(K,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,lt)|0;var Ct=(c+(n=n+Math.imul(x,dt)|0)|0)+((8191&(i=(i=i+Math.imul(x,yt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(K,ot),i=(i=Math.imul(K,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Mt=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,yt)|0)+Math.imul(C,dt)|0))<<13)|0;c=((o=o+Math.imul(C,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(K,ut),i=(i=Math.imul(K,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(j,ht)|0,i=(i=i+Math.imul(j,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Pt=(c+(n=n+Math.imul(P,dt)|0)|0)+((8191&(i=(i=i+Math.imul(P,yt)|0)+Math.imul(O,dt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(K,ht),i=(i=Math.imul(K,lt))+Math.imul(D,ht)|0,o=Math.imul(D,lt);var Ot=(c+(n=n+Math.imul(j,dt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(N,dt)|0))<<13)|0;c=((o=o+Math.imul(N,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Rt=(c+(n=Math.imul(K,dt))|0)+((8191&(i=(i=Math.imul(K,yt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=mt,u[1]=gt,u[2]=bt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=kt,u[8]=Et,u[9]=At,u[10]=xt,u[11]=Tt,u[12]=Bt,u[13]=It,u[14]=Ct,u[15]=Mt,u[16]=Pt,u[17]=Ot,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(p=l),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?l(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;a=67108863&(l=l+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var h=u,l=c,p=0;p<s;p++){var d=r[f+p],y=n[f+p],m=r[f+p+s],g=n[f+p+s],b=h*m-l*g;g=h*g+l*m,m=b,r[f+p]=d+m,n[f+p]=y+g,r[f+p+s]=d-m,n[f+p+s]=y-g,p!==a&&(b=u*h-c*l,l=u*l+c*h,h=b)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,h,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*h[p];u[p]=a[p]*h[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n(\"number\"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n(\"number\"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n(\"number\"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,\"imaskn works only with positive numbers\"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n(\"number\"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n(\"number\"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if(\"mod\"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(i,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=l)}return a&&a.strip(),n.strip(),\"div\"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),\"mod\"!==e&&(i=a.div.neg()),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),\"mod\"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?\"div\"===e?{div:this.divn(t.words[0]),mod:null}:\"mod\"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,\"div\",!1).div},o.prototype.mod=function(t){return this.divmod(t,\"mod\",!1).mod},o.prototype.umod=function(t){return this.divmod(t,\"mod\",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),h=e.clone();!e.isZero();){for(var l=0,p=1;0==(e.words[0]&p)&&l<26;++l,p<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var d=0,y=1;0==(r.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,l=1;0==(r.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n(\"number\"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,\"Number is too big\");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,\"Already a number in reduction context\"),n(0===this.negative,\"red works only with positives\"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,\"Already a number in reduction context\"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,\"redAdd works only with red numbers\"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,\"redSub works only with red numbers\"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,\"redISub works only with red numbers\"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,\"redShl works only with red numbers\"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}function v(){g.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}function _(){g.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}function w(){g.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}function S(t){if(\"string\"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),\"modulus must be greater than 1\"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(b,g),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,g),i(_,g),i(w,g),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if(\"k256\"===t)e=new b;else if(\"p224\"===t)e=new v;else if(\"p192\"===t)e=new _;else{if(\"p25519\"!==t)throw new Error(\"Unknown prime \"+t);e=new w}return m[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,\"red works only with positives\"),n(t.red,\"red works only with red numbers\")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),\"red works only with positives\"),n(t.red&&t.red===e.red,\"red works only with red numbers\")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,i),l=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var y=p,m=0;0!==y.cmp(a);m++)y=y.redSqr();n(m<d);var g=this.pow(h,new o(1).iushln(d-m-1));l=l.redMul(g),h=g.redSqr(),p=p.redMul(h),d=m}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(26)(t))},function(t,e,r){\"use strict\";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=c(t),n=r[0],s=r[1],a=new o(function(t,e,r){return 3*(e+r)/4-r}(0,n,s)),u=0,f=s>0?n-4:n,h=0;h<f;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,a[u++]=255&e);1===s&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(h(t,s,s+16383>a?a:s+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+\"==\")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+\"=\"));return o.join(\"\")};for(var n=[],i=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=t.indexOf(\"=\");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function h(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(f(n));return i.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},function(t,e,r){(function(t){!function(t,e){\"use strict\";function n(t,e){if(!t)throw new Error(e||\"Assertion failed\")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(\"le\"!==e&&\"be\"!==e||(r=e,e=10),this._init(t||0,e||10,r||\"be\"))}var s;\"object\"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&\"object\"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if(\"number\"==typeof t)return this._initNumber(t,e,r);if(\"object\"==typeof t)return this._initArray(t,e,r);\"hex\"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;\"-\"===(t=t.toString().replace(/\\s+/g,\"\"))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),\"-\"===t[0]&&(this.negative=1),this.strip(),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n(\"number\"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if(\"be\"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if(\"le\"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"};var c=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=l;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||\"hex\"===t){r=\"\";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],p=h[t];r=\"\";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?y+r:c[l-y.length]+y+r}for(this.isZero()&&(r=\"0\"+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}n(!1,\"Base should be between 2 and 36\")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,\"Number can only safely store up to 53 bits\"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,\"byte array longer than desired length\"),n(o>0,\"Requested array length <= 0\"),this.strip();var s,a,u=\"le\"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n(\"number\"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n(\"number\"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],h=8191&f,l=f>>>13,p=0|s[1],d=8191&p,y=p>>>13,m=0|s[2],g=8191&m,b=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],k=8191&S,E=S>>>13,A=0|s[5],x=8191&A,T=A>>>13,B=0|s[6],I=8191&B,C=B>>>13,M=0|s[7],P=8191&M,O=M>>>13,R=0|s[8],j=8191&R,N=R>>>13,L=0|s[9],K=8191&L,D=L>>>13,U=0|a[0],F=8191&U,q=U>>>13,H=0|a[1],z=8191&H,V=H>>>13,G=0|a[2],W=8191&G,$=G>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],ht=8191&ft,lt=ft>>>13,pt=0|a[9],dt=8191&pt,yt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(c+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(l,F)|0))<<13)|0;c=((o=Math.imul(l,q))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(d,F),i=(i=Math.imul(d,q))+Math.imul(y,F)|0,o=Math.imul(y,q);var gt=(c+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(l,z)|0))<<13)|0;c=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,q))+Math.imul(b,F)|0,o=Math.imul(b,q),n=n+Math.imul(d,z)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,V)|0;var bt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(l,W)|0))<<13)|0;c=((o=o+Math.imul(l,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,q))+Math.imul(w,F)|0,o=Math.imul(w,q),n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,V)|0,n=n+Math.imul(d,W)|0,i=(i=i+Math.imul(d,$)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,$)|0;var vt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,q))+Math.imul(E,F)|0,o=Math.imul(E,q),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,z)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,$)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var _t=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,q))+Math.imul(T,F)|0,o=Math.imul(T,q),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(E,z)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,q))+Math.imul(C,F)|0,o=Math.imul(C,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,q))+Math.imul(O,F)|0,o=Math.imul(O,q),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var kt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,q))+Math.imul(N,F)|0,o=Math.imul(N,q),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(K,F),i=(i=Math.imul(K,q))+Math.imul(D,F)|0,o=Math.imul(D,q),n=n+Math.imul(j,z)|0,i=(i=i+Math.imul(j,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ct)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,lt)|0;var At=(c+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,yt)|0)+Math.imul(l,dt)|0))<<13)|0;c=((o=o+Math.imul(l,yt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(K,z),i=(i=Math.imul(K,V))+Math.imul(D,z)|0,o=Math.imul(D,V),n=n+Math.imul(j,W)|0,i=(i=i+Math.imul(j,$)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,lt)|0;var xt=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,yt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,W),i=(i=Math.imul(K,$))+Math.imul(D,W)|0,o=Math.imul(D,$),n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,lt)|0;var Tt=(c+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,yt)|0)+Math.imul(b,dt)|0))<<13)|0;c=((o=o+Math.imul(b,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(K,J),i=(i=Math.imul(K,Z))+Math.imul(D,J)|0,o=Math.imul(D,Z),n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(_,dt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,dt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,Q),i=(i=Math.imul(K,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,lt)|0;var It=(c+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(E,dt)|0))<<13)|0;c=((o=o+Math.imul(E,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,rt),i=(i=Math.imul(K,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,lt)|0;var Ct=(c+(n=n+Math.imul(x,dt)|0)|0)+((8191&(i=(i=i+Math.imul(x,yt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(K,ot),i=(i=Math.imul(K,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Mt=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,yt)|0)+Math.imul(C,dt)|0))<<13)|0;c=((o=o+Math.imul(C,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(K,ut),i=(i=Math.imul(K,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(j,ht)|0,i=(i=i+Math.imul(j,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Pt=(c+(n=n+Math.imul(P,dt)|0)|0)+((8191&(i=(i=i+Math.imul(P,yt)|0)+Math.imul(O,dt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(K,ht),i=(i=Math.imul(K,lt))+Math.imul(D,ht)|0,o=Math.imul(D,lt);var Ot=(c+(n=n+Math.imul(j,dt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(N,dt)|0))<<13)|0;c=((o=o+Math.imul(N,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Rt=(c+(n=Math.imul(K,dt))|0)+((8191&(i=(i=Math.imul(K,yt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=mt,u[1]=gt,u[2]=bt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=kt,u[8]=Et,u[9]=At,u[10]=xt,u[11]=Tt,u[12]=Bt,u[13]=It,u[14]=Ct,u[15]=Mt,u[16]=Pt,u[17]=Ot,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(p=l),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?l(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;a=67108863&(l=l+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var h=u,l=c,p=0;p<s;p++){var d=r[f+p],y=n[f+p],m=r[f+p+s],g=n[f+p+s],b=h*m-l*g;g=h*g+l*m,m=b,r[f+p]=d+m,n[f+p]=y+g,r[f+p+s]=d-m,n[f+p+s]=y-g,p!==a&&(b=u*h-c*l,l=u*l+c*h,h=b)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,h,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*h[p];u[p]=a[p]*h[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n(\"number\"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n(\"number\"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n(\"number\"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,\"imaskn works only with positive numbers\"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n(\"number\"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n(\"number\"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if(\"mod\"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(i,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=l)}return a&&a.strip(),n.strip(),\"div\"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),\"mod\"!==e&&(i=a.div.neg()),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),\"mod\"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?\"div\"===e?{div:this.divn(t.words[0]),mod:null}:\"mod\"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,\"div\",!1).div},o.prototype.mod=function(t){return this.divmod(t,\"mod\",!1).mod},o.prototype.umod=function(t){return this.divmod(t,\"mod\",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),h=e.clone();!e.isZero();){for(var l=0,p=1;0==(e.words[0]&p)&&l<26;++l,p<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var d=0,y=1;0==(r.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,l=1;0==(r.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n(\"number\"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,\"Number is too big\");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,\"Already a number in reduction context\"),n(0===this.negative,\"red works only with positives\"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,\"Already a number in reduction context\"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,\"redAdd works only with red numbers\"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,\"redSub works only with red numbers\"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,\"redISub works only with red numbers\"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,\"redShl works only with red numbers\"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}function v(){g.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}function _(){g.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}function w(){g.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}function S(t){if(\"string\"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),\"modulus must be greater than 1\"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(b,g),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,g),i(_,g),i(w,g),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if(\"k256\"===t)e=new b;else if(\"p224\"===t)e=new v;else if(\"p192\"===t)e=new _;else{if(\"p25519\"!==t)throw new Error(\"Unknown prime \"+t);e=new w}return m[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,\"red works only with positives\"),n(t.red,\"red works only with red numbers\")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),\"red works only with positives\"),n(t.red&&t.red===e.red,\"red works only with red numbers\")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,i),l=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var y=p,m=0;0!==y.cmp(a);m++)y=y.redSqr();n(m<d);var g=this.pow(h,new o(1).iushln(d-m-1));l=l.redMul(g),h=g.redSqr(),p=p.redMul(h),d=m}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(26)(t))},function(t,e,r){(function(t,n){var i;/*! https://mths.be/utf8js v2.0.0 by @mathias */!function(o){var s=\"object\"==typeof e&&e,a=(\"object\"==typeof t&&t&&t.exports,\"object\"==typeof n&&n);a.global!==a&&a.window;var u,c,f,h=String.fromCharCode;function l(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function p(t){if(t>=55296&&t<=57343)throw Error(\"Lone surrogate U+\"+t.toString(16).toUpperCase()+\" is not a scalar value\")}function d(t,e){return h(t>>e&63|128)}function y(t){if(0==(4294967168&t))return h(t);var e=\"\";return 0==(4294965248&t)?e=h(t>>6&31|192):0==(4294901760&t)?(p(t),e=h(t>>12&15|224),e+=d(t,6)):0==(4292870144&t)&&(e=h(t>>18&7|240),e+=d(t,12),e+=d(t,6)),e+=h(63&t|128)}function m(){if(f>=c)throw Error(\"Invalid byte index\");var t=255&u[f];if(f++,128==(192&t))return 63&t;throw Error(\"Invalid continuation byte\")}function g(){var t,e;if(f>c)throw Error(\"Invalid byte index\");if(f==c)return!1;if(t=255&u[f],f++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|m())>=128)return e;throw Error(\"Invalid continuation byte\")}if(224==(240&t)){if((e=(15&t)<<12|m()<<6|m())>=2048)return p(e),e;throw Error(\"Invalid continuation byte\")}if(240==(248&t)&&(e=(15&t)<<18|m()<<12|m()<<6|m())>=65536&&e<=1114111)return e;throw Error(\"Invalid UTF-8 detected\")}var b={version:\"2.0.0\",encode:function(t){for(var e=l(t),r=e.length,n=-1,i=\"\";++n<r;)i+=y(e[n]);return i},decode:function(t){u=l(t),c=u.length,f=0;for(var e,r=[];!1!==(e=g());)r.push(e);return function(t){for(var e,r=t.length,n=-1,i=\"\";++n<r;)(e=t[n])>65535&&(i+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=h(e);return i}(r)}};void 0===(i=function(){return b}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(26)(t),r(5))},function(t,e,r){var n=r(31),i=r(363),o=r(362),s=function(t){var e=typeof t;if(\"string\"===e)return o.isHexStrict(t)?new i(t.replace(/0x/i,\"\"),16):new i(t,10);if(\"number\"===e)return new i(t);if(o.isBigNumber(t))return new i(t.toString(10));if(o.isBN(t))return t;throw new Error(t+\" is not a number\")},a=function(t,e,r){var n,a;if(\"bytes\"===(t=function(t){return t.startsWith(\"int[\")?\"int256\"+t.slice(3):\"int\"===t?\"int256\":t.startsWith(\"uint[\")?\"uint256\"+t.slice(4):\"uint\"===t?\"uint256\":t.startsWith(\"fixed[\")?\"fixed128x128\"+t.slice(5):\"fixed\"===t?\"fixed128x128\":t.startsWith(\"ufixed[\")?\"ufixed128x128\"+t.slice(6):\"ufixed\"===t?\"ufixed128x128\":t}(t))){if(e.replace(/^0x/i,\"\").length%2!=0)throw new Error(\"Invalid bytes characters \"+e.length);return e}if(\"string\"===t)return o.utf8ToHex(e);if(\"bool\"===t)return e?\"01\":\"00\";if(t.startsWith(\"address\")){if(n=r?64:40,!o.isAddress(e))throw new Error(e+\" is not a valid address, or the checksum is invalid.\");return o.leftPad(e.toLowerCase(),n)}if(n=function(t){var e=/^\\D+(\\d+).*$/.exec(t);return e?parseInt(e[1],10):null}(t),t.startsWith(\"bytes\")){if(!n)throw new Error(\"bytes[] not yet supported in solidity\");if(r&&(n=32),n<1||n>32||n<e.replace(/^0x/i,\"\").length/2)throw new Error(\"Invalid bytes\"+n+\" for \"+e);return o.rightPad(e,2*n)}if(t.startsWith(\"uint\")){if(n%8||n<8||n>256)throw new Error(\"Invalid uint\"+n+\" size\");if((a=s(e)).bitLength()>n)throw new Error(\"Supplied uint exceeds width: \"+n+\" vs \"+a.bitLength());if(a.lt(new i(0)))throw new Error(\"Supplied uint \"+a.toString()+\" is negative\");return n?o.leftPad(a.toString(\"hex\"),n/8*2):a}if(t.startsWith(\"int\")){if(n%8||n<8||n>256)throw new Error(\"Invalid int\"+n+\" size\");if((a=s(e)).bitLength()>n)throw new Error(\"Supplied int exceeds width: \"+n+\" vs \"+a.bitLength());return a.lt(new i(0))?a.toTwos(n).toString(\"hex\"):n?o.leftPad(a.toString(\"hex\"),n/8*2):a}throw new Error(\"Unsupported or invalid type: \"+t)},u=function(t){if(n.isArray(t))throw new Error(\"Autodetection of array types is not supported.\");var e,r,s=\"\";if(n.isObject(t)&&(t.hasOwnProperty(\"v\")||t.hasOwnProperty(\"t\")||t.hasOwnProperty(\"value\")||t.hasOwnProperty(\"type\"))?(e=t.hasOwnProperty(\"t\")?t.t:t.type,s=t.hasOwnProperty(\"v\")?t.v:t.value):(e=o.toHex(t,!0),s=o.toHex(t),e.startsWith(\"int\")||e.startsWith(\"uint\")||(e=\"bytes\")),!e.startsWith(\"int\")&&!e.startsWith(\"uint\")||\"string\"!=typeof s||/^(-)?0x/i.test(s)||(s=new i(s)),n.isArray(s)){if((r=function(t){var e=/^\\D+\\d*\\[(\\d+)\\]$/.exec(t);return e?parseInt(e[1],10):null}(e))&&s.length!==r)throw new Error(e+\" is not matching the given array \"+JSON.stringify(s));r=s.length}return n.isArray(s)?s.map(function(t){return a(e,t,r).toString(\"hex\").replace(\"0x\",\"\")}).join(\"\"):a(e,s,r).toString(\"hex\").replace(\"0x\",\"\")};t.exports=function(){var t=Array.prototype.slice.call(arguments),e=n.map(t,u);return o.sha3(\"0x\"+e.join(\"\"))}},function(t,e,r){t.exports=function(t,e){var n=r(723),i=\"function\"==typeof e;if(t>65536){if(!i)throw new Error(\"Requested too many random bytes.\");e(new Error(\"Requested too many random bytes.\"))}if(void 0!==n&&n.randomBytes){if(!i)return\"0x\"+n.randomBytes(t).toString(\"hex\");n.randomBytes(t,function(t,r){t?e(u):e(null,\"0x\"+r.toString(\"hex\"))})}else{var o;if(void 0!==n?o=n:\"undefined\"!=typeof msCrypto&&(o=msCrypto),o&&o.getRandomValues){var s=o.getRandomValues(new Uint8Array(t)),a=\"0x\"+Array.from(s).map(function(t){return t.toString(16)}).join(\"\");if(!i)return a;e(null,a)}else{var u=new Error('No \"crypto\" object available. This Browser doesn\\'t support generating secure random bytes.');if(!i)throw u;e(u)}}}},function(t,e,r){t.exports=r(724)},function(t,e){t.exports=window.crypto},function(t,e,r){(function(t){!function(t,e){\"use strict\";function n(t,e){if(!t)throw new Error(e||\"Assertion failed\")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(\"le\"!==e&&\"be\"!==e||(r=e,e=10),this._init(t||0,e||10,r||\"be\"))}var s;\"object\"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&\"object\"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if(\"number\"==typeof t)return this._initNumber(t,e,r);if(\"object\"==typeof t)return this._initArray(t,e,r);\"hex\"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;\"-\"===(t=t.toString().replace(/\\s+/g,\"\"))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),\"-\"===t[0]&&(this.negative=1),this.strip(),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n(\"number\"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if(\"be\"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if(\"le\"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"};var c=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=l;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||\"hex\"===t){r=\"\";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],p=h[t];r=\"\";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?y+r:c[l-y.length]+y+r}for(this.isZero()&&(r=\"0\"+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}n(!1,\"Base should be between 2 and 36\")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,\"Number can only safely store up to 53 bits\"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,\"byte array longer than desired length\"),n(o>0,\"Requested array length <= 0\"),this.strip();var s,a,u=\"le\"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n(\"number\"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n(\"number\"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],h=8191&f,l=f>>>13,p=0|s[1],d=8191&p,y=p>>>13,m=0|s[2],g=8191&m,b=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],k=8191&S,E=S>>>13,A=0|s[5],x=8191&A,T=A>>>13,B=0|s[6],I=8191&B,C=B>>>13,M=0|s[7],P=8191&M,O=M>>>13,R=0|s[8],j=8191&R,N=R>>>13,L=0|s[9],K=8191&L,D=L>>>13,U=0|a[0],F=8191&U,q=U>>>13,H=0|a[1],z=8191&H,V=H>>>13,G=0|a[2],W=8191&G,$=G>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],ht=8191&ft,lt=ft>>>13,pt=0|a[9],dt=8191&pt,yt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(c+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(l,F)|0))<<13)|0;c=((o=Math.imul(l,q))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(d,F),i=(i=Math.imul(d,q))+Math.imul(y,F)|0,o=Math.imul(y,q);var gt=(c+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(l,z)|0))<<13)|0;c=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,q))+Math.imul(b,F)|0,o=Math.imul(b,q),n=n+Math.imul(d,z)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,V)|0;var bt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(l,W)|0))<<13)|0;c=((o=o+Math.imul(l,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,q))+Math.imul(w,F)|0,o=Math.imul(w,q),n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,V)|0,n=n+Math.imul(d,W)|0,i=(i=i+Math.imul(d,$)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,$)|0;var vt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,q))+Math.imul(E,F)|0,o=Math.imul(E,q),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,z)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,$)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var _t=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,q))+Math.imul(T,F)|0,o=Math.imul(T,q),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(E,z)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,q))+Math.imul(C,F)|0,o=Math.imul(C,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,q))+Math.imul(O,F)|0,o=Math.imul(O,q),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var kt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,q))+Math.imul(N,F)|0,o=Math.imul(N,q),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(K,F),i=(i=Math.imul(K,q))+Math.imul(D,F)|0,o=Math.imul(D,q),n=n+Math.imul(j,z)|0,i=(i=i+Math.imul(j,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ct)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,lt)|0;var At=(c+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,yt)|0)+Math.imul(l,dt)|0))<<13)|0;c=((o=o+Math.imul(l,yt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(K,z),i=(i=Math.imul(K,V))+Math.imul(D,z)|0,o=Math.imul(D,V),n=n+Math.imul(j,W)|0,i=(i=i+Math.imul(j,$)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,lt)|0;var xt=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,yt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,W),i=(i=Math.imul(K,$))+Math.imul(D,W)|0,o=Math.imul(D,$),n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,lt)|0;var Tt=(c+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,yt)|0)+Math.imul(b,dt)|0))<<13)|0;c=((o=o+Math.imul(b,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(K,J),i=(i=Math.imul(K,Z))+Math.imul(D,J)|0,o=Math.imul(D,Z),n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(_,dt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,dt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,Q),i=(i=Math.imul(K,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,lt)|0;var It=(c+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(E,dt)|0))<<13)|0;c=((o=o+Math.imul(E,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,rt),i=(i=Math.imul(K,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,lt)|0;var Ct=(c+(n=n+Math.imul(x,dt)|0)|0)+((8191&(i=(i=i+Math.imul(x,yt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(K,ot),i=(i=Math.imul(K,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Mt=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,yt)|0)+Math.imul(C,dt)|0))<<13)|0;c=((o=o+Math.imul(C,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(K,ut),i=(i=Math.imul(K,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(j,ht)|0,i=(i=i+Math.imul(j,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Pt=(c+(n=n+Math.imul(P,dt)|0)|0)+((8191&(i=(i=i+Math.imul(P,yt)|0)+Math.imul(O,dt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(K,ht),i=(i=Math.imul(K,lt))+Math.imul(D,ht)|0,o=Math.imul(D,lt);var Ot=(c+(n=n+Math.imul(j,dt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(N,dt)|0))<<13)|0;c=((o=o+Math.imul(N,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Rt=(c+(n=Math.imul(K,dt))|0)+((8191&(i=(i=Math.imul(K,yt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=mt,u[1]=gt,u[2]=bt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=kt,u[8]=Et,u[9]=At,u[10]=xt,u[11]=Tt,u[12]=Bt,u[13]=It,u[14]=Ct,u[15]=Mt,u[16]=Pt,u[17]=Ot,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(p=l),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?l(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;a=67108863&(l=l+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var h=u,l=c,p=0;p<s;p++){var d=r[f+p],y=n[f+p],m=r[f+p+s],g=n[f+p+s],b=h*m-l*g;g=h*g+l*m,m=b,r[f+p]=d+m,n[f+p]=y+g,r[f+p+s]=d-m,n[f+p+s]=y-g,p!==a&&(b=u*h-c*l,l=u*l+c*h,h=b)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,h,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*h[p];u[p]=a[p]*h[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n(\"number\"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n(\"number\"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n(\"number\"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,\"imaskn works only with positive numbers\"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n(\"number\"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n(\"number\"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if(\"mod\"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(i,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=l)}return a&&a.strip(),n.strip(),\"div\"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),\"mod\"!==e&&(i=a.div.neg()),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),\"mod\"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?\"div\"===e?{div:this.divn(t.words[0]),mod:null}:\"mod\"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,\"div\",!1).div},o.prototype.mod=function(t){return this.divmod(t,\"mod\",!1).mod},o.prototype.umod=function(t){return this.divmod(t,\"mod\",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),h=e.clone();!e.isZero();){for(var l=0,p=1;0==(e.words[0]&p)&&l<26;++l,p<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var d=0,y=1;0==(r.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,l=1;0==(r.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n(\"number\"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,\"Number is too big\");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,\"Already a number in reduction context\"),n(0===this.negative,\"red works only with positives\"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,\"Already a number in reduction context\"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,\"redAdd works only with red numbers\"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,\"redSub works only with red numbers\"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,\"redISub works only with red numbers\"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,\"redShl works only with red numbers\"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}function v(){g.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}function _(){g.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}function w(){g.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}function S(t){if(\"string\"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),\"modulus must be greater than 1\"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(b,g),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,g),i(_,g),i(w,g),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if(\"k256\"===t)e=new b;else if(\"p224\"===t)e=new v;else if(\"p192\"===t)e=new _;else{if(\"p25519\"!==t)throw new Error(\"Unknown prime \"+t);e=new w}return m[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,\"red works only with positives\"),n(t.red,\"red works only with red numbers\")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),\"red works only with positives\"),n(t.red&&t.red===e.red,\"red works only with red numbers\")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,i),l=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var y=p,m=0;0!==y.cmp(a);m++)y=y.redSqr();n(m<d);var g=this.pow(h,new o(1).iushln(d-m-1));l=l.redMul(g),h=g.redSqr(),p=p.redMul(h),d=m}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(26)(t))},function(t,e,r){\"use strict\";var n=r(366),i=r(36).errors,o=function(t){this.requestManager=t,this.requests=[]};o.prototype.add=function(t){this.requests.push(t)},o.prototype.execute=function(){var t=this.requests;this.requestManager.sendBatch(t,function(e,r){r=r||[],t.map(function(t,e){return r[e]||{}}).forEach(function(e,r){if(t[r].callback){if(e&&e.error)return t[r].callback(i.ErrorResponse(e));if(!n.isValidResponse(e))return t[r].callback(i.InvalidResponse(e));try{t[r].callback(null,t[r].format?t[r].format(e.result):e.result)}catch(e){t[r].callback(e)}}})})},t.exports=o},function(t,e,r){\"use strict\";var n=null,i=Function(\"return this\")();void 0!==i.ethereumProvider?n=i.ethereumProvider:void 0!==i.web3&&i.web3.currentProvider&&(i.web3.currentProvider.sendAsync&&(i.web3.currentProvider.send=i.web3.currentProvider.sendAsync,delete i.web3.currentProvider.sendAsync),!i.web3.currentProvider.on&&i.web3.currentProvider.connection&&\"ipcProviderWrapper\"===i.web3.currentProvider.connection.constructor.name&&(i.web3.currentProvider.on=function(t,e){if(\"function\"!=typeof e)throw new Error(\"The second parameter callback must be a function.\");switch(t){case\"data\":this.connection.on(\"data\",function(t){var r=\"\";t=t.toString();try{r=JSON.parse(t)}catch(r){return e(new Error(\"Couldn't parse response data\"+t))}r.id||-1===r.method.indexOf(\"_subscription\")||e(null,r)});break;default:this.connection.on(t,e)}}),n=i.web3.currentProvider),t.exports=n},function(t,e,r){\"use strict\";(function(e){var n=r(31),i=r(36).errors,o=null,s=null,a=null;if(\"undefined\"!=typeof window&&void 0!==window.WebSocket)o=window.WebSocket,s=btoa,a=function(t){return new URL(t)};else{o=r(729).w3cwebsocket,s=function(t){return e(t).toString(\"base64\")};var u=r(79);if(u.URL){var c=u.URL;a=function(t){return new c(t)}}else a=r(79).parse}var f=function(t,e){var r=this;this.responseCallbacks={},this.notificationCallbacks=[],e=e||{},this._customTimeout=e.timeout;var i=a(t),u=e.headers||{},c=e.protocol||void 0;i.username&&i.password&&(u.authorization=\"Basic \"+s(i.username+\":\"+i.password)),this.connection=new o(t,c,void 0,u),this.addDefaultEvents(),this.connection.onmessage=function(t){var e=\"string\"==typeof t.data?t.data:\"\";r._parseResponse(e).forEach(function(t){var e=null;n.isArray(t)?t.forEach(function(t){r.responseCallbacks[t.id]&&(e=t.id)}):e=t.id,e||-1===t.method.indexOf(\"_subscription\")?r.responseCallbacks[e]&&(r.responseCallbacks[e](null,t),delete r.responseCallbacks[e]):r.notificationCallbacks.forEach(function(e){n.isFunction(e)&&e(t)})})},Object.defineProperty(this,\"connected\",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0})};f.prototype.addDefaultEvents=function(){var t=this;this.connection.onerror=function(){t._timeout()},this.connection.onclose=function(){t._timeout(),t.reset()}},f.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\\}[\\n\\r]?\\{/g,\"}|--|{\").replace(/\\}\\][\\n\\r]?\\[\\{/g,\"}]|--|[{\").replace(/\\}[\\n\\r]?\\[\\{/g,\"}|--|[{\").replace(/\\}\\][\\n\\r]?\\{/g,\"}]|--|{\").split(\"|--|\").forEach(function(t){e.lastChunk&&(t=e.lastChunk+t);var n=null;try{n=JSON.parse(t)}catch(r){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),i.InvalidResponse(t)},15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,n&&r.push(n)}),r},f.prototype._addResponseCallback=function(t,e){var r=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[r]=e,this.responseCallbacks[r].method=n;var o=this;this._customTimeout&&setTimeout(function(){o.responseCallbacks[r]&&(o.responseCallbacks[r](i.ConnectionTimeout(o._customTimeout)),delete o.responseCallbacks[r])},this._customTimeout)},f.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](i.InvalidConnection(\"on WS\")),delete this.responseCallbacks[t])},f.prototype.send=function(t,e){var r=this;if(this.connection.readyState!==this.connection.CONNECTING){if(this.connection.readyState!==this.connection.OPEN)return console.error(\"connection not open on send()\"),\"function\"==typeof this.connection.onerror?this.connection.onerror(new Error(\"connection not open\")):console.error(\"no error callback\"),void e(new Error(\"connection not open\"));this.connection.send(JSON.stringify(t)),this._addResponseCallback(t,e)}else setTimeout(function(){r.send(t,e)},10)},f.prototype.on=function(t,e){if(\"function\"!=typeof e)throw new Error(\"The second parameter callback must be a function.\");switch(t){case\"data\":this.notificationCallbacks.push(e);break;case\"connect\":this.connection.onopen=e;break;case\"end\":this.connection.onclose=e;break;case\"error\":this.connection.onerror=e}},f.prototype.removeListener=function(t,e){var r=this;switch(t){case\"data\":this.notificationCallbacks.forEach(function(t,n){t===e&&r.notificationCallbacks.splice(n,1)})}},f.prototype.removeAllListeners=function(t){switch(t){case\"data\":this.notificationCallbacks=[];break;case\"connect\":this.connection.onopen=null;break;case\"end\":this.connection.onclose=null;break;case\"error\":this.connection.onerror=null}},f.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.addDefaultEvents()},t.exports=f}).call(this,r(0).Buffer)},function(t,e,r){var n=function(){return this||{}}(),i=n.WebSocket||n.MozWebSocket,o=r(730);function s(t,e){return e?new i(t,e):new i(t)}i&&[\"CONNECTING\",\"OPEN\",\"CLOSING\",\"CLOSED\"].forEach(function(t){Object.defineProperty(s,t,{get:function(){return i[t]}})}),t.exports={w3cwebsocket:i?s:null,version:o}},function(t,e,r){t.exports=r(731).version},function(t){t.exports={_from:\"git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible\",_id:\"websocket@1.0.26\",_inBundle:!1,_integrity:\"\",_location:\"/websocket\",_phantomChildren:{ms:\"2.0.0\"},_requested:{type:\"git\",raw:\"websocket@git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible\",name:\"websocket\",escapedName:\"websocket\",rawSpec:\"git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible\",saveSpec:\"git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible\",fetchSpec:\"git://github.com/frozeman/WebSocket-Node.git\",gitCommittish:\"browserifyCompatible\"},_requiredBy:[\"/web3-providers-ws\"],_resolved:\"git://github.com/frozeman/WebSocket-Node.git#6c72925e3f8aaaea8dc8450f97627e85263999f2\",_spec:\"websocket@git://github.com/frozeman/WebSocket-Node.git#browserifyCompatible\",_where:\"/Users/markfocella/truffle_projects/leth_contracts/node_modules/web3-providers-ws\",author:{name:\"Brian McKelvey\",email:\"brian@worlize.com\",url:\"https://www.worlize.com/\"},browser:\"lib/browser.js\",bugs:{url:\"https://github.com/theturtle32/WebSocket-Node/issues\"},bundleDependencies:!1,config:{verbose:!1},contributors:[{name:\"Iñaki Baz Castillo\",email:\"ibc@aliax.net\",url:\"http://dev.sipdoc.net\"}],dependencies:{debug:\"^2.2.0\",nan:\"^2.3.3\",\"typedarray-to-buffer\":\"^3.1.2\",yaeti:\"^0.0.6\"},deprecated:!1,description:\"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.\",devDependencies:{\"buffer-equal\":\"^1.0.0\",faucet:\"^0.0.1\",gulp:\"git+https://github.com/gulpjs/gulp.git#4.0\",\"gulp-jshint\":\"^2.0.4\",jshint:\"^2.0.0\",\"jshint-stylish\":\"^2.2.1\",tape:\"^4.0.1\"},directories:{lib:\"./lib\"},engines:{node:\">=0.10.0\"},homepage:\"https://github.com/theturtle32/WebSocket-Node\",keywords:[\"websocket\",\"websockets\",\"socket\",\"networking\",\"comet\",\"push\",\"RFC-6455\",\"realtime\",\"server\",\"client\"],license:\"Apache-2.0\",main:\"index\",name:\"websocket\",repository:{type:\"git\",url:\"git+https://github.com/theturtle32/WebSocket-Node.git\"},scripts:{gulp:\"gulp\",install:\"(node-gyp rebuild 2> builderror.log) || (exit 0)\",test:\"faucet test/unit\"},version:\"1.0.26\"}},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){\"object\"==typeof e&&e&&e.nodeType,\"object\"==typeof t&&t&&t.nodeType;var s=\"object\"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,f=1,h=26,l=38,p=700,d=72,y=128,m=\"-\",g=/^xn--/,b=/[^\\x20-\\x7E]/,v=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,_={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},w=c-f,S=Math.floor,k=String.fromCharCode;function E(t){throw new RangeError(_[t])}function A(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function x(t,e){var r=t.split(\"@\"),n=\"\";return r.length>1&&(n=r[0]+\"@\",t=r[1]),n+A((t=t.replace(v,\".\")).split(\".\"),e).join(\".\")}function T(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function B(t){return A(t,function(t){var e=\"\";return t>65535&&(e+=k((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=k(t)}).join(\"\")}function I(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,r){var n=0;for(t=r?S(t/p):t>>1,t+=S(t/e);t>w*h>>1;n+=c)t=S(t/w);return S(n+(w+1)*t/(t+l))}function P(t){var e,r,n,i,o,s,a,l,p,g,b=[],v=t.length,_=0,w=y,k=d;for((r=t.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&E(\"not-basic\"),b.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(o=_,s=1,a=c;i>=v&&E(\"invalid-input\"),((l=I(t.charCodeAt(i++)))>=c||l>S((u-_)/s))&&E(\"overflow\"),_+=l*s,!(l<(p=a<=k?f:a>=k+h?h:a-k));a+=c)s>S(u/(g=c-p))&&E(\"overflow\"),s*=g;k=M(_-o,e=b.length+1,0==o),S(_/e)>u-w&&E(\"overflow\"),w+=S(_/e),_%=e,b.splice(_++,0,w)}return B(b)}function O(t){var e,r,n,i,o,s,a,l,p,g,b,v,_,w,A,x=[];for(v=(t=T(t)).length,e=y,r=0,o=d,s=0;s<v;++s)(b=t[s])<128&&x.push(k(b));for(n=i=x.length,i&&x.push(m);n<v;){for(a=u,s=0;s<v;++s)(b=t[s])>=e&&b<a&&(a=b);for(a-e>S((u-r)/(_=n+1))&&E(\"overflow\"),r+=(a-e)*_,e=a,s=0;s<v;++s)if((b=t[s])<e&&++r>u&&E(\"overflow\"),b==e){for(l=r,p=c;!(l<(g=p<=o?f:p>=o+h?h:p-o));p+=c)A=l-g,w=c-g,x.push(k(C(g+A%w,0))),l=S(A/w);x.push(k(C(l,0))),o=M(r,_,n==i),r=0,++n}++r,++e}return x.join(\"\")}a={version:\"1.4.1\",ucs2:{decode:T,encode:B},decode:P,encode:O,toASCII:function(t){return x(t,function(t){return b.test(t)?\"xn--\"+O(t):t})},toUnicode:function(t){return x(t,function(t){return g.test(t)?P(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(26)(t),r(5))},function(t,e,r){\"use strict\";t.exports={isString:function(t){return\"string\"==typeof t},isObject:function(t){return\"object\"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){\"use strict\";e.decode=e.parse=r(735),e.encode=e.stringify=r(736)},function(t,e,r){\"use strict\";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||\"&\",r=r||\"=\";var s={};if(\"string\"!=typeof t||0===t.length)return s;var a=/\\+/g;t=t.split(e);var u=1e3;o&&\"number\"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var h,l,p,d,y=t[f].replace(a,\"%20\"),m=y.indexOf(r);m>=0?(h=y.substr(0,m),l=y.substr(m+1)):(h=y,l=\"\"),p=decodeURIComponent(h),d=decodeURIComponent(l),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}},function(t,e,r){\"use strict\";var n=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};t.exports=function(t,e,r,a){return e=e||\"&\",r=r||\"=\",null===t&&(t=void 0),\"object\"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):\"\"};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){var n=r(36).errors,i=r(738).XMLHttpRequest,o=function(t,e){e=e||{},this.host=t||\"http://localhost:8545\",this.timeout=e.timeout||0,this.headers=e.headers,this.connected=!1};o.prototype._prepareRequest=function(){var t=new i;return t.open(\"POST\",this.host,!0),t.setRequestHeader(\"Content-Type\",\"application/json\"),t.timeout=this.timeout&&1!==this.timeout?this.timeout:0,t.withCredentials=!0,this.headers&&this.headers.forEach(function(e){t.setRequestHeader(e.name,e.value)}),t},o.prototype.send=function(t,e){var r=this,i=this._prepareRequest();i.onreadystatechange=function(){if(4===i.readyState&&1!==i.timeout){var t=i.responseText,o=null;try{t=JSON.parse(t)}catch(t){o=n.InvalidResponse(i.responseText)}r.connected=!0,e(o,t)}},i.ontimeout=function(){r.connected=!1,e(n.ConnectionTimeout(this.timeout))};try{i.send(JSON.stringify(t))}catch(t){this.connected=!1,e(n.InvalidConnection(this.host))}},t.exports=o},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(739));var n=r(235);e.XMLHttpRequestEventTarget=n.XMLHttpRequestEventTarget},function(t,e,r){\"use strict\";(function(t,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};Object.defineProperty(e,\"__esModule\",{value:!0});var s=r(367),a=r(748),u=r(234),c=r(79),f=r(749),h=r(750),l=r(235),p=r(751),d=r(752),y=function(e){function r(n){void 0===n&&(n={});var i=e.call(this)||this;return i.UNSENT=r.UNSENT,i.OPENED=r.OPENED,i.HEADERS_RECEIVED=r.HEADERS_RECEIVED,i.LOADING=r.LOADING,i.DONE=r.DONE,i.onreadystatechange=null,i.readyState=r.UNSENT,i.response=null,i.responseText=\"\",i.responseType=\"\",i.status=0,i.statusText=\"\",i.timeout=0,i.upload=new p.XMLHttpRequestUpload,i.responseUrl=\"\",i.withCredentials=!1,i._method=null,i._url=null,i._sync=!1,i._headers={},i._loweredHeaders={},i._mimeOverride=null,i._request=null,i._response=null,i._responseParts=null,i._responseHeaders=null,i._aborting=null,i._error=null,i._loadedBytes=0,i._totalBytes=0,i._lengthComputable=!1,i._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},i._restrictedHeaders={\"accept-charset\":!0,\"accept-encoding\":!0,\"access-control-request-headers\":!0,\"access-control-request-method\":!0,connection:!0,\"content-length\":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,\"keep-alive\":!0,origin:!0,referer:!0,te:!0,trailer:!0,\"transfer-encoding\":!0,upgrade:!0,\"user-agent\":!0,via:!0},i._privateHeaders={\"set-cookie\":!0,\"set-cookie2\":!0},i._userAgent=\"Mozilla/5.0 (\"+u.type()+\" \"+u.arch()+\") node.js/\"+t.versions.node+\" v8/\"+t.versions.v8,i._anonymous=n.anon||!1,i}return i(r,e),r.prototype.open=function(t,e,n,i,o){if(void 0===n&&(n=!0),t=t.toUpperCase(),this._restrictedMethods[t])throw new r.SecurityError(\"HTTP method \"+t+\" is not allowed in XHR\");var s=this._parseUrl(e,i,o);this.readyState===r.HEADERS_RECEIVED||(this.readyState,r.LOADING),this._method=t,this._url=s,this._sync=!n,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(r.OPENED),this._request=null,this._response=null,this.status=0,this.statusText=\"\",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},r.prototype.setRequestHeader=function(t,e){if(this.readyState!==r.OPENED)throw new r.InvalidStateError(\"XHR readyState must be OPENED\");var n=t.toLowerCase();this._restrictedHeaders[n]||/^sec-/.test(n)||/^proxy-/.test(n)?console.warn('Refused to set unsafe header \"'+t+'\"'):(e=e.toString(),null!=this._loweredHeaders[n]?(t=this._loweredHeaders[n],this._headers[t]=this._headers[t]+\", \"+e):(this._loweredHeaders[n]=t,this._headers[t]=e))},r.prototype.send=function(t){if(this.readyState!==r.OPENED)throw new r.InvalidStateError(\"XHR readyState must be OPENED\");if(this._request)throw new r.InvalidStateError(\"send() already called\");switch(this._url.protocol){case\"file:\":return this._sendFile(t);case\"http:\":case\"https:\":return this._sendHttp(t);default:throw new r.NetworkError(\"Unsupported protocol \"+this._url.protocol)}},r.prototype.abort=function(){null!=this._request&&(this._request.abort(),this._setError(),this._dispatchProgress(\"abort\"),this._dispatchProgress(\"loadend\"))},r.prototype.getResponseHeader=function(t){if(null==this._responseHeaders||null==t)return null;var e=t.toLowerCase();return this._responseHeaders.hasOwnProperty(e)?this._responseHeaders[t.toLowerCase()]:null},r.prototype.getAllResponseHeaders=function(){var t=this;return null==this._responseHeaders?\"\":Object.keys(this._responseHeaders).map(function(e){return e+\": \"+t._responseHeaders[e]}).join(\"\\r\\n\")},r.prototype.overrideMimeType=function(t){if(this.readyState===r.LOADING||this.readyState===r.DONE)throw new r.InvalidStateError(\"overrideMimeType() not allowed in LOADING or DONE\");this._mimeOverride=t.toLowerCase()},r.prototype.nodejsSet=function(t){if(this.nodejsHttpAgent=t.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=t.httpsAgent||this.nodejsHttpsAgent,t.hasOwnProperty(\"baseUrl\")){if(null!=t.baseUrl)if(!c.parse(t.baseUrl,!1,!0).protocol)throw new r.SyntaxError(\"baseUrl must be an absolute URL\");this.nodejsBaseUrl=t.baseUrl}},r.nodejsSet=function(t){r.prototype.nodejsSet(t)},r.prototype._setReadyState=function(t){this.readyState=t,this.dispatchEvent(new f.ProgressEvent(\"readystatechange\"))},r.prototype._sendFile=function(t){throw new Error(\"Protocol file: not implemented\")},r.prototype._sendHttp=function(t){if(this._sync)throw new Error(\"Synchronous XHR processing not implemented\");!t||\"GET\"!==this._method&&\"HEAD\"!==this._method?t=t||\"\":(console.warn(\"Discarding entity body for \"+this._method+\" requests\"),t=null),this.upload._setData(t),this._finalizeHeaders(),this._sendHxxpRequest()},r.prototype._sendHxxpRequest=function(){var t=this;if(this.withCredentials){var e=r.cookieJar.getCookies(d.CookieAccessInfo(this._url.hostname,this._url.pathname,\"https:\"===this._url.protocol)).toValueString();this._headers.cookie=this._headers.cookie2=e}var n=\"http:\"===this._url.protocol?[s,this.nodejsHttpAgent]:[a,this.nodejsHttpsAgent],i=n[0],o=n[1],u=i.request.bind(i)({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:o});this._request=u,this.timeout&&u.setTimeout(this.timeout,function(){return t._onHttpTimeout(u)}),u.on(\"response\",function(e){return t._onHttpResponse(u,e)}),u.on(\"error\",function(e){return t._onHttpRequestError(u,e)}),this.upload._startUpload(u),this._request===u&&this._dispatchProgress(\"loadstart\")},r.prototype._finalizeHeaders=function(){this._headers=o({},this._headers,{Connection:\"keep-alive\",Host:this._url.host,\"User-Agent\":this._userAgent},this._anonymous?{Referer:\"about:blank\"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},r.prototype._onHttpResponse=function(t,e){var n=this;if(this._request===t){if(this.withCredentials&&(e.headers[\"set-cookie\"]||e.headers[\"set-cookie2\"])&&r.cookieJar.setCookies(e.headers[\"set-cookie\"]||e.headers[\"set-cookie2\"]),[301,302,303,307,308].indexOf(e.statusCode)>=0)return this._url=this._parseUrl(e.headers.location),this._method=\"GET\",this._loweredHeaders[\"content-type\"]&&(delete this._headers[this._loweredHeaders[\"content-type\"]],delete this._loweredHeaders[\"content-type\"]),null!=this._headers[\"Content-Type\"]&&delete this._headers[\"Content-Type\"],delete this._headers[\"Content-Length\"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest();this._response=e,this._response.on(\"data\",function(t){return n._onHttpResponseData(e,t)}),this._response.on(\"end\",function(){return n._onHttpResponseEnd(e)}),this._response.on(\"close\",function(){return n._onHttpResponseClose(e)}),this.responseUrl=this._url.href.split(\"#\")[0],this.status=e.statusCode,this.statusText=s.STATUS_CODES[this.status],this._parseResponseHeaders(e);var i=this._responseHeaders[\"content-length\"]||\"\";this._totalBytes=+i,this._lengthComputable=!!i,this._setReadyState(r.HEADERS_RECEIVED)}},r.prototype._onHttpResponseData=function(t,e){this._response===t&&(this._responseParts.push(new n(e)),this._loadedBytes+=e.length,this.readyState!==r.LOADING&&this._setReadyState(r.LOADING),this._dispatchProgress(\"progress\"))},r.prototype._onHttpResponseEnd=function(t){this._response===t&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(r.DONE),this._dispatchProgress(\"load\"),this._dispatchProgress(\"loadend\"))},r.prototype._onHttpResponseClose=function(t){if(this._response===t){var e=this._request;this._setError(),e.abort(),this._setReadyState(r.DONE),this._dispatchProgress(\"error\"),this._dispatchProgress(\"loadend\")}},r.prototype._onHttpTimeout=function(t){this._request===t&&(this._setError(),t.abort(),this._setReadyState(r.DONE),this._dispatchProgress(\"timeout\"),this._dispatchProgress(\"loadend\"))},r.prototype._onHttpRequestError=function(t,e){this._request===t&&(this._setError(),t.abort(),this._setReadyState(r.DONE),this._dispatchProgress(\"error\"),this._dispatchProgress(\"loadend\"))},r.prototype._dispatchProgress=function(t){var e=new r.ProgressEvent(t);e.lengthComputable=this._lengthComputable,e.loaded=this._loadedBytes,e.total=this._totalBytes,this.dispatchEvent(e)},r.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},r.prototype._parseUrl=function(t,e,r){var n=null==this.nodejsBaseUrl?t:c.resolve(this.nodejsBaseUrl,t),i=c.parse(n,!1,!0);i.hash=null;var o=(i.auth||\"\").split(\":\"),s=o[0],a=o[1];return(s||a||e||r)&&(i.auth=(e||s||\"\")+\":\"+(r||a||\"\")),i},r.prototype._parseResponseHeaders=function(t){for(var e in this._responseHeaders={},t.headers){var r=e.toLowerCase();this._privateHeaders[r]||(this._responseHeaders[r]=t.headers[e])}null!=this._mimeOverride&&(this._responseHeaders[\"content-type\"]=this._mimeOverride)},r.prototype._parseResponse=function(){var t=n.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case\"json\":this.responseText=null;try{this.response=JSON.parse(t.toString(\"utf-8\"))}catch(t){this.response=null}return;case\"buffer\":return this.responseText=null,void(this.response=t);case\"arraybuffer\":this.responseText=null;for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),i=0;i<t.length;i++)r[i]=t[i];return void(this.response=e);case\"text\":default:try{this.responseText=t.toString(this._parseResponseEncoding())}catch(e){this.responseText=t.toString(\"binary\")}this.response=this.responseText}},r.prototype._parseResponseEncoding=function(){return/;\\s*charset=(.*)$/.exec(this._responseHeaders[\"content-type\"]||\"\")[1]||\"utf-8\"},r.ProgressEvent=f.ProgressEvent,r.InvalidStateError=h.InvalidStateError,r.NetworkError=h.NetworkError,r.SecurityError=h.SecurityError,r.SyntaxError=h.SyntaxError,r.XMLHttpRequestUpload=p.XMLHttpRequestUpload,r.UNSENT=0,r.OPENED=1,r.HEADERS_RECEIVED=2,r.LOADING=3,r.DONE=4,r.cookieJar=d.CookieJar(),r}(l.XMLHttpRequestEventTarget);e.XMLHttpRequest=y,y.prototype.nodejsHttpAgent=s.globalAgent,y.prototype.nodejsHttpsAgent=a.globalAgent,y.prototype.nodejsBaseUrl=null}).call(this,r(7),r(0).Buffer)},function(t,e,r){(function(e,n,i){var o=r(368),s=r(1),a=r(369),u=r(58),c=r(746),f=a.IncomingMessage,h=a.readyStates;var l=t.exports=function(t){var r,n=this;u.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader(\"Authorization\",\"Basic \"+new e(t.auth).toString(\"base64\")),Object.keys(t.headers).forEach(function(e){n.setHeader(e,t.headers[e])});var i=!0;if(\"disable-fetch\"===t.mode||\"requestTimeout\"in t&&!o.abortController)i=!1,r=!0;else if(\"prefer-streaming\"===t.mode)r=!1;else if(\"allow-wrong-content-type\"===t.mode)r=!o.overrideMimeType;else{if(t.mode&&\"default\"!==t.mode&&\"prefer-fast\"!==t.mode)throw new Error(\"Invalid value for opts.mode\");r=!0}n._mode=function(t,e){return o.fetch&&e?\"fetch\":o.mozchunkedarraybuffer?\"moz-chunked-arraybuffer\":o.msstream?\"ms-stream\":o.arraybuffer&&t?\"arraybuffer\":o.vbArray&&t?\"text:vbarray\":\"text\"}(r,i),n._fetchTimer=null,n.on(\"finish\",function(){n._onFinish()})};s(l,u.Writable),l.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:t,value:e})},l.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},l.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},l.prototype._onFinish=function(){var t=this;if(!t._destroyed){var r=t._opts,s=t._headers,a=null;\"GET\"!==r.method&&\"HEAD\"!==r.method&&(a=o.arraybuffer?c(e.concat(t._body)):o.blobConstructor?new n.Blob(t._body.map(function(t){return c(t)}),{type:(s[\"content-type\"]||{}).value||\"\"}):e.concat(t._body).toString());var u=[];if(Object.keys(s).forEach(function(t){var e=s[t].name,r=s[t].value;Array.isArray(r)?r.forEach(function(t){u.push([e,t])}):u.push([e,r])}),\"fetch\"===t._mode){var f=null;if(o.abortController){var l=new AbortController;f=l.signal,t._fetchAbortController=l,\"requestTimeout\"in r&&0!==r.requestTimeout&&(t._fetchTimer=n.setTimeout(function(){t.emit(\"requestTimeout\"),t._fetchAbortController&&t._fetchAbortController.abort()},r.requestTimeout))}n.fetch(t._opts.url,{method:t._opts.method,headers:u,body:a||void 0,mode:\"cors\",credentials:r.withCredentials?\"include\":\"same-origin\",signal:f}).then(function(e){t._fetchResponse=e,t._connect()},function(e){n.clearTimeout(t._fetchTimer),t._destroyed||t.emit(\"error\",e)})}else{var p=t._xhr=new n.XMLHttpRequest;try{p.open(t._opts.method,t._opts.url,!0)}catch(e){return void i.nextTick(function(){t.emit(\"error\",e)})}\"responseType\"in p&&(p.responseType=t._mode.split(\":\")[0]),\"withCredentials\"in p&&(p.withCredentials=!!r.withCredentials),\"text\"===t._mode&&\"overrideMimeType\"in p&&p.overrideMimeType(\"text/plain; charset=x-user-defined\"),\"requestTimeout\"in r&&(p.timeout=r.requestTimeout,p.ontimeout=function(){t.emit(\"requestTimeout\")}),u.forEach(function(t){p.setRequestHeader(t[0],t[1])}),t._response=null,p.onreadystatechange=function(){switch(p.readyState){case h.LOADING:case h.DONE:t._onXHRProgress()}},\"moz-chunked-arraybuffer\"===t._mode&&(p.onprogress=function(){t._onXHRProgress()}),p.onerror=function(){t._destroyed||t.emit(\"error\",new Error(\"XHR error\"))};try{p.send(a)}catch(e){return void i.nextTick(function(){t.emit(\"error\",e)})}}}},l.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},l.prototype._connect=function(){var t=this;t._destroyed||(t._response=new f(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on(\"error\",function(e){t.emit(\"error\",e)}),t.emit(\"response\",t._response))},l.prototype._write=function(t,e,r){this._body.push(t),r()},l.prototype.abort=l.prototype.destroy=function(){this._destroyed=!0,n.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},l.prototype.end=function(t,e,r){\"function\"==typeof t&&(r=t,t=void 0),u.Writable.prototype.end.call(this,t,e,r)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var p=[\"accept-charset\",\"accept-encoding\",\"access-control-request-headers\",\"access-control-request-method\",\"connection\",\"content-length\",\"cookie\",\"cookie2\",\"date\",\"dnt\",\"expect\",\"host\",\"keep-alive\",\"origin\",\"referer\",\"te\",\"trailer\",\"transfer-encoding\",\"upgrade\",\"via\"]}).call(this,r(0).Buffer,r(5),r(7))},function(t,e){},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(743);function o(t,e,r){t.copy(e,r)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return\"\";for(var e=this.head,r=\"\"+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),r=this.head,i=0;r;)o(r.data,e,i),i+=r.data.length,r=r.next;return e},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+\" \"+t})},function(t,e){},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&\"true\"===String(r).toLowerCase()}t.exports=function(t,e){if(r(\"noDeprecation\"))return t;var n=!1;return function(){if(!n){if(r(\"throwDeprecation\"))throw new Error(e);r(\"traceDeprecation\")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(5))},function(t,e,r){\"use strict\";t.exports=o;var n=r(374),i=r(134);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(1),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){var n=r(0).Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if(\"function\"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(n.isBuffer(t)){for(var e=new Uint8Array(t.length),r=t.length,i=0;i<r;i++)e[i]=t[i];return e.buffer}throw new Error(\"Argument must be a Buffer\")}},function(t,e){t.exports={100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",208:\"Already Reported\",226:\"IM Used\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Found\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",307:\"Temporary Redirect\",308:\"Permanent Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Timeout\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Payload Too Large\",414:\"URI Too Long\",415:\"Unsupported Media Type\",416:\"Range Not Satisfiable\",417:\"Expectation Failed\",418:\"I'm a teapot\",421:\"Misdirected Request\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",425:\"Unordered Collection\",426:\"Upgrade Required\",428:\"Precondition Required\",429:\"Too Many Requests\",431:\"Request Header Fields Too Large\",451:\"Unavailable For Legal Reasons\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Timeout\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",508:\"Loop Detected\",509:\"Bandwidth Limit Exceeded\",510:\"Not Extended\",511:\"Network Authentication Required\"}},function(t,e,r){var n=r(367),i=r(79),o=t.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(t){if(\"string\"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol=\"https:\"),\"https:\"!==t.protocol)throw new Error('Protocol \"'+t.protocol+'\" not supported. Expected \"https:\"');return t}o.request=function(t,e){return t=a(t),n.request.call(this,t,e)},o.get=function(t,e){return t=a(t),n.get.call(this,t,e)}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){return function(t){this.type=t,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}}();e.ProgressEvent=n},function(t,e,r){\"use strict\";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.SecurityError=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.InvalidStateError=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.NetworkError=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.SyntaxError=a},function(t,e,r){\"use strict\";(function(t){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(e){function r(){var t=e.call(this)||this;return t._contentType=null,t._body=null,t._reset(),t}return n(r,e),r.prototype._reset=function(){this._contentType=null,this._body=null},r.prototype._setData=function(e){if(null!=e)if(\"string\"==typeof e)0!==e.length&&(this._contentType=\"text/plain;charset=UTF-8\"),this._body=new t(e,\"utf-8\");else if(t.isBuffer(e))this._body=e;else if(e instanceof ArrayBuffer){for(var r=new t(e.byteLength),n=new Uint8Array(e),i=0;i<e.byteLength;i++)r[i]=n[i];this._body=r}else{if(!(e.buffer&&e.buffer instanceof ArrayBuffer))throw new Error(\"Unsupported send() data \"+e);r=new t(e.byteLength);var o=e.byteOffset;for(n=new Uint8Array(e.buffer),i=0;i<e.byteLength;i++)r[i]=n[i+o];this._body=r}},r.prototype._finalizeHeaders=function(t,e){this._contentType&&!e[\"content-type\"]&&(t[\"Content-Type\"]=this._contentType),this._body&&(t[\"Content-Length\"]=this._body.length.toString())},r.prototype._startUpload=function(t){this._body&&t.write(this._body),t.end()},r}(r(235).XMLHttpRequestEventTarget);e.XMLHttpRequestUpload=i}).call(this,r(0).Buffer)},function(t,e){!function(){\"use strict\";function t(e,r,n,i){return this instanceof t?(this.domain=e||void 0,this.path=r||\"/\",this.secure=!!n,this.script=!!i,this):new t(e,r,n,i)}function r(t,e,n){return t instanceof r?t:this instanceof r?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(n||\"/\"),this.explicit_path=!1,this.domain=e||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,t&&this.parse(t,e,n),this):new r(t,e,n)}t.All=Object.freeze(Object.create(null)),e.CookieAccessInfo=t,e.Cookie=r,r.prototype.toString=function(){var t=[this.name+\"=\"+this.value];return this.expiration_date!==1/0&&t.push(\"expires=\"+new Date(this.expiration_date).toGMTString()),this.domain&&t.push(\"domain=\"+this.domain),this.path&&t.push(\"path=\"+this.path),this.secure&&t.push(\"secure\"),this.noscript&&t.push(\"httponly\"),t.join(\"; \")},r.prototype.toValueString=function(){return this.name+\"=\"+this.value};var n=/[:](?=\\s*[a-zA-Z0-9_\\-]+\\s*[=])/g;function i(){var t,e;return this instanceof i?(t=Object.create(null),this.setCookie=function(n,i,o){var s,a;if(s=(n=new r(n,i,o)).expiration_date<=Date.now(),void 0!==t[n.name]){for(e=t[n.name],a=0;a<e.length;a+=1)if(e[a].collidesWith(n))return s?(e.splice(a,1),0===e.length&&delete t[n.name],!1):(e[a]=n,n);return!s&&(e.push(n),n)}return!s&&(t[n.name]=[n],t[n.name])},this.getCookie=function(r,n){var i,o;if(e=t[r])for(o=0;o<e.length;o+=1)if((i=e[o]).expiration_date<=Date.now())0===e.length&&delete t[i.name];else if(i.matches(n))return i},this.getCookies=function(e){var r,n,i=[];for(r in t)(n=this.getCookie(r,e))&&i.push(n);return i.toString=function(){return i.join(\":\")},i.toValueString=function(){return i.map(function(t){return t.toValueString()}).join(\";\")},i},this):new i}r.prototype.parse=function(t,e,n){if(this instanceof r){var i,o=t.split(\";\").filter(function(t){return!!t}),s=o[0].match(/([^=]+)=([\\s\\S]*)/);if(!s)return void console.warn(\"Invalid cookie header encountered. Header: '\"+t+\"'\");var a=s[1],u=s[2];if(\"string\"!=typeof a||0===a.length||\"string\"!=typeof u)return void console.warn(\"Unable to extract values from cookie header. Cookie: '\"+t+\"'\");for(this.name=a,this.value=u,i=1;i<o.length;i+=1)switch(a=(s=o[i].match(/([^=]+)(?:=([\\s\\S]*))?/))[1].trim().toLowerCase(),u=s[2],a){case\"httponly\":this.noscript=!0;break;case\"expires\":this.expiration_date=u?Number(Date.parse(u)):1/0;break;case\"path\":this.path=u?u.trim():\"\",this.explicit_path=!0;break;case\"domain\":this.domain=u?u.trim():\"\",this.explicit_domain=!!this.domain;break;case\"secure\":this.secure=!0}return this.explicit_path||(this.path=n||\"/\"),this.explicit_domain||(this.domain=e),this}return(new r).parse(t,e,n)},r.prototype.matches=function(e){return e===t.All||!(this.noscript&&e.script||this.secure&&!e.secure||!this.collidesWith(e))},r.prototype.collidesWith=function(t){if(this.path&&!t.path||this.domain&&!t.domain)return!1;if(this.path&&0!==t.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==t.path.indexOf(this.path))return!1;var e=t.domain&&t.domain.replace(/^[\\.]/,\"\"),r=this.domain&&this.domain.replace(/^[\\.]/,\"\");if(r===e)return!0;if(r){if(!this.explicit_domain)return!1;var n=e.indexOf(r);return-1!==n&&n===e.length-r.length}return!0},e.CookieJar=i,i.prototype.setCookies=function(t,e,i){var o,s,a=[];for(t=(t=Array.isArray(t)?t:t.split(n)).map(function(t){return new r(t,e,i)}),o=0;o<t.length;o+=1)s=t[o],this.setCookie(s,e,i)&&a.push(s);return a}}()},function(t,e,r){\"use strict\";var n=r(31),i=r(36).errors,o=r(754),s=function(t,e){var r=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=t,this.connected=!1,this.connection=e.connect({path:this.path}),this.addDefaultEvents();var i=function(t){var e=null;n.isArray(t)?t.forEach(function(t){r.responseCallbacks[t.id]&&(e=t.id)}):e=t.id,e||-1===t.method.indexOf(\"_subscription\")?r.responseCallbacks[e]&&(r.responseCallbacks[e](null,t),delete r.responseCallbacks[e]):r.notificationCallbacks.forEach(function(e){n.isFunction(e)&&e(t)})};\"Socket\"===e.constructor.name?o(this.connection).done(i):this.connection.on(\"data\",function(t){r._parseResponse(t.toString()).forEach(i)})};s.prototype.addDefaultEvents=function(){var t=this;this.connection.on(\"connect\",function(){t.connected=!0}),this.connection.on(\"close\",function(){t.connected=!1}),this.connection.on(\"error\",function(){t._timeout()}),this.connection.on(\"end\",function(){t._timeout()}),this.connection.on(\"timeout\",function(){t._timeout()})},s.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\\}[\\n\\r]?\\{/g,\"}|--|{\").replace(/\\}\\][\\n\\r]?\\[\\{/g,\"}]|--|[{\").replace(/\\}[\\n\\r]?\\[\\{/g,\"}|--|[{\").replace(/\\}\\][\\n\\r]?\\{/g,\"}]|--|{\").split(\"|--|\").forEach(function(t){e.lastChunk&&(t=e.lastChunk+t);var n=null;try{n=JSON.parse(t)}catch(r){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),i.InvalidResponse(t)},15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,n&&r.push(n)}),r},s.prototype._addResponseCallback=function(t,e){var r=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[r]=e,this.responseCallbacks[r].method=n},s.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](i.InvalidConnection(\"on IPC\")),delete this.responseCallbacks[t])},s.prototype.reconnect=function(){this.connection.connect({path:this.path})},s.prototype.send=function(t,e){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(t)),this._addResponseCallback(t,e)},s.prototype.on=function(t,e){if(\"function\"!=typeof e)throw new Error(\"The second parameter callback must be a function.\");switch(t){case\"data\":this.notificationCallbacks.push(e);break;default:this.connection.on(t,e)}},s.prototype.once=function(t,e){if(\"function\"!=typeof e)throw new Error(\"The second parameter callback must be a function.\");this.connection.once(t,e)},s.prototype.removeListener=function(t,e){var r=this;switch(t){case\"data\":this.notificationCallbacks.forEach(function(t,n){t===e&&r.notificationCallbacks.splice(n,1)});break;default:this.connection.removeListener(t,e)}},s.prototype.removeAllListeners=function(t){switch(t){case\"data\":this.notificationCallbacks=[];break;default:this.connection.removeAllListeners(t)}},s.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners(\"error\"),this.connection.removeAllListeners(\"end\"),this.connection.removeAllListeners(\"timeout\"),this.addDefaultEvents()},t.exports=s},function(t,e,r){var n;!function(r,i,o,s,a,u){var c=d(function(t,e){var r=e.length;return d(function(n){for(var i=0;i<n.length;i++)e[r+i]=n[i];return e.length=r+n.length,t.apply(this,e)})});d(function(t){var e=T(t);function r(t,e){return[p(t,e)]}return d(function(t){return M(r,t,e)[0]})});function f(t,e){return function(){return t.call(this,e.apply(this,arguments))}}function h(t){return function(e){return e[t]}}var l=d(function(t){return d(function(e){for(var r,n=0;n<v(t);n++)if(r=p(e,t[n]))return r})});function p(t,e){return e.apply(u,t)}function d(t){var e=t.length-1,r=o.prototype.slice;if(0==e)return function(){return t.call(this,r.call(arguments))};if(1==e)return function(){return t.call(this,arguments[0],r.call(arguments,1))};var n=o(t.length);return function(){for(var i=0;i<e;i++)n[i]=arguments[i];return n[e]=r.call(arguments,e),t.apply(this,n)}}function y(t,e){return function(r){return t(r)&&e(r)}}function m(){}function g(){return!0}function b(t,e){return e&&e.constructor===t}var v=h(\"length\"),_=c(b,String);function w(t){return t!==u}function S(t,e){return e instanceof i&&function t(e,r){return!r||e(A(r))&&t(e,x(r))}(function(t){return t in e},t)}function k(t,e){return[t,e]}var E=null,A=h(0),x=h(1);function T(t){return O(t.reduce(function(t){return function(e,r){return t(r,e)}}(k),E))}var B=d(T);function I(t){return M(function(t,e){return t.unshift(e),t},[],t)}function C(t,e){return e?k(t(A(e)),C(t,x(e))):E}function M(t,e,r){return r?t(M(t,e,x(r)),A(r)):e}function P(t,e,r){return function t(r,n){return r?e(A(r))?(n(A(r)),x(r)):k(A(r),t(x(r),n)):E}(t,r||m)}function O(t){return function t(e,r){return e?t(x(e),k(A(e),r)):r}(t,E)}function R(t){\"use strict\";var e,r,n,i=t(et).emit,o=t(rt).emit,a=t(nt).emit,c=t($).emit,f=65536,h=/[\\\\\"\\n]/g,l=0,p=l++,d=l++,y=l++,m=l++,g=l++,b=l++,v=l++,_=l++,w=l++,S=l++,k=l++,E=l++,A=l++,x=l++,T=l++,B=l++,I=l++,C=l++,M=l++,P=l++,O=l,R=f,j=u,N=\"\",L=!1,K=!1,D=p,U=[],F=null,q=0,H=0,z=0,V=0,G=1;function W(t){j!==u&&(o(j),a(),j=u),e=s(t+\"\\nLn: \"+G+\"\\nCol: \"+V+\"\\nChr: \"+r),c(it(u,u,e))}function Y(t){return\"\\r\"==t||\"\\n\"==t||\" \"==t||\"\\t\"==t}t(X).on(function(t){if(e)return;if(K)return W(\"Cannot write after close\");var s=0;r=t[0];for(;r&&(n=r,r=t[s++]);)switch(z++,\"\\n\"==r?(G++,V=0):V++,D){case p:if(\"{\"===r)D=y;else if(\"[\"===r)D=g;else if(!Y(r))return W(\"Non-whitespace before {[.\");continue;case _:case y:if(Y(r))continue;if(D===_)U.push(w);else{if(\"}\"===r){o({}),a(),D=U.pop()||d;continue}U.push(m)}if('\"'!==r)return W('Malformed object key should start with \" ');D=v;continue;case w:case m:if(Y(r))continue;if(\":\"===r)D===m?(U.push(m),j!==u&&(o({}),i(j),j=u),H++):j!==u&&(i(j),j=u),D=d;else if(\"}\"===r)j!==u&&(o(j),a(),j=u),a(),H--,D=U.pop()||d;else{if(\",\"!==r)return W(\"Bad object\");D===m&&U.push(m),j!==u&&(o(j),a(),j=u),D=_}continue;case g:case d:if(Y(r))continue;if(D===g){if(o([]),H++,D=d,\"]\"===r){a(),H--,D=U.pop()||d;continue}U.push(b)}if('\"'===r)D=v;else if(\"{\"===r)D=y;else if(\"[\"===r)D=g;else if(\"t\"===r)D=S;else if(\"f\"===r)D=A;else if(\"n\"===r)D=I;else if(\"-\"===r)N+=r;else if(\"0\"===r)N+=r,D=O;else{if(-1===\"123456789\".indexOf(r))return W(\"Bad value\");N+=r,D=O}continue;case b:if(\",\"===r)U.push(b),j!==u&&(o(j),a(),j=u),D=d;else{if(\"]\"!==r){if(Y(r))continue;return W(\"Bad array\")}j!==u&&(o(j),a(),j=u),a(),H--,D=U.pop()||d}continue;case v:j===u&&(j=\"\");var c=s-1;t:for(;;){for(;q>0;)if(F+=r,r=t.charAt(s++),4===q?(j+=String.fromCharCode(parseInt(F,16)),q=0,c=s-1):q++,!r)break t;if('\"'===r&&!L){D=U.pop()||d,j+=t.substring(c,s-1);break}if(!(\"\\\\\"!==r||L||(L=!0,j+=t.substring(c,s-1),r=t.charAt(s++))))break;if(L){if(L=!1,\"n\"===r?j+=\"\\n\":\"r\"===r?j+=\"\\r\":\"t\"===r?j+=\"\\t\":\"f\"===r?j+=\"\\f\":\"b\"===r?j+=\"\\b\":\"u\"===r?(q=1,F=\"\"):j+=r,r=t.charAt(s++),c=s-1,r)continue;break}h.lastIndex=s;var l=h.exec(t);if(!l){s=t.length+1,j+=t.substring(c,s-1);break}if(s=l.index+1,!(r=t.charAt(l.index))){j+=t.substring(c,s-1);break}}continue;case S:if(!r)continue;if(\"r\"!==r)return W(\"Invalid true started with t\"+r);D=k;continue;case k:if(!r)continue;if(\"u\"!==r)return W(\"Invalid true started with tr\"+r);D=E;continue;case E:if(!r)continue;if(\"e\"!==r)return W(\"Invalid true started with tru\"+r);o(!0),a(),D=U.pop()||d;continue;case A:if(!r)continue;if(\"a\"!==r)return W(\"Invalid false started with f\"+r);D=x;continue;case x:if(!r)continue;if(\"l\"!==r)return W(\"Invalid false started with fa\"+r);D=T;continue;case T:if(!r)continue;if(\"s\"!==r)return W(\"Invalid false started with fal\"+r);D=B;continue;case B:if(!r)continue;if(\"e\"!==r)return W(\"Invalid false started with fals\"+r);o(!1),a(),D=U.pop()||d;continue;case I:if(!r)continue;if(\"u\"!==r)return W(\"Invalid null started with n\"+r);D=C;continue;case C:if(!r)continue;if(\"l\"!==r)return W(\"Invalid null started with nu\"+r);D=M;continue;case M:if(!r)continue;if(\"l\"!==r)return W(\"Invalid null started with nul\"+r);o(null),a(),D=U.pop()||d;continue;case P:if(\".\"!==r)return W(\"Leading zero not followed by .\");N+=r,D=O;continue;case O:if(-1!==\"0123456789\".indexOf(r))N+=r;else if(\".\"===r){if(-1!==N.indexOf(\".\"))return W(\"Invalid number has two dots\");N+=r}else if(\"e\"===r||\"E\"===r){if(-1!==N.indexOf(\"e\")||-1!==N.indexOf(\"E\"))return W(\"Invalid number has two exponential\");N+=r}else if(\"+\"===r||\"-\"===r){if(\"e\"!==n&&\"E\"!==n)return W(\"Invalid symbol in number\");N+=r}else N&&(o(parseFloat(N)),a(),N=\"\"),s--,D=U.pop()||d;continue;default:return W(\"Unknown state: \"+D)}z>=R&&function(){var t=0;j!==u&&j.length>f&&(W(\"Max buffer length exceeded: textNode\"),t=Math.max(t,j.length)),N.length>f&&(W(\"Max buffer length exceeded: numberNode\"),t=Math.max(t,N.length)),R=f-t+z}()}),t(Q).on(function(){if(D==p)return o({}),a(),void(K=!0);D===d&&0===H||W(\"Unexpected end\");j!==u&&(o(j),a(),j=u);K=!0})}var j=function(){var t=d(function(t){return t.unshift(/^/),function(t){return t.exec.bind(t)}(RegExp(t.map(h(\"source\")).join(\"\")))}),e=/(\\$?)/,r=/(?:{([\\w ]*?)})?/,n=t(e,/([\\w-_]+|\\*)/,r),i=t(e,/\\[\"([^\"]+)\"\\]/,r),o=t(e,/\\[(\\d+|\\*)\\]/,r),s=t(e,/()/,/{([\\w ]*?)}/),a=t(/\\.\\./),u=t(/\\./),c=t(e,/!/),f=t(/$/);return function(t){return t(l(n,i,o,s),a,u,c,f)}}();function N(t,e){return{key:t,node:e}}var L=h(\"key\"),K=h(\"node\"),D={};function U(t){var e=t(z).emit,r=t(V).emit,n=t(J).emit,i=t(Y).emit;function s(t,e,r){K(A(t))[e]=r}function a(t,r,n){t&&s(t,r,n);var i=k(N(r,n),t);return e(i),i}var u={};return u[rt]=function(t,e){if(!t)return n(e),a(t,D,e);var r=function(t,e){var r=K(A(t));return b(o,r)?a(t,v(r),e):t}(t,e),i=x(r),u=L(A(r));return s(i,u,e),k(N(u,e),i)},u[nt]=function(t){return r(t),x(t)||i(K(A(t)))},u[et]=a,u}var F=j(function(t,e,r,n,i){var o=1,a=2,u=3,h=f(L,A),p=f(K,A);function d(t,e){return!!e[o]?y(t,A):t}function m(t){if(t==g)return g;return y(function(t){return h(t)!=D},f(t,x))}function b(){return function(t){return h(t)==D}}function _(t,e,r,n,i){var o=t(r);if(o){var s=function(t,e,r){return M(function(t,e){return e(t,r)},e,t)}(e,n,o);return i(r.substr(v(o[0])),s)}}function w(t,e){return c(_,t,e)}var k=l(w(t,B(d,function(t,e){var r=e[u];return r?y(f(c(S,T(r.split(/\\W+/))),p),t):t},function(t,e){var r=e[a];return y(r&&\"*\"!=r?function(t){return h(t)==r}:g,t)},m)),w(e,B(function(t){if(t==g)return g;var e=b(),r=t,n=m(function(t){return i(t)}),i=l(e,r,n);return i})),w(r,B()),w(n,B(d,b)),w(i,B(function(t){return function(e){var r=t(e);return!0===r?A(e):r}})),function(t){throw s('\"'+t+'\" could not be tokenised')});function E(t,e){return e}function I(t,e){return k(t,e,t?I:E)}return function(t){try{return I(t,g)}catch(e){throw s('Could not compile \"'+t+'\" because '+e.message)}}});function q(t,e,r){var n,i;function o(t){return function(e){return e.id==t}}return{on:function(r,o){var s={listener:r,id:o||r};return e&&e.emit(t,r,s.id),n=k(s,n),i=k(r,i),this},emit:function(){!function t(e,r){e&&(A(e).apply(null,r),t(x(e),r))}(i,arguments)},un:function(e){var s;n=P(n,o(e),function(t){s=t}),s&&(i=P(i,function(t){return t==s.listener}),r&&r.emit(t,s.listener,s.id))},listeners:function(){return i},hasListener:function(t){return w(function t(e,r){return r&&(e(A(r))?A(r):t(e,x(r)))}(t?o(t):g,n))}}}var H=1,z=H++,V=H++,G=H++,W=H++,$=\"fail\",Y=H++,J=H++,Z=\"start\",X=\"data\",Q=\"end\",tt=H++,et=H++,rt=H++,nt=H++;function it(t,e,r){try{var n=a.parse(e)}catch(t){}return{statusCode:t,body:e,jsonBody:n,thrown:r}}function ot(t,e){var r={node:t(V),path:t(z)};function n(e,r,n){var i=t(e).emit;r.on(function(t){var e=n(t);!1!==e&&function(t,e,r){var n=O(r);t(e,I(x(C(L,n))),I(C(K,n)))}(i,K(e),t)},e),t(\"removeListener\").on(function(n){n==e&&(t(n).listeners()||r.un(e))})}t(\"newListener\").on(function(t){var i=/(node|path):(.*)/.exec(t);if(i){var o=r[i[1]];o.hasListener(t)||n(t,o,e(i[2]))}})}function st(t,e){var r,n=/^(node|path):./,i=t(Y),o=t(W).emit,s=t(G).emit,a=d(function(e,i){if(r[e])p(i,r[e]);else{var o=t(e),s=i[0];n.test(e)?u(o,s):o.on(s)}return r});function u(t,e,n){n=n||e;var i=f(e);return t.on(function(){var e=!1;r.forget=function(){e=!0},p(arguments,i),delete r.forget,e&&t.un(n)},n),r}function f(t){return function(){try{return t.apply(r,arguments)}catch(t){setTimeout(function(){throw t})}}}function h(e,r,n){var i;i=\"node\"==e?function(t){return function(){var e=t.apply(this,arguments);w(e)&&(e==ct.drop?o():s(e))}}(n):n,u(function(e,r){return t(e+\":\"+r)}(e,r),i,n)}function l(t,e,n){return _(e)?h(t,e,n):function(t,e){for(var r in e)h(t,r,e[r])}(t,e),r}return t(J).on(function(t){r.root=function(t){return function(){return t}}(t)}),t(Z).on(function(t,e){r.header=function(t){return t?e[t]:e}}),r={on:a,addListener:a,removeListener:function(e,n,o){if(\"done\"==e)i.un(n);else if(\"node\"==e||\"path\"==e)t.un(e+\":\"+n,o);else{var s=n;t(e).un(s)}return r},emit:t.emit,node:c(l,\"node\"),path:c(l,\"path\"),done:c(u,i),start:c(function(e,n){return t(e).on(f(n),n),r},Z),fail:t($).on,abort:t(tt).emit,header:m,root:m,source:e}}function at(t,e,n,i,o){var s=function(){var t={},e=n(\"newListener\"),r=n(\"removeListener\");function n(n){return t[n]=q(n,e,r)}function i(e){return t[e]||n(e)}return[\"emit\",\"on\",\"un\"].forEach(function(t){i[t]=d(function(e,r){p(r,i(e)[t])})}),i}();return e&&function(t,e,n,i,o,s,a){\"use strict\";var f=t(X).emit,h=t($).emit,l=0,p=!0;function d(){var t=e.responseText,r=t.substr(l);r&&f(r),l=v(t)}t(tt).on(function(){e.onreadystatechange=null,e.abort()}),\"onprogress\"in e&&(e.onprogress=d),e.onreadystatechange=function(){function r(){try{p&&t(Z).emit(e.status,function(t){var e={};return t&&t.split(\"\\r\\n\").forEach(function(t){var r=t.indexOf(\": \");e[t.substring(0,r)]=t.substring(r+2)}),e}(e.getAllResponseHeaders())),p=!1}catch(t){}}switch(e.readyState){case 2:case 3:return r();case 4:r(),2==String(e.status)[0]?(d(),t(Q).emit()):h(it(e.status,e.responseText))}};try{for(var y in e.open(n,i,!0),s)e.setRequestHeader(y,s[y]);(function(t,e){function r(e){return e.port||function(t){return{\"http:\":80,\"https:\":443}[t]}(e.protocol||t.protocol)}return!!(e.protocol&&e.protocol!=t.protocol||e.host&&e.host!=t.host||e.host&&r(e)!=r(t))})(r.location,function(t){var e=/(\\w+:)?(?:\\/\\/)([\\w.-]+)?(?::(\\d+))?\\/?/.exec(t)||[];return{protocol:e[1]||\"\",host:e[2]||\"\",port:e[3]||\"\"}}(i))||e.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),e.withCredentials=a,e.send(o)}catch(t){r.setTimeout(c(h,it(u,u,t)),0)}}(s,new XMLHttpRequest,t,e,n,i,o),R(s),function(t,e){\"use strict\";var r,n={};function i(t){return function(e){r=t(r,e)}}for(var o in e)t(o).on(i(e[o]),n);t(G).on(function(t){var e=A(r),n=L(e),i=x(r);i&&(K(A(i))[n]=t)}),t(W).on(function(){var t=A(r),e=L(t),n=x(r);n&&delete K(A(n))[e]}),t(tt).on(function(){for(var r in e)t(r).un(n)})}(s,U(s)),ot(s,F),st(s,e)}function ut(t,e,r,n,i,o,s){return i=i?a.parse(a.stringify(i)):{},n?_(n)||(n=a.stringify(n),i[\"Content-Type\"]=i[\"Content-Type\"]||\"application/json\"):n=null,t(r||\"GET\",function(t,e){return!1===e&&(-1==t.indexOf(\"?\")?t+=\"?\":t+=\"&\",t+=\"_=\"+(new Date).getTime()),t}(e,s),n,i,o||!1)}function ct(t){var e=B(\"resume\",\"pause\",\"pipe\"),r=c(S,e);return t?r(t)||_(t)?ut(at,t):ut(at,t.url,t.method,t.body,t.headers,t.withCredentials,t.cached):at()}ct.drop=function(){return ct.drop},(n=function(){return ct}.apply(e,[]))===u||(t.exports=n)}(function(){try{return window}catch(t){return self}}(),Object,Array,Error,JSON)},function(t,e,r){\"use strict\";var n=r(36).formatters,i=r(94),o=r(57);t.exports=function(t){var e=function(e){var r;return e.property?(t[e.property]||(t[e.property]={}),r=t[e.property]):r=t,e.methods&&e.methods.forEach(function(e){e instanceof i||(e=new i(e)),e.attachToObject(r),e.setRequestManager(t._requestManager)}),t};return e.formatters=n,e.utils=o,e.Method=i,e}},function(t,e,r){\"use strict\";t.exports=r(757)(window,function(){if(void 0===window.Promise)throw new Error(\"any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')\");return{Promise:window.Promise,implementation:\"window.Promise\"}})},function(t,e,r){\"use strict\";var n=null;t.exports=function(t,e){return function(r,i){r=r||null;var o=!1!==(i=i||{}).global;if(null===n&&o&&(n=t[\"@@any-promise/REGISTRATION\"]||null),null!==n&&null!==r&&n.implementation!==r)throw new Error('any-promise already defined as \"'+n.implementation+'\".  You can only register an implementation before the first  call to require(\"any-promise\") and an implementation cannot be changed');return null===n&&(n=null!==r&&void 0!==i.Promise?{Promise:i.Promise,implementation:r}:e(r),o&&(t[\"@@any-promise/REGISTRATION\"]=n)),n}}},function(t,e,r){\"use strict\";var n=r(31),i=r(36).errors,o=r(376);function s(t){o.call(this),this.id=null,this.callback=null,this.arguments=null,this._reconnectIntervalId=null,this.options={subscription:t.subscription,type:t.type,requestManager:t.requestManager}}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype._extractCallback=function(t){if(n.isFunction(t[t.length-1]))return t.pop()},s.prototype._validateArgs=function(t){var e=this.options.subscription;if(e||(e={}),e.params||(e.params=0),t.length!==e.params)throw i.InvalidNumberOfParams(t.length,e.params+1,t[0])},s.prototype._formatInput=function(t){var e=this.options.subscription;return e&&e.inputFormatter?e.inputFormatter.map(function(e,r){return e?e(t[r]):t[r]}):t},s.prototype._formatOutput=function(t){var e=this.options.subscription;return e&&e.outputFormatter&&t?e.outputFormatter(t):t},s.prototype._toPayload=function(t){var e=[];if(this.callback=this._extractCallback(t),this.subscriptionMethod||(this.subscriptionMethod=t.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(t),this._validateArgs(this.arguments),t=[]),e.push(this.subscriptionMethod),e=e.concat(this.arguments),t.length)throw new Error(\"Only a callback is allowed as parameter on an already instantiated subscription.\");return{method:this.options.type+\"_subscribe\",params:e}},s.prototype.unsubscribe=function(t){this.options.requestManager.removeSubscription(this.id,t),this.id=null,this.removeAllListeners(),clearInterval(this._reconnectIntervalId)},s.prototype.subscribe=function(){var t=this,e=Array.prototype.slice.call(arguments),r=this._toPayload(e);if(!r)return this;if(!this.options.requestManager.provider){var i=new Error(\"No provider set.\");return this.callback(i,null,this),this.emit(\"error\",i),this}if(!this.options.requestManager.provider.on){var o=new Error(\"The current provider doesn't support subscriptions: \"+this.options.requestManager.provider.constructor.name);return this.callback(o,null,this),this.emit(\"error\",o),this}return this.id&&this.unsubscribe(),this.options.params=r.params[1],\"logs\"===r.params[0]&&n.isObject(r.params[1])&&r.params[1].hasOwnProperty(\"fromBlock\")&&isFinite(r.params[1].fromBlock)&&this.options.requestManager.send({method:\"eth_getLogs\",params:[r.params[1]]},function(e,r){e?(t.callback(e,null,t),t.emit(\"error\",e)):r.forEach(function(e){var r=t._formatOutput(e);t.callback(null,r,t),t.emit(\"data\",r)})}),\"object\"==typeof r.params[1]&&delete r.params[1].fromBlock,this.options.requestManager.send(r,function(e,i){!e&&i?(t.id=i,t.options.requestManager.addSubscription(t.id,r.params[0],t.options.type,function(e,r){e?(t.options.requestManager.removeSubscription(t.id),t.options.requestManager.provider.once&&(t._reconnectIntervalId=setInterval(function(){t.options.requestManager.provider.reconnect&&t.options.requestManager.provider.reconnect()},500),t.options.requestManager.provider.once(\"connect\",function(){clearInterval(t._reconnectIntervalId),t.subscribe(t.callback)})),t.emit(\"error\",e),n.isFunction(t.callback)&&t.callback(e,null,t)):(n.isArray(r)||(r=[r]),r.forEach(function(e){var r=t._formatOutput(e);if(n.isFunction(t.options.subscription.subscriptionHandler))return t.options.subscription.subscriptionHandler.call(t,r);t.emit(\"data\",r),n.isFunction(t.callback)&&t.callback(null,r,t)}))})):n.isFunction(t.callback)?(t.callback(e,null,t),t.emit(\"error\",e)):t.emit(\"error\",e)}),this},t.exports=s},function(t,e,r){\"use strict\";var n=r(31),i=r(92),o=r(36),s=r(178).subscriptions,a=r(94),u=r(57),c=r(179),f=r(378),h=r(760),l=r(365),p=r(769),d=r(379),y=r(850),m=o.formatters,g=function(t){return n.isString(t[0])&&0===t[0].indexOf(\"0x\")?\"eth_getBlockByHash\":\"eth_getBlockByNumber\"},b=function(t){return n.isString(t[0])&&0===t[0].indexOf(\"0x\")?\"eth_getTransactionByBlockHashAndIndex\":\"eth_getTransactionByBlockNumberAndIndex\"},v=function(t){return n.isString(t[0])&&0===t[0].indexOf(\"0x\")?\"eth_getUncleByBlockHashAndIndex\":\"eth_getUncleByBlockNumberAndIndex\"},_=function(t){return n.isString(t[0])&&0===t[0].indexOf(\"0x\")?\"eth_getBlockTransactionCountByHash\":\"eth_getBlockTransactionCountByNumber\"},w=function(t){return n.isString(t[0])&&0===t[0].indexOf(\"0x\")?\"eth_getUncleCountByBlockHash\":\"eth_getUncleCountByBlockNumber\"},S=function(){var t=this;i.packageInit(this,arguments);var e=this.setProvider;this.setProvider=function(){e.apply(t,arguments),t.net.setProvider.apply(t,arguments),t.personal.setProvider.apply(t,arguments),t.accounts.setProvider.apply(t,arguments),t.Contract.setProvider(t.currentProvider,t.accounts)};var r=null,o=\"latest\";Object.defineProperty(this,\"defaultAccount\",{get:function(){return r},set:function(e){return e&&(r=u.toChecksumAddress(m.inputAddressFormatter(e))),t.Contract.defaultAccount=r,t.personal.defaultAccount=r,E.forEach(function(t){t.defaultAccount=r}),e},enumerable:!0}),Object.defineProperty(this,\"defaultBlock\",{get:function(){return o},set:function(e){return o=e,t.Contract.defaultBlock=o,t.personal.defaultBlock=o,E.forEach(function(t){t.defaultBlock=o}),e},enumerable:!0}),this.clearSubscriptions=t._requestManager.clearSubscriptions,this.net=new c(this.currentProvider),this.net.getNetworkType=y.bind(this),this.accounts=new p(this.currentProvider),this.personal=new f(this.currentProvider),this.personal.defaultAccount=this.defaultAccount;var S=this,k=function(){h.apply(this,arguments);var t=this,e=S.setProvider;S.setProvider=function(){e.apply(S,arguments),i.packageInit(t,[S.currentProvider])}};k.setProvider=function(){h.setProvider.apply(this,arguments)},(k.prototype=Object.create(h.prototype)).constructor=k,this.Contract=k,this.Contract.defaultAccount=this.defaultAccount,this.Contract.defaultBlock=this.defaultBlock,this.Contract.setProvider(this.currentProvider,this.accounts),this.Iban=l,this.abi=d;var E=[new a({name:\"getNodeInfo\",call:\"web3_clientVersion\"}),new a({name:\"getProtocolVersion\",call:\"eth_protocolVersion\",params:0}),new a({name:\"getCoinbase\",call:\"eth_coinbase\",params:0}),new a({name:\"isMining\",call:\"eth_mining\",params:0}),new a({name:\"getHashrate\",call:\"eth_hashrate\",params:0,outputFormatter:u.hexToNumber}),new a({name:\"isSyncing\",call:\"eth_syncing\",params:0,outputFormatter:m.outputSyncingFormatter}),new a({name:\"getGasPrice\",call:\"eth_gasPrice\",params:0,outputFormatter:m.outputBigNumberFormatter}),new a({name:\"getAccounts\",call:\"eth_accounts\",params:0,outputFormatter:u.toChecksumAddress}),new a({name:\"getBlockNumber\",call:\"eth_blockNumber\",params:0,outputFormatter:u.hexToNumber}),new a({name:\"getBalance\",call:\"eth_getBalance\",params:2,inputFormatter:[m.inputAddressFormatter,m.inputDefaultBlockNumberFormatter],outputFormatter:m.outputBigNumberFormatter}),new a({name:\"getStorageAt\",call:\"eth_getStorageAt\",params:3,inputFormatter:[m.inputAddressFormatter,u.numberToHex,m.inputDefaultBlockNumberFormatter]}),new a({name:\"getCode\",call:\"eth_getCode\",params:2,inputFormatter:[m.inputAddressFormatter,m.inputDefaultBlockNumberFormatter]}),new a({name:\"getBlock\",call:g,params:2,inputFormatter:[m.inputBlockNumberFormatter,function(t){return!!t}],outputFormatter:m.outputBlockFormatter}),new a({name:\"getUncle\",call:v,params:2,inputFormatter:[m.inputBlockNumberFormatter,u.numberToHex],outputFormatter:m.outputBlockFormatter}),new a({name:\"getBlockTransactionCount\",call:_,params:1,inputFormatter:[m.inputBlockNumberFormatter],outputFormatter:u.hexToNumber}),new a({name:\"getBlockUncleCount\",call:w,params:1,inputFormatter:[m.inputBlockNumberFormatter],outputFormatter:u.hexToNumber}),new a({name:\"getTransaction\",call:\"eth_getTransactionByHash\",params:1,inputFormatter:[null],outputFormatter:m.outputTransactionFormatter}),new a({name:\"getTransactionFromBlock\",call:b,params:2,inputFormatter:[m.inputBlockNumberFormatter,u.numberToHex],outputFormatter:m.outputTransactionFormatter}),new a({name:\"getTransactionReceipt\",call:\"eth_getTransactionReceipt\",params:1,inputFormatter:[null],outputFormatter:m.outputTransactionReceiptFormatter}),new a({name:\"getTransactionCount\",call:\"eth_getTransactionCount\",params:2,inputFormatter:[m.inputAddressFormatter,m.inputDefaultBlockNumberFormatter],outputFormatter:u.hexToNumber}),new a({name:\"sendSignedTransaction\",call:\"eth_sendRawTransaction\",params:1,inputFormatter:[null]}),new a({name:\"signTransaction\",call:\"eth_signTransaction\",params:1,inputFormatter:[m.inputTransactionFormatter]}),new a({name:\"sendTransaction\",call:\"eth_sendTransaction\",params:1,inputFormatter:[m.inputTransactionFormatter]}),new a({name:\"sign\",call:\"eth_sign\",params:2,inputFormatter:[m.inputSignFormatter,m.inputAddressFormatter],transformPayload:function(t){return t.params.reverse(),t}}),new a({name:\"call\",call:\"eth_call\",params:2,inputFormatter:[m.inputCallFormatter,m.inputDefaultBlockNumberFormatter]}),new a({name:\"estimateGas\",call:\"eth_estimateGas\",params:1,inputFormatter:[m.inputCallFormatter],outputFormatter:u.hexToNumber}),new a({name:\"getCompilers\",call:\"eth_getCompilers\",params:0}),new a({name:\"compile.solidity\",call:\"eth_compileSolidity\",params:1}),new a({name:\"compile.lll\",call:\"eth_compileLLL\",params:1}),new a({name:\"compile.serpent\",call:\"eth_compileSerpent\",params:1}),new a({name:\"submitWork\",call:\"eth_submitWork\",params:3}),new a({name:\"getWork\",call:\"eth_getWork\",params:0}),new a({name:\"getPastLogs\",call:\"eth_getLogs\",params:1,inputFormatter:[m.inputLogFormatter],outputFormatter:m.outputLogFormatter}),new s({name:\"subscribe\",type:\"eth\",subscriptions:{newBlockHeaders:{subscriptionName:\"newHeads\",params:0,outputFormatter:m.outputBlockFormatter},pendingTransactions:{subscriptionName:\"newPendingTransactions\",params:0},logs:{params:1,inputFormatter:[m.inputLogFormatter],outputFormatter:m.outputLogFormatter,subscriptionHandler:function(t){t.removed?this.emit(\"changed\",t):this.emit(\"data\",t),n.isFunction(this.callback)&&this.callback(null,t,this)}},syncing:{params:0,outputFormatter:m.outputSyncingFormatter,subscriptionHandler:function(t){var e=this;!0!==this._isSyncing?(this._isSyncing=!0,this.emit(\"changed\",e._isSyncing),n.isFunction(this.callback)&&this.callback(null,e._isSyncing,this),setTimeout(function(){e.emit(\"data\",t),n.isFunction(e.callback)&&e.callback(null,t,e)},0)):(this.emit(\"data\",t),n.isFunction(e.callback)&&this.callback(null,t,this),clearTimeout(this._isSyncingTimeout),this._isSyncingTimeout=setTimeout(function(){t.currentBlock>t.highestBlock-200&&(e._isSyncing=!1,e.emit(\"changed\",e._isSyncing),n.isFunction(e.callback)&&e.callback(null,e._isSyncing,e))},500))}}}})];E.forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager,t.accounts),e.defaultBlock=t.defaultBlock,e.defaultAccount=t.defaultAccount})};i.addProviders(S),t.exports=S},function(t,e,r){\"use strict\";var n=r(31),i=r(92),o=r(94),s=r(57),a=r(178).subscription,u=r(36).formatters,c=r(36).errors,f=r(375),h=r(379),l=function t(e,r,o){var a=this,c=Array.prototype.slice.call(arguments);if(!(this instanceof t))throw new Error('Please use the \"new\" keyword to instantiate a web3.eth.contract() object!');if(i.packageInit(this,[this.constructor.currentProvider]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!e||!Array.isArray(e))throw new Error(\"You must provide the json interface of the contract when instantiating a contract object.\");this.options={};var f=c[c.length-1];n.isObject(f)&&!n.isArray(f)&&(o=f,this.options=n.extend(this.options,this._getOrSetDefaultOptions(o)),n.isObject(r)&&(r=null)),Object.defineProperty(this.options,\"address\",{set:function(t){t&&(a._address=s.toChecksumAddress(u.inputAddressFormatter(t)))},get:function(){return a._address},enumerable:!0}),Object.defineProperty(this.options,\"jsonInterface\",{set:function(t){return a.methods={},a.events={},a._jsonInterface=t.map(function(t){var e,r;if(t.constant=\"view\"===t.stateMutability||\"pure\"===t.stateMutability||t.constant,t.payable=\"payable\"===t.stateMutability||t.payable,t.name&&(r=s._jsonInterfaceMethodToString(t)),\"function\"===t.type){if(t.signature=h.encodeFunctionSignature(r),e=a._createTxObject.bind({method:t,parent:a}),a.methods[t.name]){var n=a._createTxObject.bind({method:t,parent:a,nextMethod:a.methods[t.name]});a.methods[t.name]=n}else a.methods[t.name]=e;a.methods[t.signature]=e,a.methods[r]=e}else if(\"event\"===t.type){t.signature=h.encodeEventSignature(r);var i=a._on.bind(a,t.signature);a.events[t.name]&&\"bound \"!==a.events[t.name].name||(a.events[t.name]=i),a.events[t.signature]=i,a.events[r]=i}return t}),a.events.allEvents=a._on.bind(a,\"allevents\"),a._jsonInterface},get:function(){return a._jsonInterface},enumerable:!0});var l=this.constructor.defaultAccount,p=this.constructor.defaultBlock||\"latest\";Object.defineProperty(this,\"defaultAccount\",{get:function(){return l},set:function(t){return t&&(l=s.toChecksumAddress(u.inputAddressFormatter(t))),t},enumerable:!0}),Object.defineProperty(this,\"defaultBlock\",{get:function(){return p},set:function(t){return p=t,t},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=r,this.options.jsonInterface=e};l.setProvider=function(t,e){i.packageInit(this,[t]),this._ethAccounts=e},l.prototype._getCallback=function(t){if(t&&n.isFunction(t[t.length-1]))return t.pop()},l.prototype._checkListener=function(t,e){if(e===t)throw new Error('The event \"'+t+\"\\\" is a reserved event name, you can't use it.\")},l.prototype._getOrSetDefaultOptions=function(t){var e=t.gasPrice?String(t.gasPrice):null,r=t.from?s.toChecksumAddress(u.inputAddressFormatter(t.from)):null;return t.data=t.data||this.options.data,t.from=r||this.options.from,t.gasPrice=e||this.options.gasPrice,t.gas=t.gas||t.gasLimit||this.options.gas,delete t.gasLimit,t},l.prototype._encodeEventABI=function(t,e){var r=(e=e||{}).filter||{},i={};if([\"fromBlock\",\"toBlock\"].filter(function(t){return void 0!==e[t]}).forEach(function(t){i[t]=u.inputBlockNumberFormatter(e[t])}),n.isArray(e.topics))i.topics=e.topics;else{if(i.topics=[],t&&!t.anonymous&&\"ALLEVENTS\"!==t.name&&i.topics.push(t.signature),\"ALLEVENTS\"!==t.name){var o=t.inputs.filter(function(t){return!0===t.indexed}).map(function(t){var e=r[t.name];return e?n.isArray(e)?e.map(function(e){return h.encodeParameter(t.type,e)}):h.encodeParameter(t.type,e):null});i.topics=i.topics.concat(o)}i.topics.length||delete i.topics}return this.options.address&&(i.address=this.options.address.toLowerCase()),i},l.prototype._decodeEventABI=function(t){var e=this;t.data=t.data||\"\",t.topics=t.topics||[];var r=u.outputLogFormatter(t);\"ALLEVENTS\"===e.name&&(e=e.jsonInterface.find(function(e){return e.signature===t.topics[0]})||{anonymous:!0}),e.inputs=e.inputs||[];var n=e.anonymous?t.topics:t.topics.slice(1);return r.returnValues=h.decodeLog(e.inputs,t.data,n),delete r.returnValues.__length__,r.event=e.name,r.signature=e.anonymous||!t.topics[0]?null:t.topics[0],r.raw={data:r.data,topics:r.topics},delete r.data,delete r.topics,r},l.prototype._encodeMethodABI=function(){var t=this._method.signature,e=this.arguments||[],r=!1,i=this._parent.options.jsonInterface.filter(function(e){return\"constructor\"===t&&e.type===t||(e.signature===t||e.signature===t.replace(\"0x\",\"\")||e.name===t)&&\"function\"===e.type}).map(function(t){var i=n.isArray(t.inputs)?t.inputs.length:0;if(i!==e.length)throw new Error(\"The number of arguments is not matching the methods required number. You need to pass \"+i+\" arguments.\");return\"function\"===t.type&&(r=t.signature),n.isArray(t.inputs)?t.inputs.map(function(t){return t.type}):[]}).map(function(t){return h.encodeParameters(t,e).replace(\"0x\",\"\")})[0]||\"\";if(\"constructor\"===t){if(!this._deployData)throw new Error(\"The contract has no contract data option set. This is necessary to append the constructor parameters.\");return this._deployData+i}var o=r?r+i:i;if(o)return o;throw new Error(\"Couldn't find a matching contract method named \\\"\"+this._method.name+'\".')},l.prototype._decodeMethodReturn=function(t,e){if(!e)return null;e=e.length>=2?e.slice(2):e;var r=h.decodeParameters(t,e);return 1===r.__length__?r[0]:(delete r.__length__,r)},l.prototype.deploy=function(t,e){if((t=t||{}).arguments=t.arguments||[],!(t=this._getOrSetDefaultOptions(t)).data)return s._fireError(new Error('No \"data\" specified in neither the given options, nor the default options.'),null,null,e);var r=n.find(this.options.jsonInterface,function(t){return\"constructor\"===t.type})||{};return r.signature=\"constructor\",this._createTxObject.apply({method:r,parent:this,deployData:t.data,_ethAccounts:this.constructor._ethAccounts},t.arguments)},l.prototype._generateEventOptions=function(){var t=Array.prototype.slice.call(arguments),e=this._getCallback(t),r=n.isObject(t[t.length-1])?t.pop():{},i=n.isString(t[0])?t[0]:\"allevents\";if(!(i=\"allevents\"===i.toLowerCase()?{name:\"ALLEVENTS\",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find(function(t){return\"event\"===t.type&&(t.name===i||t.signature===\"0x\"+i.replace(\"0x\",\"\"))})))throw new Error('Event \"'+i.name+\"\\\" doesn't exist in this contract.\");if(!s.isAddress(this.options.address))throw new Error(\"This contract object doesn't have address set yet, please set an address first.\");return{params:this._encodeEventABI(i,r),event:i,callback:e}},l.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)},l.prototype.once=function(t,e,r){var i=Array.prototype.slice.call(arguments);if(!(r=this._getCallback(i)))throw new Error(\"Once requires a callback as the second parameter.\");e&&delete e.fromBlock,this._on(t,e,function(t,e,i){i.unsubscribe(),n.isFunction(r)&&r(t,e,i)})},l.prototype._on=function(){var t=this._generateEventOptions.apply(this,arguments);this._checkListener(\"newListener\",t.event.name,t.callback),this._checkListener(\"removeListener\",t.event.name,t.callback);var e=new a({subscription:{params:1,inputFormatter:[u.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event),subscriptionHandler:function(t){t.removed?this.emit(\"changed\",t):this.emit(\"data\",t),n.isFunction(this.callback)&&this.callback(null,t,this)}},type:\"eth\",requestManager:this._requestManager});return e.subscribe(\"logs\",t.params,t.callback||function(){}),e},l.prototype.getPastEvents=function(){var t=this._generateEventOptions.apply(this,arguments),e=new o({name:\"getPastLogs\",call:\"eth_getLogs\",params:1,inputFormatter:[u.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event)});e.setRequestManager(this._requestManager);var r=e.buildCall();return e=null,r(t.params,t.callback)},l.prototype._createTxObject=function(){var t=Array.prototype.slice.call(arguments),e={};if(\"function\"===this.method.type&&(e.call=this.parent._executeMethod.bind(e,\"call\"),e.call.request=this.parent._executeMethod.bind(e,\"call\",!0)),e.send=this.parent._executeMethod.bind(e,\"send\"),e.send.request=this.parent._executeMethod.bind(e,\"send\",!0),e.encodeABI=this.parent._encodeMethodABI.bind(e),e.estimateGas=this.parent._executeMethod.bind(e,\"estimate\"),t&&this.method.inputs&&t.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,t);throw c.InvalidNumberOfParams(t.length,this.method.inputs.length,this.method.name)}return e.arguments=t||[],e._method=this.method,e._parent=this.parent,e._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(e._deployData=this.deployData),e},l.prototype._processExecuteArguments=function(t,e){var r={};if(r.type=t.shift(),r.callback=this._parent._getCallback(t),\"call\"===r.type&&!0!==t[t.length-1]&&(n.isString(t[t.length-1])||isFinite(t[t.length-1]))&&(r.defaultBlock=t.pop()),r.options=n.isObject(t[t.length-1])?t.pop():{},r.generateRequest=!0===t[t.length-1]&&t.pop(),r.options=this._parent._getOrSetDefaultOptions(r.options),r.options.data=this.encodeABI(),!this._deployData&&!s.isAddress(this._parent.options.address))throw new Error(\"This contract object doesn't have address set yet, please set an address first.\");return this._deployData||(r.options.to=this._parent.options.address),r.options.data?r:s._fireError(new Error(\"Couldn't find a matching contract method, or the number of parameters is wrong.\"),e.eventEmitter,e.reject,r.callback)},l.prototype._executeMethod=function(){var t=this,e=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),r),r=f(\"send\"!==e.type),i=t.constructor._ethAccounts||t._ethAccounts;if(e.generateRequest){var a={params:[u.inputCallFormatter.call(this._parent,e.options)],callback:e.callback};return\"call\"===e.type?(a.params.push(u.inputDefaultBlockNumberFormatter.call(this._parent,e.defaultBlock)),a.method=\"eth_call\",a.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):a.method=\"eth_sendTransaction\",a}switch(e.type){case\"estimate\":return new o({name:\"estimateGas\",call:\"eth_estimateGas\",params:1,inputFormatter:[u.inputCallFormatter],outputFormatter:s.hexToNumber,requestManager:t._parent._requestManager,accounts:i,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction()(e.options,e.callback);case\"call\":return new o({name:\"call\",call:\"eth_call\",params:2,inputFormatter:[u.inputCallFormatter,u.inputDefaultBlockNumberFormatter],outputFormatter:function(e){return t._parent._decodeMethodReturn(t._method.outputs,e)},requestManager:t._parent._requestManager,accounts:i,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction()(e.options,e.defaultBlock,e.callback);case\"send\":if(!s.isAddress(e.options.from))return s._fireError(new Error('No \"from\" address specified in neither the given options, nor the default options.'),r.eventEmitter,r.reject,e.callback);if(n.isBoolean(this._method.payable)&&!this._method.payable&&e.options.value&&e.options.value>0)return s._fireError(new Error(\"Can not send value to non-payable contract method or constructor\"),r.eventEmitter,r.reject,e.callback);var c={receiptFormatter:function(e){if(n.isArray(e.logs)){var r=n.map(e.logs,function(e){return t._parent._decodeEventABI.call({name:\"ALLEVENTS\",jsonInterface:t._parent.options.jsonInterface},e)});e.events={};var i=0;r.forEach(function(t){t.event?e.events[t.event]?Array.isArray(e.events[t.event])?e.events[t.event].push(t):e.events[t.event]=[e.events[t.event],t]:e.events[t.event]=t:(e.events[i]=t,i++)}),delete e.logs}return e},contractDeployFormatter:function(e){var r=t._parent.clone();return r.options.address=e.contractAddress,r}};return new o({name:\"sendTransaction\",call:\"eth_sendTransaction\",params:1,inputFormatter:[u.inputTransactionFormatter],requestManager:t._parent._requestManager,accounts:t.constructor._ethAccounts||t._ethAccounts,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock,extraFormatters:c}).createFunction()(e.options,e.callback)}},t.exports=l},function(t,e,r){(function(t){!function(t,e){\"use strict\";function n(t,e){if(!t)throw new Error(e||\"Assertion failed\")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(\"le\"!==e&&\"be\"!==e||(r=e,e=10),this._init(t||0,e||10,r||\"be\"))}var s;\"object\"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&\"object\"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if(\"number\"==typeof t)return this._initNumber(t,e,r);if(\"object\"==typeof t)return this._initArray(t,e,r);\"hex\"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;\"-\"===(t=t.toString().replace(/\\s+/g,\"\"))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),\"-\"===t[0]&&(this.negative=1),this.strip(),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),\"le\"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n(\"number\"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if(\"be\"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if(\"le\"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?\"<BN-R: \":\"<BN: \")+this.toString(16)+\">\"};var c=[\"\",\"0\",\"00\",\"000\",\"0000\",\"00000\",\"000000\",\"0000000\",\"00000000\",\"000000000\",\"0000000000\",\"00000000000\",\"000000000000\",\"0000000000000\",\"00000000000000\",\"000000000000000\",\"0000000000000000\",\"00000000000000000\",\"000000000000000000\",\"0000000000000000000\",\"00000000000000000000\",\"000000000000000000000\",\"0000000000000000000000\",\"00000000000000000000000\",\"000000000000000000000000\",\"0000000000000000000000000\"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=l;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||\"hex\"===t){r=\"\";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],p=h[t];r=\"\";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?y+r:c[l-y.length]+y+r}for(this.isZero()&&(r=\"0\"+r);r.length%e!=0;)r=\"0\"+r;return 0!==this.negative&&(r=\"-\"+r),r}n(!1,\"Base should be between 2 and 36\")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,\"Number can only safely store up to 53 bits\"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,\"byte array longer than desired length\"),n(o>0,\"Requested array length <= 0\"),this.strip();var s,a,u=\"le\"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n(\"number\"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n(\"number\"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],h=8191&f,l=f>>>13,p=0|s[1],d=8191&p,y=p>>>13,m=0|s[2],g=8191&m,b=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],k=8191&S,E=S>>>13,A=0|s[5],x=8191&A,T=A>>>13,B=0|s[6],I=8191&B,C=B>>>13,M=0|s[7],P=8191&M,O=M>>>13,R=0|s[8],j=8191&R,N=R>>>13,L=0|s[9],K=8191&L,D=L>>>13,U=0|a[0],F=8191&U,q=U>>>13,H=0|a[1],z=8191&H,V=H>>>13,G=0|a[2],W=8191&G,$=G>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],ht=8191&ft,lt=ft>>>13,pt=0|a[9],dt=8191&pt,yt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(c+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(l,F)|0))<<13)|0;c=((o=Math.imul(l,q))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(d,F),i=(i=Math.imul(d,q))+Math.imul(y,F)|0,o=Math.imul(y,q);var gt=(c+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(l,z)|0))<<13)|0;c=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,q))+Math.imul(b,F)|0,o=Math.imul(b,q),n=n+Math.imul(d,z)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,V)|0;var bt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(l,W)|0))<<13)|0;c=((o=o+Math.imul(l,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,q))+Math.imul(w,F)|0,o=Math.imul(w,q),n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,V)|0,n=n+Math.imul(d,W)|0,i=(i=i+Math.imul(d,$)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,$)|0;var vt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,q))+Math.imul(E,F)|0,o=Math.imul(E,q),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,z)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,$)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,Z)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Z)|0;var _t=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,q))+Math.imul(T,F)|0,o=Math.imul(T,q),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(E,z)|0,o=o+Math.imul(E,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,$)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,$)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,q))+Math.imul(C,F)|0,o=Math.imul(C,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,$)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0;var St=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,F),i=(i=Math.imul(P,q))+Math.imul(O,F)|0,o=Math.imul(O,q),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(C,z)|0,o=o+Math.imul(C,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(T,W)|0,o=o+Math.imul(T,$)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var kt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,q))+Math.imul(N,F)|0,o=Math.imul(N,q),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(O,z)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(K,F),i=(i=Math.imul(K,q))+Math.imul(D,F)|0,o=Math.imul(D,q),n=n+Math.imul(j,z)|0,i=(i=i+Math.imul(j,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ct)|0,n=n+Math.imul(d,ht)|0,i=(i=i+Math.imul(d,lt)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,lt)|0;var At=(c+(n=n+Math.imul(h,dt)|0)|0)+((8191&(i=(i=i+Math.imul(h,yt)|0)+Math.imul(l,dt)|0))<<13)|0;c=((o=o+Math.imul(l,yt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(K,z),i=(i=Math.imul(K,V))+Math.imul(D,z)|0,o=Math.imul(D,V),n=n+Math.imul(j,W)|0,i=(i=i+Math.imul(j,$)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,lt)|0;var xt=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,yt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(K,W),i=(i=Math.imul(K,$))+Math.imul(D,W)|0,o=Math.imul(D,$),n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,lt)|0;var Tt=(c+(n=n+Math.imul(g,dt)|0)|0)+((8191&(i=(i=i+Math.imul(g,yt)|0)+Math.imul(b,dt)|0))<<13)|0;c=((o=o+Math.imul(b,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(K,J),i=(i=Math.imul(K,Z))+Math.imul(D,J)|0,o=Math.imul(D,Z),n=n+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(_,dt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(w,dt)|0))<<13)|0;c=((o=o+Math.imul(w,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(K,Q),i=(i=Math.imul(K,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(j,rt)|0,i=(i=i+Math.imul(j,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,lt)|0;var It=(c+(n=n+Math.imul(k,dt)|0)|0)+((8191&(i=(i=i+Math.imul(k,yt)|0)+Math.imul(E,dt)|0))<<13)|0;c=((o=o+Math.imul(E,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(K,rt),i=(i=Math.imul(K,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(j,ot)|0,i=(i=i+Math.imul(j,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,lt)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,lt)|0;var Ct=(c+(n=n+Math.imul(x,dt)|0)|0)+((8191&(i=(i=i+Math.imul(x,yt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(K,ot),i=(i=Math.imul(K,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(j,ut)|0,i=(i=i+Math.imul(j,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Mt=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,yt)|0)+Math.imul(C,dt)|0))<<13)|0;c=((o=o+Math.imul(C,yt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(K,ut),i=(i=Math.imul(K,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(j,ht)|0,i=(i=i+Math.imul(j,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Pt=(c+(n=n+Math.imul(P,dt)|0)|0)+((8191&(i=(i=i+Math.imul(P,yt)|0)+Math.imul(O,dt)|0))<<13)|0;c=((o=o+Math.imul(O,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(K,ht),i=(i=Math.imul(K,lt))+Math.imul(D,ht)|0,o=Math.imul(D,lt);var Ot=(c+(n=n+Math.imul(j,dt)|0)|0)+((8191&(i=(i=i+Math.imul(j,yt)|0)+Math.imul(N,dt)|0))<<13)|0;c=((o=o+Math.imul(N,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Rt=(c+(n=Math.imul(K,dt))|0)+((8191&(i=(i=Math.imul(K,yt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,yt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=mt,u[1]=gt,u[2]=bt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=kt,u[8]=Et,u[9]=At,u[10]=xt,u[11]=Tt,u[12]=Bt,u[13]=It,u[14]=Ct,u[15]=Mt,u[16]=Pt,u[17]=Ot,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(p=l),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?l(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;a=67108863&(l=l+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var h=u,l=c,p=0;p<s;p++){var d=r[f+p],y=n[f+p],m=r[f+p+s],g=n[f+p+s],b=h*m-l*g;g=h*g+l*m,m=b,r[f+p]=d+m,n[f+p]=y+g,r[f+p+s]=d-m,n[f+p+s]=y-g,p!==a&&(b=u*h-c*l,l=u*l+c*h,h=b)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,h,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*h[p];u[p]=a[p]*h[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n(\"number\"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n(\"number\"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n(\"number\"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n(\"number\"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,\"imaskn works only with positive numbers\"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n(\"number\"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n(\"number\"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if(\"mod\"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(i,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=l)}return a&&a.strip(),n.strip(),\"div\"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),\"mod\"!==e&&(i=a.div.neg()),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),\"mod\"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),\"div\"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?\"div\"===e?{div:this.divn(t.words[0]),mod:null}:\"mod\"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,\"div\",!1).div},o.prototype.mod=function(t){return this.divmod(t,\"mod\",!1).mod},o.prototype.umod=function(t){return this.divmod(t,\"mod\",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),h=e.clone();!e.isZero();){for(var l=0,p=1;0==(e.words[0]&p)&&l<26;++l,p<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var d=0,y=1;0==(r.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,l=1;0==(r.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n(\"number\"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,\"Number is too big\");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return n(!this.red,\"Already a number in reduction context\"),n(0===this.negative,\"red works only with positives\"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,\"fromRed works only with numbers in reduction context\"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,\"Already a number in reduction context\"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,\"redAdd works only with red numbers\"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,\"redIAdd works only with red numbers\"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,\"redSub works only with red numbers\"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,\"redISub works only with red numbers\"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,\"redShl works only with red numbers\"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,\"redMul works only with red numbers\"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,\"redSqr works only with red numbers\"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,\"redISqr works only with red numbers\"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,\"redSqrt works only with red numbers\"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,\"redInvm works only with red numbers\"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,\"redNeg works only with red numbers\"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,\"redPow(normalNum)\"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,\"k256\",\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\")}function v(){g.call(this,\"p224\",\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\")}function _(){g.call(this,\"p192\",\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\")}function w(){g.call(this,\"25519\",\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\")}function S(t){if(\"string\"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),\"modulus must be greater than 1\"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(b,g),b.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(v,g),i(_,g),i(w,g),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(m[t])return m[t];var e;if(\"k256\"===t)e=new b;else if(\"p224\"===t)e=new v;else if(\"p192\"===t)e=new _;else{if(\"p25519\"!==t)throw new Error(\"Unknown prime \"+t);e=new w}return m[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,\"red works only with positives\"),n(t.red,\"red works only with red numbers\")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),\"red works only with positives\"),n(t.red&&t.red===e.red,\"red works only with red numbers\")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,i),l=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var y=p,m=0;0!==y.cmp(a);m++)y=y.redSqr();n(m<d);var g=this.pow(h,new o(1).iushln(d-m-1));l=l.redMul(g),h=g.redSqr(),p=p.redMul(h),d=m}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(26)(t))},function(t,e,r){var n=r(73),i=r(36).formatters,o=r(95),s=function(){this._inputFormatter=function(){var t=Array.prototype.slice.call(arguments);return t[0]=t[0]&&\"0x0\"!==t[0]?i.inputAddressFormatter(t[0]):\"\",n.formatInputInt.apply(this,t)},this._outputFormatter=n.formatOutputAddress};(s.prototype=new o({})).constructor=s,s.prototype.isType=function(t){return!!t.match(/address(\\[([0-9]*)\\])?/)},t.exports=s},function(t,e,r){var n=r(73),i=r(95),o=function(){this._inputFormatter=n.formatInputBool,this._outputFormatter=n.formatOutputBool};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^bool(\\[([0-9]*)\\])*$/)},t.exports=o},function(t,e,r){var n=r(73),i=r(95),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^int([0-9]*)?(\\[([0-9]*)\\])*$/)},t.exports=o},function(t,e,r){var n=r(73),i=r(95),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputUInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^uint([0-9]*)?(\\[([0-9]*)\\])*$/)},t.exports=o},function(t,e,r){var n=r(73),i=r(95),o=function(){this._inputFormatter=n.formatInputDynamicBytes,this._outputFormatter=n.formatOutputDynamicBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^bytes(\\[([0-9]*)\\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},function(t,e,r){var n=r(73),i=r(95),o=function(){this._inputFormatter=n.formatInputString,this._outputFormatter=n.formatOutputString};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^string(\\[([0-9]*)\\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},function(t,e,r){var n=r(73),i=r(95),o=function(){this._inputFormatter=n.formatInputBytes,this._outputFormatter=n.formatOutputBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^bytes([0-9]{1,})(\\[([0-9]*)\\])*$/)},t.exports=o},function(t,e,r){\"use strict\";(function(e,n){var i=r(31),o=r(92),s=r(94),a=r(377),u=r(770),c=r(411),f=r(410),h=r(409),l=r(236),p=r(96),d=r(846),y=r(848),m=r(57),g=r(36),b=function(t){return i.isUndefined(t)||i.isNull(t)},v=function(t){for(;t&&t.startsWith(\"0x0\");)t=\"0x\"+t.slice(3);return t},_=function(t){return t.length%2==1&&(t=t.replace(\"0x\",\"0x0\")),t},w=function(){var t=this;o.packageInit(this,arguments),delete this.BatchRequest,delete this.extend;var e=[new s({name:\"getId\",call:\"net_version\",params:0,outputFormatter:m.hexToNumber}),new s({name:\"getGasPrice\",call:\"eth_gasPrice\",params:0}),new s({name:\"getTransactionCount\",call:\"eth_getTransactionCount\",params:2,inputFormatter:[function(t){if(m.isAddress(t))return t;throw new Error(\"Address \"+t+' is not a valid address to get the \"transactionCount\".')},function(){return\"latest\"}]})];this._ethereumCall={},i.each(e,function(e){e.attachToObject(t._ethereumCall),e.setRequestManager(t._requestManager)}),this.wallet=new S(this)};function S(t){this._accounts=t,this.length=0,this.defaultKeyName=\"web3js_wallet\"}w.prototype._addAccountFunctions=function(t){var e=this;return t.signTransaction=function(r,n){return e.signTransaction(r,t.privateKey,n)},t.sign=function(r){return e.sign(r,t.privateKey)},t.encrypt=function(r,n){return e.encrypt(t.privateKey,r,n)},t},w.prototype.create=function(t){return this._addAccountFunctions(u.create(t||m.randomHex(32)))},w.prototype.privateKeyToAccount=function(t){return this._addAccountFunctions(u.fromPrivate(t))},w.prototype.signTransaction=function(t,e,r){var n,o=!1;if(r=r||function(){},!t)return o=new Error(\"No transaction object given!\"),r(o),a.reject(o);function s(t){if(t.gas||t.gasLimit||(o=new Error('\"gas\" is missing')),(t.nonce<0||t.gas<0||t.gasPrice<0||t.chainId<0)&&(o=new Error(\"Gas, gasPrice, nonce or chainId is lower than 0\")),o)return r(o),a.reject(new Error('\"gas\" is missing'));try{var i=t=g.formatters.inputCallFormatter(t);i.to=t.to||\"0x\",i.data=t.data||\"0x\",i.value=t.value||\"0x\",i.chainId=m.numberToHex(t.chainId);var s=f.encode([l.fromNat(i.nonce),l.fromNat(i.gasPrice),l.fromNat(i.gas),i.to.toLowerCase(),l.fromNat(i.value),i.data,l.fromNat(i.chainId||\"0x1\"),\"0x\",\"0x\"]),p=c.keccak256(s),d=u.makeSigner(2*h.toNumber(i.chainId||\"0x1\")+35)(c.keccak256(s),e),y=f.decode(s).slice(0,6).concat(u.decodeSignature(d));y[6]=_(v(y[6])),y[7]=_(v(y[7])),y[8]=_(v(y[8]));var b=f.encode(y),w=f.decode(b);n={messageHash:p,v:v(w[6]),r:v(w[7]),s:v(w[8]),rawTransaction:b}}catch(t){return r(t),a.reject(t)}return r(null,n),n}return void 0!==t.nonce&&void 0!==t.chainId&&void 0!==t.gasPrice?a.resolve(s(t)):a.all([b(t.chainId)?this._ethereumCall.getId():t.chainId,b(t.gasPrice)?this._ethereumCall.getGasPrice():t.gasPrice,b(t.nonce)?this._ethereumCall.getTransactionCount(this.privateKeyToAccount(e).address):t.nonce]).then(function(e){if(b(e[0])||b(e[1])||b(e[2]))throw new Error('One of the values \"chainId\", \"gasPrice\", or \"nonce\" couldn\\'t be fetched: '+JSON.stringify(e));return s(i.extend(t,{chainId:e[0],gasPrice:e[1],nonce:e[2]}))})},w.prototype.recoverTransaction=function(t){var e=f.decode(t),r=u.encodeSignature(e.slice(6,9)),n=l.toNumber(e[6]),i=n<35?[]:[l.fromNumber(n-35>>1),\"0x\",\"0x\"],o=e.slice(0,6).concat(i),s=f.encode(o);return u.recover(c.keccak256(s),r)},w.prototype.hashMessage=function(t){var e=m.isHexStrict(t)?m.hexToBytes(t):t,r=n.from(e),i=\"\u0019Ethereum Signed Message:\\n\"+e.length,o=n.from(i),s=n.concat([o,r]);return c.keccak256s(s)},w.prototype.sign=function(t,e){var r=this.hashMessage(t),n=u.sign(r,e),i=u.decodeSignature(n);return{message:t,messageHash:r,v:i[0],r:i[1],s:i[2],signature:n}},w.prototype.recover=function(t,e,r){var n=[].slice.apply(arguments);return i.isObject(t)?this.recover(t.messageHash,u.encodeSignature([t.v,t.r,t.s]),!0):(r||(t=this.hashMessage(t)),n.length>=4?(r=n.slice(-1)[0],r=!!i.isBoolean(r)&&!!r,this.recover(t,u.encodeSignature(n.slice(1,4)),r)):u.recover(t,e))},w.prototype.decrypt=function(t,e,r){if(!i.isString(e))throw new Error(\"No password given.\");var o,s,a=i.isObject(t)?t:JSON.parse(r?t.toLowerCase():t);if(3!==a.version)throw new Error(\"Not a valid V3 wallet\");if(\"scrypt\"===a.crypto.kdf)s=a.crypto.kdfparams,o=d(new n(e),new n(s.salt,\"hex\"),s.n,s.r,s.p,s.dklen);else{if(\"pbkdf2\"!==a.crypto.kdf)throw new Error(\"Unsupported key derivation scheme\");if(\"hmac-sha256\"!==(s=a.crypto.kdfparams).prf)throw new Error(\"Unsupported parameters to PBKDF2\");o=p.pbkdf2Sync(new n(e),new n(s.salt,\"hex\"),s.c,s.dklen,\"sha256\")}var u=new n(a.crypto.ciphertext,\"hex\");if(m.sha3(n.concat([o.slice(16,32),u])).replace(\"0x\",\"\")!==a.crypto.mac)throw new Error(\"Key derivation failed - possibly wrong password\");var c=p.createDecipheriv(a.crypto.cipher,o.slice(0,16),new n(a.crypto.cipherparams.iv,\"hex\")),f=\"0x\"+n.concat([c.update(u),c.final()]).toString(\"hex\");return this.privateKeyToAccount(f)},w.prototype.encrypt=function(t,e,r){var i,o=this.privateKeyToAccount(t),s=(r=r||{}).salt||p.randomBytes(32),a=r.iv||p.randomBytes(16),u=r.kdf||\"scrypt\",c={dklen:r.dklen||32,salt:s.toString(\"hex\")};if(\"pbkdf2\"===u)c.c=r.c||262144,c.prf=\"hmac-sha256\",i=p.pbkdf2Sync(new n(e),s,c.c,c.dklen,\"sha256\");else{if(\"scrypt\"!==u)throw new Error(\"Unsupported kdf\");c.n=r.n||8192,c.r=r.r||8,c.p=r.p||1,i=d(new n(e),s,c.n,c.r,c.p,c.dklen)}var f=p.createCipheriv(r.cipher||\"aes-128-ctr\",i.slice(0,16),a);if(!f)throw new Error(\"Unsupported cipher\");var h=n.concat([f.update(new n(o.privateKey.replace(\"0x\",\"\"),\"hex\")),f.final()]),l=m.sha3(n.concat([i.slice(16,32),new n(h,\"hex\")])).replace(\"0x\",\"\");return{version:3,id:y.v4({random:r.uuid||p.randomBytes(16)}),address:o.address.toLowerCase().replace(\"0x\",\"\"),crypto:{ciphertext:h.toString(\"hex\"),cipherparams:{iv:a.toString(\"hex\")},cipher:r.cipher||\"aes-128-ctr\",kdf:u,kdfparams:c,mac:l.toString(\"hex\")}}},S.prototype._findSafeIndex=function(t){return t=t||0,i.has(this,t)?this._findSafeIndex(t+1):t},S.prototype._currentIndexes=function(){return Object.keys(this).map(function(t){return parseInt(t)}).filter(function(t){return t<9e20})},S.prototype.create=function(t,e){for(var r=0;r<t;++r)this.add(this._accounts.create(e).privateKey);return this},S.prototype.add=function(t){return i.isString(t)&&(t=this._accounts.privateKeyToAccount(t)),this[t.address]?this[t.address]:((t=this._accounts.privateKeyToAccount(t.privateKey)).index=this._findSafeIndex(),this[t.index]=t,this[t.address]=t,this[t.address.toLowerCase()]=t,this.length++,t)},S.prototype.remove=function(t){var e=this[t];return!(!e||!e.address)&&(this[e.address].privateKey=null,delete this[e.address],this[e.address.toLowerCase()].privateKey=null,delete this[e.address.toLowerCase()],this[e.index].privateKey=null,delete this[e.index],this.length--,!0)},S.prototype.clear=function(){var t=this;return this._currentIndexes().forEach(function(e){t.remove(e)}),this},S.prototype.encrypt=function(t,e){var r=this;return this._currentIndexes().map(function(n){return r[n].encrypt(t,e)})},S.prototype.decrypt=function(t,e){var r=this;return t.forEach(function(t){var n=r._accounts.decrypt(t,e);if(!n)throw new Error(\"Couldn't decrypt accounts. Password wrong?\");r.add(n)}),this},S.prototype.save=function(t,e){return localStorage.setItem(e||this.defaultKeyName,JSON.stringify(this.encrypt(t))),!0},S.prototype.load=function(t,e){var r=localStorage.getItem(e||this.defaultKeyName);if(r)try{r=JSON.parse(r)}catch(t){}return this.decrypt(r||[],t)},\"undefined\"==typeof localStorage&&(delete S.prototype.save,delete S.prototype.load),t.exports=w}).call(this,r(5),r(0).Buffer)},function(t,e,r){(function(e){var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),i=r(236),o=r(409),s=r(34),a=(r(410),new s.ec(\"secp256k1\")),u=r(411),c=u.keccak256,f=u.keccak256s,h=function(t){for(var e=f(t.slice(2)),r=\"0x\",n=0;n<40;n++)r+=parseInt(e[n+2],16)>7?t[n+2].toUpperCase():t[n+2];return r},l=function(t){var r=new e(t.slice(2),\"hex\"),n=\"0x\"+a.keyFromPrivate(r).getPublic(!1,\"hex\").slice(2),i=c(n);return{address:h(\"0x\"+i.slice(-40)),privateKey:t}},p=function(t){var e=n(t,3),r=e[0],o=i.pad(32,e[1]),s=i.pad(32,e[2]);return i.flatten([o,s,r])},d=function(t){return[i.slice(64,i.length(t),t),i.slice(0,32,t),i.slice(32,64,t)]},y=function(t){return function(r,n){var s=a.keyFromPrivate(new e(n.slice(2),\"hex\")).sign(new e(r.slice(2),\"hex\"),{canonical:!0});return p([o.fromString(i.fromNumber(t+s.recoveryParam)),i.pad(32,i.fromNat(\"0x\"+s.r.toString(16))),i.pad(32,i.fromNat(\"0x\"+s.s.toString(16)))])}},m=y(27);t.exports={create:function(t){var e=c(i.concat(i.random(32),t||i.random(32))),r=i.concat(i.concat(i.random(32),e),i.random(32)),n=c(r);return l(n)},toChecksum:h,fromPrivate:l,sign:m,makeSigner:y,recover:function(t,r){var n=d(r),o={v:i.toNumber(n[0]),r:n[1].slice(2),s:n[2].slice(2)},s=\"0x\"+a.recoverPubKey(new e(t.slice(2),\"hex\"),o,o.v<2?o.v:1-o.v%2).encode(\"hex\",!1).slice(2),u=c(s);return h(\"0x\"+u.slice(-40))},encodeSignature:p,decodeSignature:d}}).call(this,r(0).Buffer)},function(t,e){var r=function(t,e){for(var r=[],n=0;n<t;++n)r.push(e(n));return r};t.exports={generate:r,replicate:function(t,e){return r(t,function(){return e})},concat:function(t,e){return t.concat(e)},flatten:function(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var i=0,o=t[r].length;i<o;++i)e.push(t[r][i]);return e},chunksOf:function(t,e){for(var r=[],n=0,i=e.length;n<i;n+=t)r.push(e.slice(n,n+t));return r}}},function(t,e,r){t.exports=r(232)},function(t,e,r){t.exports=r(93)},function(t,e,r){t.exports=r(58).Transform},function(t,e,r){t.exports=r(58).PassThrough},function(t,e,r){var n=r(1),i=r(109),o=r(3).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<5|t>>>27}function f(t){return t<<30|t>>>2}function h(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,u=0;u<16;++u)e[u]=t.readInt32BE(4*u);for(;u<80;++u)e[u]=e[u-3]^e[u-8]^e[u-14]^e[u-16];for(var l=0;l<80;++l){var p=~~(l/20),d=c(r)+h(p,n,i,o)+a+e[l]+s[p]|0;a=o,o=i,i=f(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},function(t,e,r){var n=r(1),i=r(109),o=r(3).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<1|t>>>31}function f(t){return t<<5|t>>>27}function h(t){return t<<30|t>>>2}function l(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,u=0;u<16;++u)e[u]=t.readInt32BE(4*u);for(;u<80;++u)e[u]=c(e[u-3]^e[u-8]^e[u-14]^e[u-16]);for(var p=0;p<80;++p){var d=~~(p/20),y=f(r)+l(d,n,i,o)+a+e[p]+s[d]|0;a=o,o=i,i=h(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},function(t,e,r){var n=r(1),i=r(382),o=r(109),s=r(3).Buffer,a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},function(t,e,r){var n=r(1),i=r(383),o=r(109),s=r(3).Buffer,a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},function(t,e,r){\"use strict\";var n=r(1),i=r(3).Buffer,o=r(87),s=i.alloc(128),a=64;function u(t,e){o.call(this,\"digest\"),\"string\"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=i.concat([e,s],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),u=0;u<a;u++)r[u]=54^e[u],n[u]=92^e[u];this._hash=[r]}n(u,o),u.prototype._update=function(t){this._hash.push(t)},u.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=u},function(t,e,r){t.exports=r(385)},function(t,e,r){(function(e,n){var i,o=r(386),s=r(387),a=r(388),u=r(3).Buffer,c=e.crypto&&e.crypto.subtle,f={sha:\"SHA-1\",\"sha-1\":\"SHA-1\",sha1:\"SHA-1\",sha256:\"SHA-256\",\"sha-256\":\"SHA-256\",sha384:\"SHA-384\",\"sha-384\":\"SHA-384\",\"sha-512\":\"SHA-512\",sha512:\"SHA-512\"},h=[];function l(t,e,r,n,i){return c.importKey(\"raw\",t,{name:\"PBKDF2\"},!1,[\"deriveBits\"]).then(function(t){return c.deriveBits({name:\"PBKDF2\",salt:e,iterations:r,hash:{name:i}},t,n<<3)}).then(function(t){return u.from(t)})}t.exports=function(t,r,p,d,y,m){\"function\"==typeof y&&(m=y,y=void 0);var g=f[(y=y||\"sha1\").toLowerCase()];if(!g||\"function\"!=typeof e.Promise)return n.nextTick(function(){var e;try{e=a(t,r,p,d,y)}catch(t){return m(t)}m(null,e)});if(o(t,r,p,d),\"function\"!=typeof m)throw new Error(\"No callback provided to pbkdf2\");u.isBuffer(t)||(t=u.from(t,s)),u.isBuffer(r)||(r=u.from(r,s)),function(t,e){t.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})})}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==h[t])return h[t];var r=l(i=i||u.alloc(8),i,10,128,t).then(function(){return!0}).catch(function(){return!1});return h[t]=r,r}(g).then(function(e){return e?l(t,r,p,d,g):a(t,r,p,d,y)}),m)}}).call(this,r(5),r(7))},function(t,e,r){var n=r(784),i=r(37),o=r(242),s=r(799),a=r(181);function u(t,e,r){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,r);if(s[t])return new n({key:e,iv:r,mode:t});throw new TypeError(\"invalid suite type\")}function c(t,e,r){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,r);if(s[t])return new n({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError(\"invalid suite type\")}e.createCipher=e.Cipher=function(t,e){var r,n;if(t=t.toLowerCase(),o[t])r=o[t].key,n=o[t].iv;else{if(!s[t])throw new TypeError(\"invalid suite type\");r=8*s[t].key,n=s[t].iv}var i=a(e,!1,r,n);return u(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=u,e.createDecipher=e.Decipher=function(t,e){var r,n;if(t=t.toLowerCase(),o[t])r=o[t].key,n=o[t].iv;else{if(!s[t])throw new TypeError(\"invalid suite type\");r=8*s[t].key,n=s[t].iv}var i=a(e,!1,r,n);return c(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=c,e.listCiphers=e.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},function(t,e,r){var n=r(87),i=r(241),o=r(1),s=r(3).Buffer,a={\"des-ede3-cbc\":i.CBC.instantiate(i.EDE),\"des-ede3\":i.EDE,\"des-ede-cbc\":i.CBC.instantiate(i.EDE),\"des-ede\":i.EDE,\"des-cbc\":i.CBC.instantiate(i.DES),\"des-ecb\":i.DES};function u(t){n.call(this);var e,r=t.mode.toLowerCase(),i=a[r];e=t.decrypt?\"decrypt\":\"encrypt\";var o=t.key;s.isBuffer(o)||(o=s.from(o)),\"des-ede\"!==r&&\"des-ede-cbc\"!==r||(o=s.concat([o,o.slice(0,8)]));var u=t.iv;s.isBuffer(u)||(u=s.from(u)),this._des=i.create({key:o,iv:u,type:e})}a.des=a[\"des-cbc\"],a.des3=a[\"des-ede3-cbc\"],t.exports=u,o(u,n),u.prototype._update=function(t){return s.from(this._des.update(t))},u.prototype._final=function(){return s.from(this._des.final())}},function(t,e,r){\"use strict\";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},e.ip=function(t,e,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},e.rip=function(t,e,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+s&1,i<<=1,i|=t>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=e>>>a+s&1,o<<=1,o|=t>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.pc1=function(t,e,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,r,i){for(var o=0,s=0,a=n.length>>>1,u=0;u<a;u++)o<<=1,o|=t>>>n[u]&1;for(u=a;u<n.length;u++)s<<=1,s|=e>>>n[u]&1;r[i+0]=o>>>0,r[i+1]=s>>>0},e.expand=function(t,e,r){var n=0,i=0;n=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[r+0]=n>>>0,e[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var r=0,n=0;n<4;n++){r<<=4,r|=i[64*n+(t>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=i[256+64*n+(e>>>18-6*n&63)]}return r>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,r=0;r<o.length;r++)e<<=1,e|=t>>>o[r]&1;return e>>>0},e.padSplit=function(t,e,r){for(var n=t.toString(2);n.length<e;)n=\"0\"+n;for(var i=[],o=0;o<e;o+=r)i.push(n.slice(o,o+r));return i.join(\" \")}},function(t,e,r){\"use strict\";var n=r(24);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:\"decrypt\"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<r;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,r=0,n=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,r=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),r+=this._flushBuffer(i,r);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r=\"encrypt\"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,\"Not enough data to decrypt\");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,r){\"use strict\";var n=r(24),i=r(1),o=r(241),s=o.utils,a=o.Cipher;function u(t){a.call(this,t);var e=new function(){this.tmp=new Array(2),this.keys=null};this._desState=e,this.deriveKeys(e,t.key)}i(u,a),t.exports=u,u.create=function(t){return new u(t)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(t,e){t.keys=new Array(32),n.equal(e.length,this.blockSize,\"Invalid key length\");var r=s.readUInt32BE(e,0),i=s.readUInt32BE(e,4);s.pc1(r,i,t.tmp,0),r=t.tmp[0],i=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=c[o>>>1];r=s.r28shl(r,a),i=s.r28shl(i,a),s.pc2(r,i,t.keys,o)}},u.prototype._update=function(t,e,r,n){var i=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],\"encrypt\"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],s.writeUInt32BE(r,o,n),s.writeUInt32BE(r,a,n+4)},u.prototype._pad=function(t,e){for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},u.prototype._unpad=function(t){for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)n.equal(t[r],e);return t.slice(0,t.length-e)},u.prototype._encrypt=function(t,e,r,n,i){for(var o=e,a=r,u=0;u<t.keys.length;u+=2){var c=t.keys[u],f=t.keys[u+1];s.expand(a,t.tmp,0),c^=t.tmp[0],f^=t.tmp[1];var h=s.substitute(c,f),l=a;a=(o^s.permute(h))>>>0,o=l}s.rip(a,o,n,i)},u.prototype._decrypt=function(t,e,r,n,i){for(var o=r,a=e,u=t.keys.length-2;u>=0;u-=2){var c=t.keys[u],f=t.keys[u+1];s.expand(o,t.tmp,0),c^=t.tmp[0],f^=t.tmp[1];var h=s.substitute(c,f),l=o;o=(a^s.permute(h))>>>0,a=l}s.rip(o,a,n,i)}},function(t,e,r){\"use strict\";var n=r(24),i=r(1),o={};e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var r=Object.keys(o),n=0;n<r.length;n++){var s=r[n];e.prototype[s]=o[s]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new function(t){n.equal(t.length,8,\"Invalid IV length\"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}(this.options.iv);this._cbcState=t},o._update=function(t,e,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if(\"encrypt\"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=t[e+a];o._update.call(this,s,0,r,n);for(a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{o._update.call(this,t,e,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=t[e+a]}}},function(t,e,r){\"use strict\";var n=r(24),i=r(1),o=r(241),s=o.Cipher,a=o.DES;function u(t){s.call(this,t);var e=new function(t,e){n.equal(e.length,24,\"Invalid key length\");var r=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers=\"encrypt\"===t?[a.create({type:\"encrypt\",key:r}),a.create({type:\"decrypt\",key:i}),a.create({type:\"encrypt\",key:o})]:[a.create({type:\"decrypt\",key:o}),a.create({type:\"encrypt\",key:i}),a.create({type:\"decrypt\",key:r})]}(this.type,this.options.key);this._edeState=e}i(u,s),t.exports=u,u.create=function(t){return new u(t)},u.prototype._update=function(t,e,r,n){var i=this._edeState;i.ciphers[0]._update(t,e,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},function(t,e,r){var n=r(242),i=r(392),o=r(3).Buffer,s=r(393),a=r(87),u=r(180),c=r(181);function f(t,e,r){a.call(this),this._cache=new l,this._cipher=new u.AES(e),this._prev=o.from(r),this._mode=t,this._autopadding=!0}r(1)(f,a),f.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return o.concat(n)};var h=o.alloc(16,16);function l(){this.cache=o.allocUnsafe(0)}function p(t,e,r){var a=n[t.toLowerCase()];if(!a)throw new TypeError(\"invalid suite type\");if(\"string\"==typeof e&&(e=o.from(e)),e.length!==a.key/8)throw new TypeError(\"invalid key length \"+e.length);if(\"string\"==typeof r&&(r=o.from(r)),\"GCM\"!==a.mode&&r.length!==a.iv)throw new TypeError(\"invalid iv length \"+r.length);return\"stream\"===a.type?new s(a.module,e,r):\"auth\"===a.type?new i(a.module,e,r):new f(a.module,e,r)}f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(h))throw this._cipher.scrub(),new Error(\"data not multiple of block length\")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},l.prototype.add=function(t){this.cache=o.concat([this.cache,t])},l.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},l.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return o.concat([this.cache,e])},e.createCipheriv=p,e.createCipher=function(t,e){var r=n[t.toLowerCase()];if(!r)throw new TypeError(\"invalid suite type\");var i=c(e,!1,r.key,r.iv);return p(t,i.key,i.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,r){var n=r(136);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},function(t,e,r){var n=r(3).Buffer,i=r(136);function o(t,e,r){var o=e.length,s=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=n.concat([t._prev,r?e:s]),s}e.encrypt=function(t,e,r){for(var i,s=n.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=n.allocUnsafe(0)),!(t._cache.length<=e.length)){s=n.concat([s,o(t,e,r)]);break}i=t._cache.length,s=n.concat([s,o(t,e.slice(0,i),r)]),e=e.slice(i)}return s}},function(t,e,r){var n=r(3).Buffer;function i(t,e,r){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=n.concat([t._prev.slice(1),n.from([r?e:i])]),i}e.encrypt=function(t,e,r){for(var o=e.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],r);return s}},function(t,e,r){var n=r(3).Buffer;function i(t,e,r){for(var n,i,s,a=-1,u=0;++a<8;)n=t._cipher.encryptBlock(t._prev),i=e&1<<7-a?128:0,u+=(128&(s=n[0]^i))>>a%8,t._prev=o(t._prev,r?i:s);return u}function o(t,e){var r=t.length,i=-1,o=n.allocUnsafe(t.length);for(t=n.concat([t,n.from([e])]);++i<r;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,r){for(var o=e.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],r);return s}},function(t,e,r){(function(t){var n=r(136);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),n(r,o)}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(3).Buffer,i=n.alloc(16,0);function o(t){var e=n.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function s(t){this.h=t,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},s.prototype._multiply=function(){for(var t,e,r=function(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}(this.h),n=[0,0,0,0],i=-1;++i<128;){for(0!=(this.state[~~(i/8)]&1<<7-i%8)&&(n[0]^=r[0],n[1]^=r[1],n[2]^=r[2],n[3]^=r[3]),e=0!=(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,e&&(r[0]=r[0]^225<<24)}this.state=o(n)},s.prototype.update=function(t){var e;for(this.cache=n.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},s.prototype.final=function(t,e){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=s},function(t,e,r){var n=r(392),i=r(3).Buffer,o=r(242),s=r(393),a=r(87),u=r(180),c=r(181);function f(t,e,r){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(e),this._prev=i.from(r),this._mode=t,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function l(t,e,r){var a=o[t.toLowerCase()];if(!a)throw new TypeError(\"invalid suite type\");if(\"string\"==typeof r&&(r=i.from(r)),\"GCM\"!==a.mode&&r.length!==a.iv)throw new TypeError(\"invalid iv length \"+r.length);if(\"string\"==typeof e&&(e=i.from(e)),e.length!==a.key/8)throw new TypeError(\"invalid key length \"+e.length);return\"stream\"===a.type?new s(a.module,e,r,!0):\"auth\"===a.type?new n(a.module,e,r,!0):new f(a.module,e,r)}r(1)(f,a),f.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return i.concat(n)},f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error(\"unable to decrypt data\");var r=-1;for(;++r<e;)if(t[r+(16-e)]!==e)throw new Error(\"unable to decrypt data\");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error(\"data not multiple of block length\")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=i.concat([this.cache,t])},h.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var r=o[t.toLowerCase()];if(!r)throw new TypeError(\"invalid suite type\");var n=c(e,!1,r.key,r.iv);return l(t,n.key,n.iv)},e.createDecipheriv=l},function(t,e){e[\"des-ecb\"]={key:8,iv:0},e[\"des-cbc\"]=e.des={key:8,iv:8},e[\"des-ede3-cbc\"]=e.des3={key:24,iv:8},e[\"des-ede3\"]={key:24,iv:0},e[\"des-ede-cbc\"]={key:16,iv:8},e[\"des-ede\"]={key:16,iv:0}},function(t,e,r){(function(t){var n=r(394),i=r(803),o=r(804);var s={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var r=new t(i[e].prime,\"hex\"),n=new t(i[e].gen,\"hex\");return new o(r,n)},e.createDiffieHellman=e.DiffieHellman=function e(r,i,a,u){return t.isBuffer(i)||void 0===s[i]?e(r,\"binary\",i,a):(i=i||\"binary\",u=u||\"binary\",a=a||new t([2]),t.isBuffer(a)||(a=new t(a,u)),\"number\"==typeof r?new o(n(r,a),a,!0):(t.isBuffer(r)||(r=new t(r,i)),new o(r,a,!0)))}}).call(this,r(0).Buffer)},function(t,e){},function(t,e){},function(t){t.exports={modp1:{gen:\"02\",prime:\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff\"},modp2:{gen:\"02\",prime:\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff\"},modp5:{gen:\"02\",prime:\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff\"},modp14:{gen:\"02\",prime:\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff\"},modp15:{gen:\"02\",prime:\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff\"},modp16:{gen:\"02\",prime:\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff\"},modp17:{gen:\"02\",prime:\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff\"},modp18:{gen:\"02\",prime:\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff\"}}},function(t,e,r){(function(e){var n=r(16),i=new(r(395)),o=new n(24),s=new n(11),a=new n(10),u=new n(3),c=new n(7),f=r(394),h=r(85);function l(t,r){return r=r||\"utf8\",e.isBuffer(t)||(t=new e(t,r)),this._pub=new n(t),this}function p(t,r){return r=r||\"utf8\",e.isBuffer(t)||(t=new e(t,r)),this._priv=new n(t),this}t.exports=y;var d={};function y(t,e,r){this.setGenerator(e),this.__prime=new n(t),this._prime=n.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=l,this.setPrivateKey=p):this._primeCode=8}function m(t,r){var n=new e(t.toArray());return r?n.toString(r):n}Object.defineProperty(y.prototype,\"verifyError\",{enumerable:!0,get:function(){return\"number\"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString(\"hex\"),n=[r,t.toString(16)].join(\"_\");if(n in d)return d[n];var h,l=0;if(t.isEven()||!f.simpleSieve||!f.fermatTest(t)||!i.test(t))return l+=1,l+=\"02\"===r||\"05\"===r?8:4,d[n]=l,l;switch(i.test(t.shrn(1))||(l+=2),r){case\"02\":t.mod(o).cmp(s)&&(l+=8);break;case\"05\":(h=t.mod(a)).cmp(u)&&h.cmp(c)&&(l+=8);break;default:l+=4}return d[n]=l,l}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new n(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(t){var r=(t=(t=new n(t)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new e(r.toArray()),o=this.getPrime();if(i.length<o.length){var s=new e(o.length-i.length);s.fill(0),i=e.concat([s,i])}return i},y.prototype.getPublicKey=function(t){return m(this._pub,t)},y.prototype.getPrivateKey=function(t){return m(this._priv,t)},y.prototype.getPrime=function(t){return m(this.__prime,t)},y.prototype.getGenerator=function(t){return m(this._gen,t)},y.prototype.setGenerator=function(t,r){return r=r||\"utf8\",e.isBuffer(t)||(t=new e(t,r)),this.__gen=t,this._gen=new n(t),this}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=r(74),i=r(86),o=r(1),s=r(806),a=r(840),u=r(385);function c(t){i.Writable.call(this);var e=u[t];if(!e)throw new Error(\"Unknown message digest\");this._hashType=e.hash,this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){i.Writable.call(this);var e=u[t];if(!e)throw new Error(\"Unknown message digest\");this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function h(t){return new c(t)}function l(t){return new f(t)}Object.keys(u).forEach(function(t){u[t].id=new e(u[t].id,\"hex\"),u[t.toLowerCase()]=u[t]}),o(c,i.Writable),c.prototype._write=function(t,e,r){this._hash.update(t),r()},c.prototype.update=function(t,r){return\"string\"==typeof t&&(t=new e(t,r)),this._hash.update(t),this},c.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),n=s(r,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},o(f,i.Writable),f.prototype._write=function(t,e,r){this._hash.update(t),r()},f.prototype.update=function(t,r){return\"string\"==typeof t&&(t=new e(t,r)),this._hash.update(t),this},f.prototype.verify=function(t,r,n){\"string\"==typeof r&&(r=new e(r,n)),this.end();var i=this._hash.digest();return a(r,i,t,this._signType,this._tag)},t.exports={Sign:h,Verify:l,createSign:h,createVerify:l}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=r(135),i=r(243),o=r(34).ec,s=r(16),a=r(183),u=r(405);function c(t,r,i,o){if((t=new e(t.toArray())).length<r.byteLength()){var s=new e(r.byteLength()-t.length);s.fill(0),t=e.concat([s,t])}var a=i.length,u=function(t,r){t=(t=f(t,r)).mod(r);var n=new e(t.toArray());if(n.length<r.byteLength()){var i=new e(r.byteLength()-n.length);i.fill(0),n=e.concat([i,n])}return n}(i,r),c=new e(a);c.fill(1);var h=new e(a);return h.fill(0),h=n(o,h).update(c).update(new e([0])).update(t).update(u).digest(),c=n(o,h).update(c).digest(),{k:h=n(o,h).update(c).update(new e([1])).update(t).update(u).digest(),v:c=n(o,h).update(c).digest()}}function f(t,e){var r=new s(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function h(t,r,i){var o,s;do{for(o=new e(0);8*o.length<t.bitLength();)r.v=n(i,r.k).update(r.v).digest(),o=e.concat([o,r.v]);s=f(o,t),r.k=n(i,r.k).update(r.v).update(new e([0])).digest(),r.v=n(i,r.k).update(r.v).digest()}while(-1!==s.cmp(t));return s}function l(t,e,r,n){return t.toRed(s.mont(r)).redPow(e).fromRed().mod(n)}t.exports=function(t,r,n,p,d){var y=a(r);if(y.curve){if(\"ecdsa\"!==p&&\"ecdsa/rsa\"!==p)throw new Error(\"wrong private key type\");return function(t,r){var n=u[r.curve.join(\".\")];if(!n)throw new Error(\"unknown curve \"+r.curve.join(\".\"));var i=new o(n).keyFromPrivate(r.privateKey).sign(t);return new e(i.toDER())}(t,y)}if(\"dsa\"===y.type){if(\"dsa\"!==p)throw new Error(\"wrong private key type\");return function(t,r,n){for(var i,o=r.params.priv_key,a=r.params.p,u=r.params.q,p=r.params.g,d=new s(0),y=f(t,u).mod(u),m=!1,g=c(o,u,t,n);!1===m;)i=h(u,g,n),d=l(p,i,a,u),0===(m=i.invm(u).imul(y.add(o.mul(d))).mod(u)).cmpn(0)&&(m=!1,d=new s(0));return function(t,r){t=t.toArray(),r=r.toArray(),128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r));var n=[48,t.length+r.length+4,2,t.length];return n=n.concat(t,[2,r.length],r),new e(n)}(d,m)}(t,y,n)}if(\"rsa\"!==p&&\"ecdsa/rsa\"!==p)throw new Error(\"wrong private key type\");t=e.concat([d,t]);for(var m=y.modulus.byteLength(),g=[0,1];t.length+g.length+1<m;)g.push(255);g.push(0);for(var b=-1;++b<t.length;)g.push(t[b]);return i(g,y)},t.exports.getKey=c,t.exports.makeKey=h}).call(this,r(0).Buffer)},function(t){t.exports={_from:\"elliptic@^6.0.0\",_id:\"elliptic@6.4.0\",_inBundle:!1,_integrity:\"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=\",_location:\"/elliptic\",_phantomChildren:{},_requested:{type:\"range\",registry:!0,raw:\"elliptic@^6.0.0\",name:\"elliptic\",escapedName:\"elliptic\",rawSpec:\"^6.0.0\",saveSpec:null,fetchSpec:\"^6.0.0\"},_requiredBy:[\"/browserify-sign\",\"/create-ecdh\"],_resolved:\"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz\",_shasum:\"cac9af8762c85836187003c8dfe193e5e2eae5df\",_spec:\"elliptic@^6.0.0\",_where:\"/Users/markfocella/truffle_projects/leth_contracts/node_modules/browserify-sign\",author:{name:\"Fedor Indutny\",email:\"fedor@indutny.com\"},bugs:{url:\"https://github.com/indutny/elliptic/issues\"},bundleDependencies:!1,dependencies:{\"bn.js\":\"^4.4.0\",brorand:\"^1.0.1\",\"hash.js\":\"^1.0.0\",\"hmac-drbg\":\"^1.0.0\",inherits:\"^2.0.1\",\"minimalistic-assert\":\"^1.0.0\",\"minimalistic-crypto-utils\":\"^1.0.0\"},deprecated:!1,description:\"EC cryptography\",devDependencies:{brfs:\"^1.4.3\",coveralls:\"^2.11.3\",grunt:\"^0.4.5\",\"grunt-browserify\":\"^5.0.0\",\"grunt-cli\":\"^1.2.0\",\"grunt-contrib-connect\":\"^1.0.0\",\"grunt-contrib-copy\":\"^1.0.0\",\"grunt-contrib-uglify\":\"^1.0.1\",\"grunt-mocha-istanbul\":\"^3.0.1\",\"grunt-saucelabs\":\"^8.6.2\",istanbul:\"^0.4.2\",jscs:\"^2.9.0\",jshint:\"^2.6.0\",mocha:\"^2.1.0\"},files:[\"lib\"],homepage:\"https://github.com/indutny/elliptic\",keywords:[\"EC\",\"Elliptic\",\"curve\",\"Cryptography\"],license:\"MIT\",main:\"lib/elliptic.js\",name:\"elliptic\",repository:{type:\"git\",url:\"git+ssh://git@github.com/indutny/elliptic.git\"},scripts:{jscs:\"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js\",jshint:\"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js\",lint:\"npm run jscs && npm run jshint\",test:\"npm run lint && npm run unit\",unit:\"istanbul test _mocha --reporter=spec test/index.js\",version:\"grunt dist && git add dist/\"},version:\"6.4.0\"}},function(t,e,r){\"use strict\";var n=e,i=r(16),o=r(24),s=r(397);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(t,e){for(var r=[],n=1<<e+1,i=t.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,i.isubn(o)}else o=0;r.push(o);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?e+1:1,u=1;u<a;u++)r.push(0);i.iushrn(a)}return r},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o,s,a,u=t.andln(3)+n&3,c=e.andln(3)+i&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(a=t.andln(7)+n&7)&&5!==a||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!=(a=e.andln(7)+i&7)&&5!==a||2!==u?c:-c,r[1].push(s),2*n===o+1&&(n=1-n),2*i===s+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n=\"_\"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return\"string\"==typeof t?n.toArray(t,\"hex\"):t},n.intFromLE=function(t){return new i(t,\"hex\",\"le\")}},function(t,e,r){\"use strict\";var n=r(16),i=r(34).utils,o=i.getNAF,s=i.getJSF,a=i.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error(\"Not implemented\")},u.prototype.validate=function(){throw new Error(\"Not implemented\")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=o(e,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],u=0;u<n.length;u+=r.step){var c=0;for(e=u+r.step-1;e>=u;e--)c=(c<<1)+n[e];s.push(c)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),l=i;l>0;l--){for(u=0;u<s.length;u++){(c=s[u])===l?h=h.mixedAdd(r.points[u]):c===-l&&(h=h.mixedAdd(r.points[u].neg()))}f=f.add(h)}return f.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(e,r),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(e=0;c>=0&&0===s[c];c--)e++;if(c>=0&&e++,u=u.dblp(e),c<0)break;var f=s[c];a(0!==f),u=\"affine\"===t.type?f>0?u.mixedAdd(i[f-1>>1]):u.mixedAdd(i[-f-1>>1].neg()):f>0?u.add(i[f-1>>1]):u.add(i[-f-1>>1].neg())}return\"affine\"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n,i){for(var a=this._wnafT1,u=this._wnafT2,c=this._wnafT3,f=0,h=0;h<n;h++){var l=(A=e[h])._getNAFPoints(t);a[h]=l.wnd,u[h]=l.points}for(h=n-1;h>=1;h-=2){var p=h-1,d=h;if(1===a[p]&&1===a[d]){var y=[e[p],null,null,e[d]];0===e[p].y.cmp(e[d].y)?(y[1]=e[p].add(e[d]),y[2]=e[p].toJ().mixedAdd(e[d].neg())):0===e[p].y.cmp(e[d].y.redNeg())?(y[1]=e[p].toJ().mixedAdd(e[d]),y[2]=e[p].add(e[d].neg())):(y[1]=e[p].toJ().mixedAdd(e[d]),y[2]=e[p].toJ().mixedAdd(e[d].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=s(r[p],r[d]);f=Math.max(g[0].length,f),c[p]=new Array(f),c[d]=new Array(f);for(var b=0;b<f;b++){var v=0|g[0][b],_=0|g[1][b];c[p][b]=m[3*(v+1)+(_+1)],c[d][b]=0,u[p]=y}}else c[p]=o(r[p],a[p]),c[d]=o(r[d],a[d]),f=Math.max(c[p].length,f),f=Math.max(c[d].length,f)}var w=this.jpoint(null,null,null),S=this._wnafT4;for(h=f;h>=0;h--){for(var k=0;h>=0;){var E=!0;for(b=0;b<n;b++)S[b]=0|c[b][h],0!==S[b]&&(E=!1);if(!E)break;k++,h--}if(h>=0&&k++,w=w.dblp(k),h<0)break;for(b=0;b<n;b++){var A,x=S[b];0!==x&&(x>0?A=u[b][x-1>>1]:x<0&&(A=u[b][-x-1>>1].neg()),w=\"affine\"===A.type?w.mixedAdd(A):w.add(A))}}for(h=0;h<n;h++)u[h]=null;return i?w:w.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error(\"Not implemented\")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error(\"Unknown point format\")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray(\"be\",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray(\"be\",e))},c.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},function(t,e,r){\"use strict\";var n=r(182),i=r(34),o=r(16),s=r(1),a=n.base,u=i.utils.assert;function c(t){a.call(this,\"short\",t),this.a=new o(t.a,16).toRed(this.red),this.b=new o(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(t,e,r,n){a.BasePoint.call(this,t,\"affine\"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(e,16),this.y=new o(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(t,e,r,n){a.BasePoint.call(this,t,\"jacobian\"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(e,16),this.y=new o(r,16),this.z=new o(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,a),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new o(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new o(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],u(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(t){return{a:new o(t.a,16),b:new o(t.b,16)}}):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:o.mont(t),r=new o(2).toRed(e).redInvm(),n=r.redNeg(),i=new o(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,a,u,c,f,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=t,p=this.n.clone(),d=new o(1),y=new o(0),m=new o(0),g=new o(1),b=0;0!==l.cmpn(0);){var v=p.div(l);c=p.sub(v.mul(l)),f=m.sub(v.mul(d));var _=g.sub(v.mul(y));if(!n&&c.cmp(h)<0)e=u.neg(),r=d,n=c.neg(),i=f;else if(n&&2==++b)break;u=c,p=l,l=c,m=d,d=f,g=y,y=_}s=c.neg(),a=f;var w=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(w)>=0&&(s=e,a=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(c).neg()}},c.prototype.pointFromX=function(t,e){(t=new o(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error(\"invalid point\");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return c},s(f,a.BasePoint),c.prototype.point=function(t,e,r){return new f(this,t,e,r)},c.prototype.pointFromJSON=function(t,e){return f.fromJSON(this,t,e)},f.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(t,e,r){\"string\"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},f.prototype.inspect=function(){return this.isInfinity()?\"<EC Point Infinity>\":\"<EC Point x: \"+this.x.fromRed().toString(16,2)+\" y: \"+this.y.fromRed().toString(16,2)+\">\"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},f.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(t){return t=new o(t,16),this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},f.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},f.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},f.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(h,a.BasePoint),c.prototype.jpoint=function(t,e,r){return new h(this,t,e,r)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),h=n.redMul(c),l=u.redSqr().redIAdd(f).redISub(h).redISub(h),p=u.redMul(h.redISub(l)).redISub(o.redMul(f)),d=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,p,d)},h.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(f).redISub(f),l=a.redMul(f.redISub(h)).redISub(i.redMul(c)),p=this.z.redMul(s);return this.curve.jpoint(h,l,p)},h.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(r=0;r<t;r++){var f=o.redSqr(),h=c.redSqr(),l=h.redSqr(),p=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),d=o.redMul(h),y=p.redSqr().redISub(d.redAdd(d)),m=d.redISub(y),g=p.redMul(m);g=g.redIAdd(g).redISub(l);var b=c.redMul(a);r+1<t&&(u=u.redMul(l)),o=y,a=b,c=g}return this.curve.jpoint(o,c.redMul(i),a)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(f).redISub(l);p=p.redIAdd(p);var d=f.redAdd(f).redIAdd(f),y=d.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=y.redISub(p).redISub(p),e=d.redMul(p.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},h.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),l=this.x.redMul(h),p=this.x.redSub(f).redMul(this.x.redAdd(f));p=p.redAdd(p).redIAdd(p);var d=l.redIAdd(l),y=(d=d.redIAdd(d)).redAdd(d);t=p.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=p.redMul(d.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},h.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(f),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var p=a.redMul(h).redISub(l),d=r.redAdd(r).redMul(n);return this.curve.jpoint(f,p,d)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=e.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.x.redMul(a).redISub(f);h=(h=h.redIAdd(h)).redIAdd(h);var l=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var p=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,l,p)},h.prototype.mul=function(t,e){return t=new o(t,e),this.curve._wnafMul(this,t)},h.prototype.eq=function(t){if(\"affine\"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},h.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},h.prototype.inspect=function(){return this.isInfinity()?\"<EC JPoint Infinity>\":\"<EC JPoint x: \"+this.x.toString(16,2)+\" y: \"+this.y.toString(16,2)+\" z: \"+this.z.toString(16,2)+\">\"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,r){\"use strict\";var n=r(182),i=r(16),o=r(1),s=n.base,a=r(34).utils;function u(t){s.call(this,\"mont\",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(t,e,r){s.BasePoint.call(this,t,\"projective\"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(u,s),t.exports=u,u.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},o(c,s.BasePoint),u.prototype.decodePoint=function(t,e){return this.point(a.toArray(t,e),1)},u.prototype.point=function(t,e){return new c(this,t,e)},u.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray(\"be\",this.curve.p.byteLength())},c.fromJSON=function(t,e){return new c(t,e[0],e[1]||t.one)},c.prototype.inspect=function(){return this.isInfinity()?\"<EC Point Infinity>\":\"<EC Point x: \"+this.x.fromRed().toString(16,2)+\" z: \"+this.z.fromRed().toString(16,2)+\">\"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error(\"Not supported on Montgomery curve\")},c.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),u=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},c.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error(\"Not supported on Montgomery curve\")},c.prototype.jumlAdd=function(){throw new Error(\"Not supported on Montgomery curve\")},c.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,r){\"use strict\";var n=r(182),i=r(34),o=r(16),s=r(1),a=n.base,u=i.utils.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,a.call(this,\"edwards\",t),this.a=new o(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function f(t,e,r,n,i){a.BasePoint.call(this,t,\"projective\"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(e,16),this.y=new o(r,16),this.z=n?new o(n,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,a),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},c.prototype.pointFromX=function(t,e){(t=new o(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error(\"invalid point\");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},c.prototype.pointFromY=function(t,e){(t=new o(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.one),i=r.redMul(this.d).redAdd(this.one),s=n.redMul(i.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error(\"invalid point\");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error(\"invalid point\");return a.isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},s(f,a.BasePoint),c.prototype.pointFromJSON=function(t){return f.fromJSON(this,t)},c.prototype.point=function(t,e,r,n){return new f(this,t,e,r,n)},f.fromJSON=function(t,e){return new f(t,e[0],e[1],e[2])},f.prototype.inspect=function(){return this.isInfinity()?\"<EC Point Infinity>\":\"<EC Point x: \"+this.x.fromRed().toString(16,2)+\" y: \"+this.y.fromRed().toString(16,2)+\" z: \"+this.z.fromRed().toString(16,2)+\">\"},f.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},f.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),u=i.redMul(s),c=o.redMul(a),f=i.redMul(a),h=s.redMul(o);return this.curve.point(u,c,h,f)},f.prototype._projDbl=function(){var t,e,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=(c=this.curve._mulA(i)).redAdd(o);if(this.zOne)t=n.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),e=s.redMul(c.redSub(o)),r=s.redSqr().redSub(s).redSub(s);else{var a=this.z.redSqr(),u=s.redSub(a).redISub(a);t=n.redSub(i).redISub(o).redMul(u),e=s.redMul(c.redSub(o)),r=s.redMul(u)}}else{var c=i.redAdd(o);a=this.curve._mulC(this.c.redMul(this.z)).redSqr(),u=c.redSub(a).redSub(a);t=this.curve._mulC(n.redISub(c)).redMul(u),e=this.curve._mulC(c).redMul(i.redISub(o)),r=c.redMul(u)}return this.curve.point(t,e,r)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),c=o.redMul(s),f=a.redMul(u),h=o.redMul(u),l=s.redMul(a);return this.curve.point(c,f,l,h)},f.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),h=n.redMul(u).redMul(f);return this.curve.twisted?(e=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(e=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(h,e,r)},f.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},f.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},f.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},f.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}return!1},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},function(t,e,r){\"use strict\";var n,i=e,o=r(244),s=r(34),a=s.utils.assert;function u(t){\"short\"===t.type?this.curve=new s.curve.short(t):\"edwards\"===t.type?this.curve=new s.curve.edwards(t):this.curve=new s.curve.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),\"Invalid curve\"),a(this.g.mul(this.n).isInfinity(),\"Invalid curve, G*N != O\")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c(\"p192\",{type:\"short\",prime:\"p192\",p:\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\",a:\"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc\",b:\"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1\",n:\"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831\",hash:o.sha256,gRed:!1,g:[\"188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012\",\"07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811\"]}),c(\"p224\",{type:\"short\",prime:\"p224\",p:\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\",a:\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe\",b:\"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4\",n:\"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d\",hash:o.sha256,gRed:!1,g:[\"b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21\",\"bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34\"]}),c(\"p256\",{type:\"short\",prime:null,p:\"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff\",a:\"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc\",b:\"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b\",n:\"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551\",hash:o.sha256,gRed:!1,g:[\"6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296\",\"4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5\"]}),c(\"p384\",{type:\"short\",prime:null,p:\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff\",a:\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc\",b:\"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef\",n:\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973\",hash:o.sha384,gRed:!1,g:[\"aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7\",\"3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f\"]}),c(\"p521\",{type:\"short\",prime:null,p:\"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff\",a:\"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc\",b:\"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00\",n:\"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409\",hash:o.sha512,gRed:!1,g:[\"000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66\",\"00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650\"]}),c(\"curve25519\",{type:\"mont\",prime:\"p25519\",p:\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\",a:\"76d06\",b:\"1\",n:\"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed\",hash:o.sha256,gRed:!1,g:[\"9\"]}),c(\"ed25519\",{type:\"edwards\",prime:\"p25519\",p:\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\",a:\"-1\",c:\"1\",d:\"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3\",n:\"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed\",hash:o.sha256,gRed:!1,g:[\"216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a\",\"6666666666666666666666666666666666666666666666666666666666666658\"]});try{n=r(820)}catch(t){n=void 0}c(\"secp256k1\",{type:\"short\",prime:\"k256\",p:\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\",a:\"0\",b:\"7\",n:\"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141\",h:\"1\",hash:o.sha256,beta:\"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\",lambda:\"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72\",basis:[{a:\"3086d221a7d46bcde86c90e49284eb15\",b:\"-e4437ed6010e88286f547fa90abfe4c3\"},{a:\"114ca50f7a8e2f3f657c1108d9d44cfd8\",b:\"3086d221a7d46bcde86c90e49284eb15\"}],gRed:!1,g:[\"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798\",\"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8\",n]})},function(t,e,r){\"use strict\";e.sha1=r(815),e.sha224=r(816),e.sha256=r(399),e.sha384=r(817),e.sha512=r(400)},function(t,e,r){\"use strict\";var n=r(75),i=r(137),o=r(398),s=n.rotl32,a=n.sum32,u=n.sum32_5,c=o.ft_1,f=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,f),t.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],l=this.h[3],p=this.h[4];for(n=0;n<r.length;n++){var d=~~(n/20),y=u(s(i,5),c(d,o,f,l),p,r[n],h[d]);p=l,l=f,f=s(o,30),o=i,i=y}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],l),this.h[4]=a(this.h[4],p)},l.prototype._digest=function(t){return\"hex\"===t?n.toHex32(this.h,\"big\"):n.split32(this.h,\"big\")}},function(t,e,r){\"use strict\";var n=r(75),i=r(399);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return\"hex\"===t?n.toHex32(this.h.slice(0,7),\"big\"):n.split32(this.h.slice(0,7),\"big\")}},function(t,e,r){\"use strict\";var n=r(75),i=r(400);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return\"hex\"===t?n.toHex32(this.h.slice(0,12),\"big\"):n.split32(this.h.slice(0,12),\"big\")}},function(t,e,r){\"use strict\";var n=r(75),i=r(137),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian=\"little\"}function h(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function l(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function p(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(f,c),e.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],b=r,v=n,_=i,w=c,S=f,k=0;k<80;k++){var E=s(o(u(r,h(k,n,i,c),t[d[k]+e],l(k)),m[k]),f);r=f,f=c,c=o(i,10),i=n,n=E,E=s(o(u(b,h(79-k,v,_,w),t[y[k]+e],p(k)),g[k]),S),b=S,S=w,w=o(_,10),_=v,v=E}E=a(this.h[1],i,w),this.h[1]=a(this.h[2],c,S),this.h[2]=a(this.h[3],f,b),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,_),this.h[0]=E},f.prototype._digest=function(t){return\"hex\"===t?n.toHex32(this.h,\"little\"):n.split32(this.h,\"little\")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,r){\"use strict\";var n=r(75),i=r(24);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[[\"e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a\",\"f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821\"],[\"8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508\",\"11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf\"],[\"175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739\",\"d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695\"],[\"363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640\",\"4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9\"],[\"8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c\",\"4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36\"],[\"723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda\",\"96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f\"],[\"eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa\",\"5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999\"],[\"100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0\",\"cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09\"],[\"e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d\",\"9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d\"],[\"feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d\",\"e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088\"],[\"da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1\",\"9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d\"],[\"53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0\",\"5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8\"],[\"8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047\",\"10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a\"],[\"385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862\",\"283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453\"],[\"6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7\",\"7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160\"],[\"3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd\",\"56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0\"],[\"85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83\",\"7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6\"],[\"948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a\",\"53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589\"],[\"6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8\",\"bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17\"],[\"e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d\",\"4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda\"],[\"e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725\",\"7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd\"],[\"213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754\",\"4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2\"],[\"4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c\",\"17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6\"],[\"fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6\",\"6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f\"],[\"76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39\",\"c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01\"],[\"c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891\",\"893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3\"],[\"d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b\",\"febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f\"],[\"b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03\",\"2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7\"],[\"e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d\",\"eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78\"],[\"a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070\",\"7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1\"],[\"90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4\",\"e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150\"],[\"8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da\",\"662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82\"],[\"e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11\",\"1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc\"],[\"8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e\",\"efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b\"],[\"e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41\",\"2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51\"],[\"b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef\",\"67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45\"],[\"d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8\",\"db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120\"],[\"324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d\",\"648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84\"],[\"4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96\",\"35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d\"],[\"9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd\",\"ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d\"],[\"6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5\",\"9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8\"],[\"a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266\",\"40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8\"],[\"7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71\",\"34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac\"],[\"928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac\",\"c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f\"],[\"85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751\",\"1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962\"],[\"ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e\",\"493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907\"],[\"827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241\",\"c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec\"],[\"eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3\",\"be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d\"],[\"e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f\",\"4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414\"],[\"1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19\",\"aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd\"],[\"146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be\",\"b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0\"],[\"fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9\",\"6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811\"],[\"da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2\",\"8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1\"],[\"a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13\",\"7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c\"],[\"174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c\",\"ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73\"],[\"959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba\",\"2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd\"],[\"d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151\",\"e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405\"],[\"64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073\",\"d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589\"],[\"8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458\",\"38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e\"],[\"13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b\",\"69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27\"],[\"bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366\",\"d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1\"],[\"8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa\",\"40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482\"],[\"8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0\",\"620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945\"],[\"dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787\",\"7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573\"],[\"f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e\",\"ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82\"]]},naf:{wnd:7,points:[[\"f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9\",\"388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672\"],[\"2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4\",\"d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6\"],[\"5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc\",\"6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da\"],[\"acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe\",\"cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37\"],[\"774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb\",\"d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b\"],[\"f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8\",\"ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81\"],[\"d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e\",\"581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58\"],[\"defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34\",\"4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77\"],[\"2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c\",\"85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a\"],[\"352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5\",\"321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c\"],[\"2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f\",\"2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67\"],[\"9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714\",\"73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402\"],[\"daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729\",\"a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55\"],[\"c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db\",\"2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482\"],[\"6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4\",\"e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82\"],[\"1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5\",\"b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396\"],[\"605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479\",\"2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49\"],[\"62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d\",\"80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf\"],[\"80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f\",\"1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a\"],[\"7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb\",\"d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7\"],[\"d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9\",\"eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933\"],[\"49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963\",\"758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a\"],[\"77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74\",\"958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6\"],[\"f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530\",\"e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37\"],[\"463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b\",\"5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e\"],[\"f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247\",\"cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6\"],[\"caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1\",\"cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476\"],[\"2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120\",\"4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40\"],[\"7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435\",\"91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61\"],[\"754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18\",\"673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683\"],[\"e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8\",\"59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5\"],[\"186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb\",\"3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b\"],[\"df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f\",\"55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417\"],[\"5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143\",\"efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868\"],[\"290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba\",\"e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a\"],[\"af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45\",\"f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6\"],[\"766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a\",\"744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996\"],[\"59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e\",\"c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e\"],[\"f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8\",\"e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d\"],[\"7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c\",\"30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2\"],[\"948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519\",\"e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e\"],[\"7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab\",\"100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437\"],[\"3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca\",\"ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311\"],[\"d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf\",\"8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4\"],[\"1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610\",\"68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575\"],[\"733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4\",\"f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d\"],[\"15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c\",\"d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d\"],[\"a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940\",\"edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629\"],[\"e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980\",\"a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06\"],[\"311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3\",\"66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374\"],[\"34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf\",\"9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee\"],[\"f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63\",\"4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1\"],[\"d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448\",\"fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b\"],[\"32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf\",\"5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661\"],[\"7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5\",\"8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6\"],[\"ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6\",\"8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e\"],[\"16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5\",\"5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d\"],[\"eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99\",\"f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc\"],[\"78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51\",\"f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4\"],[\"494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5\",\"42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c\"],[\"a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5\",\"204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b\"],[\"c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997\",\"4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913\"],[\"841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881\",\"73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154\"],[\"5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5\",\"39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865\"],[\"36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66\",\"d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc\"],[\"336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726\",\"ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224\"],[\"8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede\",\"6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e\"],[\"1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94\",\"60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6\"],[\"85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31\",\"3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511\"],[\"29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51\",\"b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b\"],[\"a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252\",\"ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2\"],[\"4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5\",\"cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c\"],[\"d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b\",\"6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3\"],[\"ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4\",\"322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d\"],[\"af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f\",\"6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700\"],[\"e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889\",\"2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4\"],[\"591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246\",\"b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196\"],[\"11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984\",\"998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4\"],[\"3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a\",\"b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257\"],[\"cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030\",\"bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13\"],[\"c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197\",\"6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096\"],[\"c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593\",\"c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38\"],[\"a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef\",\"21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f\"],[\"347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38\",\"60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448\"],[\"da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a\",\"49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a\"],[\"c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111\",\"5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4\"],[\"4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502\",\"7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437\"],[\"3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea\",\"be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7\"],[\"cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26\",\"8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d\"],[\"b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986\",\"39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a\"],[\"d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e\",\"62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54\"],[\"48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4\",\"25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77\"],[\"dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda\",\"ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517\"],[\"6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859\",\"cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10\"],[\"e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f\",\"f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125\"],[\"eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c\",\"6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e\"],[\"13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942\",\"fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1\"],[\"ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a\",\"1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2\"],[\"b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80\",\"5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423\"],[\"ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d\",\"438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8\"],[\"8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1\",\"cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758\"],[\"52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63\",\"c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375\"],[\"e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352\",\"6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d\"],[\"7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193\",\"ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec\"],[\"5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00\",\"9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0\"],[\"32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58\",\"ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c\"],[\"e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7\",\"d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4\"],[\"8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8\",\"c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f\"],[\"4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e\",\"67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649\"],[\"3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d\",\"cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826\"],[\"674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b\",\"299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5\"],[\"d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f\",\"f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87\"],[\"30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6\",\"462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b\"],[\"be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297\",\"62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc\"],[\"93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a\",\"7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c\"],[\"b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c\",\"ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f\"],[\"d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52\",\"4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a\"],[\"d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb\",\"bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46\"],[\"463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065\",\"bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f\"],[\"7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917\",\"603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03\"],[\"74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9\",\"cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08\"],[\"30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3\",\"553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8\"],[\"9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57\",\"712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373\"],[\"176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66\",\"ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3\"],[\"75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8\",\"9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8\"],[\"809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721\",\"9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1\"],[\"1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180\",\"4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9\"]]}}},function(t,e,r){\"use strict\";var n=r(16),i=r(822),o=r(34),s=o.utils.assert,a=r(823),u=r(824);function c(t){if(!(this instanceof c))return new c(t);\"string\"==typeof t&&(s(o.curves.hasOwnProperty(t),\"Unknown curve \"+t),t=o.curves[t]),t instanceof o.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=c,c.prototype.keyPair=function(t){return new a(this,t)},c.prototype.keyFromPrivate=function(t,e){return a.fromPrivate(this,t,e)},c.prototype.keyFromPublic=function(t,e){return a.fromPublic(this,t,e)},c.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||\"utf8\",entropy:t.entropy||o.rand(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||\"utf8\",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var a=new n(e.generate(r));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},c.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},c.prototype.sign=function(t,e,r,o){\"object\"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray(\"be\",s),c=t.toArray(\"be\",s),f=new i({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||\"utf8\"}),h=this.n.sub(new n(1)),l=0;;l++){var p=o.k?o.k(l):new n(f.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(h)>=0)){var d=this.g.mul(p);if(!d.isInfinity()){var y=d.getX(),m=y.umod(this.n);if(0!==m.cmpn(0)){var g=p.invm(this.n).mul(m.mul(e.getPrivate()).iadd(t));if(0!==(g=g.umod(this.n)).cmpn(0)){var b=(d.getY().isOdd()?1:0)|(0!==y.cmp(m)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new u({r:m,s:g,recoveryParam:b})}}}}}},c.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var o=(e=new u(e,\"hex\")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),f=c.mul(t).umod(this.n),h=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(f,r.getPublic(),h)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(f,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},c.prototype.recoverPubKey=function(t,e,r,i){s((3&r)===r,\"The recovery param is more than two bits\"),e=new u(e,i);var o=this.n,a=new n(t),c=e.r,f=e.s,h=1&r,l=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error(\"Unable to find sencond key candinate\");c=l?this.curve.pointFromX(c.add(this.curve.n),h):this.curve.pointFromX(c,h);var p=e.r.invm(o),d=o.sub(a).mul(p).umod(o),y=f.mul(p).umod(o);return this.g.mulAdd(d,c,y)},c.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new u(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error(\"Unable to find valid recovery factor\")}},function(t,e,r){\"use strict\";var n=r(244),i=r(397),o=r(24);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||\"hex\"),r=i.toArray(t.nonce,t.nonceEnc||\"hex\"),n=i.toArray(t.pers,t.persEnc||\"hex\");o(e.length>=this.minEntropy/8,\"Not enough entropy. Minimum is: \"+this.minEntropy+\" bits\"),this._init(e,r,n)}t.exports=s,s.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,r,n){\"string\"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),o(t.length>=this.minEntropy/8,\"Not enough entropy. Minimum is: \"+this.minEntropy+\" bits\"),this._update(t.concat(r||[])),this._reseed=1},s.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error(\"Reseed is required\");\"string\"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||\"hex\"),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(r),this._reseed++,i.encode(s,e)}},function(t,e,r){\"use strict\";var n=r(16),i=r(34).utils.assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:\"Invalid public key\"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:\"Public key * N != O\"}:{result:!1,reason:\"Public key is not a point\"}},o.prototype.getPublic=function(t,e){return\"string\"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return\"hex\"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return\"mont\"===this.ec.curve.type?i(t.x,\"Need x coordinate\"):\"short\"!==this.ec.curve.type&&\"edwards\"!==this.ec.curve.type||i(t.x&&t.y,\"Need both x and y coordinate\"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.mul(this.priv).getX()},o.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return\"<Key priv: \"+(this.priv&&this.priv.toString(16,2))+\" pub: \"+(this.pub&&this.pub.inspect())+\" >\"}},function(t,e,r){\"use strict\";var n=r(16),i=r(34).utils,o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,\"Signature without r or s\"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(t,e){var r=t[e.place++];if(!(128&r))return r;for(var n=15&r,i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s];return e.place=s,i}function u(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function c(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new function(){this.place=0};if(48!==t[r.place++])return!1;if(a(t,r)+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=a(t,r),s=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var u=a(t,r);if(t.length!==u+r.place)return!1;var c=t.slice(r.place,u+r.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===c[0]&&128&c[1]&&(c=c.slice(1)),this.r=new n(s),this.s=new n(c),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=u(e),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];c(n,e.length),(n=n.concat(e)).push(2),c(n,r.length);var o=n.concat(r),s=[48];return c(s,o.length),s=s.concat(o),i.encode(s,t)}},function(t,e,r){\"use strict\";var n=r(244),i=r(34),o=i.utils,s=o.assert,a=o.parseBytes,u=r(826),c=r(827);function f(t){if(s(\"ed25519\"===t,\"only tested with ed25519 so far\"),!(this instanceof f))return new f(t);t=i.curves[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=f,f.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},f.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},f.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},f.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},f.prototype.encodePoint=function(t){var e=t.getY().toArray(\"le\",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},f.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(t){return t.toArray(\"le\",this.encodingLength)},f.prototype.decodeInt=function(t){return o.intFromLE(t)},f.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,r){\"use strict\";var n=r(34).utils,i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,\"pubBytes\",function(){return this.eddsa.encodePoint(this.pub())}),s(a,\"pub\",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,\"privBytes\",function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),s(a,\"priv\",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,\"hash\",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,\"messagePrefix\",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(t){return i(this._secret,\"KeyPair can only verify\"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,\"KeyPair is public only\"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},function(t,e,r){\"use strict\";var n=r(16),i=r(34).utils,o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(t,e){this.eddsa=t,\"object\"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,\"Signature without R or S\"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(u,\"S\",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(u,\"R\",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(u,\"Rencoded\",function(){return this.eddsa.encodePoint(this.R())}),s(u,\"Sencoded\",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),\"hex\").toUpperCase()},t.exports=u},function(t,e,r){\"use strict\";var n=r(138);e.certificate=r(837);var i=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())});e.RSAPrivateKey=i;var o=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.RSAPublicKey=o;var s=n.define(\"SubjectPublicKeyInfo\",function(){this.seq().obj(this.key(\"algorithm\").use(a),this.key(\"subjectPublicKey\").bitstr())});e.PublicKey=s;var a=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid(),this.key(\"none\").null_().optional(),this.key(\"curve\").objid().optional(),this.key(\"params\").seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()).optional())}),u=n.define(\"PrivateKeyInfo\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"algorithm\").use(a),this.key(\"subjectPrivateKey\").octstr())});e.PrivateKey=u;var c=n.define(\"EncryptedPrivateKeyInfo\",function(){this.seq().obj(this.key(\"algorithm\").seq().obj(this.key(\"id\").objid(),this.key(\"decrypt\").seq().obj(this.key(\"kde\").seq().obj(this.key(\"id\").objid(),this.key(\"kdeparams\").seq().obj(this.key(\"salt\").octstr(),this.key(\"iters\").int())),this.key(\"cipher\").seq().obj(this.key(\"algo\").objid(),this.key(\"iv\").octstr()))),this.key(\"subjectPrivateKey\").octstr())});e.EncryptedPrivateKey=c;var f=n.define(\"DSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int(),this.key(\"pub_key\").int(),this.key(\"priv_key\").int())});e.DSAPrivateKey=f,e.DSAparam=n.define(\"DSAparam\",function(){this.int()});var h=n.define(\"ECPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"privateKey\").octstr(),this.key(\"parameters\").optional().explicit(0).use(l),this.key(\"publicKey\").optional().explicit(1).bitstr())});e.ECPrivateKey=h;var l=n.define(\"ECParameters\",function(){this.choice({namedCurve:this.objid()})});e.signature=n.define(\"signature\",function(){this.seq().obj(this.key(\"r\").int(),this.key(\"s\").int())})},function(t,e,r){var n=r(138),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){var e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){var n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){var n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){var e,r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){var n=r(139).Reporter,i=r(139).EncoderBuffer,o=r(139).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){var r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;var f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){var t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});var r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){var t=this._baseState;u.forEach(function(e){this[e]=function(){var r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){var e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){var e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);var n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){var e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);var e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){var e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){var e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){var e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){var e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){var r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));var n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){var u=null;if(null!==r.explicit?u=r.explicit:null!==r.implicit?u=r.implicit:null!==r.tag&&(u=r.tag),null!==u||r.any){if(s=this._peekTag(t,u,r.any),t.isError(s))return s}else{var c=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(c)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){var f=this._decodeTag(t,r.explicit);if(t.isError(f))return f;t=f}var h=t.offset;if(null===r.use&&null===r.choice){if(r.any)c=t.save();var l=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(l))return l;r.any?i=t.raw(c):t=l}if(e&&e.track&&null!==r.tag&&e.track(t.path(),h,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){var p=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(p,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){var n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){var r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some(function(o){var s=t.save(),a=r.choice[o];try{var u=a._decode(t,e);if(t.isError(u))return!1;n={type:o,value:u},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){var n=this._baseState;if(null===n.default||n.default!==t){var i=this._encodeValue(t,e,r);if(void 0!==i&&!this._skipDefault(i,e,r))return i}},c.prototype._encodeValue=function(t,e,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);var o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}var s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");var n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");var i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");var u=this.clone();u._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){var n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},u))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,f=null===i.implicit?\"universal\":\"context\";null===c?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(c,a,f,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){var r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){var r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\\(\\)\\+,\\-\\.\\/:=\\?]*$/.test(t)}},function(t,e,r){var n=r(402);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){var n=e;n.der=r(403),n.pem=r(834)},function(t,e,r){var n=r(1),i=r(0).Buffer,o=r(403);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){for(var r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1,c=0;c<r.length;c++){var f=r[c].match(s);if(null!==f&&f[2]===n){if(-1!==a){if(\"END\"!==f[1])break;u=c;break}if(\"BEGIN\"!==f[1])break;a=c}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);var h=r.slice(a+1,u).join(\"\");h.replace(/[^a-z0-9\\+\\/=]+/gi,\"\");var l=new i(h,\"base64\");return o.prototype.decode.call(this,l,e)}},function(t,e,r){var n=e;n.der=r(404),n.pem=r(836)},function(t,e,r){var n=r(1),i=r(404);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){for(var r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"],o=0;o<r.length;o+=64)n.push(r.slice(o,o+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";var n=r(138),i=n.define(\"Time\",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=n.define(\"AttributeTypeValue\",function(){this.seq().obj(this.key(\"type\").objid(),this.key(\"value\").any())}),s=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid(),this.key(\"parameters\").optional())}),a=n.define(\"SubjectPublicKeyInfo\",function(){this.seq().obj(this.key(\"algorithm\").use(s),this.key(\"subjectPublicKey\").bitstr())}),u=n.define(\"RelativeDistinguishedName\",function(){this.setof(o)}),c=n.define(\"RDNSequence\",function(){this.seqof(u)}),f=n.define(\"Name\",function(){this.choice({rdnSequence:this.use(c)})}),h=n.define(\"Validity\",function(){this.seq().obj(this.key(\"notBefore\").use(i),this.key(\"notAfter\").use(i))}),l=n.define(\"Extension\",function(){this.seq().obj(this.key(\"extnID\").objid(),this.key(\"critical\").bool().def(!1),this.key(\"extnValue\").octstr())}),p=n.define(\"TBSCertificate\",function(){this.seq().obj(this.key(\"version\").explicit(0).int(),this.key(\"serialNumber\").int(),this.key(\"signature\").use(s),this.key(\"issuer\").use(f),this.key(\"validity\").use(h),this.key(\"subject\").use(f),this.key(\"subjectPublicKeyInfo\").use(a),this.key(\"issuerUniqueID\").implicit(1).bitstr().optional(),this.key(\"subjectUniqueID\").implicit(2).bitstr().optional(),this.key(\"extensions\").explicit(3).seqof(l).optional())}),d=n.define(\"X509Certificate\",function(){this.seq().obj(this.key(\"tbsCertificate\").use(p),this.key(\"signatureAlgorithm\").use(s),this.key(\"signatureValue\").bitstr())});t.exports=d},function(t){t.exports={\"2.16.840.1.101.3.4.1.1\":\"aes-128-ecb\",\"2.16.840.1.101.3.4.1.2\":\"aes-128-cbc\",\"2.16.840.1.101.3.4.1.3\":\"aes-128-ofb\",\"2.16.840.1.101.3.4.1.4\":\"aes-128-cfb\",\"2.16.840.1.101.3.4.1.21\":\"aes-192-ecb\",\"2.16.840.1.101.3.4.1.22\":\"aes-192-cbc\",\"2.16.840.1.101.3.4.1.23\":\"aes-192-ofb\",\"2.16.840.1.101.3.4.1.24\":\"aes-192-cfb\",\"2.16.840.1.101.3.4.1.41\":\"aes-256-ecb\",\"2.16.840.1.101.3.4.1.42\":\"aes-256-cbc\",\"2.16.840.1.101.3.4.1.43\":\"aes-256-ofb\",\"2.16.840.1.101.3.4.1.44\":\"aes-256-cfb\"}},function(t,e,r){(function(e){var n=/Proc-Type: 4,ENCRYPTED[\\n\\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\\n\\r]+([0-9A-z\\n\\r\\+\\/\\=]+)[\\n\\r]+/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\\n\\r\\+\\/\\=]+)-----END \\1-----$/m,s=r(181),a=r(37);t.exports=function(t,r){var u,c=t.toString(),f=c.match(n);if(f){var h=\"aes\"+f[1],l=new e(f[2],\"hex\"),p=new e(f[3].replace(/[\\r\\n]/g,\"\"),\"base64\"),d=s(r,l.slice(0,8),parseInt(f[1],10)).key,y=[],m=a.createDecipheriv(h,d,l);y.push(m.update(p)),y.push(m.final()),u=e.concat(y)}else{var g=c.match(o);u=new e(g[2].replace(/[\\r\\n]/g,\"\"),\"base64\")}return{tag:c.match(i)[1],data:u}}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=r(16),i=r(34).ec,o=r(183),s=r(405);function a(t,e){if(t.cmpn(0)<=0)throw new Error(\"invalid sig\");if(t.cmp(e)>=e)throw new Error(\"invalid sig\")}t.exports=function(t,r,u,c,f){var h=o(u);if(\"ec\"===h.type){if(\"ecdsa\"!==c&&\"ecdsa/rsa\"!==c)throw new Error(\"wrong public key type\");return function(t,e,r){var n=s[r.data.algorithm.curve.join(\".\")];if(!n)throw new Error(\"unknown curve \"+r.data.algorithm.curve.join(\".\"));var o=new i(n),a=r.data.subjectPrivateKey.data;return o.verify(e,t,a)}(t,r,h)}if(\"dsa\"===h.type){if(\"dsa\"!==c)throw new Error(\"wrong public key type\");return function(t,e,r){var i=r.data.p,s=r.data.q,u=r.data.g,c=r.data.pub_key,f=o.signature.decode(t,\"der\"),h=f.s,l=f.r;a(h,s),a(l,s);var p=n.mont(i),d=h.invm(s);return 0===u.toRed(p).redPow(new n(e).mul(d).mod(s)).fromRed().mul(c.toRed(p).redPow(l.mul(d).mod(s)).fromRed()).mod(i).mod(s).cmp(l)}(t,r,h)}if(\"rsa\"!==c&&\"ecdsa/rsa\"!==c)throw new Error(\"wrong public key type\");r=e.concat([f,r]);for(var l=h.modulus.byteLength(),p=[1],d=0;r.length+p.length+2<l;)p.push(255),d++;p.push(0);for(var y=-1;++y<r.length;)p.push(r[y]);p=new e(p);var m=n.mont(h.modulus);t=(t=new n(t).toRed(m)).redPow(new n(h.publicExponent)),t=new e(t.fromRed().toArray());var g=d<8?1:0;for(l=Math.min(t.length,p.length),t.length!==p.length&&(g=1),y=-1;++y<l;)g|=t[y]^p[y];return 0===g}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=r(34),i=r(16);t.exports=function(t){return new s(t)};var o={secp256k1:{name:\"secp256k1\",byteLength:32},secp224r1:{name:\"p224\",byteLength:28},prime256v1:{name:\"p256\",byteLength:32},prime192v1:{name:\"p192\",byteLength:24},ed25519:{name:\"ed25519\",byteLength:32},secp384r1:{name:\"p384\",byteLength:48},secp521r1:{name:\"p521\",byteLength:66}};function s(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function a(t,r,n){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(n&&i.length<n){var o=new e(n-i.length);o.fill(0),i=e.concat([o,i])}return r?i.toString(r):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},s.prototype.computeSecret=function(t,r,n){return r=r||\"utf8\",e.isBuffer(t)||(t=new e(t,r)),a(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},s.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(\"compressed\"===e,!0);return\"hybrid\"===e&&(r[r.length-1]%2?r[0]=7:r[0]=6),a(r,t)},s.prototype.getPrivateKey=function(t){return a(this.keys.getPrivate(),t)},s.prototype.setPublicKey=function(t,r){return r=r||\"utf8\",e.isBuffer(t)||(t=new e(t,r)),this.keys._importPublic(t),this},s.prototype.setPrivateKey=function(t,r){r=r||\"utf8\",e.isBuffer(t)||(t=new e(t,r));var n=new i(t);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,r(0).Buffer)},function(t,e,r){e.publicEncrypt=r(843),e.privateDecrypt=r(844),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},function(t,e,r){(function(e){var n=r(183),i=r(85),o=r(74),s=r(406),a=r(407),u=r(16),c=r(408),f=r(243);t.exports=function(t,r,h){var l;l=t.padding?t.padding:h?1:4;var p,d=n(t);if(4===l)p=function(t,r){var n=t.modulus.byteLength(),c=r.length,f=o(\"sha1\").update(new e(\"\")).digest(),h=f.length,l=2*h;if(c>n-l-2)throw new Error(\"message too long\");var p=new e(n-c-l-2);p.fill(0);var d=n-h-1,y=i(h),m=a(e.concat([f,p,new e([1]),r],d),s(y,d)),g=a(y,s(m,h));return new u(e.concat([new e([0]),g,m],n))}(d,r);else if(1===l)p=function(t,r,n){var o,s=r.length,a=t.modulus.byteLength();if(s>a-11)throw new Error(\"message too long\");n?(o=new e(a-s-3)).fill(255):o=function(t,r){var n,o=new e(t),s=0,a=i(2*t),u=0;for(;s<t;)u===a.length&&(a=i(2*t),u=0),(n=a[u++])&&(o[s++]=n);return o}(a-s-3);return new u(e.concat([new e([0,n?1:2]),o,new e([0]),r],a))}(d,r,h);else{if(3!==l)throw new Error(\"unknown padding\");if((p=new u(r)).cmp(d.modulus)>=0)throw new Error(\"data too long for modulus\")}return h?f(p,d):c(p,d)}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=r(183),i=r(406),o=r(407),s=r(16),a=r(243),u=r(74),c=r(408);t.exports=function(t,r,f){var h;h=t.padding?t.padding:f?1:4;var l,p=n(t),d=p.modulus.byteLength();if(r.length>d||new s(r).cmp(p.modulus)>=0)throw new Error(\"decryption error\");l=f?c(new s(r),p):a(r,p);var y=new e(d-l.length);if(y.fill(0),l=e.concat([y,l],d),4===h)return function(t,r){t.modulus;var n=t.modulus.byteLength(),s=(r.length,u(\"sha1\").update(new e(\"\")).digest()),a=s.length;if(0!==r[0])throw new Error(\"decryption error\");var c=r.slice(1,a+1),f=r.slice(a+1),h=o(c,i(f,a)),l=o(f,i(h,n-a-1));if(function(t,r){t=new e(t),r=new e(r);var n=0,i=t.length;t.length!==r.length&&(n++,i=Math.min(t.length,r.length));var o=-1;for(;++o<i;)n+=t[o]^r[o];return n}(s,l.slice(0,a)))throw new Error(\"decryption error\");var p=a;for(;0===l[p];)p++;if(1!==l[p++])throw new Error(\"decryption error\");return l.slice(p)}(p,l);if(1===h)return function(t,e,r){var n=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var s=e.slice(2,i-1);e.slice(i-1,i);(\"0002\"!==n.toString(\"hex\")&&!r||\"0001\"!==n.toString(\"hex\")&&r)&&o++;s.length<8&&o++;if(o)throw new Error(\"decryption error\");return e.slice(i)}(0,l,f);if(3===h)return l;throw new Error(\"unknown padding\")}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t,n){function i(){throw new Error(\"secure random number generation not supported by this browser\\nuse chrome, FireFox or Internet Explorer 11\")}var o=r(3),s=r(85),a=o.Buffer,u=o.kMaxLength,c=t.crypto||t.msCrypto,f=Math.pow(2,32)-1;function h(t,e){if(\"number\"!=typeof t||t!=t)throw new TypeError(\"offset must be a number\");if(t>f||t<0)throw new TypeError(\"offset must be a uint32\");if(t>u||t>e)throw new RangeError(\"offset out of range\")}function l(t,e,r){if(\"number\"!=typeof t||t!=t)throw new TypeError(\"size must be a number\");if(t>f||t<0)throw new TypeError(\"size must be a uint32\");if(t+e>r||t>u)throw new RangeError(\"buffer too small\")}function p(t,e,r,i){if(n.browser){var o=t.buffer,a=new Uint8Array(o,e,r);return c.getRandomValues(a),i?void n.nextTick(function(){i(null,t)}):t}if(!i)return s(r).copy(t,e),t;s(r,function(r,n){if(r)return i(r);n.copy(t,e),i(null,t)})}c&&c.getRandomValues||!n.browser?(e.randomFill=function(e,r,n,i){if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('\"buf\" argument must be a Buffer or Uint8Array');if(\"function\"==typeof r)i=r,r=0,n=e.length;else if(\"function\"==typeof n)i=n,n=e.length-r;else if(\"function\"!=typeof i)throw new TypeError('\"cb\" argument must be a function');return h(r,e.length),l(n,r,e.length),p(e,r,n,i)},e.randomFillSync=function(e,r,n){void 0===r&&(r=0);if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('\"buf\" argument must be a Buffer or Uint8Array');h(r,e.length),void 0===n&&(n=e.length-r);return l(n,r,e.length),p(e,r,n)}):(e.randomFill=i,e.randomFillSync=i)}).call(this,r(5),r(7))},function(t,e,r){t.exports=r(847)},function(t,e,r){(function(e){var n=r(240).pbkdf2Sync,i=2147483647;function o(t,r,n,i,o){if(e.isBuffer(t)&&e.isBuffer(n))t.copy(n,i,r,r+o);else for(;o--;)n[i++]=t[r++]}t.exports=function(t,r,s,a,u,c,f){if(0===s||0!=(s&s-1))throw Error(\"N must be > 0 and a power of 2\");if(s>i/128/a)throw Error(\"Parameter N is too large\");if(a>i/128/u)throw Error(\"Parameter r is too large\");var h,l=new e(256*a),p=new e(128*a*s),d=new Int32Array(16),y=new Int32Array(16),m=new e(64),g=n(t,r,1,128*u*a,\"sha256\");if(f){var b=u*s*2,v=0;h=function(){++v%1e3==0&&f({current:v,total:b,percent:v/b*100})}}for(var _=0;_<u;_++)w(g,128*_*a,a,s,p,l);return n(t,g,1,c,\"sha256\");function w(t,e,r,n,i,o){var s,a=128*r;for(t.copy(o,0,e,e+a),s=0;s<n;s++)o.copy(i,s*a,0,0+a),S(o,0,a,r),h&&h();for(s=0;s<n;s++){var u=0+64*(2*r-1);A(i,(o.readUInt32LE(u)&n-1)*a,o,0,a),S(o,0,a,r),h&&h()}o.copy(t,e,0,0+a)}function S(t,e,r,n){var i;for(o(t,e+64*(2*n-1),m,0,64),i=0;i<2*n;i++)A(t,64*i,m,0,64),E(m),o(m,0,t,r+64*i,64);for(i=0;i<n;i++)o(t,r+2*i*64,t,e+64*i,64);for(i=0;i<n;i++)o(t,r+64*(2*i+1),t,e+64*(i+n),64)}function k(t,e){return t<<e|t>>>32-e}function E(t){var e;for(e=0;e<16;e++)d[e]=(255&t[4*e+0])<<0,d[e]|=(255&t[4*e+1])<<8,d[e]|=(255&t[4*e+2])<<16,d[e]|=(255&t[4*e+3])<<24;for(o(d,0,y,0,16),e=8;e>0;e-=2)y[4]^=k(y[0]+y[12],7),y[8]^=k(y[4]+y[0],9),y[12]^=k(y[8]+y[4],13),y[0]^=k(y[12]+y[8],18),y[9]^=k(y[5]+y[1],7),y[13]^=k(y[9]+y[5],9),y[1]^=k(y[13]+y[9],13),y[5]^=k(y[1]+y[13],18),y[14]^=k(y[10]+y[6],7),y[2]^=k(y[14]+y[10],9),y[6]^=k(y[2]+y[14],13),y[10]^=k(y[6]+y[2],18),y[3]^=k(y[15]+y[11],7),y[7]^=k(y[3]+y[15],9),y[11]^=k(y[7]+y[3],13),y[15]^=k(y[11]+y[7],18),y[1]^=k(y[0]+y[3],7),y[2]^=k(y[1]+y[0],9),y[3]^=k(y[2]+y[1],13),y[0]^=k(y[3]+y[2],18),y[6]^=k(y[5]+y[4],7),y[7]^=k(y[6]+y[5],9),y[4]^=k(y[7]+y[6],13),y[5]^=k(y[4]+y[7],18),y[11]^=k(y[10]+y[9],7),y[8]^=k(y[11]+y[10],9),y[9]^=k(y[8]+y[11],13),y[10]^=k(y[9]+y[8],18),y[12]^=k(y[15]+y[14],7),y[13]^=k(y[12]+y[15],9),y[14]^=k(y[13]+y[12],13),y[15]^=k(y[14]+y[13],18);for(e=0;e<16;++e)d[e]=y[e]+d[e];for(e=0;e<16;e++){var r=4*e;t[r+0]=d[e]>>0&255,t[r+1]=d[e]>>8&255,t[r+2]=d[e]>>16&255,t[r+3]=d[e]>>24&255}}function A(t,e,r,n,i){for(var o=0;o<i;o++)r[n+o]^=t[e+o]}}}).call(this,r(0).Buffer)},function(t,e,r){for(var n=r(849),i=[],o={},s=0;s<256;s++)i[s]=(s+256).toString(16).substr(1),o[i[s]]=s;function a(t,e){var r=e||0,n=i;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+\"-\"+n[t[r++]]+n[t[r++]]+\"-\"+n[t[r++]]+n[t[r++]]+\"-\"+n[t[r++]]+n[t[r++]]+\"-\"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}var u=n(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],f=16383&(u[6]<<8|u[7]),h=0,l=0;function p(t,e,r){var i=e&&r||0;\"string\"==typeof t&&(e=\"binary\"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;s<16;s++)e[i+s]=o[s];return e||a(o)}var d=p;d.v1=function(t,e,r){var n=e&&r||0,i=e||[],o=void 0!==(t=t||{}).clockseq?t.clockseq:f,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:l+1,p=s-h+(u-l)/1e4;if(p<0&&void 0===t.clockseq&&(o=o+1&16383),(p<0||s>h)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");h=s,l=u,f=o;var d=(1e4*(268435455&(s+=122192928e5))+u)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=255&d;var y=s/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=255&y,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var m=t.node||c,g=0;g<6;g++)i[n+g]=m[g];return e||a(i)},d.v4=p,d.parse=function(t,e,r){var n=e&&r||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){i<16&&(e[n+i++]=o[t])});i<16;)e[n+i++]=0;return e},d.unparse=a,t.exports=d},function(t,e,r){(function(e){var r;if(e.crypto&&crypto.getRandomValues){var n=new Uint8Array(16);r=function(){return crypto.getRandomValues(n),n}}if(!r){var i=new Array(16);r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}t.exports=r}).call(this,r(5))},function(t,e,r){\"use strict\";var n=r(31);t.exports=function(t){var e,r=this;return this.net.getId().then(function(t){return e=t,r.getBlock(0)}).then(function(r){var i=\"private\";return\"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\"===r.hash&&1===e&&(i=\"main\"),\"0cd786a2425d16f152c658316c423e6ce1181e15c3295826d7c9904cba9ce303\"===r.hash&&2===e&&(i=\"morden\"),\"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d\"===r.hash&&3===e&&(i=\"ropsten\"),\"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177\"===r.hash&&4===e&&(i=\"rinkeby\"),\"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9\"===r.hash&&42===e&&(i=\"kovan\"),n.isFunction(t)&&t(null,i),i}).catch(function(e){if(!n.isFunction(t))throw e;t(e)})}},function(t,e,r){\"use strict\";var n=r(92),i=r(178).subscriptions,o=r(94),s=r(179),a=function(){var t=this;n.packageInit(this,arguments);var e=this.setProvider;this.setProvider=function(){e.apply(t,arguments),t.net.setProvider.apply(t,arguments)},this.clearSubscriptions=t._requestManager.clearSubscriptions,this.net=new s(this.currentProvider),[new i({name:\"subscribe\",type:\"shh\",subscriptions:{messages:{params:1}}}),new o({name:\"getVersion\",call:\"shh_version\",params:0}),new o({name:\"getInfo\",call:\"shh_info\",params:0}),new o({name:\"setMaxMessageSize\",call:\"shh_setMaxMessageSize\",params:1}),new o({name:\"setMinPoW\",call:\"shh_setMinPoW\",params:1}),new o({name:\"markTrustedPeer\",call:\"shh_markTrustedPeer\",params:1}),new o({name:\"newKeyPair\",call:\"shh_newKeyPair\",params:0}),new o({name:\"addPrivateKey\",call:\"shh_addPrivateKey\",params:1}),new o({name:\"deleteKeyPair\",call:\"shh_deleteKeyPair\",params:1}),new o({name:\"hasKeyPair\",call:\"shh_hasKeyPair\",params:1}),new o({name:\"getPublicKey\",call:\"shh_getPublicKey\",params:1}),new o({name:\"getPrivateKey\",call:\"shh_getPrivateKey\",params:1}),new o({name:\"newSymKey\",call:\"shh_newSymKey\",params:0}),new o({name:\"addSymKey\",call:\"shh_addSymKey\",params:1}),new o({name:\"generateSymKeyFromPassword\",call:\"shh_generateSymKeyFromPassword\",params:1}),new o({name:\"hasSymKey\",call:\"shh_hasSymKey\",params:1}),new o({name:\"getSymKey\",call:\"shh_getSymKey\",params:1}),new o({name:\"deleteSymKey\",call:\"shh_deleteSymKey\",params:1}),new o({name:\"newMessageFilter\",call:\"shh_newMessageFilter\",params:1}),new o({name:\"getFilterMessages\",call:\"shh_getFilterMessages\",params:1}),new o({name:\"deleteMessageFilter\",call:\"shh_deleteMessageFilter\",params:1}),new o({name:\"post\",call:\"shh_post\",params:1,inputFormatter:[null]})].forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})};n.addProviders(a),t.exports=a},function(t,e,r){\"use strict\";var n=r(31),i=r(853),o=function t(e){this.givenProvider=t.givenProvider,e&&e._requestManager&&(e=e.currentProvider),\"undefined\"!=typeof document&&(this.pick=i.pick),this.setProvider(e)};o.givenProvider=null,\"undefined\"!=typeof ethereumProvider&&ethereumProvider.bzz&&(o.givenProvider=ethereumProvider.bzz),o.prototype.setProvider=function(t){if(n.isObject(t)&&n.isString(t.bzz)&&(t=t.bzz),!n.isString(t)){this.currentProvider=null;var e=new Error(\"No provider set, please set one using bzz.setProvider().\");return this.download=this.upload=this.isAvailable=function(){throw e},!1}return this.currentProvider=t,this.download=i.at(t).download,this.upload=i.at(t).upload,this.isAvailable=i.at(t).isAvailable,!0},t.exports=o},function(t,e,r){var n=function(){throw\"This swarm.js function isn't available on the browser.\"},i={readFile:n},o={download:n,safeDownloadArchived:n,directoryTree:n},s={platform:n,arch:n},a={join:n,slice:n},u={spawn:n},c={lookup:n},f=r(854),h=r(412),l=r(873),p=r(874),d=r(875);t.exports=d({fsp:i,files:o,os:s,path:a,child_process:u,defaultArchives:{},mimetype:c,request:f,downloadUrl:null,bytes:h,hash:l,pick:p})},function(t,e,r){var n=r(855);t.exports=function(t,e){return new Promise(function(r,i){n(t,e,function(t,e){t?i(t):r(e)})})}},function(t,e,r){var n=r(856),i=r(860),o=r(861),s=r(862),a=r(863),u=\"application/json\",c=function(){};t.exports=function(t,e,r){if(!t||\"string\"!=typeof t)throw new TypeError(\"must specify a URL\");\"function\"==typeof e&&(r=e,e={});if(r&&\"function\"!=typeof r)throw new TypeError(\"expected cb to be undefined or a function\");r=r||c;var f=(e=e||{}).json?\"json\":\"text\",h=(e=o({responseType:f},e)).headers||{},l=(e.method||\"GET\").toUpperCase(),p=e.query;p&&(\"string\"!=typeof p&&(p=n.stringify(p)),t=i(t,p));\"json\"===e.responseType&&s(h,\"Accept\",u);e.json&&\"GET\"!==l&&\"HEAD\"!==l&&(s(h,\"Content-Type\",u),e.body=JSON.stringify(e.body));return e.method=l,e.url=t,e.headers=h,delete e.query,delete e.json,a(e,r)}},function(t,e,r){\"use strict\";var n=r(857),i=r(858),o=r(859);function s(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function a(t){var e=t.indexOf(\"?\");return-1===e?\"\":t.slice(e+1)}function u(t,e){var r=function(t){var e;switch(t.arrayFormat){case\"index\":return function(t,r,n){e=/\\[(\\d*)\\]$/.exec(t),t=t.replace(/\\[\\d*\\]$/,\"\"),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case\"bracket\":return function(t,r,n){e=/(\\[\\])$/.exec(t),t=t.replace(/\\[\\]$/,\"\"),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};default:return function(t,e,r){void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e=i({arrayFormat:\"none\"},e)),n=Object.create(null);return\"string\"!=typeof t?n:(t=t.trim().replace(/^[?#&]/,\"\"))?(t.split(\"&\").forEach(function(t){var e=t.replace(/\\+/g,\" \").split(\"=\"),i=e.shift(),s=e.length>0?e.join(\"=\"):void 0;s=void 0===s?null:o(s),r(o(i),s,n)}),Object.keys(n).sort().reduce(function(t,e){var r=n[e];return Boolean(r)&&\"object\"==typeof r&&!Array.isArray(r)?t[e]=function t(e){return Array.isArray(e)?e.sort():\"object\"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(r):t[e]=r,t},Object.create(null))):n}e.extract=a,e.parse=u,e.stringify=function(t,e){!1===(e=i({encode:!0,strict:!0,arrayFormat:\"none\"},e)).sort&&(e.sort=function(){});var r=function(t){switch(t.arrayFormat){case\"index\":return function(e,r,n){return null===r?[s(e,t),\"[\",n,\"]\"].join(\"\"):[s(e,t),\"[\",s(n,t),\"]=\",s(r,t)].join(\"\")};case\"bracket\":return function(e,r){return null===r?s(e,t):[s(e,t),\"[]=\",s(r,t)].join(\"\")};default:return function(e,r){return null===r?s(e,t):[s(e,t),\"=\",s(r,t)].join(\"\")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(n){var i=t[n];if(void 0===i)return\"\";if(null===i)return s(n,e);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(t){void 0!==t&&o.push(r(n,t,o.length))}),o.join(\"&\")}return s(n,e)+\"=\"+s(i,e)}).filter(function(t){return t.length>0}).join(\"&\"):\"\"},e.parseUrl=function(t,e){return{url:t.split(\"?\")[0]||\"\",query:u(a(t),e)}}},function(t,e,r){\"use strict\";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return\"%\"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,r){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",\"5\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e[\"_\"+String.fromCharCode(r)]=r;if(\"0123456789\"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(\"\"))return!1;var n={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(t){n[t]=t}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},n)).join(\"\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null===t||void 0===t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))i.call(r,c)&&(a[c]=r[c]);if(n){s=n(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(a[s[f]]=r[s[f]])}}return a}},function(t,e,r){\"use strict\";var n=new RegExp(\"%[a-f0-9]{2}\",\"gi\"),i=new RegExp(\"(%[a-f0-9]{2})+\",\"gi\");function o(t,e){try{return decodeURIComponent(t.join(\"\"))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],o(r),o(n))}function s(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(n),r=1;r<e.length;r++)e=(t=o(e,r).join(\"\")).match(n);return t}}t.exports=function(t){if(\"string\"!=typeof t)throw new TypeError(\"Expected `encodedURI` to be of type `string`, got `\"+typeof t+\"`\");try{return t=t.replace(/\\+/g,\" \"),decodeURIComponent(t)}catch(e){return function(t){for(var e={\"%FE%FF\":\"��\",\"%FF%FE\":\"��\"},r=i.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=s(r[0]);n!==r[0]&&(e[r[0]]=n)}r=i.exec(t)}e[\"%C2\"]=\"�\";for(var o=Object.keys(e),a=0;a<o.length;a++){var u=o[a];t=t.replace(new RegExp(u,\"g\"),e[u])}return t}(t)}}},function(t,e){t.exports=function(t,e){if(e){e=(e=e.trim().replace(/^(\\?|#|&)/,\"\"))?\"?\"+e:e;var r=t.split(/[\\?\\#]/),n=r[0];e&&/\\:\\/\\/[^\\/]*$/.test(n)&&(n+=\"/\");var i=t.match(/(\\#.*)$/);t=n+e,i&&(t+=i[0])}return t}},function(t,e,r){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",\"5\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e[\"_\"+String.fromCharCode(r)]=r;if(\"0123456789\"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(\"\"))return!1;var n={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(t){n[t]=t}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},n)).join(\"\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null===t||void 0===t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))i.call(r,c)&&(a[c]=r[c]);if(n){s=n(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(a[s[f]]=r[s[f]])}}return a}},function(t,e){t.exports=function(t,e,r){var n=e.toLowerCase();t[e]||t[n]||(t[e]=r)}},function(t,e,r){var n=r(864),i=r(871),o=function(){};t.exports=function(t,e){delete t.uri;var r=!1;\"json\"===t.responseType&&(t.responseType=\"text\",r=!0);var s=n(t,function(n,s,a){if(r&&!n)try{var u=s.rawRequest.responseText;a=JSON.parse(u)}catch(t){n=t}s=i(t,s),e(n,n?null:a,s),e=o}),a=s.onabort;return s.onabort=function(){var t=a.apply(s,Array.prototype.slice.call(arguments));return e(new Error(\"XHR Aborted\")),e=o,t},s}},function(t,e,r){\"use strict\";var n=r(865),i=r(866),o=r(867),s=r(33);function a(t,e,r){var n=t;return i(e)?(r=e,\"string\"==typeof t&&(n={uri:t})):n=s(e,{uri:t}),n.callback=r,n}function u(t,e,r){return c(e=a(t,e,r))}function c(t){if(void 0===t.callback)throw new Error(\"callback argument missing\");var e=!1,r=function(r,n,i){e||(e=!0,t.callback(r,n,i))};function n(t){return clearTimeout(f),t instanceof Error||(t=new Error(\"\"+(t||\"Unknown XMLHttpRequest Error\"))),t.statusCode=0,r(t,g)}function i(){if(!a){var e;clearTimeout(f),e=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var n=g,i=null;return 0!==e?(n={body:function(){var t=void 0;if(t=c.response?c.response:c.responseText||function(t){try{if(\"document\"===t.responseType)return t.responseXML;var e=t.responseXML&&\"parsererror\"===t.responseXML.documentElement.nodeName;if(\"\"===t.responseType&&!e)return t.responseXML}catch(t){}return null}(c),m)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:e,method:l,headers:{},url:h,rawRequest:c},c.getAllResponseHeaders&&(n.headers=o(c.getAllResponseHeaders()))):i=new Error(\"Internal XMLHttpRequest Error\"),r(i,n,n.body)}}var s,a,c=t.xhr||null;c||(c=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var f,h=c.url=t.uri||t.url,l=c.method=t.method||\"GET\",p=t.body||t.data,d=c.headers=t.headers||{},y=!!t.sync,m=!1,g={body:void 0,headers:{},statusCode:0,method:l,url:h,rawRequest:c};if(\"json\"in t&&!1!==t.json&&(m=!0,d.accept||d.Accept||(d.Accept=\"application/json\"),\"GET\"!==l&&\"HEAD\"!==l&&(d[\"content-type\"]||d[\"Content-Type\"]||(d[\"Content-Type\"]=\"application/json\"),p=JSON.stringify(!0===t.json?p:t.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(i,0)},c.onload=i,c.onerror=n,c.onprogress=function(){},c.onabort=function(){a=!0},c.ontimeout=n,c.open(l,h,!y,t.username,t.password),y||(c.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(f=setTimeout(function(){if(!a){a=!0,c.abort(\"timeout\");var t=new Error(\"XMLHttpRequest timeout\");t.code=\"ETIMEDOUT\",n(t)}},t.timeout)),c.setRequestHeader)for(s in d)d.hasOwnProperty(s)&&c.setRequestHeader(s,d[s]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error(\"Headers cannot be set on an XDomainRequest object\");return\"responseType\"in t&&(c.responseType=t.responseType),\"beforeSend\"in t&&\"function\"==typeof t.beforeSend&&t.beforeSend(c),c.send(p||null),c}t.exports=u,t.exports.default=u,u.XMLHttpRequest=n.XMLHttpRequest||function(){},u.XDomainRequest=\"withCredentials\"in new u.XMLHttpRequest?u.XMLHttpRequest:n.XDomainRequest,function(t,e){for(var r=0;r<t.length;r++)e(t[r])}([\"get\",\"put\",\"post\",\"patch\",\"head\",\"delete\"],function(t){u[\"delete\"===t?\"del\":t]=function(e,r,n){return(r=a(e,r,n)).method=t.toUpperCase(),c(r)}})},function(t,e,r){(function(e){var r;r=\"undefined\"!=typeof window?window:void 0!==e?e:\"undefined\"!=typeof self?self:{},t.exports=r}).call(this,r(5))},function(t,e){t.exports=function(t){var e=r.call(t);return\"[object Function]\"===e||\"function\"==typeof t&&\"[object RegExp]\"!==e||\"undefined\"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},function(t,e,r){var n=r(868),i=r(869);t.exports=function(t){if(!t)return{};var e={};return i(n(t).split(\"\\n\"),function(t){var r=t.indexOf(\":\"),i=n(t.slice(0,r)).toLowerCase(),o=n(t.slice(r+1));void 0===e[i]?e[i]=o:!function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}(e[i])?e[i]=[e[i],o]:e[i].push(o)}),e}},function(t,e){(e=t.exports=function(t){return t.replace(/^\\s*|\\s*$/g,\"\")}).left=function(t){return t.replace(/^\\s*/,\"\")},e.right=function(t){return t.replace(/\\s*$/,\"\")}},function(t,e,r){\"use strict\";var n=r(870),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){if(!n(e))throw new TypeError(\"iterator must be a function\");var s;arguments.length>=3&&(s=r),\"[object Array]\"===i.call(t)?function(t,e,r){for(var n=0,i=t.length;n<i;n++)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s):\"string\"==typeof t?function(t,e,r){for(var n=0,i=t.length;n<i;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,s):function(t,e,r){for(var n in t)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,s)}},function(t,e,r){\"use strict\";var n=Function.prototype.toString,i=/^\\s*class\\b/,o=function(t){try{var e=n.call(t);return i.test(e)}catch(t){return!1}},s=Object.prototype.toString,a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if(\"function\"!=typeof t&&\"object\"!=typeof t)return!1;if(\"function\"==typeof t&&!t.prototype)return!0;if(a)return function(t){try{return!o(t)&&(n.call(t),!0)}catch(t){return!1}}(t);if(o(t))return!1;var e=s.call(t);return\"[object Function]\"===e||\"[object GeneratorFunction]\"===e}},function(t,e){t.exports=function(t,e){return e?{statusCode:e.statusCode,headers:e.headers,method:t.method,url:t.url,rawRequest:e.rawRequest?e.rawRequest:e}:null}},function(t,e){var r=function(t,e){for(var r=[],n=0;n<t;++n)r.push(e(n));return r};t.exports={generate:r,replicate:function(t,e){return r(t,function(){return e})},concat:function(t,e){return t.concat(e)},flatten:function(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var i=0,o=t[r].length;i<o;++i)e.push(t[r][i]);return e},chunksOf:function(t,e){for(var r=[],n=0,i=e.length;n<i;n+=t)r.push(e.slice(n,n+t));return r}}},function(t,e,r){var n=r(364).keccak256,i=r(412),o=function(t,e){var r=i.reverse(i.pad(6,i.fromNumber(t))),o=i.flatten([r,\"0x0000\",e]);return n(o).slice(2)};t.exports=function t(e){\"string\"==typeof e&&\"0x\"!==e.slice(0,2)?e=i.fromString(e):\"string\"!=typeof e&&void 0!==e.length&&(e=i.fromUint8Array(e));var r=i.length(e);if(r<=4096)return o(r,e);for(var n=4096;128*n<r;)n*=128;for(var s=[],a=0;a<r;a+=n){var u=n<r-a?n:r-a;s.push(t(i.slice(e,a,a+u)))}return o(r,i.flatten(s))}},function(t,e){var r=function(t){return function(){return new Promise(function(e,r){var n=function(r){var n={},i=r.target.files.length,o=0;[].map.call(r.target.files,function(r){var s=new FileReader;s.onload=function(s){var a=new Uint8Array(s.target.result);if(\"directory\"===t){var u=r.webkitRelativePath;n[u.slice(u.indexOf(\"/\")+1)]={type:\"text/plain\",data:a},++o===i&&e(n)}else if(\"file\"===t){var c=r.webkitRelativePath;e({type:mimetype.lookup(c),data:a})}else e(a)},s.readAsArrayBuffer(r)})},i=void 0;\"directory\"===t?((i=document.createElement(\"input\")).addEventListener(\"change\",n),i.type=\"file\",i.webkitdirectory=!0,i.mozdirectory=!0,i.msdirectory=!0,i.odirectory=!0,i.directory=!0):((i=document.createElement(\"input\")).addEventListener(\"change\",n),i.type=\"file\");var o=document.createEvent(\"MouseEvents\");o.initEvent(\"click\",!0,!1),i.dispatchEvent(o)})}};t.exports={data:r(\"data\"),file:r(\"file\"),directory:r(\"directory\")}},function(t,e){t.exports=function(t){var e=t.fsp,r=t.files,n=t.os,i=t.path,o=t.child_process,s=t.mimetype,a=t.defaultArchives,u=t.request,c=t.downloadUrl,f=t.bytes,h=t.hash,l=t.pick,p=function(t){return function(e){for(var r={},n=0,i=t.length;n<i;++n)r[t[n]]=e[n];return r}},d=function(t){return function(e){return t+\"/bzzr:/\"+e}},y=function(t){return function(e){return u(d(t)(e),{responseType:\"arraybuffer\"}).then(function(t){var e=new Uint8Array(t);if(function(t){return function(e){if(t.length!==e.length)return!1;var r=0;for(t.length;r<t;++r)if(t[r]!==e[r])return!1;return!0}}(e)([52,48,52,32,112,97,103,101,32,110,111,116,32,102,111,117,110,100,10]))throw\"Error 404.\";return e})}},m=function(t){return function(e){return function e(r){return function(n){return function(i){var o=function(t){return void 0===t.path?Promise.resolve():\"application/bzz-manifest+json\"===t.contentType?e(t.hash)(n+t.path)(i):Promise.resolve(function(t){return function(e){return function(r){return r[t]=e,r}}}(n+t.path)(function(t){return{type:t.contentType,hash:t.hash}}(t))(i))};return y(t)(r).then(function(t){return JSON.parse(N(t)).entries}).then(function(t){return Promise.all(t.map(o))}).then(function(){return i})}}}(e)(\"\")({})}},g=function(t){return function(e){return m(t)(e).then(function(t){return p(Object.keys(t))(Object.keys(t).map(function(e){return t[e].hash}))})}},b=function(t){return function(e){return m(t)(e).then(function(e){var r=Object.keys(e),n=r.map(function(t){return e[t].hash}),i=r.map(function(t){return e[t].type}),o=n.map(y(t));return Promise.all(o).then(function(t){return p(r)(function(t){return t.map(function(t,e){return{type:i[e],data:t}})}(t))})})}},v=function(t){return function(e){return function(n){return r.download(d(t)(e))(n)}}},_=function(t){return function(e){return function(r){return g(t)(e).then(function(e){var n=[];for(var o in e)if(o.length>0){var s=i.join(r,o);n.push(v(t)(e[o])(s))}return Promise.all(n).then(function(){return r})})}}},w=function(t){return function(e){return u(t+\"/bzzr:/\",{body:\"string\"==typeof e?L(e):e,method:\"POST\"})}},S=function(t){return function(e){return function(r){return function(n){return function i(o){var s=\"/\"===r[0]?r:\"/\"+r,a=t+\"/bzz:/\"+e+s,c={method:\"PUT\",headers:{\"Content-Type\":n.type},body:n.data};return u(a,c).then(function(t){if(-1!==t.indexOf(\"error\"))throw t;return t}).catch(function(t){return o>0&&i(o-1)})}(3)}}}},k=function(t){return function(e){return A(t)({\"\":e})}},E=function(t){return function(r){return e.readFile(r).then(function(e){return k(t)({type:s.lookup(r),data:e})})}},A=function(t){return function(e){return w(t)(\"{}\").then(function(r){return Object.keys(e).reduce(function(r,n){return r.then(function(r){return function(n){return S(t)(n)(r)(e[r])}}(n))},Promise.resolve(r))})}},x=function(t){return function(r){return e.readFile(r).then(w(t))}},T=function(t){return function(n){return function(i){return r.directoryTree(i).then(function(t){return Promise.all(t.map(function(t){return e.readFile(t)})).then(function(e){var r=t.map(function(t){return t.slice(i.length)}),n=t.map(function(t){return s.lookup(t)||\"text/plain\"});return p(r)(e.map(function(t,e){return{type:n[e],data:t}}))})}).then(function(t){return function(t){return function(e){var r={};for(var n in t)r[n]=t[n];for(var i in e)r[i]=e[i];return r}}(n?{\"\":t[n]}:{})(t)}).then(A(t))}}},B=function(t){return function(e){if(\"data\"===e.pick)return l.data().then(w(t));if(\"file\"===e.pick)return l.file().then(k(t));if(\"directory\"===e.pick)return l.directory().then(A(t));if(e.path)switch(e.kind){case\"data\":return x(t)(e.path);case\"file\":return E(t)(e.path);case\"directory\":return T(t)(e.defaultFile)(e.path)}else{if(e.length||\"string\"==typeof e)return w(t)(e);if(e instanceof Object)return A(t)(e)}return Promise.reject(new Error(\"Bad arguments\"))}},I=function(t){return function(e){return function(r){return R(t)(e).then(function(n){return n?r?_(t)(e)(r):b(t)(e):r?v(t)(e)(r):y(t)(e)})}}},C=function(t,e){var i=n.platform().replace(\"win32\",\"windows\")+\"-\"+(\"x64\"===n.arch()?\"amd64\":\"386\"),o=(e||a)[i],s=c+o.archive+\".tar.gz\",u=o.archiveMD5,f=o.binaryMD5;return r.safeDownloadArchived(s)(u)(f)(t)},M=function(t){return new Promise(function(e,r){var n=o.spawn,i=function(t){return function(e){return-1!==(\"\"+e).indexOf(t)}},s=t.account,a=t.password,u=t.dataDir,c=t.ensApi,f=t.privateKey,h=0,l=n(t.binPath,[\"--bzzaccount\",s||f,\"--datadir\",u,\"--ens-api\",c]),p=function(t){0===h&&i(\"Passphrase\")(t)?setTimeout(function(){h=1,l.stdin.write(a+\"\\n\")},500):i(\"Swarm http proxy started\")(t)&&(h=2,clearTimeout(d),e(l))};l.stdout.on(\"data\",p),l.stderr.on(\"data\",p);var d=setTimeout(function(){return r(new Error(\"Couldn't start swarm process.\"))},2e4)})},P=function(t){return new Promise(function(e,r){t.stderr.removeAllListeners(\"data\"),t.stdout.removeAllListeners(\"data\"),t.stdin.removeAllListeners(\"error\"),t.removeAllListeners(\"error\"),t.removeAllListeners(\"exit\"),t.kill(\"SIGINT\");var n=setTimeout(function(){return t.kill(\"SIGKILL\")},8e3);t.once(\"close\",function(){clearTimeout(n),e()})})},O=function(t){return w(t)(\"test\").then(function(t){return\"c9a99c7d326dcc6316f32fe2625b311f6dc49a175e6877681ded93137d3569e7\"===t}).catch(function(){return!1})},R=function(t){return function(e){return y(t)(e).then(function(t){try{return!!JSON.parse(N(t)).entries}catch(t){return!1}})}},j=function(t){return function(e,r,n,i,o){var s;return void 0!==e&&(s=t(e)),void 0!==r&&(s=t(r)),void 0!==n&&(s=t(n)),void 0!==i&&(s=t(i)),void 0!==o&&(s=t(o)),s}},N=function(t){return f.toString(f.fromUint8Array(t))},L=function(t){return f.toUint8Array(f.fromString(t))},K=function(t){return{download:function(e,r){return I(t)(e)(r)},downloadData:j(y(t)),downloadDataToDisk:j(v(t)),downloadDirectory:j(b(t)),downloadDirectoryToDisk:j(_(t)),downloadEntries:j(m(t)),downloadRoutes:j(g(t)),isAvailable:function(){return O(t)},upload:function(e){return B(t)(e)},uploadData:j(w(t)),uploadFile:j(k(t)),uploadFileFromDisk:j(k(t)),uploadDataFromDisk:j(x(t)),uploadDirectory:j(A(t)),uploadDirectoryFromDisk:j(T(t)),uploadToManifest:j(S(t)),pick:l,hash:h,fromString:L,toString:N}};return{at:K,local:function(t){return function(e){return O(\"http://localhost:8500\").then(function(r){return r?e(K(\"http://localhost:8500\")).then(function(){}):C(t.binPath,t.archives).onData(function(e){return(t.onProgress||function(){})(e.length)}).then(function(){return M(t)}).then(function(t){return e(K(\"http://localhost:8500\")).then(function(){return t})}).then(P)})}},download:I,downloadBinary:C,downloadData:y,downloadDataToDisk:v,downloadDirectory:b,downloadDirectoryToDisk:_,downloadEntries:m,downloadRoutes:g,isAvailable:O,startProcess:M,stopProcess:P,upload:B,uploadData:w,uploadDataFromDisk:x,uploadFile:k,uploadFileFromDisk:E,uploadDirectory:A,uploadDirectoryFromDisk:T,uploadToManifest:S,pick:l,hash:h,fromString:L,toString:N}}},function(t,e,r){(function(t,e){var n,i,o;!function(){return function t(e,r,i){function o(a,u){if(!r[a]){if(!e[a]){if(!u&&\"function\"==typeof n&&n)return n(a,!0);if(s)return s(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var f=r[a]={exports:{}};e[a][0].call(f.exports,function(t){return o(e[a][1][t]||t)},f,f.exports,t,e,r,i)}return r[a].exports}for(var s=\"function\"==typeof n&&n,a=0;a<i.length;a++)o(i[a]);return o}}()({1:[function(e,r,n){(function(t){\"use strict\";\n/*!\n       * The buffer module from node.js, for the browser.\n       *\n       * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n       * @license  MIT\n       */function n(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&\"function\"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=e(\"util/\"),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,u=\"foo\"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(e){return!i(e)&&(\"function\"==typeof t.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=r.exports=g,l=/\\s*function\\s+([^\\(\\s]*)\\s*/;function p(t){if(o.isFunction(t)){if(u)return t.name;var e=t.toString().match(l);return e&&e[1]}}function d(t,e){return\"string\"==typeof t?t.length<e?t:t.slice(0,e):t}function y(t){if(u||!o.isFunction(t))return o.inspect(t);var e=p(t);return\"[Function\"+(e?\": \"+e:\"\")+\"]\"}function m(t,e,r,n,i){throw new h.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function g(t,e){t||m(t,!0,e,\"==\",h.ok)}function b(t,e,r,s){if(t===e)return!0;if(i(t)&&i(e))return 0===n(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&\"object\"==typeof t||null!==e&&\"object\"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var u=(s=s||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),function(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=v(t),s=v(e);if(i&&!s||!i&&s)return!1;if(i)return t=a.call(t),e=a.call(e),b(t,e,r);var u,c,f=S(t),h=S(e);if(f.length!==h.length)return!1;for(f.sort(),h.sort(),c=f.length-1;c>=0;c--)if(f[c]!==h[c])return!1;for(c=f.length-1;c>=0;c--)if(u=f[c],!b(t[u],e[u],r,n))return!1;return!0}(t,e,r,s))}return r?t===e:t==e}function v(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}function _(t,e){if(!t||!e)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function w(t,e,r,n){var i;if(\"function\"!=typeof e)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?\" (\"+r.name+\").\":\".\")+(n?\" \"+n:\".\"),t&&!i&&m(i,r,\"Missing expected exception\"+n);var s=\"string\"==typeof n,a=!t&&o.isError(i),u=!t&&i&&!r;if((a&&s&&_(i,r)||u)&&m(i,r,\"Got unwanted exception\"+n),t&&i&&r&&!_(i,r)||!t&&i)throw i}h.AssertionError=function(t){this.name=\"AssertionError\",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return d(y(t.actual),128)+\" \"+t.operator+\" \"+d(y(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf(\"\\n\"+i);if(o>=0){var s=n.indexOf(\"\\n\",o+1);n=n.substring(s+1)}this.stack=n}}},o.inherits(h.AssertionError,Error),h.fail=m,h.ok=g,h.equal=function(t,e,r){t!=e&&m(t,e,r,\"==\",h.equal)},h.notEqual=function(t,e,r){t==e&&m(t,e,r,\"!=\",h.notEqual)},h.deepEqual=function(t,e,r){b(t,e,!1)||m(t,e,r,\"deepEqual\",h.deepEqual)},h.deepStrictEqual=function(t,e,r){b(t,e,!0)||m(t,e,r,\"deepStrictEqual\",h.deepStrictEqual)},h.notDeepEqual=function(t,e,r){b(t,e,!1)&&m(t,e,r,\"notDeepEqual\",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,r,n){b(e,r,!0)&&m(e,r,n,\"notDeepStrictEqual\",t)},h.strictEqual=function(t,e,r){t!==e&&m(t,e,r,\"===\",h.strictEqual)},h.notStrictEqual=function(t,e,r){t===e&&m(t,e,r,\"!==\",h.notStrictEqual)},h.throws=function(t,e,r){w(!0,t,e,r)},h.doesNotThrow=function(t,e,r){w(!1,t,e,r)},h.ifError=function(t){if(t)throw t};var S=Object.keys||function(t){var e=[];for(var r in t)s.call(t,r)&&e.push(r);return e}}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"util/\":54}],2:[function(t,e,r){\"use strict\";r.byteLength=function(t){return 3*t.length/4-c(t)},r.toByteArray=function(t){var e,r,n,s,a,u=t.length;s=c(t),a=new o(3*u/4-s),r=s>0?u-4:u;var f=0;for(e=0;e<r;e+=4)n=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],a[f++]=n>>16&255,a[f++]=n>>8&255,a[f++]=255&n;2===s?(n=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,a[f++]=255&n):1===s&&(n=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,a[f++]=n>>8&255,a[f++]=255&n);return a},r.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=\"\",s=[],a=0,u=r-i;a<u;a+=16383)s.push(h(t,a,a+16383>u?u:a+16383));1===i?(e=t[r-1],o+=n[e>>2],o+=n[e<<4&63],o+=\"==\"):2===i&&(e=(t[r-2]<<8)+t[r-1],o+=n[e>>10],o+=n[e>>4&63],o+=n[e<<2&63],o+=\"=\");return s.push(o),s.join(\"\")};for(var n=[],i=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");return\"=\"===t[e-2]?2:\"=\"===t[e-1]?1:0}function f(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function h(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(f(n));return i.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},{}],3:[function(t,e,r){},{}],4:[function(t,e,r){arguments[4][3][0].apply(r,arguments)},{dup:3}],5:[function(t,e,r){var n=t(\"buffer\").Buffer,i=n.isEncoding||function(t){switch(t&&t.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};var o=r.StringDecoder=function(t){switch(this.encoding=(t||\"utf8\").toLowerCase().replace(/[-_]/,\"\"),function(t){if(t&&!i(t))throw new Error(\"Unknown encoding: \"+t)}(t),this.encoding){case\"utf8\":this.surrogateSize=3;break;case\"ucs2\":case\"utf16le\":this.surrogateSize=2,this.detectIncompleteChar=a;break;case\"base64\":this.surrogateSize=3,this.detectIncompleteChar=u;break;default:return void(this.write=s)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function s(t){return t.toString(this.encoding)}function a(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function u(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(t){for(var e=\"\";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return\"\";if(t=t.slice(r,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=\"\"}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived);var i;n=(e+=t.toString(this.encoding,0,n)).length-1;if((i=e.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,n)}return e},o.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(1==e&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e},o.prototype.end=function(t){var e=\"\";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e}},{buffer:6}],6:[function(e,r,n){(function(t){\n/*!\n       * The buffer module from node.js, for the browser.\n       *\n       * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n       * @license  MIT\n       */\n\"use strict\";var r=e(\"base64-js\"),i=e(\"ieee754\"),o=e(\"isarray\");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError(\"Invalid typed array length\");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if(\"number\"==typeof t){if(\"string\"==typeof e)throw new Error(\"If encoding is specified then the first argument must be a string\");return h(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(e.byteLength<r+(n||0))throw new RangeError(\"'length' is out of bounds\");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=l(t,e);return t}(t,e,r,n):\"string\"==typeof e?function(t,e,r){\"string\"==typeof r&&\"\"!==r||(r=\"utf8\");if(!u.isEncoding(r))throw new TypeError('\"encoding\" must be a valid string encoding');var n=0|d(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if(\"undefined\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return\"number\"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):l(t,e);if(\"Buffer\"===e.type&&o(e.data))return l(t,e.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(t,e)}function f(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be a number');if(t<0)throw new RangeError('\"size\" argument must not be negative')}function h(t,e){if(f(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+s().toString(16)+\" bytes\");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;\"string\"!=typeof t&&(t=\"\"+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":case void 0:return U(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return F(t).length;default:if(n)return U(t).length;e=(\"\"+e).toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,i);if(\"number\"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function g(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(c(t,o+l)!==c(e,l)){h=!1;break}if(h)return o}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function v(t,e,r,n){return q(U(e,t.length-r),t,r,n)}function _(t,e,r,n){return q(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return _(t,e,r,n)}function S(t,e,r,n){return q(F(e),t,r,n)}function k(t,e,r,n){return q(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var r=\"\",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}n.Buffer=u,n.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},n.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\"function\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?a(t,e):void 0!==r?\"string\"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError(\"Arguments must be Buffers\");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!u.isBuffer(s))throw new TypeError('\"list\" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?\"\":0===arguments.length?A(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(e>>>=0))return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return I(this,e,r);case\"utf8\":case\"utf-8\":return A(this,e,r);case\"ascii\":return T(this,e,r);case\"latin1\":case\"binary\":return B(this,e,r);case\"base64\":return E(this,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return C(this,e,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t=\"\",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\"hex\",0,e).match(/.{2}/g).join(\" \"),this.length>e&&(t+=\" ... \")),\"<Buffer \"+t+\">\"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError(\"out of range index\");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r),h=0;h<a;++h)if(c[h]!==f[h]){o=c[h],s=f[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n=\"utf8\",r=this.length,e=0;else if(void 0===r&&\"string\"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");e|=0,isFinite(r)?(r|=0,void 0===n&&(n=\"utf8\")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var o=!1;;)switch(n){case\"hex\":return b(this,t,e,r);case\"utf8\":case\"utf-8\":return v(this,t,e,r);case\"ascii\":return _(this,t,e,r);case\"latin1\":case\"binary\":return w(this,t,e,r);case\"base64\":return S(this,t,e,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return k(this,t,e,r);default:if(o)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function T(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function B(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",o=e;o<r;++o)i+=D(t[o]);return i}function C(t,e,r){for(var n=t.slice(e,r),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>r)throw new RangeError(\"Trying to access beyond buffer length\")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('\"value\" argument is out of bounds');if(r+n>t.length)throw new RangeError(\"Index out of range\")}function O(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function j(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function N(t,e,r,n,o){return o||j(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,o){return o||j(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if(\"string\"==typeof t){if(\"string\"==typeof e?(n=e,e=0,r=this.length):\"string\"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!u.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n)}else\"number\"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError(\"Out of range index\");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),\"number\"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:U(new u(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var K=/[^+\\/0-9A-Za-z-_]/g;function D(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}(t).replace(K,\"\")).length<2)return\"\";for(;t.length%4!=0;)t+=\"=\";return t}(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"base64-js\":2,ieee754:12,isarray:15}],7:[function(t,e,r){e.exports={100:\"Continue\",101:\"Switching Protocols\",102:\"Processing\",200:\"OK\",201:\"Created\",202:\"Accepted\",203:\"Non-Authoritative Information\",204:\"No Content\",205:\"Reset Content\",206:\"Partial Content\",207:\"Multi-Status\",208:\"Already Reported\",226:\"IM Used\",300:\"Multiple Choices\",301:\"Moved Permanently\",302:\"Found\",303:\"See Other\",304:\"Not Modified\",305:\"Use Proxy\",307:\"Temporary Redirect\",308:\"Permanent Redirect\",400:\"Bad Request\",401:\"Unauthorized\",402:\"Payment Required\",403:\"Forbidden\",404:\"Not Found\",405:\"Method Not Allowed\",406:\"Not Acceptable\",407:\"Proxy Authentication Required\",408:\"Request Timeout\",409:\"Conflict\",410:\"Gone\",411:\"Length Required\",412:\"Precondition Failed\",413:\"Payload Too Large\",414:\"URI Too Long\",415:\"Unsupported Media Type\",416:\"Range Not Satisfiable\",417:\"Expectation Failed\",418:\"I'm a teapot\",421:\"Misdirected Request\",422:\"Unprocessable Entity\",423:\"Locked\",424:\"Failed Dependency\",425:\"Unordered Collection\",426:\"Upgrade Required\",428:\"Precondition Required\",429:\"Too Many Requests\",431:\"Request Header Fields Too Large\",451:\"Unavailable For Legal Reasons\",500:\"Internal Server Error\",501:\"Not Implemented\",502:\"Bad Gateway\",503:\"Service Unavailable\",504:\"Gateway Timeout\",505:\"HTTP Version Not Supported\",506:\"Variant Also Negotiates\",507:\"Insufficient Storage\",508:\"Loop Detected\",509:\"Bandwidth Limit Exceeded\",510:\"Not Extended\",511:\"Network Authentication Required\"}},{}],8:[function(t,e,r){(function(t){function e(t){return Object.prototype.toString.call(t)}r.isArray=function(t){return Array.isArray?Array.isArray(t):\"[object Array]\"===e(t)},r.isBoolean=function(t){return\"boolean\"==typeof t},r.isNull=function(t){return null===t},r.isNullOrUndefined=function(t){return null==t},r.isNumber=function(t){return\"number\"==typeof t},r.isString=function(t){return\"string\"==typeof t},r.isSymbol=function(t){return\"symbol\"==typeof t},r.isUndefined=function(t){return void 0===t},r.isRegExp=function(t){return\"[object RegExp]\"===e(t)},r.isObject=function(t){return\"object\"==typeof t&&null!==t},r.isDate=function(t){return\"[object Date]\"===e(t)},r.isError=function(t){return\"[object Error]\"===e(t)||t instanceof Error},r.isFunction=function(t){return\"function\"==typeof t},r.isPrimitive=function(t){return null===t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||\"symbol\"==typeof t||void 0===t},r.isBuffer=t.isBuffer}).call(this,{isBuffer:t(\"../../is-buffer/index.js\")})},{\"../../is-buffer/index.js\":14}],9:[function(e,n,s){(function(t,e){\n/*!\n       * https://github.com/paulmillr/es6-shim\n       * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)\n       *   and contributors,  MIT License\n       * es6-shim: v0.35.1\n       * see https://github.com/paulmillr/es6-shim/blob/0.35.1/LICENSE\n       * Details and documentation:\n       * https://github.com/paulmillr/es6-shim/\n       */\nvoid 0===(o=\"function\"==typeof(i=function(){\"use strict\";var r,n=Function.call.bind(Function.apply),i=Function.call.bind(Function.call),o=Array.isArray,s=Object.keys,a=function(t){try{return t(),!1}catch(t){return!0}},u=function(t){try{return t()}catch(t){return!1}},c=function(t){return function(){return!n(t,this,arguments)}}(a),f=!!Object.defineProperty&&!a(function(){Object.defineProperty({},\"x\",{get:function(){}})}),h=\"foo\"===function(){}.name,l=Function.call.bind(Array.prototype.forEach),p=Function.call.bind(Array.prototype.reduce),d=Function.call.bind(Array.prototype.filter),y=Function.call.bind(Array.prototype.some),m=function(t,e,r,n){!n&&e in t||(f?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r}):t[e]=r)},g=function(t,e,r){l(s(e),function(n){var i=e[n];m(t,n,i,!!r)})},b=Function.call.bind(Object.prototype.toString),v=function(t){return\"function\"==typeof t},_={getter:function(t,e,r){if(!f)throw new TypeError(\"getters require true ES5 support\");Object.defineProperty(t,e,{configurable:!0,enumerable:!1,get:r})},proxy:function(t,e,r){if(!f)throw new TypeError(\"getters require true ES5 support\");var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,{configurable:n.configurable,enumerable:n.enumerable,get:function(){return t[e]},set:function(r){t[e]=r}})},redefine:function(t,e,r){if(f){var n=Object.getOwnPropertyDescriptor(t,e);n.value=r,Object.defineProperty(t,e,n)}else t[e]=r},defineByDescriptor:function(t,e,r){f?Object.defineProperty(t,e,r):\"value\"in r&&(t[e]=r.value)},preserveToString:function(t,e){e&&v(e.toString)&&m(t,\"toString\",e.toString.bind(e),!0)}},w=Object.create||function(t,e){var r=function(){};r.prototype=t;var n=new r;return void 0!==e&&s(e).forEach(function(t){_.defineByDescriptor(n,t,e[t])}),n},S=function(t,e){return!!Object.setPrototypeOf&&u(function(){var r=function e(r){var n=new t(r);return Object.setPrototypeOf(n,e.prototype),n};return Object.setPrototypeOf(r,t),r.prototype=w(t.prototype,{constructor:{value:r}}),e(r)})},k=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(void 0!==e)return e;throw new Error(\"unable to locate global object\")}(),E=k.isFinite,A=Function.call.bind(String.prototype.indexOf),x=Function.apply.bind(Array.prototype.indexOf),T=Function.call.bind(Array.prototype.concat),B=Function.call.bind(String.prototype.slice),I=Function.call.bind(Array.prototype.push),C=Function.apply.bind(Array.prototype.push),M=Function.call.bind(Array.prototype.shift),P=Math.max,O=Math.min,R=Math.floor,j=Math.abs,N=Math.exp,L=Math.log,K=Math.sqrt,D=Function.call.bind(Object.prototype.hasOwnProperty),U=function(){},F=k.Map,q=F&&F.prototype.delete,H=F&&F.prototype.get,z=F&&F.prototype.has,V=F&&F.prototype.set,G=k.Symbol||{},W=G.species||\"@@species\",$=Number.isNaN||function(t){return t!=t},Y=Number.isFinite||function(t){return\"number\"==typeof t&&E(t)},J=v(Math.sign)?Math.sign:function(t){var e=Number(t);return 0===e?e:$(e)?e:e<0?-1:1},Z=function(t){return\"[object Arguments]\"===b(t)},X=Z(arguments)?Z:function(t){return null!==t&&\"object\"==typeof t&&\"number\"==typeof t.length&&t.length>=0&&\"[object Array]\"!==b(t)&&\"[object Function]\"===b(t.callee)},Q={primitive:function(t){return null===t||\"function\"!=typeof t&&\"object\"!=typeof t},string:function(t){return\"[object String]\"===b(t)},regex:function(t){return\"[object RegExp]\"===b(t)},symbol:function(t){return\"function\"==typeof k.Symbol&&\"symbol\"==typeof t}},tt=function(t,e,r){var n=t[e];m(t,e,r,!0),_.preserveToString(t[e],n)},et=\"function\"==typeof G&&\"function\"==typeof G.for&&Q.symbol(G()),rt=Q.symbol(G.iterator)?G.iterator:\"_es6-shim iterator_\";k.Set&&\"function\"==typeof(new k.Set)[\"@@iterator\"]&&(rt=\"@@iterator\"),k.Reflect||m(k,\"Reflect\",{},!0);var nt=k.Reflect,it=String,ot=\"undefined\"!=typeof document&&document?document.all:null,st=null==ot?function(t){return null==t}:function(t){return null==t&&t!==ot},at={Call:function(t,e){var r=arguments.length>2?arguments[2]:[];if(!at.IsCallable(t))throw new TypeError(t+\" is not a function\");return n(t,e,r)},RequireObjectCoercible:function(t,e){if(st(t))throw new TypeError(e||\"Cannot call method on \"+t);return t},TypeIsObject:function(t){return void 0!==t&&null!==t&&!0!==t&&!1!==t&&(\"function\"==typeof t||\"object\"==typeof t||t===ot)},ToObject:function(t,e){return Object(at.RequireObjectCoercible(t,e))},IsCallable:v,IsConstructor:function(t){return at.IsCallable(t)},ToInt32:function(t){return at.ToNumber(t)>>0},ToUint32:function(t){return at.ToNumber(t)>>>0},ToNumber:function(t){if(\"[object Symbol]\"===b(t))throw new TypeError(\"Cannot convert a Symbol value to a number\");return+t},ToInteger:function(t){var e=at.ToNumber(t);return $(e)?0:0!==e&&Y(e)?(e>0?1:-1)*R(j(e)):e},ToLength:function(t){var e=at.ToInteger(t);return e<=0?0:e>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e},SameValue:function(t,e){return t===e?0!==t||1/t==1/e:$(t)&&$(e)},SameValueZero:function(t,e){return t===e||$(t)&&$(e)},IsIterable:function(t){return at.TypeIsObject(t)&&(void 0!==t[rt]||X(t))},GetIterator:function(t){if(X(t))return new r(t,\"value\");var e=at.GetMethod(t,rt);if(!at.IsCallable(e))throw new TypeError(\"value is not an iterable\");var n=at.Call(e,t);if(!at.TypeIsObject(n))throw new TypeError(\"bad iterator\");return n},GetMethod:function(t,e){var r=at.ToObject(t)[e];if(!st(r)){if(!at.IsCallable(r))throw new TypeError(\"Method not callable: \"+e);return r}},IteratorComplete:function(t){return!!t.done},IteratorClose:function(t,e){var r=at.GetMethod(t,\"return\");if(void 0!==r){var n,i;try{n=at.Call(r,t)}catch(t){i=t}if(!e){if(i)throw i;if(!at.TypeIsObject(n))throw new TypeError(\"Iterator's return method returned a non-object.\")}}},IteratorNext:function(t){var e=arguments.length>1?t.next(arguments[1]):t.next();if(!at.TypeIsObject(e))throw new TypeError(\"bad iterator\");return e},IteratorStep:function(t){var e=at.IteratorNext(t),r=at.IteratorComplete(e);return!r&&e},Construct:function(t,e,r,n){var i=void 0===r?t:r;if(!n&&nt.construct)return nt.construct(t,e,i);var o=i.prototype;at.TypeIsObject(o)||(o=Object.prototype);var s=w(o),a=at.Call(t,s,e);return at.TypeIsObject(a)?a:s},SpeciesConstructor:function(t,e){var r=t.constructor;if(void 0===r)return e;if(!at.TypeIsObject(r))throw new TypeError(\"Bad constructor\");var n=r[W];if(st(n))return e;if(!at.IsConstructor(n))throw new TypeError(\"Bad @@species\");return n},CreateHTML:function(t,e,r,n){var i=at.ToString(t),o=\"<\"+e;if(\"\"!==r){var s=at.ToString(n),a=s.replace(/\"/g,\"&quot;\");o+=\" \"+r+'=\"'+a+'\"'}var u=o+\">\",c=u+i;return c+\"</\"+e+\">\"},IsRegExp:function(t){if(!at.TypeIsObject(t))return!1;var e=t[G.match];return void 0!==e?!!e:Q.regex(t)},ToString:function(t){return it(t)}};if(f&&et){var ut=function(t){if(Q.symbol(G[t]))return G[t];var e=G.for(\"Symbol.\"+t);return Object.defineProperty(G,t,{configurable:!1,enumerable:!1,writable:!1,value:e}),e};if(!Q.symbol(G.search)){var ct=ut(\"search\"),ft=String.prototype.search;m(RegExp.prototype,ct,function(t){return at.Call(ft,t,[this])}),tt(String.prototype,\"search\",function(t){var e=at.RequireObjectCoercible(this);if(!st(t)){var r=at.GetMethod(t,ct);if(void 0!==r)return at.Call(r,t,[e])}return at.Call(ft,e,[at.ToString(t)])})}if(!Q.symbol(G.replace)){var ht=ut(\"replace\"),lt=String.prototype.replace;m(RegExp.prototype,ht,function(t,e){return at.Call(lt,t,[this,e])}),tt(String.prototype,\"replace\",function(t,e){var r=at.RequireObjectCoercible(this);if(!st(t)){var n=at.GetMethod(t,ht);if(void 0!==n)return at.Call(n,t,[r,e])}return at.Call(lt,r,[at.ToString(t),e])})}if(!Q.symbol(G.split)){var pt=ut(\"split\"),dt=String.prototype.split;m(RegExp.prototype,pt,function(t,e){return at.Call(dt,t,[this,e])}),tt(String.prototype,\"split\",function(t,e){var r=at.RequireObjectCoercible(this);if(!st(t)){var n=at.GetMethod(t,pt);if(void 0!==n)return at.Call(n,t,[r,e])}return at.Call(dt,r,[at.ToString(t),e])})}var yt=Q.symbol(G.match),mt=yt&&function(){var t={};return t[G.match]=function(){return 42},42!==\"a\".match(t)}();if(!yt||mt){var gt=ut(\"match\"),bt=String.prototype.match;m(RegExp.prototype,gt,function(t){return at.Call(bt,t,[this])}),tt(String.prototype,\"match\",function(t){var e=at.RequireObjectCoercible(this);if(!st(t)){var r=at.GetMethod(t,gt);if(void 0!==r)return at.Call(r,t,[e])}return at.Call(bt,e,[at.ToString(t)])})}}var vt=function(t,e,r){_.preserveToString(e,t),Object.setPrototypeOf&&Object.setPrototypeOf(t,e),f?l(Object.getOwnPropertyNames(t),function(n){n in U||r[n]||_.proxy(t,n,e)}):l(Object.keys(t),function(n){n in U||r[n]||(e[n]=t[n])}),e.prototype=t.prototype,_.redefine(t.prototype,\"constructor\",e)},_t=function(){return this},wt=function(t){f&&!D(t,W)&&_.getter(t,W,_t)},St=function(t,e){var r=e||function(){return this};m(t,rt,r),!t[rt]&&Q.symbol(rt)&&(t[rt]=r)},kt=function(t,e,r){if(function(t,e,r){f?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:r}):t[e]=r}(t,e,r),!at.SameValue(t[e],r))throw new TypeError(\"property is nonconfigurable\")},Et=function(t,e,r,n){if(!at.TypeIsObject(t))throw new TypeError(\"Constructor requires `new`: \"+e.name);var i=e.prototype;at.TypeIsObject(i)||(i=r);var o=w(i);for(var s in n)if(D(n,s)){var a=n[s];m(o,s,a,!0)}return o};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var At=String.fromCodePoint;tt(String,\"fromCodePoint\",function(t){return at.Call(At,this,arguments)})}var xt={fromCodePoint:function(t){for(var e,r=[],n=0,i=arguments.length;n<i;n++){if(e=Number(arguments[n]),!at.SameValue(e,at.ToInteger(e))||e<0||e>1114111)throw new RangeError(\"Invalid code point \"+e);e<65536?I(r,String.fromCharCode(e)):(e-=65536,I(r,String.fromCharCode(55296+(e>>10))),I(r,String.fromCharCode(e%1024+56320)))}return r.join(\"\")},raw:function(t){var e=at.ToObject(t,\"bad callSite\"),r=at.ToObject(e.raw,\"bad raw value\"),n=r.length,i=at.ToLength(n);if(i<=0)return\"\";for(var o,s,a,u,c=[],f=0;f<i&&(o=at.ToString(f),a=at.ToString(r[o]),I(c,a),!(f+1>=i));)s=f+1<arguments.length?arguments[f+1]:\"\",u=at.ToString(s),I(c,u),f+=1;return c.join(\"\")}};String.raw&&\"xy\"!==String.raw({raw:{0:\"x\",1:\"y\",length:2}})&&tt(String,\"raw\",xt.raw),g(String,xt);var Tt=1/0,Bt={repeat:function(t){var e=at.ToString(at.RequireObjectCoercible(this)),r=at.ToInteger(t);if(r<0||r>=Tt)throw new RangeError(\"repeat count must be less than infinity and not overflow maximum string size\");return function t(e,r){if(r<1)return\"\";if(r%2)return t(e,r-1)+e;var n=t(e,r/2);return n+n}(e,r)},startsWith:function(t){var e=at.ToString(at.RequireObjectCoercible(this));if(at.IsRegExp(t))throw new TypeError('Cannot call method \"startsWith\" with a regex');var r,n=at.ToString(t);arguments.length>1&&(r=arguments[1]);var i=P(at.ToInteger(r),0);return B(e,i,i+n.length)===n},endsWith:function(t){var e=at.ToString(at.RequireObjectCoercible(this));if(at.IsRegExp(t))throw new TypeError('Cannot call method \"endsWith\" with a regex');var r,n=at.ToString(t),i=e.length;arguments.length>1&&(r=arguments[1]);var o=void 0===r?i:at.ToInteger(r),s=O(P(o,0),i);return B(e,s-n.length,s)===n},includes:function(t){if(at.IsRegExp(t))throw new TypeError('\"includes\" does not accept a RegExp');var e,r=at.ToString(t);return arguments.length>1&&(e=arguments[1]),-1!==A(this,r,e)},codePointAt:function(t){var e=at.ToString(at.RequireObjectCoercible(this)),r=at.ToInteger(t),n=e.length;if(r>=0&&r<n){var i=e.charCodeAt(r),o=r+1===n;if(i<55296||i>56319||o)return i;var s=e.charCodeAt(r+1);return s<56320||s>57343?i:1024*(i-55296)+(s-56320)+65536}}};if(String.prototype.includes&&!1!==\"a\".includes(\"a\",1/0)&&tt(String.prototype,\"includes\",Bt.includes),String.prototype.startsWith&&String.prototype.endsWith){var It=a(function(){\"/a/\".startsWith(/a/)}),Ct=u(function(){return!1===\"abc\".startsWith(\"a\",1/0)});It&&Ct||(tt(String.prototype,\"startsWith\",Bt.startsWith),tt(String.prototype,\"endsWith\",Bt.endsWith))}if(et){var Mt=u(function(){var t=/a/;return t[G.match]=!1,\"/a/\".startsWith(t)});Mt||tt(String.prototype,\"startsWith\",Bt.startsWith);var Pt=u(function(){var t=/a/;return t[G.match]=!1,\"/a/\".endsWith(t)});Pt||tt(String.prototype,\"endsWith\",Bt.endsWith);var Ot=u(function(){var t=/a/;return t[G.match]=!1,\"/a/\".includes(t)});Ot||tt(String.prototype,\"includes\",Bt.includes)}g(String.prototype,Bt);var Rt=[\"\\t\\n\\v\\f\\r   ᠎    \",\"         　\\u2028\",\"\\u2029\\ufeff\"].join(\"\"),jt=new RegExp(\"(^[\"+Rt+\"]+)|([\"+Rt+\"]+$)\",\"g\"),Nt=function(){return at.ToString(at.RequireObjectCoercible(this)).replace(jt,\"\")},Lt=[\"\",\"​\",\"￾\"].join(\"\"),Kt=new RegExp(\"[\"+Lt+\"]\",\"g\"),Dt=/^[-+]0x[0-9a-f]+$/i,Ut=Lt.trim().length!==Lt.length;m(String.prototype,\"trim\",Nt,Ut);var Ft=function(t){return{value:t,done:0===arguments.length}},qt=function(t){at.RequireObjectCoercible(t),this._s=at.ToString(t),this._i=0};qt.prototype.next=function(){var t=this._s,e=this._i;if(void 0===t||e>=t.length)return this._s=void 0,Ft();var r,n,i=t.charCodeAt(e);return i<55296||i>56319||e+1===t.length?n=1:(r=t.charCodeAt(e+1),n=r<56320||r>57343?1:2),this._i=e+n,Ft(t.substr(e,n))},St(qt.prototype),St(String.prototype,function(){return new qt(this)});var Ht={from:function(t){var e,r,n,o=this;if(arguments.length>1&&(e=arguments[1]),void 0===e)r=!1;else{if(!at.IsCallable(e))throw new TypeError(\"Array.from: when provided, the second argument must be a function\");arguments.length>2&&(n=arguments[2]),r=!0}var s,a,u,c=void 0!==(X(t)||at.GetMethod(t,rt));if(c){a=at.IsConstructor(o)?Object(new o):[];var f,h,l=at.GetIterator(t);for(u=0;!1!==(f=at.IteratorStep(l));){h=f.value;try{r&&(h=void 0===n?e(h,u):i(e,n,h,u)),a[u]=h}catch(t){throw at.IteratorClose(l,!0),t}u+=1}s=u}else{var p,d=at.ToObject(t);for(s=at.ToLength(d.length),a=at.IsConstructor(o)?Object(new o(s)):new Array(s),u=0;u<s;++u)p=d[u],r&&(p=void 0===n?e(p,u):i(e,n,p,u)),kt(a,u,p)}return a.length=s,a},of:function(){for(var t=arguments.length,e=this,r=o(e)||!at.IsCallable(e)?new Array(t):at.Construct(e,[t]),n=0;n<t;++n)kt(r,n,arguments[n]);return r.length=t,r}};g(Array,Ht),wt(Array),g((r=function(t,e){this.i=0,this.array=t,this.kind=e}).prototype,{next:function(){var t=this.i,e=this.array;if(!(this instanceof r))throw new TypeError(\"Not an ArrayIterator\");if(void 0!==e)for(var n=at.ToLength(e.length);t<n;t++){var i,o=this.kind;return\"key\"===o?i=t:\"value\"===o?i=e[t]:\"entry\"===o&&(i=[t,e[t]]),this.i=t+1,Ft(i)}return this.array=void 0,Ft()}}),St(r.prototype),Array.of===Ht.of||function(){var t=function(t){this.length=t};t.prototype=[];var e=Array.of.apply(t,[1,2]);return e instanceof t&&2===e.length}()||tt(Array,\"of\",Ht.of);var zt={copyWithin:function(t,e){var r,n=at.ToObject(this),i=at.ToLength(n.length),o=at.ToInteger(t),s=at.ToInteger(e),a=o<0?P(i+o,0):O(o,i),u=s<0?P(i+s,0):O(s,i);arguments.length>2&&(r=arguments[2]);var c=void 0===r?i:at.ToInteger(r),f=c<0?P(i+c,0):O(c,i),h=O(f-u,i-a),l=1;for(u<a&&a<u+h&&(l=-1,u+=h-1,a+=h-1);h>0;)u in n?n[a]=n[u]:delete n[a],u+=l,a+=l,h-=1;return n},fill:function(t){var e,r;arguments.length>1&&(e=arguments[1]),arguments.length>2&&(r=arguments[2]);var n=at.ToObject(this),i=at.ToLength(n.length);e=at.ToInteger(void 0===e?0:e),r=at.ToInteger(void 0===r?i:r);for(var o=e<0?P(i+e,0):O(e,i),s=r<0?i+r:r,a=o;a<i&&a<s;++a)n[a]=t;return n},find:function(t){var e=at.ToObject(this),r=at.ToLength(e.length);if(!at.IsCallable(t))throw new TypeError(\"Array#find: predicate must be a function\");for(var n,o=arguments.length>1?arguments[1]:null,s=0;s<r;s++)if(n=e[s],o){if(i(t,o,n,s,e))return n}else if(t(n,s,e))return n},findIndex:function(t){var e=at.ToObject(this),r=at.ToLength(e.length);if(!at.IsCallable(t))throw new TypeError(\"Array#findIndex: predicate must be a function\");for(var n=arguments.length>1?arguments[1]:null,o=0;o<r;o++)if(n){if(i(t,n,e[o],o,e))return o}else if(t(e[o],o,e))return o;return-1},keys:function(){return new r(this,\"key\")},values:function(){return new r(this,\"value\")},entries:function(){return new r(this,\"entry\")}};if(Array.prototype.keys&&!at.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!at.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[rt]&&(g(Array.prototype,{values:Array.prototype[rt]}),Q.symbol(G.unscopables)&&(Array.prototype[G.unscopables].values=!0)),h&&Array.prototype.values&&\"values\"!==Array.prototype.values.name){var Vt=Array.prototype.values;tt(Array.prototype,\"values\",function(){return at.Call(Vt,this,arguments)}),m(Array.prototype,rt,Array.prototype.values,!0)}g(Array.prototype,zt),1/[!0].indexOf(!0,-0)<0&&m(Array.prototype,\"indexOf\",function(t){var e=x(this,arguments);return 0===e&&1/e<0?0:e},!0),St(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&St(Object.getPrototypeOf([].values()));var Gt=u(function(){return 0===Array.from({length:-1}).length}),Wt=function(){var t=Array.from([0].entries());return 1===t.length&&o(t[0])&&0===t[0][0]&&0===t[0][1]}();if(Gt&&Wt||tt(Array,\"from\",Ht.from),!u(function(){return Array.from([0],void 0)})){var $t=Array.from;tt(Array,\"from\",function(t){return arguments.length>1&&void 0!==arguments[1]?at.Call($t,this,arguments):i($t,this,t)})}var Yt=-(Math.pow(2,32)-1),Jt=function(t,e){var r={length:Yt};return r[e?(r.length>>>0)-1:0]=!0,u(function(){return i(t,r,function(){throw new RangeError(\"should not reach here\")},[]),!0})};if(!Jt(Array.prototype.forEach)){var Zt=Array.prototype.forEach;tt(Array.prototype,\"forEach\",function(t){return at.Call(Zt,this.length>=0?this:[],arguments)})}if(!Jt(Array.prototype.map)){var Xt=Array.prototype.map;tt(Array.prototype,\"map\",function(t){return at.Call(Xt,this.length>=0?this:[],arguments)})}if(!Jt(Array.prototype.filter)){var Qt=Array.prototype.filter;tt(Array.prototype,\"filter\",function(t){return at.Call(Qt,this.length>=0?this:[],arguments)})}if(!Jt(Array.prototype.some)){var te=Array.prototype.some;tt(Array.prototype,\"some\",function(t){return at.Call(te,this.length>=0?this:[],arguments)})}if(!Jt(Array.prototype.every)){var ee=Array.prototype.every;tt(Array.prototype,\"every\",function(t){return at.Call(ee,this.length>=0?this:[],arguments)})}if(!Jt(Array.prototype.reduce)){var re=Array.prototype.reduce;tt(Array.prototype,\"reduce\",function(t){return at.Call(re,this.length>=0?this:[],arguments)})}if(!Jt(Array.prototype.reduceRight,!0)){var ne=Array.prototype.reduceRight;tt(Array.prototype,\"reduceRight\",function(t){return at.Call(ne,this.length>=0?this:[],arguments)})}var ie=8!==Number(\"0o10\"),oe=2!==Number(\"0b10\"),se=y(Lt,function(t){return 0===Number(t+0+t)});if(ie||oe||se){var ae=Number,ue=/^0b[01]+$/i,ce=/^0o[0-7]+$/i,fe=ue.test.bind(ue),he=ce.test.bind(ce),le=Kt.test.bind(Kt),pe=Dt.test.bind(Dt),de=function(){var t=function(e){var r;\"string\"==typeof(r=arguments.length>0?Q.primitive(e)?e:function(t){var e;if(\"function\"==typeof t.valueOf&&(e=t.valueOf(),Q.primitive(e)))return e;if(\"function\"==typeof t.toString&&(e=t.toString(),Q.primitive(e)))return e;throw new TypeError(\"No default value\")}(e):0)&&(r=at.Call(Nt,r),fe(r)?r=parseInt(B(r,2),2):he(r)?r=parseInt(B(r,2),8):(le(r)||pe(r))&&(r=NaN));var n=this,i=u(function(){return ae.prototype.valueOf.call(n),!0});return n instanceof t&&!i?new ae(r):ae(r)};return t}();vt(ae,de,{}),g(de,{NaN:ae.NaN,MAX_VALUE:ae.MAX_VALUE,MIN_VALUE:ae.MIN_VALUE,NEGATIVE_INFINITY:ae.NEGATIVE_INFINITY,POSITIVE_INFINITY:ae.POSITIVE_INFINITY}),Number=de,_.redefine(k,\"Number\",de)}var ye=Math.pow(2,53)-1;g(Number,{MAX_SAFE_INTEGER:ye,MIN_SAFE_INTEGER:-ye,EPSILON:2.220446049250313e-16,parseInt:k.parseInt,parseFloat:k.parseFloat,isFinite:Y,isInteger:function(t){return Y(t)&&at.ToInteger(t)===t},isSafeInteger:function(t){return Number.isInteger(t)&&j(t)<=Number.MAX_SAFE_INTEGER},isNaN:$}),m(Number,\"parseInt\",k.parseInt,Number.parseInt!==k.parseInt),1===[,1].find(function(){return!0})&&tt(Array.prototype,\"find\",zt.find),0!==[,1].findIndex(function(){return!0})&&tt(Array.prototype,\"findIndex\",zt.findIndex);var me=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),ge=function(t,e){f&&me(t,e)&&Object.defineProperty(t,e,{enumerable:!1})},be=function(){for(var t=Number(this),e=arguments.length,r=e-t,n=new Array(r<0?0:r),i=t;i<e;++i)n[i-t]=arguments[i];return n},ve=function(t){return function(e,r){return e[r]=t[r],e}},_e=function(t,e){var r,n=s(Object(e));return at.IsCallable(Object.getOwnPropertySymbols)&&(r=d(Object.getOwnPropertySymbols(Object(e)),me(e))),p(T(n,r||[]),ve(e),t)},we={assign:function(t,e){var r=at.ToObject(t,\"Cannot convert undefined or null to object\");return p(at.Call(be,1,arguments),_e,r)},is:function(t,e){return at.SameValue(t,e)}};if(Object.assign&&Object.preventExtensions&&function(){var t=Object.preventExtensions({1:2});try{Object.assign(t,\"xy\")}catch(e){return\"y\"===t[1]}}()&&tt(Object,\"assign\",we.assign),g(Object,we),f){var Se={setPrototypeOf:function(t,e){var r,n=function(t,e){return function(t,e){if(!at.TypeIsObject(t))throw new TypeError(\"cannot set prototype on a non-object\");if(null!==e&&!at.TypeIsObject(e))throw new TypeError(\"can only set prototype to an object or null\"+e)}(t,e),i(r,t,e),t};try{r=t.getOwnPropertyDescriptor(t.prototype,\"__proto__\").set,i(r,{},null)}catch(e){if(t.prototype!=={}.__proto__)return;r=function(t){this.__proto__=t},n.polyfill=n(n({},null),t.prototype)instanceof t}return n}(Object)};g(Object,Se)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&function(){var t=Object.create(null),e=Object.getPrototypeOf,r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=e(r);return n===t?null:n},Object.setPrototypeOf=function(e,n){var i=null===n?t:n;return r(e,i)},Object.setPrototypeOf.polyfill=!1}(),a(function(){Object.keys(\"foo\")})){var ke=Object.keys;tt(Object,\"keys\",function(t){return ke(at.ToObject(t))}),s=Object.keys}if(a(function(){Object.keys(/a/g)})){var Ee=Object.keys;tt(Object,\"keys\",function(t){if(Q.regex(t)){var e=[];for(var r in t)D(t,r)&&I(e,r);return e}return Ee(t)}),s=Object.keys}if(Object.getOwnPropertyNames){var Ae=!a(function(){Object.getOwnPropertyNames(\"foo\")});if(!Ae){var xe=\"object\"==typeof window?Object.getOwnPropertyNames(window):[],Te=Object.getOwnPropertyNames;tt(Object,\"getOwnPropertyNames\",function(t){var e=at.ToObject(t);if(\"[object Window]\"===b(e))try{return Te(e)}catch(t){return T([],xe)}return Te(e)})}}if(Object.getOwnPropertyDescriptor){var Be=!a(function(){Object.getOwnPropertyDescriptor(\"foo\",\"bar\")});if(!Be){var Ie=Object.getOwnPropertyDescriptor;tt(Object,\"getOwnPropertyDescriptor\",function(t,e){return Ie(at.ToObject(t),e)})}}if(Object.seal){var Ce=!a(function(){Object.seal(\"foo\")});if(!Ce){var Me=Object.seal;tt(Object,\"seal\",function(t){return at.TypeIsObject(t)?Me(t):t})}}if(Object.isSealed){var Pe=!a(function(){Object.isSealed(\"foo\")});if(!Pe){var Oe=Object.isSealed;tt(Object,\"isSealed\",function(t){return!at.TypeIsObject(t)||Oe(t)})}}if(Object.freeze){var Re=!a(function(){Object.freeze(\"foo\")});if(!Re){var je=Object.freeze;tt(Object,\"freeze\",function(t){return at.TypeIsObject(t)?je(t):t})}}if(Object.isFrozen){var Ne=!a(function(){Object.isFrozen(\"foo\")});if(!Ne){var Le=Object.isFrozen;tt(Object,\"isFrozen\",function(t){return!at.TypeIsObject(t)||Le(t)})}}if(Object.preventExtensions){var Ke=!a(function(){Object.preventExtensions(\"foo\")});if(!Ke){var De=Object.preventExtensions;tt(Object,\"preventExtensions\",function(t){return at.TypeIsObject(t)?De(t):t})}}if(Object.isExtensible){var Ue=!a(function(){Object.isExtensible(\"foo\")});if(!Ue){var Fe=Object.isExtensible;tt(Object,\"isExtensible\",function(t){return!!at.TypeIsObject(t)&&Fe(t)})}}if(Object.getPrototypeOf){var qe=!a(function(){Object.getPrototypeOf(\"foo\")});if(!qe){var He=Object.getPrototypeOf;tt(Object,\"getPrototypeOf\",function(t){return He(at.ToObject(t))})}}var ze=f&&function(){var t=Object.getOwnPropertyDescriptor(RegExp.prototype,\"flags\");return t&&at.IsCallable(t.get)}();f&&!ze&&_.getter(RegExp.prototype,\"flags\",function(){if(!at.TypeIsObject(this))throw new TypeError(\"Method called on incompatible type: must be an object.\");var t=\"\";return this.global&&(t+=\"g\"),this.ignoreCase&&(t+=\"i\"),this.multiline&&(t+=\"m\"),this.unicode&&(t+=\"u\"),this.sticky&&(t+=\"y\"),t});var Ve=f&&u(function(){return\"/a/i\"===String(new RegExp(/a/g,\"i\"))}),Ge=et&&f&&function(){var t=/./;return t[G.match]=!1,RegExp(t)===t}(),We=u(function(){return\"/abc/\"===RegExp.prototype.toString.call({source:\"abc\"})}),$e=We&&u(function(){return\"/a/b\"===RegExp.prototype.toString.call({source:\"a\",flags:\"b\"})});if(!We||!$e){var Ye=RegExp.prototype.toString;m(RegExp.prototype,\"toString\",function(){var t=at.RequireObjectCoercible(this);if(Q.regex(t))return i(Ye,t);var e=it(t.source),r=it(t.flags);return\"/\"+e+\"/\"+r},!0),_.preserveToString(RegExp.prototype.toString,Ye)}if(f&&(!Ve||Ge)){var Je=Object.getOwnPropertyDescriptor(RegExp.prototype,\"flags\").get,Ze=Object.getOwnPropertyDescriptor(RegExp.prototype,\"source\")||{},Xe=at.IsCallable(Ze.get)?Ze.get:function(){return this.source},Qe=RegExp,tr=function t(e,r){var n=at.IsRegExp(e),i=this instanceof t;if(!i&&n&&void 0===r&&e.constructor===t)return e;var o=e,s=r;return Q.regex(e)?(o=at.Call(Xe,e),s=void 0===r?at.Call(Je,e):r,new t(o,s)):(n&&(o=e.source,s=void 0===r?e.flags:r),new Qe(e,r))};vt(Qe,tr,{$input:!0}),RegExp=tr,_.redefine(k,\"RegExp\",tr)}if(f){var er={input:\"$_\",lastMatch:\"$&\",lastParen:\"$+\",leftContext:\"$`\",rightContext:\"$'\"};l(s(er),function(t){t in RegExp&&!(er[t]in RegExp)&&_.getter(RegExp,er[t],function(){return RegExp[t]})})}wt(RegExp);var rr=1/Number.EPSILON,nr=Math.pow(2,-23),ir=Math.pow(2,127)*(2-nr),or=Math.pow(2,-126),sr=Math.E,ar=Math.LOG2E,ur=Math.LOG10E,cr=Number.prototype.clz;delete Number.prototype.clz;var fr={acosh:function(t){var e=Number(t);return $(e)||t<1?NaN:1===e?0:e===1/0?e:L(e/sr+K(e+1)*K(e-1)/sr)+1},asinh:function t(e){var r=Number(e);return 0!==r&&E(r)?r<0?-t(-r):L(r+K(r*r+1)):r},atanh:function(t){var e=Number(t);return $(e)||e<-1||e>1?NaN:-1===e?-1/0:1===e?1/0:0===e?e:.5*L((1+e)/(1-e))},cbrt:function(t){var e=Number(t);if(0===e)return e;var r,n=e<0;return n&&(e=-e),e===1/0?r=1/0:(r=N(L(e)/3),r=(e/(r*r)+2*r)/3),n?-r:r},clz32:function(t){var e=Number(t),r=at.ToUint32(e);return 0===r?32:cr?at.Call(cr,r):31-R(L(r+.5)*ar)},cosh:function(t){var e=Number(t);return 0===e?1:$(e)?NaN:E(e)?(e<0&&(e=-e),e>21?N(e)/2:(N(e)+N(-e))/2):1/0},expm1:function(t){var e=Number(t);if(e===-1/0)return-1;if(!E(e)||0===e)return e;if(j(e)>.5)return N(e)-1;for(var r=e,n=0,i=1;n+r!==n;)n+=r,r*=e/(i+=1);return n},hypot:function(t,e){for(var r=0,n=0,i=0;i<arguments.length;++i){var o=j(Number(arguments[i]));n<o?(r*=n/o*(n/o),r+=1,n=o):r+=o>0?o/n*(o/n):o}return n===1/0?1/0:n*K(r)},log2:function(t){return L(t)*ar},log10:function(t){return L(t)*ur},log1p:function(t){var e=Number(t);return e<-1||$(e)?NaN:0===e||e===1/0?e:-1===e?-1/0:1+e-1==0?e:e*(L(1+e)/(1+e-1))},sign:J,sinh:function(t){var e=Number(t);return E(e)&&0!==e?j(e)<1?(Math.expm1(e)-Math.expm1(-e))/2:(N(e-1)-N(-e-1))*sr/2:e},tanh:function(t){var e=Number(t);return $(e)||0===e?e:e>=20?1:e<=-20?-1:(Math.expm1(e)-Math.expm1(-e))/(N(e)+N(-e))},trunc:function(t){var e=Number(t);return e<0?-R(-e):R(e)},imul:function(t,e){var r=at.ToUint32(t),n=at.ToUint32(e),i=r>>>16&65535,o=65535&r,s=n>>>16&65535,a=65535&n;return o*a+(i*a+o*s<<16>>>0)|0},fround:function(t){var e=Number(t);if(0===e||e===1/0||e===-1/0||$(e))return e;var r=J(e),n=j(e);if(n<or)return r*function(t){return t+rr-rr}(n/or/nr)*or*nr;var i=(1+nr/Number.EPSILON)*n,o=i-(i-n);return o>ir||$(o)?r*(1/0):r*o}};g(Math,fr),m(Math,\"log1p\",fr.log1p,-1e-17!==Math.log1p(-1e-17)),m(Math,\"asinh\",fr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),m(Math,\"tanh\",fr.tanh,-2e-17!==Math.tanh(-2e-17)),m(Math,\"acosh\",fr.acosh,Math.acosh(Number.MAX_VALUE)===1/0),m(Math,\"cbrt\",fr.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),m(Math,\"sinh\",fr.sinh,-2e-17!==Math.sinh(-2e-17));var hr=Math.expm1(10);m(Math,\"expm1\",fr.expm1,hr>22025.465794806718||hr<22025.465794806718);var lr=Math.round,pr=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),dr=[rr+1,2*rr-1].every(function(t){return Math.round(t)===t});m(Math,\"round\",function(t){var e=R(t),r=-1===e?-0:e+1;return t-e<.5?e:r},!pr||!dr),_.preserveToString(Math.round,lr);var yr=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=fr.imul,_.preserveToString(Math.imul,yr)),2!==Math.imul.length&&tt(Math,\"imul\",function(t,e){return at.Call(yr,Math,arguments)});var mr=function(){var e=k.setTimeout;if(\"function\"==typeof e||\"object\"==typeof e){at.IsPromise=function(t){return!!at.TypeIsObject(t)&&void 0!==t._promise};var r,n=function(t){if(!at.IsConstructor(t))throw new TypeError(\"Bad promise constructor\");var e=this;if(e.resolve=void 0,e.reject=void 0,e.promise=new t(function(t,r){if(void 0!==e.resolve||void 0!==e.reject)throw new TypeError(\"Bad Promise implementation!\");e.resolve=t,e.reject=r}),!at.IsCallable(e.resolve)||!at.IsCallable(e.reject))throw new TypeError(\"Bad promise constructor\")};\"undefined\"!=typeof window&&at.IsCallable(window.postMessage)&&(r=function(){var t=[];return window.addEventListener(\"message\",function(e){if(e.source===window&&\"zero-timeout-message\"===e.data){if(e.stopPropagation(),0===t.length)return;var r=M(t);r()}},!0),function(e){I(t,e),window.postMessage(\"zero-timeout-message\",\"*\")}});var o,s,a=at.IsCallable(k.setImmediate)?k.setImmediate:\"object\"==typeof t&&t.nextTick?t.nextTick:function(){var t=k.Promise,e=t&&t.resolve&&t.resolve();return e&&function(t){return e.then(t)}}()||(at.IsCallable(r)?r():function(t){e(t,0)}),u=function(t){return t},c=function(t){throw t},f={},h=function(t,e,r){a(function(){l(t,e,r)})},l=function(t,e,r){var n,i;if(e===f)return t(r);try{n=t(r),i=e.resolve}catch(t){n=t,i=e.reject}i(n)},p=function(t,e){var r=t._promise,n=r.reactionLength;if(n>0&&(h(r.fulfillReactionHandler0,r.reactionCapability0,e),r.fulfillReactionHandler0=void 0,r.rejectReactions0=void 0,r.reactionCapability0=void 0,n>1))for(var i=1,o=0;i<n;i++,o+=3)h(r[o+0],r[o+2],e),t[o+0]=void 0,t[o+1]=void 0,t[o+2]=void 0;r.result=e,r.state=1,r.reactionLength=0},d=function(t,e){var r=t._promise,n=r.reactionLength;if(n>0&&(h(r.rejectReactionHandler0,r.reactionCapability0,e),r.fulfillReactionHandler0=void 0,r.rejectReactions0=void 0,r.reactionCapability0=void 0,n>1))for(var i=1,o=0;i<n;i++,o+=3)h(r[o+1],r[o+2],e),t[o+0]=void 0,t[o+1]=void 0,t[o+2]=void 0;r.result=e,r.state=2,r.reactionLength=0},y=function(t){var e=!1;return{resolve:function(r){var n;if(!e){if(e=!0,r===t)return d(t,new TypeError(\"Self resolution\"));if(!at.TypeIsObject(r))return p(t,r);try{n=r.then}catch(e){return d(t,e)}if(!at.IsCallable(n))return p(t,r);a(function(){b(t,r,n)})}},reject:function(r){if(!e)return e=!0,d(t,r)}}},m=function(t,e,r,n){t===s?i(t,e,r,n,f):i(t,e,r,n)},b=function(t,e,r){var n=y(t),i=n.resolve,o=n.reject;try{m(r,e,i,o)}catch(t){o(t)}},v=function(){var t=function(e){if(!(this instanceof t))throw new TypeError('Constructor Promise requires \"new\"');if(this&&this._promise)throw new TypeError(\"Bad construction\");if(!at.IsCallable(e))throw new TypeError(\"not a valid resolver\");var r=Et(this,t,o,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),n=y(r),i=n.reject;try{e(n.resolve,i)}catch(t){i(t)}return r};return t}();o=v.prototype;var _=function(t,e,r,n){var i=!1;return function(o){if(!i&&(i=!0,e[t]=o,0==--n.count)){var s=r.resolve;s(e)}}};return g(v,{all:function(t){var e=this;if(!at.TypeIsObject(e))throw new TypeError(\"Promise is not object\");var r,i,o=new n(e);try{return r=at.GetIterator(t),function(t,e,r){for(var n,i,o=t.iterator,s=[],a={count:1},u=0;;){try{if(!1===(n=at.IteratorStep(o))){t.done=!0;break}i=n.value}catch(e){throw t.done=!0,e}s[u]=void 0;var c=e.resolve(i),f=_(u,s,r,a);a.count+=1,m(c.then,c,f,r.reject),u+=1}if(0==--a.count){var h=r.resolve;h(s)}return r.promise}(i={iterator:r,done:!1},e,o)}catch(t){var s=t;if(i&&!i.done)try{at.IteratorClose(r,!0)}catch(t){s=t}var a=o.reject;return a(s),o.promise}},race:function(t){var e=this;if(!at.TypeIsObject(e))throw new TypeError(\"Promise is not object\");var r,i,o=new n(e);try{return r=at.GetIterator(t),function(t,e,r){for(var n,i,o,s=t.iterator;;){try{if(!1===(n=at.IteratorStep(s))){t.done=!0;break}i=n.value}catch(e){throw t.done=!0,e}o=e.resolve(i),m(o.then,o,r.resolve,r.reject)}return r.promise}(i={iterator:r,done:!1},e,o)}catch(t){var s=t;if(i&&!i.done)try{at.IteratorClose(r,!0)}catch(t){s=t}var a=o.reject;return a(s),o.promise}},reject:function(t){if(!at.TypeIsObject(this))throw new TypeError(\"Bad promise constructor\");var e=new n(this),r=e.reject;return r(t),e.promise},resolve:function(t){var e=this;if(!at.TypeIsObject(e))throw new TypeError(\"Bad promise constructor\");if(at.IsPromise(t)){var r=t.constructor;if(r===e)return t}var i=new n(e),o=i.resolve;return o(t),i.promise}}),g(o,{catch:function(t){return this.then(null,t)},then:function(t,e){if(!at.IsPromise(this))throw new TypeError(\"not a promise\");var r,i=at.SpeciesConstructor(this,v),o=arguments.length>2&&arguments[2]===f;r=o&&i===v?f:new n(i);var s,a=at.IsCallable(t)?t:u,l=at.IsCallable(e)?e:c,p=this._promise;if(0===p.state){if(0===p.reactionLength)p.fulfillReactionHandler0=a,p.rejectReactionHandler0=l,p.reactionCapability0=r;else{var d=3*(p.reactionLength-1);p[d+0]=a,p[d+1]=l,p[d+2]=r}p.reactionLength+=1}else if(1===p.state)s=p.result,h(a,r,s);else{if(2!==p.state)throw new TypeError(\"unexpected Promise state\");s=p.result,h(l,r,s)}return r.promise}}),f=new n(v),s=o.then,v}}();if(k.Promise&&(delete k.Promise.accept,delete k.Promise.defer,delete k.Promise.prototype.chain),\"function\"==typeof mr){g(k,{Promise:mr});var gr=S(k.Promise,function(t){return t.resolve(42).then(function(){})instanceof t}),br=!a(function(){k.Promise.reject(42).then(null,5).then(null,U)}),vr=a(function(){k.Promise.call(3,U)}),_r=function(t){var e=t.resolve(5);e.constructor={};var r=t.resolve(e);try{r.then(null,U).then(null,U)}catch(t){return!0}return e===r}(k.Promise),wr=f&&function(){var t=0,e=Object.defineProperty({},\"then\",{get:function(){t+=1}});return Promise.resolve(e),1===t}(),Sr=function t(e){var r=new Promise(e);e(3,function(){}),this.then=r.then,this.constructor=t};Sr.prototype=Promise.prototype,Sr.all=Promise.all;var kr=u(function(){return!!Sr.all([1,2])});if(gr&&br&&vr&&!_r&&wr&&!kr||(Promise=mr,tt(k,\"Promise\",mr)),1!==Promise.all.length){var Er=Promise.all;tt(Promise,\"all\",function(t){return at.Call(Er,this,arguments)})}if(1!==Promise.race.length){var Ar=Promise.race;tt(Promise,\"race\",function(t){return at.Call(Ar,this,arguments)})}if(1!==Promise.resolve.length){var xr=Promise.resolve;tt(Promise,\"resolve\",function(t){return at.Call(xr,this,arguments)})}if(1!==Promise.reject.length){var Tr=Promise.reject;tt(Promise,\"reject\",function(t){return at.Call(Tr,this,arguments)})}ge(Promise,\"all\"),ge(Promise,\"race\"),ge(Promise,\"resolve\"),ge(Promise,\"reject\"),wt(Promise)}var Br=function(t){var e=s(p(t,function(t,e){return t[e]=!0,t},{}));return t.join(\":\")===e.join(\":\")},Ir=Br([\"z\",\"a\",\"bb\"]),Cr=Br([\"z\",1,\"a\",\"3\",2]);if(f){var Mr=function(t,e){return e||Ir?st(t)?\"^\"+at.ToString(t):\"string\"==typeof t?\"$\"+t:\"number\"==typeof t?Cr?t:\"n\"+t:\"boolean\"==typeof t?\"b\"+t:null:null},Pr=function(){return Object.create?Object.create(null):{}},Or=function(t,e,r){if(o(r)||Q.string(r))l(r,function(t){if(!at.TypeIsObject(t))throw new TypeError(\"Iterator value \"+t+\" is not an entry object\");e.set(t[0],t[1])});else if(r instanceof t)i(t.prototype.forEach,r,function(t,r){e.set(r,t)});else{var n,s;if(!st(r)){if(s=e.set,!at.IsCallable(s))throw new TypeError(\"bad map\");n=at.GetIterator(r)}if(void 0!==n)for(;;){var a=at.IteratorStep(n);if(!1===a)break;var u=a.value;try{if(!at.TypeIsObject(u))throw new TypeError(\"Iterator value \"+u+\" is not an entry object\");i(s,e,u[0],u[1])}catch(t){throw at.IteratorClose(n,!0),t}}}},Rr=function(t,e,r){if(o(r)||Q.string(r))l(r,function(t){e.add(t)});else if(r instanceof t)i(t.prototype.forEach,r,function(t){e.add(t)});else{var n,s;if(!st(r)){if(s=e.add,!at.IsCallable(s))throw new TypeError(\"bad set\");n=at.GetIterator(r)}if(void 0!==n)for(;;){var a=at.IteratorStep(n);if(!1===a)break;var u=a.value;try{i(s,e,u)}catch(t){throw at.IteratorClose(n,!0),t}}}},jr={Map:function(){var t={},e=function(t,e){this.key=t,this.value=e,this.next=null,this.prev=null};e.prototype.isRemoved=function(){return this.key===t};var r,n=function(t,e){if(!at.TypeIsObject(t)||!function(t){return!!t._es6map}(t))throw new TypeError(\"Method Map.prototype.\"+e+\" called on incompatible receiver \"+at.ToString(t))},o=function(t,e){n(t,\"[[MapIterator]]\"),this.head=t._head,this.i=this.head,this.kind=e};St(o.prototype={next:function(){var t,e=this.i,r=this.kind,n=this.head;if(void 0===this.i)return Ft();for(;e.isRemoved()&&e!==n;)e=e.prev;for(;e.next!==n;)if(!(e=e.next).isRemoved())return t=\"key\"===r?e.key:\"value\"===r?e.value:[e.key,e.value],this.i=e,Ft(t);return this.i=void 0,Ft()}});var s=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires \"new\"');if(this&&this._es6map)throw new TypeError(\"Bad construction\");var n=Et(this,t,r,{_es6map:!0,_head:null,_map:F?new F:null,_size:0,_storage:Pr()}),i=new e(null,null);return i.next=i.prev=i,n._head=i,arguments.length>0&&Or(t,n,arguments[0]),n};return _.getter(r=s.prototype,\"size\",function(){if(void 0===this._size)throw new TypeError(\"size method called on incompatible Map\");return this._size}),g(r,{get:function(t){var e;n(this,\"get\");var r=Mr(t,!0);if(null!==r)return(e=this._storage[r])?e.value:void 0;if(this._map)return(e=H.call(this._map,t))?e.value:void 0;for(var i=this._head,o=i;(o=o.next)!==i;)if(at.SameValueZero(o.key,t))return o.value},has:function(t){n(this,\"has\");var e=Mr(t,!0);if(null!==e)return void 0!==this._storage[e];if(this._map)return z.call(this._map,t);for(var r=this._head,i=r;(i=i.next)!==r;)if(at.SameValueZero(i.key,t))return!0;return!1},set:function(t,r){n(this,\"set\");var i,o=this._head,s=o,a=Mr(t,!0);if(null!==a){if(void 0!==this._storage[a])return this._storage[a].value=r,this;i=this._storage[a]=new e(t,r),s=o.prev}else this._map&&(z.call(this._map,t)?H.call(this._map,t).value=r:(i=new e(t,r),V.call(this._map,t,i),s=o.prev));for(;(s=s.next)!==o;)if(at.SameValueZero(s.key,t))return s.value=r,this;return i=i||new e(t,r),at.SameValue(-0,t)&&(i.key=0),i.next=this._head,i.prev=this._head.prev,i.prev.next=i,i.next.prev=i,this._size+=1,this},delete:function(e){n(this,\"delete\");var r=this._head,i=r,o=Mr(e,!0);if(null!==o){if(void 0===this._storage[o])return!1;i=this._storage[o].prev,delete this._storage[o]}else if(this._map){if(!z.call(this._map,e))return!1;i=H.call(this._map,e).prev,q.call(this._map,e)}for(;(i=i.next)!==r;)if(at.SameValueZero(i.key,e))return i.key=t,i.value=t,i.prev.next=i.next,i.next.prev=i.prev,this._size-=1,!0;return!1},clear:function(){n(this,\"clear\"),this._map=F?new F:null,this._size=0,this._storage=Pr();for(var e=this._head,r=e,i=r.next;(r=i)!==e;)r.key=t,r.value=t,i=r.next,r.next=r.prev=e;e.next=e.prev=e},keys:function(){return n(this,\"keys\"),new o(this,\"key\")},values:function(){return n(this,\"values\"),new o(this,\"value\")},entries:function(){return n(this,\"entries\"),new o(this,\"key+value\")},forEach:function(t){n(this,\"forEach\");for(var e=arguments.length>1?arguments[1]:null,r=this.entries(),o=r.next();!o.done;o=r.next())e?i(t,e,o.value[1],o.value[0],this):t(o.value[1],o.value[0],this)}}),St(r,r.entries),s}(),Set:function(){var t,e=function(t,e){if(!at.TypeIsObject(t)||!function(t){return t._es6set&&void 0!==t._storage}(t))throw new TypeError(\"Set.prototype.\"+e+\" called on incompatible receiver \"+at.ToString(t))},r=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires \"new\"');if(this&&this._es6set)throw new TypeError(\"Bad construction\");var r=Et(this,e,t,{_es6set:!0,\"[[SetData]]\":null,_storage:Pr()});if(!r._es6set)throw new TypeError(\"bad set\");return arguments.length>0&&Rr(e,r,arguments[0]),r};t=r.prototype;var n=function(t){if(!t[\"[[SetData]]\"]){var e=new jr.Map;t[\"[[SetData]]\"]=e,l(s(t._storage),function(t){var r=function(t){var e=t;if(\"^null\"===e)return null;if(\"^undefined\"!==e){var r=e.charAt(0);return\"$\"===r?B(e,1):\"n\"===r?+B(e,1):\"b\"===r?\"btrue\"===e:+e}}(t);e.set(r,r)}),t[\"[[SetData]]\"]=e}t._storage=null};return _.getter(r.prototype,\"size\",function(){return e(this,\"size\"),this._storage?s(this._storage).length:(n(this),this[\"[[SetData]]\"].size)}),g(r.prototype,{has:function(t){var r;return e(this,\"has\"),this._storage&&null!==(r=Mr(t))?!!this._storage[r]:(n(this),this[\"[[SetData]]\"].has(t))},add:function(t){var r;return e(this,\"add\"),this._storage&&null!==(r=Mr(t))?(this._storage[r]=!0,this):(n(this),this[\"[[SetData]]\"].set(t,t),this)},delete:function(t){var r;if(e(this,\"delete\"),this._storage&&null!==(r=Mr(t))){var i=D(this._storage,r);return delete this._storage[r]&&i}return n(this),this[\"[[SetData]]\"].delete(t)},clear:function(){e(this,\"clear\"),this._storage&&(this._storage=Pr()),this[\"[[SetData]]\"]&&this[\"[[SetData]]\"].clear()},values:function(){return e(this,\"values\"),n(this),this[\"[[SetData]]\"].values()},entries:function(){return e(this,\"entries\"),n(this),this[\"[[SetData]]\"].entries()},forEach:function(t){e(this,\"forEach\");var r=arguments.length>1?arguments[1]:null,o=this;n(o),this[\"[[SetData]]\"].forEach(function(e,n){r?i(t,r,n,n,o):t(n,n,o)})}}),m(r.prototype,\"keys\",r.prototype.values,!0),St(r.prototype,r.prototype.values),r}()};if(k.Map||k.Set){var Nr=u(function(){return 2===new Map([[1,2]]).get(1)});Nr||(k.Map=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires \"new\"');var e=new F;return arguments.length>0&&Or(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,k.Map.prototype),e},k.Map.prototype=w(F.prototype),m(k.Map.prototype,\"constructor\",k.Map,!0),_.preserveToString(k.Map,F));var Lr=new Map,Kr=function(){var t=new Map([[1,0],[2,0],[3,0],[4,0]]);return t.set(-0,t),t.get(0)===t&&t.get(-0)===t&&t.has(0)&&t.has(-0)}(),Dr=Lr.set(1,2)===Lr;Kr&&Dr||tt(Map.prototype,\"set\",function(t,e){return i(V,this,0===t?0:t,e),this}),Kr||(g(Map.prototype,{get:function(t){return i(H,this,0===t?0:t)},has:function(t){return i(z,this,0===t?0:t)}},!0),_.preserveToString(Map.prototype.get,H),_.preserveToString(Map.prototype.has,z));var Ur=new Set,Fr=function(t){return t.delete(0),t.add(-0),!t.has(0)}(Ur),qr=Ur.add(1)===Ur;if(!Fr||!qr){var Hr=Set.prototype.add;Set.prototype.add=function(t){return i(Hr,this,0===t?0:t),this},_.preserveToString(Set.prototype.add,Hr)}if(!Fr){var zr=Set.prototype.has;Set.prototype.has=function(t){return i(zr,this,0===t?0:t)},_.preserveToString(Set.prototype.has,zr);var Vr=Set.prototype.delete;Set.prototype.delete=function(t){return i(Vr,this,0===t?0:t)},_.preserveToString(Set.prototype.delete,Vr)}var Gr=S(k.Map,function(t){var e=new t([]);return e.set(42,42),e instanceof t}),Wr=Object.setPrototypeOf&&!Gr,$r=function(){try{return!(k.Map()instanceof k.Map)}catch(t){return t instanceof TypeError}}();0===k.Map.length&&!Wr&&$r||(k.Map=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires \"new\"');var e=new F;return arguments.length>0&&Or(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,t.prototype),e},k.Map.prototype=F.prototype,m(k.Map.prototype,\"constructor\",k.Map,!0),_.preserveToString(k.Map,F));var Yr=S(k.Set,function(t){var e=new t([]);return e.add(42,42),e instanceof t}),Jr=Object.setPrototypeOf&&!Yr,Zr=function(){try{return!(k.Set()instanceof k.Set)}catch(t){return t instanceof TypeError}}();if(0!==k.Set.length||Jr||!Zr){var Xr=k.Set;k.Set=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires \"new\"');var e=new Xr;return arguments.length>0&&Rr(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,t.prototype),e},k.Set.prototype=Xr.prototype,m(k.Set.prototype,\"constructor\",k.Set,!0),_.preserveToString(k.Set,Xr)}var Qr=new k.Map,tn=!u(function(){return Qr.keys().next().done});if((\"function\"!=typeof k.Map.prototype.clear||0!==(new k.Set).size||0!==Qr.size||\"function\"!=typeof k.Map.prototype.keys||\"function\"!=typeof k.Set.prototype.keys||\"function\"!=typeof k.Map.prototype.forEach||\"function\"!=typeof k.Set.prototype.forEach||c(k.Map)||c(k.Set)||\"function\"!=typeof Qr.keys().next||tn||!Gr)&&g(k,{Map:jr.Map,Set:jr.Set},!0),k.Set.prototype.keys!==k.Set.prototype.values&&m(k.Set.prototype,\"keys\",k.Set.prototype.values,!0),St(Object.getPrototypeOf((new k.Map).keys())),St(Object.getPrototypeOf((new k.Set).keys())),h&&\"has\"!==k.Set.prototype.has.name){var en=k.Set.prototype.has;tt(k.Set.prototype,\"has\",function(t){return i(en,this,t)})}}g(k,jr),wt(k.Map),wt(k.Set)}var rn=function(t){if(!at.TypeIsObject(t))throw new TypeError(\"target must be an object\")},nn={apply:function(){return at.Call(at.Call,null,arguments)},construct:function(t,e){if(!at.IsConstructor(t))throw new TypeError(\"First argument must be a constructor.\");var r=arguments.length>2?arguments[2]:t;if(!at.IsConstructor(r))throw new TypeError(\"new.target must be a constructor.\");return at.Construct(t,e,r,\"internal\")},deleteProperty:function(t,e){if(rn(t),f){var r=Object.getOwnPropertyDescriptor(t,e);if(r&&!r.configurable)return!1}return delete t[e]},has:function(t,e){return rn(t),e in t}};Object.getOwnPropertyNames&&Object.assign(nn,{ownKeys:function(t){rn(t);var e=Object.getOwnPropertyNames(t);return at.IsCallable(Object.getOwnPropertySymbols)&&C(e,Object.getOwnPropertySymbols(t)),e}});var on=function(t){return!a(t)};if(Object.preventExtensions&&Object.assign(nn,{isExtensible:function(t){return rn(t),Object.isExtensible(t)},preventExtensions:function(t){return rn(t),on(function(){Object.preventExtensions(t)})}}),f){var sn=function(t,e,r){var n=Object.getOwnPropertyDescriptor(t,e);if(!n){var i=Object.getPrototypeOf(t);if(null===i)return;return sn(i,e,r)}return\"value\"in n?n.value:n.get?at.Call(n.get,r):void 0},an=function(t,e,r,n){var o=Object.getOwnPropertyDescriptor(t,e);if(!o){var s=Object.getPrototypeOf(t);if(null!==s)return an(s,e,r,n);o={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if(\"value\"in o){if(!o.writable)return!1;if(!at.TypeIsObject(n))return!1;var a=Object.getOwnPropertyDescriptor(n,e);return a?nt.defineProperty(n,e,{value:r}):nt.defineProperty(n,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}return!!o.set&&(i(o.set,n,r),!0)};Object.assign(nn,{defineProperty:function(t,e,r){return rn(t),on(function(){Object.defineProperty(t,e,r)})},getOwnPropertyDescriptor:function(t,e){return rn(t),Object.getOwnPropertyDescriptor(t,e)},get:function(t,e){rn(t);var r=arguments.length>2?arguments[2]:t;return sn(t,e,r)},set:function(t,e,r){rn(t);var n=arguments.length>3?arguments[3]:t;return an(t,e,r,n)}})}if(Object.getPrototypeOf){var un=Object.getPrototypeOf;nn.getPrototypeOf=function(t){return rn(t),un(t)}}Object.setPrototypeOf&&nn.getPrototypeOf&&Object.assign(nn,{setPrototypeOf:function(t,e){if(rn(t),null!==e&&!at.TypeIsObject(e))throw new TypeError(\"proto must be an object or null\");return e===nt.getPrototypeOf(t)||!(nt.isExtensible&&!nt.isExtensible(t))&&!function(t,e){for(var r=e;r;){if(t===r)return!0;r=nn.getPrototypeOf(r)}return!1}(t,e)&&(Object.setPrototypeOf(t,e),!0)}}),Object.keys(nn).forEach(function(t){!function(t,e){if(at.IsCallable(k.Reflect[t])){var r=u(function(){return k.Reflect[t](1),k.Reflect[t](NaN),k.Reflect[t](!0),!0});r&&tt(k.Reflect,t,e)}else m(k.Reflect,t,e)}(t,nn[t])});var cn=k.Reflect.getPrototypeOf;if(h&&cn&&\"getPrototypeOf\"!==cn.name&&tt(k.Reflect,\"getPrototypeOf\",function(t){return i(cn,k.Reflect,t)}),k.Reflect.setPrototypeOf&&u(function(){return k.Reflect.setPrototypeOf(1,{}),!0})&&tt(k.Reflect,\"setPrototypeOf\",nn.setPrototypeOf),k.Reflect.defineProperty&&(u(function(){var t=!k.Reflect.defineProperty(1,\"test\",{value:1}),e=\"function\"!=typeof Object.preventExtensions||!k.Reflect.defineProperty(Object.preventExtensions({}),\"test\",{});return t&&e})||tt(k.Reflect,\"defineProperty\",nn.defineProperty)),k.Reflect.construct&&(u(function(){var t=function(){};return k.Reflect.construct(function(){},[],t)instanceof t})||tt(k.Reflect,\"construct\",nn.construct)),\"Invalid Date\"!==String(new Date(NaN))){var fn=Date.prototype.toString;tt(Date.prototype,\"toString\",function(){var t=+this;return t!=t?\"Invalid Date\":at.Call(fn,this)})}var hn={anchor:function(t){return at.CreateHTML(this,\"a\",\"name\",t)},big:function(){return at.CreateHTML(this,\"big\",\"\",\"\")},blink:function(){return at.CreateHTML(this,\"blink\",\"\",\"\")},bold:function(){return at.CreateHTML(this,\"b\",\"\",\"\")},fixed:function(){return at.CreateHTML(this,\"tt\",\"\",\"\")},fontcolor:function(t){return at.CreateHTML(this,\"font\",\"color\",t)},fontsize:function(t){return at.CreateHTML(this,\"font\",\"size\",t)},italics:function(){return at.CreateHTML(this,\"i\",\"\",\"\")},link:function(t){return at.CreateHTML(this,\"a\",\"href\",t)},small:function(){return at.CreateHTML(this,\"small\",\"\",\"\")},strike:function(){return at.CreateHTML(this,\"strike\",\"\",\"\")},sub:function(){return at.CreateHTML(this,\"sub\",\"\",\"\")},sup:function(){return at.CreateHTML(this,\"sup\",\"\",\"\")}};l(Object.keys(hn),function(t){var e=String.prototype[t],r=!1;if(at.IsCallable(e)){var n=i(e,\"\",' \" '),o=T([],n.match(/\"/g)).length;r=n!==n.toLowerCase()||o>2}else r=!0;r&&tt(String.prototype,t,hn[t])});var ln=function(){if(!et)return!1;var t=\"object\"==typeof JSON&&\"function\"==typeof JSON.stringify?JSON.stringify:null;if(!t)return!1;if(void 0!==t(G()))return!0;if(\"[null]\"!==t([G()]))return!0;var e={a:G()};return e[G()]=!0,\"{}\"!==t(e)}(),pn=u(function(){return!et||\"{}\"===JSON.stringify(Object(G()))&&\"[{}]\"===JSON.stringify([Object(G())])});if(ln||!pn){var dn=JSON.stringify;tt(JSON,\"stringify\",function(t){if(\"symbol\"!=typeof t){var e;arguments.length>1&&(e=arguments[1]);var r=[t];if(o(e))r.push(e);else{var n=at.IsCallable(e)?e:null;r.push(function(t,e){var r=n?i(n,this,t,e):e;if(\"symbol\"!=typeof r)return Q.symbol(r)?ve({})(r):r})}return arguments.length>2&&r.push(arguments[2]),dn.apply(this,r)}})}return k})?i.call(s,r,s,n):i)||(n.exports=o)}).call(this,e(\"_process\"),void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{_process:19}],10:[function(t,e,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return\"function\"==typeof t}function o(t){return\"object\"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return\"number\"==typeof t}(t)||t<0||isNaN(t))throw TypeError(\"n must be a positive number\");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,r,n,a,u,c;if(this._events||(this._events={}),\"error\"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified \"error\" event. ('+e+\")\");throw f.context=e,f}if(s(r=this._events[t]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(o(r))for(a=Array.prototype.slice.call(arguments,1),n=(c=r.slice()).length,u=0;u<n;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[t].length),\"function\"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError(\"listener must be a function\");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var r,n,s,a;if(!i(e))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,n=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit(\"removeListener\",t,e);else if(o(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit(\"removeListener\",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)\"removeListener\"!==e&&this.removeAllListeners(e);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(i(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],11:[function(t,e,r){var n=t(\"http\"),i=e.exports;for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);i.request=function(t,e){return t||(t={}),t.scheme=\"https\",t.protocol=\"https:\",n.request.call(this,t,e)}},{http:43}],12:[function(t,e,r){r.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?i-1:0,l=r?-1:1,p=t[e+h];for(h+=l,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+h],h+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*y}},{}],13:[function(t,e,r){\"function\"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],14:[function(t,e,r){function n(t){return!!t.constructor&&\"function\"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}\n/*!\n     * Determine if an object is a Buffer\n     *\n     * @author   Feross Aboukhadijeh <https://feross.org>\n     * @license  MIT\n     */\ne.exports=function(t){return null!=t&&(n(t)||function(t){return\"function\"==typeof t.readFloatLE&&\"function\"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],15:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return\"[object Array]\"==n.call(t)}},{}],16:[function(t,e,r){(function(r){\"use strict\";var n=t(\"stream\"),i=t(\"util\"),o=t(\"string_decoder\").StringDecoder;function s(t,e){if(!(this instanceof s))return new s(t,e);s.super_.call(this,e),this.init(t,e)}function a(t,e){if(!(this instanceof a))return new a(t,e);a.super_.call(this,e),this.init(t,e)}function u(t,e){if(!(this instanceof u))return new u(t,e);u.super_.call(this,e),this.init(t,e)}function c(t,e){if(!(this instanceof c))return new c(t,e);var r=!(e=e||{}).hasOwnProperty(\"readable\")||e.readable,n=!e.hasOwnProperty(\"writable\")||e.writable;if(r&&n)return new u(t,e);if(r)return new s(t,e);if(n)return new a(t,e);throw new Error(\"Unknown stream type  Readable, Writable or Duplex \")}i.inherits(s,n.Readable),i.inherits(a,n.Writable),i.inherits(u,n.Duplex),s.prototype.init=a.prototype.init=u.prototype.init=function(t,e){var n=this;this.queue=[],t&&(Array.isArray(t)||(t=[t]),t.forEach(function(t){t instanceof r||(t=new r(t)),n.queue.push(t)})),e=e||{},this.maxbufsize=e.hasOwnProperty(\"maxbufsize\")?e.maxbufsize:null,this.bufoverflow=e.hasOwnProperty(\"bufoverflow\")?e.bufoverflow:null,this.frequence=e.hasOwnProperty(\"frequence\")?e.frequence:null},c.createReadStream=function(t,e){return(e=e||{}).readable=!0,e.writable=!1,new c(t,e)},c.createWriteStream=function(t,e){return(e=e||{}).readable=!1,e.writable=!0,new c(t,e)},s.prototype._read=u.prototype._read=function(t){var e=this,r=e.frequence||0,i=this instanceof n.Duplex&&!this._writableState.finished;this.queue.length||i?this.queue.length&&setTimeout(function(){if(e.queue.length){var t=e.queue.shift();t&&!e._readableState.ended&&(e.push(t)||e.queue.unshift(t))}},r):this.push(null)},a.prototype._write=u.prototype._write=function(t,e,r){var i=null;try{i=this.decodeStrings&&e?new o(e):null}catch(t){return r(t)}var s=i?i.write(t):t,a=this._getQueueSize(),u=s.length;if(this.maxbufsize&&a+u>this.maxbufsize)return this.bufoverflow?r(\"Buffer overflowed (\"+this.bufoverflow+\"/\"+a+\")\"):r();if(this instanceof n.Duplex){for(;this.queue.length;)this.push(this.queue.shift());this.push(s)}else this.queue.push(s);r()},u.prototype.end=function(t,e,r){var n=this;return u.super_.prototype.end.call(this,t,e,function(){n.push(null),r&&r()})},s.prototype._getQueueSize=a.prototype._getQueueSize=u.prototype._getQueueSize=function(){var t,e=0;for(t=0;t<this.queue.length;t++)e+=Array.isArray(this.queue[t])?this.queue[t][0].length:this.queue[t].length;return e},a.prototype.toString=u.prototype.toString=s.prototype.toString=a.prototype.getAll=u.prototype.getAll=s.prototype.getAll=function(){var t=\"\";return this.queue.forEach(function(e){t+=e}),t},a.prototype.toBuffer=u.prototype.toBuffer=s.prototype.toBuffer=function(){var t=new r(this._getQueueSize()),e=0;return this.queue.forEach(function(n){(n instanceof r?n:new r(n)).copy(t,e),e+=n.length}),t},e.exports=c}).call(this,t(\"buffer\").Buffer)},{buffer:6,stream:42,string_decoder:5,util:54}],17:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];\".\"===i?t.splice(n,1):\"..\"===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift(\"..\");return t}var n=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}r.resolve=function(){for(var r=\"\",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if(\"string\"!=typeof s)throw new TypeError(\"Arguments to path.resolve must be strings\");s&&(r=s+\"/\"+r,n=\"/\"===s.charAt(0))}return r=e(o(r.split(\"/\"),function(t){return!!t}),!n).join(\"/\"),(n?\"/\":\"\")+r||\".\"},r.normalize=function(t){var n=r.isAbsolute(t),i=\"/\"===s(t,-1);return(t=e(o(t.split(\"/\"),function(t){return!!t}),!n).join(\"/\"))||n||(t=\".\"),t&&i&&(t+=\"/\"),(n?\"/\":\"\")+t},r.isAbsolute=function(t){return\"/\"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(o(t,function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"Arguments to path.join must be strings\");return t}).join(\"/\"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&\"\"===t[e];e++);for(var r=t.length-1;r>=0&&\"\"===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split(\"/\")),o=n(e.split(\"/\")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push(\"..\");return(c=c.concat(o.slice(a))).join(\"/\")},r.sep=\"/\",r.delimiter=\":\",r.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):\".\"},r.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return i(t)[3]};var s=\"b\"===\"ab\".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t(\"_process\"))},{_process:19}],18:[function(t,e,r){(function(t){\"use strict\";!t.version||0===t.version.indexOf(\"v0.\")||0===t.version.indexOf(\"v1.\")&&0!==t.version.indexOf(\"v1.8.\")?e.exports={nextTick:function(e,r,n,i){if(\"function\"!=typeof e)throw new TypeError('\"callback\" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,t(\"_process\"))},{_process:19}],19:[function(t,e,r){var n,i,o=e.exports={};function s(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i=\"function\"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,f=[],h=!1,l=-1;function p(){h&&c&&(h=!1,c.length?f=c.concat(f):l=-1,f.length&&d())}function d(){if(!h){var t=u(p);h=!0;for(var e=f.length;e;){for(c=f,f=[];++l<e;)c&&c[l].run();l=-1,e=f.length}c=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];f.push(new y(t,e)),1!==f.length||h||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},{}],20:[function(e,n,i){(function(t){!function(e){\"object\"==typeof i&&i&&i.nodeType,\"object\"==typeof n&&n&&n.nodeType;var s=\"object\"==typeof t&&t;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,f=1,h=26,l=38,p=700,d=72,y=128,m=\"-\",g=/^xn--/,b=/[^\\x20-\\x7E]/,v=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,_={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},w=c-f,S=Math.floor,k=String.fromCharCode;function E(t){throw new RangeError(_[t])}function A(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function x(t,e){var r=t.split(\"@\"),n=\"\";return r.length>1&&(n=r[0]+\"@\",t=r[1]),n+A((t=t.replace(v,\".\")).split(\".\"),e).join(\".\")}function T(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function B(t){return A(t,function(t){var e=\"\";return t>65535&&(e+=k((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=k(t)}).join(\"\")}function I(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,r){var n=0;for(t=r?S(t/p):t>>1,t+=S(t/e);t>w*h>>1;n+=c)t=S(t/w);return S(n+(w+1)*t/(t+l))}function P(t){var e,r,n,i,o,s,a,l,p,g,b=[],v=t.length,_=0,w=y,k=d;for((r=t.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&E(\"not-basic\"),b.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(o=_,s=1,a=c;i>=v&&E(\"invalid-input\"),((l=I(t.charCodeAt(i++)))>=c||l>S((u-_)/s))&&E(\"overflow\"),_+=l*s,!(l<(p=a<=k?f:a>=k+h?h:a-k));a+=c)s>S(u/(g=c-p))&&E(\"overflow\"),s*=g;k=M(_-o,e=b.length+1,0==o),S(_/e)>u-w&&E(\"overflow\"),w+=S(_/e),_%=e,b.splice(_++,0,w)}return B(b)}function O(t){var e,r,n,i,o,s,a,l,p,g,b,v,_,w,A,x=[];for(v=(t=T(t)).length,e=y,r=0,o=d,s=0;s<v;++s)(b=t[s])<128&&x.push(k(b));for(n=i=x.length,i&&x.push(m);n<v;){for(a=u,s=0;s<v;++s)(b=t[s])>=e&&b<a&&(a=b);for(a-e>S((u-r)/(_=n+1))&&E(\"overflow\"),r+=(a-e)*_,e=a,s=0;s<v;++s)if((b=t[s])<e&&++r>u&&E(\"overflow\"),b==e){for(l=r,p=c;!(l<(g=p<=o?f:p>=o+h?h:p-o));p+=c)A=l-g,w=c-g,x.push(k(C(g+A%w,0))),l=S(A/w);x.push(k(C(l,0))),o=M(r,_,n==i),r=0,++n}++r,++e}return x.join(\"\")}a={version:\"1.4.1\",ucs2:{decode:T,encode:B},decode:P,encode:O,toASCII:function(t){return x(t,function(t){return b.test(t)?\"xn--\"+O(t):t})},toUnicode:function(t){return x(t,function(t){return g.test(t)?P(t.slice(4).toLowerCase()):t})}},void 0===(o=function(){return a}.call(i,r,i,n))||(n.exports=o)}()}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],21:[function(t,e,r){\"use strict\";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||\"&\",r=r||\"=\";var s={};if(\"string\"!=typeof t||0===t.length)return s;var a=/\\+/g;t=t.split(e);var u=1e3;o&&\"number\"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var h,l,p,d,y=t[f].replace(a,\"%20\"),m=y.indexOf(r);m>=0?(h=y.substr(0,m),l=y.substr(m+1)):(h=y,l=\"\"),p=decodeURIComponent(h),d=decodeURIComponent(l),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}},{}],22:[function(t,e,r){\"use strict\";var n=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};e.exports=function(t,e,r,a){return e=e||\"&\",r=r||\"=\",null===t&&(t=void 0),\"object\"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):\"\"};var i=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],23:[function(t,e,r){\"use strict\";r.decode=r.parse=t(\"./decode\"),r.encode=r.stringify=t(\"./encode\")},{\"./decode\":21,\"./encode\":22}],24:[function(t,e,r){e.exports=t(\"./lib/_stream_duplex.js\")},{\"./lib/_stream_duplex.js\":25}],25:[function(t,e,r){\"use strict\";var n=t(\"process-nextick-args\"),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=h;var o=t(\"core-util-is\");o.inherits=t(\"inherits\");var s=t(\"./_stream_readable\"),a=t(\"./_stream_writable\");o.inherits(h,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];h.prototype[f]||(h.prototype[f]=a.prototype[f])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},{\"./_stream_readable\":27,\"./_stream_writable\":29,\"core-util-is\":8,inherits:13,\"process-nextick-args\":18}],26:[function(t,e,r){\"use strict\";e.exports=o;var n=t(\"./_stream_transform\"),i=t(\"core-util-is\");function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=t(\"inherits\"),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},{\"./_stream_transform\":28,\"core-util-is\":8,inherits:13}],27:[function(e,r,n){(function(t,n){\"use strict\";var i=e(\"process-nextick-args\");r.exports=v;var o,s=e(\"isarray\");v.ReadableState=b;e(\"events\").EventEmitter;var a=function(t,e){return t.listeners(e).length},u=e(\"./internal/streams/stream\"),c=e(\"safe-buffer\").Buffer,f=n.Uint8Array||function(){};var h=e(\"core-util-is\");h.inherits=e(\"inherits\");var l=e(\"util\"),p=void 0;p=l&&l.debuglog?l.debuglog(\"stream\"):function(){};var d,y=e(\"./internal/streams/BufferList\"),m=e(\"./internal/streams/destroy\");h.inherits(v,u);var g=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function b(t,r){o=o||e(\"./_stream_duplex\"),t=t||{};var n=r instanceof o;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=e(\"string_decoder/\").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||e(\"./_stream_duplex\"),!(this instanceof v))return new v(t);this._readableState=new b(t,this),this.readable=!0,t&&(\"function\"==typeof t.read&&(this._read=t.read),\"function\"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function _(t,e,r,n,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,E(t)}(t,s)):(i||(o=function(t,e){var r;(function(t){return c.isBuffer(t)||t instanceof f})(e)||\"string\"==typeof e||void 0===e||t.objectMode||(r=new TypeError(\"Invalid non-string/buffer chunk\"));return r}(s,e)),o?t.emit(\"error\",o):s.objectMode||e&&e.length>0?(\"string\"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),n?s.endEmitted?t.emit(\"error\",new Error(\"stream.unshift() after end event\")):w(t,s,e,!0):s.ended?t.emit(\"error\",new Error(\"stream.push() after EOF\")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):x(t,s)):w(t,s,e,!1))):n||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit(\"data\",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&E(t)),x(t,e)}Object.defineProperty(v.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:\"string\"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=\"\"),r=!0),_(this,t,e,!1,r)},v.prototype.unshift=function(t){return _(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return d||(d=e(\"string_decoder/\").StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var S=8388608;function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p(\"emitReadable\",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(A,t):A(t))}function A(t){p(\"emit readable\"),t.emit(\"readable\"),C(t)}function x(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(T,t,e))}function T(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p(\"maybeReadMore read 0\"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function B(t){p(\"readable nexttick read 0\"),t.read(0)}function I(t,e){e.reading||(p(\"resume read 0\"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit(\"resume\"),C(t),e.flowing&&!e.reading&&t.read(0)}function C(t){var e=t._readableState;for(p(\"flow\",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(\"\"):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function P(t){var e=t._readableState;if(e.length>0)throw new Error('\"endReadable()\" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(O,e,t))}function O(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit(\"end\"))}function R(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}v.prototype.read=function(t){p(\"read\",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p(\"read: emitReadable\",e.length,e.ended),0===e.length&&e.ended?P(this):E(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&P(this),null;var n,i=e.needReadable;return p(\"need readable\",i),(0===e.length||e.length-t<e.highWaterMark)&&p(\"length less than watermark\",i=!0),e.ended||e.reading?p(\"reading or ended\",i=!1):i&&(p(\"do read\"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(r,e))),null===(n=t>0?M(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&P(this)),null!==n&&this.emit(\"data\",n),n},v.prototype._read=function(t){this.emit(\"error\",new Error(\"_read() is not implemented\"))},v.prototype.pipe=function(e,r){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p(\"pipe count=%d opts=%j\",o.pipesCount,r);var u=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?f:v;function c(t,r){p(\"onunpipe\"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p(\"cleanup\"),e.removeListener(\"close\",g),e.removeListener(\"finish\",b),e.removeListener(\"drain\",h),e.removeListener(\"error\",m),e.removeListener(\"unpipe\",c),n.removeListener(\"end\",f),n.removeListener(\"end\",v),n.removeListener(\"data\",y),l=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function f(){p(\"onend\"),e.end()}o.endEmitted?i.nextTick(u):n.once(\"end\",u),e.on(\"unpipe\",c);var h=function(t){return function(){var e=t._readableState;p(\"pipeOnDrain\",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,\"data\")&&(e.flowing=!0,C(t))}}(n);e.on(\"drain\",h);var l=!1;var d=!1;function y(t){p(\"ondata\"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==R(o.pipes,e))&&!l&&(p(\"false write response, pause\",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function m(t){p(\"onerror\",t),v(),e.removeListener(\"error\",m),0===a(e,\"error\")&&e.emit(\"error\",t)}function g(){e.removeListener(\"finish\",b),v()}function b(){p(\"onfinish\"),e.removeListener(\"close\",g),v()}function v(){p(\"unpipe\"),n.unpipe(e)}return n.on(\"data\",y),function(t,e,r){if(\"function\"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(e,\"error\",m),e.once(\"close\",g),e.once(\"finish\",b),e.emit(\"pipe\",n),o.flowing||(p(\"pipe resume\"),n.resume()),e},v.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit(\"unpipe\",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit(\"unpipe\",this,r);return this}var s=R(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit(\"unpipe\",this,r),this)},v.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if(\"data\"===t)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):i.nextTick(B,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(p(\"resume\"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(I,t,e))}(this,t)),this},v.prototype.pause=function(){return p(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(p(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this},v.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on(\"end\",function(){if(p(\"wrapped end\"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on(\"data\",function(i){(p(\"wrapped data\"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))}),t)void 0===this[i]&&\"function\"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){p(\"wrapped _read\",e),n&&(n=!1,t.resume())},this},Object.defineProperty(v.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=M}).call(this,e(\"_process\"),void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./_stream_duplex\":25,\"./internal/streams/BufferList\":30,\"./internal/streams/destroy\":31,\"./internal/streams/stream\":32,_process:19,\"core-util-is\":8,events:10,inherits:13,isarray:15,\"process-nextick-args\":18,\"safe-buffer\":38,\"string_decoder/\":47,util:3}],28:[function(t,e,r){\"use strict\";e.exports=o;var n=t(\"./_stream_duplex\"),i=t(\"core-util-is\");function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit(\"error\",new Error(\"write callback called multiple times\"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(\"function\"==typeof t.transform&&(this._transform=t.transform),\"function\"==typeof t.flush&&(this._flush=t.flush)),this.on(\"prefinish\",s)}function s(){var t=this;\"function\"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(this,null,null)}function a(t,e,r){if(e)return t.emit(\"error\",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error(\"Calling transform done when ws.length != 0\");if(t._transformState.transforming)throw new Error(\"Calling transform done when still transforming\");return t.push(null)}i.inherits=t(\"inherits\"),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error(\"_transform() is not implemented\")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit(\"close\")})}},{\"./_stream_duplex\":25,\"core-util-is\":8,inherits:13}],29:[function(r,n,i){(function(t,i){\"use strict\";var o=r(\"process-nextick-args\");function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}n.exports=b;var a,u=!t.browser&&[\"v0.10\",\"v0.9.\"].indexOf(t.version.slice(0,5))>-1?e:o.nextTick;b.WritableState=g;var c=r(\"core-util-is\");c.inherits=r(\"inherits\");var f={deprecate:r(\"util-deprecate\")},h=r(\"./internal/streams/stream\"),l=r(\"safe-buffer\").Buffer,p=i.Uint8Array||function(){};var d,y=r(\"./internal/streams/destroy\");function m(){}function g(t,e){a=a||r(\"./_stream_duplex\"),t=t||{};var n=e instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit(\"error\",n)):(i(n),t._writableState.errorEmitted=!0,t.emit(\"error\",n),E(t,e))}(t,r,n,e,i);else{var s=S(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(t,r),n?u(_,t,r,s,i):_(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(t){if(a=a||r(\"./_stream_duplex\"),!(d.call(b,this)||this instanceof a))return new b(t);this._writableState=new g(t,this),this.writable=!0,t&&(\"function\"==typeof t.write&&(this._write=t.write),\"function\"==typeof t.writev&&(this._writev=t.writev),\"function\"==typeof t.destroy&&(this._destroy=t.destroy),\"function\"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function _(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit(\"drain\"))}(t,e),e.pendingcb--,n(),E(t,e)}function w(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,v(t,e,!0,e.length,i,\"\",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,h=r.callback;if(v(t,e,!1,e.objectMode?1:c.length,c,f,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final(function(r){e.pendingcb--,r&&t.emit(\"error\",r),e.prefinished=!0,t.emit(\"prefinish\"),E(t,e)})}function E(t,e){var r=S(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||(\"function\"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(k,t,e)):(e.prefinished=!0,t.emit(\"prefinish\")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit(\"finish\"))),r}c.inherits(b,h),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,\"buffer\",{get:f.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(t){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===b&&(t&&t._writableState instanceof g)}})):d=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))},b.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&function(t){return l.isBuffer(t)||t instanceof p}(t);return s&&!l.isBuffer(t)&&(t=function(t){return l.from(t)}(t)),\"function\"==typeof e&&(r=e,e=null),s?e=\"buffer\":e||(e=n.defaultEncoding),\"function\"!=typeof r&&(r=m),n.ended?function(t,e){var r=new Error(\"write after end\");t.emit(\"error\",r),o.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i=!0,s=!1;return null===r?s=new TypeError(\"May not write null values to stream\"):\"string\"==typeof r||void 0===r||e.objectMode||(s=new TypeError(\"Invalid non-string/buffer chunk\")),s&&(t.emit(\"error\",s),o.nextTick(n,s),i=!1),i}(this,n,t,r))&&(n.pendingcb++,i=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||\"string\"!=typeof e||(e=l.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i=\"buffer\",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,n,i,o);return u}(this,n,s,t,e,r)),i},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},b.prototype.setDefaultEncoding=function(t){if(\"string\"==typeof t&&(t=t.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((t+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(b.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(t,e,r){r(new Error(\"_write() is not implemented\"))},b.prototype._writev=null,b.prototype.end=function(t,e,r){var n=this._writableState;\"function\"==typeof t?(r=t,t=null,e=null):\"function\"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,E(t,e),r&&(e.finished?o.nextTick(r):t.once(\"finish\",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,\"destroyed\",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(\"_process\"),void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./_stream_duplex\":25,\"./internal/streams/destroy\":31,\"./internal/streams/stream\":32,_process:19,\"core-util-is\":8,inherits:13,\"process-nextick-args\":18,\"safe-buffer\":38,\"util-deprecate\":51}],30:[function(t,e,r){\"use strict\";var n=t(\"safe-buffer\").Buffer,i=t(\"util\");function o(t,e,r){t.copy(e,r)}e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return\"\";for(var e=this.head,r=\"\"+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),r=this.head,i=0;r;)o(r.data,e,i),i+=r.data.length,r=r.next;return e},t}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+\" \"+t})},{\"safe-buffer\":38,util:3}],31:[function(t,e,r){\"use strict\";var n=t(\"process-nextick-args\");function i(t,e){t.emit(\"error\",e)}e.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{\"process-nextick-args\":18}],32:[function(t,e,r){e.exports=t(\"events\").EventEmitter},{events:10}],33:[function(t,e,r){e.exports=t(\"./readable\").PassThrough},{\"./readable\":34}],34:[function(t,e,r){(r=e.exports=t(\"./lib/_stream_readable.js\")).Stream=r,r.Readable=r,r.Writable=t(\"./lib/_stream_writable.js\"),r.Duplex=t(\"./lib/_stream_duplex.js\"),r.Transform=t(\"./lib/_stream_transform.js\"),r.PassThrough=t(\"./lib/_stream_passthrough.js\")},{\"./lib/_stream_duplex.js\":25,\"./lib/_stream_passthrough.js\":26,\"./lib/_stream_readable.js\":27,\"./lib/_stream_transform.js\":28,\"./lib/_stream_writable.js\":29}],35:[function(t,e,r){e.exports=t(\"./readable\").Transform},{\"./readable\":34}],36:[function(t,e,r){e.exports=t(\"./lib/_stream_writable.js\")},{\"./lib/_stream_writable.js\":29}],37:[function(t,e,r){\"use strict\";var n=t(\"module\"),i=t(\"path\");e.exports=function(t,r,o){if(\"object\"==typeof r&&(o=r,r=void 0),o=o||{},r=r||\"\",o.appendPaths=o.appendPaths||[],o.prependPaths=o.prependPaths||[],\"string\"!=typeof t)throw new Error(\"code must be a string, not \"+typeof t);var s=n._nodeModulePaths(i.dirname(r)),a=new n(r,e.parent);return a.filename=r,a.paths=[].concat(o.prependPaths).concat(s).concat(o.appendPaths),a._compile(t,r),a.exports}},{module:4,path:17}],38:[function(t,e,r){var n=t(\"buffer\"),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,r),r.Buffer=s),o(i,s),s.from=function(t,e,r){if(\"number\"==typeof t)throw new TypeError(\"Argument must not be a number\");return i(t,e,r)},s.alloc=function(t,e,r){if(\"number\"!=typeof t)throw new TypeError(\"Argument must be a number\");var n=i(t);return void 0!==e?\"string\"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if(\"number\"!=typeof t)throw new TypeError(\"Argument must be a number\");return i(t)},s.allocUnsafeSlow=function(t){if(\"number\"!=typeof t)throw new TypeError(\"Argument must be a number\");return n.SlowBuffer(t)}},{buffer:6}],39:[function(t,e,r){e.exports={linkBytecode:function(t,e){var r={};for(var n in e)if(\"object\"==typeof n)for(var i in e[n])r[i]=e[n][i],r[n+\":\"+i]=e[n][i];else{var o=n.match(/^([^:]*):?(.*)$/);o&&(r[o[2]]=e[n]),r[n]=e[n]}for(n in r){var s=n.slice(0,36),a=\"__\"+s+Array(37-s.length).join(\"_\")+\"__\",u=r[n];if(\"0x\"!==u.slice(0,2)||u.length>42)throw new Error(\"Invalid address specified for \"+n);for(u=u.slice(2),u=Array(40-u.length+1).join(\"0\")+u;t.indexOf(a)>=0;)t=t.replace(a,u)}return t},findLinkReferences:function(t){for(var e={},r=0;;){var n=t.match(/__(.{36})__/);if(!n)break;var i=n.index,o=n[1].replace(/_+$/gm,\"\");e[o]||(e[o]=[]),e[o].push({start:(r+i)/2,length:20}),r+=i+20,t=t.slice(i+20)}return e}}},{}],40:[function(t,e,r){var n=t(\"./linker.js\");function i(t){if(null===t)return\"infinite\";if(\"number\"==typeof t)return t.toString();var e={};for(var r in t)e[r]=i(t[r]);return e}e.exports={versionToSemver:function(t){var e=t.match(/^([0-9]+\\.[0-9]+\\.[0-9]+)-([0-9a-f]{8})[/*].*$/);return e?e[1]+\"+commit.\"+e[2]:-1!==t.indexOf(\"0.1.3-0\")?\"0.1.3\":t},translateJsonCompilerOutput:function(t,e){var r,o={errors:[]};for(var s in r=t.error?[t.error]:t.errors,function(t,e){for(var r in e){var n=\"error\",i=/^(.*):(\\d+):(\\d+):(.*):/;(i=i.exec(e[r]))?n=i[4].trim():e[r].indexOf(\": Warning:\")?n=\"Warning\":e[r].indexOf(\": Error:\")&&(n=\"Error\"),t.push({type:n,component:\"general\",severity:\"Warning\"===n?\"warning\":\"error\",message:e[r],formattedMessage:e[r]})}}(o.errors,r),o.contracts={},t.contracts){var a=s.match(/^(([^:]*):)?([^:]+)$/);if(4!==a.length)return null;var u=a[2];void 0===u&&(u=\"\");var c=a[3],f=t.contracts[s],h=f.gasEstimates,l={};h.creation&&(l.creation={codeDepositCost:i(h.creation[1]),executionCost:i(h.creation[0])}),h.internal&&(l.internal=i(h.internal)),h.external&&(l.external=i(h.external));var p={abi:JSON.parse(f.interface),metadata:f.metadata,evm:{legacyAssembly:f.assembly,bytecode:{object:n.linkBytecode(f.bytecode,e),opcodes:f.opcodes,sourceMap:f.srcmap,linkReferences:n.findLinkReferences(f.bytecode)},deployedBytecode:{object:n.linkBytecode(f.runtimeBytecode,e),sourceMap:f.srcmapRuntime,linkReferences:n.findLinkReferences(f.runtimeBytecode)},methodIdentifiers:f.functionHashes,gasEstimates:l}};o.contracts[u]||(o.contracts[u]={}),o.contracts[u][c]=p}var d={};for(var y in t.sourceList)d[t.sourceList[y]]=y;for(var m in o.sources={},t.sources)o.sources[m]={id:d[m],legacyAST:t.sources[m].AST};return o},prettyPrintLegacyAssemblyJSON:function(t,e){return function t(e,r,n){if(\"string\"==typeof e||null===e||void 0===e)return r+(e||\"\")+\"\\n\";var i=r+\".code\\n\";e[\".code\"].forEach(function(t,e){var o=void 0===t.value?\"\":t.value,s=\"\";void 0!==n&&void 0!==t.begin&&void 0!==t.end&&(s=function(t){return t.replace(\"\\n\",\"\\\\n\",\"g\").replace(\"\\r\",\"\\\\r\",\"g\").replace(\"\\t\",\"\\\\t\",\"g\")}(n.slice(t.begin,t.end))),s.length>30&&(s=s.slice(0,30)+\"...\"),\"tag\"!==t.name&&(i+=\"  \"),i+=r+t.name+\" \"+o+\"\\t\\t\\t\"+s+\"\\n\"}),i+=r+\".data\\n\";var o=e[\".data\"]||[];for(var s in o){var a=o[s];i+=\"  \"+r+s+\":\\n\",i+=t(a,r+\"    \",n)}return i}(t,\"\",e)}}},{\"./linker.js\":39}],41:[function(t,e,r){var n=t(\"assert\"),i=t(\"./translate.js\"),o=t(\"./linker.js\"),s=t(\"require-from-string\"),a=t(\"https\"),u=t(\"memorystream\");e.exports=function t(e){var r=e.cwrap(\"compileJSON\",\"string\",[\"string\",\"number\"]),c=null;\"_compileJSONMulti\"in e&&(c=e.cwrap(\"compileJSONMulti\",\"string\",[\"string\",\"number\"]));var f=null,h=null;if(\"_compileJSONCallback\"in e||\"_compileStandard\"in e){var l=function(t,r){var n=e.lengthBytesUTF8(t),i=e._malloc(n+1);e.stringToUTF8(t,i,n+1),e.setValue(r,i,\"*\")},p=function(t,r,i){void 0===t&&(t=function(t){return{error:\"File import callback not supported\"}});var o,s=e.Runtime.addFunction(function(t){return n(\"function\"==typeof t,\"Invalid callback specified.\"),function(r,n,i){var o=t(e.Pointer_stringify(r));\"string\"==typeof o.contents&&l(o.contents,n),\"string\"==typeof o.error&&l(o.error,i)}}(t));try{i.push(s),o=r.apply(void 0,i)}catch(t){throw e.Runtime.removeFunction(s),t}return e.Runtime.removeFunction(s),o},d=e.cwrap(\"compileJSONCallback\",\"string\",[\"string\",\"number\",\"number\"]);if(f=function(t,e,r){return p(r,d,[t,e])},\"_compileStandard\"in e){var y=e.cwrap(\"compileStandard\",\"string\",[\"string\",\"number\"]);h=function(t,e){return p(e,y,[t])}}}var m=e.cwrap(\"version\",\"string\",[]),g=function(){};return\"_license\"in e&&(g=e.cwrap(\"license\",\"string\",[])),{version:m,semver:function(){return i.versionToSemver(m())},license:g,compile:function(t,e,n){var i=\"\";return i=void 0!==n&&null!==f?f(JSON.stringify(t),e,n):\"string\"!=typeof t&&null!==c?c(JSON.stringify(t),e):r(t,e),JSON.parse(i)},compileStandard:h,compileStandardWrapper:function(t,e){if(null!==h)return h(t,e);function n(t){return JSON.stringify({errors:[{type:\"SOLCError\",component:\"solcjs\",severity:\"error\",message:t,formattedMessage:\"Error: \"+t}]})}if(void 0!==e&&\"function\"!=typeof e)return n(\"Invalid import callback supplied\");if(\"Solidity\"!==(t=JSON.parse(t)).language)return n(\"Only Solidity sources are supported\");if(null==t.sources)return n(\"No input specified\");if(t.sources.length>1&&null===c)return n(\"Multiple sources provided, but compiler only supports single input\");function o(t){return t.settings&&t.settings.optimizer&&t.settings.optimizer.enabled}function s(t){return null==(t=i.translateJsonCompilerOutput(JSON.parse(t)))?n(\"Failed to process output\"):JSON.stringify(t)}var a=function(t){var e={};for(var r in t.sources){if(null===t.sources[r].content)return null;e[r]=t.sources[r].content}return e}(t);return null===a||0===Object.keys(a).length?n(\"Failed to process sources\"):(function(t){null!==t.settings&&t.settings.libraries}(t),s(null!==f?f(JSON.stringify({sources:a}),o(t),e):null!==c?c(JSON.stringify({sources:a}),o(t)):r(a[Object.keys(a)[0]],o(t))))},linkBytecode:o.linkBytecode,supportsMulti:null!==c,supportsImportCallback:null!==f,supportsStandard:null!==h,loadRemoteVersion:function(e,r){var n=new u(null,{readable:!1}),i=\"https://ethereum.github.io/solc-bin/bin/soljson-\"+e+\".js\";a.get(i,function(i){200!==i.statusCode?r(new Error(\"Error retrieving binary: \"+i.statusMessage)):(i.pipe(n),i.on(\"end\",function(){r(null,t(s(n.toString(),\"soljson-\"+e+\".js\")))}))}).on(\"error\",function(t){r(t)})},setupMethods:t}}},{\"./linker.js\":39,\"./translate.js\":40,assert:1,https:11,memorystream:16,\"require-from-string\":37}],42:[function(t,e,r){e.exports=i;var n=t(\"events\").EventEmitter;function i(){n.call(this)}t(\"inherits\")(i,n),i.Readable=t(\"readable-stream/readable.js\"),i.Writable=t(\"readable-stream/writable.js\"),i.Duplex=t(\"readable-stream/duplex.js\"),i.Transform=t(\"readable-stream/transform.js\"),i.PassThrough=t(\"readable-stream/passthrough.js\"),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on(\"data\",i),t.on(\"drain\",o),t._isStdio||e&&!1===e.end||(r.on(\"end\",a),r.on(\"close\",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,\"function\"==typeof t.destroy&&t.destroy())}function c(t){if(f(),0===n.listenerCount(this,\"error\"))throw t}function f(){r.removeListener(\"data\",i),t.removeListener(\"drain\",o),r.removeListener(\"end\",a),r.removeListener(\"close\",u),r.removeListener(\"error\",c),t.removeListener(\"error\",c),r.removeListener(\"end\",f),r.removeListener(\"close\",f),t.removeListener(\"close\",f)}return r.on(\"error\",c),t.on(\"error\",c),r.on(\"end\",f),r.on(\"close\",f),t.on(\"close\",f),t.emit(\"pipe\",r),t}},{events:10,inherits:13,\"readable-stream/duplex.js\":24,\"readable-stream/passthrough.js\":33,\"readable-stream/readable.js\":34,\"readable-stream/transform.js\":35,\"readable-stream/writable.js\":36}],43:[function(e,r,n){(function(t){var r=e(\"./lib/request\"),i=e(\"./lib/response\"),o=e(\"xtend\"),s=e(\"builtin-status-codes\"),a=e(\"url\"),u=n;u.request=function(e,n){e=\"string\"==typeof e?a.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?\"http:\":\"\",s=e.protocol||i,u=e.hostname||e.host,c=e.port,f=e.path||\"/\";u&&-1!==u.indexOf(\":\")&&(u=\"[\"+u+\"]\"),e.url=(u?s+\"//\"+u:\"\")+(c?\":\"+c:\"\")+f,e.method=(e.method||\"GET\").toUpperCase(),e.headers=e.headers||{};var h=new r(e);return n&&h.on(\"response\",n),h},u.get=function(t,e){var r=u.request(t,e);return r.end(),r},u.ClientRequest=r,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=[\"CHECKOUT\",\"CONNECT\",\"COPY\",\"DELETE\",\"GET\",\"HEAD\",\"LOCK\",\"M-SEARCH\",\"MERGE\",\"MKACTIVITY\",\"MKCOL\",\"MOVE\",\"NOTIFY\",\"OPTIONS\",\"PATCH\",\"POST\",\"PROPFIND\",\"PROPPATCH\",\"PURGE\",\"PUT\",\"REPORT\",\"SEARCH\",\"SUBSCRIBE\",\"TRACE\",\"UNLOCK\",\"UNSUBSCRIBE\"]}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./lib/request\":45,\"./lib/response\":46,\"builtin-status-codes\":7,url:49,xtend:55}],44:[function(e,r,n){(function(t){n.fetch=a(t.fetch)&&a(t.ReadableStream),n.writableStream=a(t.WritableStream),n.abortController=a(t.AbortController),n.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),n.blobConstructor=!0}catch(t){}var e;function r(){if(void 0!==e)return e;if(t.XMLHttpRequest){e=new t.XMLHttpRequest;try{e.open(\"GET\",t.XDomainRequest?\"/\":\"https://example.com\")}catch(t){e=null}}else e=null;return e}function i(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}var o=void 0!==t.ArrayBuffer,s=o&&a(t.ArrayBuffer.prototype.slice);function a(t){return\"function\"==typeof t}n.arraybuffer=n.fetch||o&&i(\"arraybuffer\"),n.msstream=!n.fetch&&s&&i(\"ms-stream\"),n.mozchunkedarraybuffer=!n.fetch&&o&&i(\"moz-chunked-arraybuffer\"),n.overrideMimeType=n.fetch||!!r()&&a(r().overrideMimeType),n.vbArray=a(t.VBArray),e=null}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],45:[function(e,r,n){(function(t,n,i){var o=e(\"./capability\"),s=e(\"inherits\"),a=e(\"./response\"),u=e(\"readable-stream\"),c=e(\"to-arraybuffer\"),f=a.IncomingMessage,h=a.readyStates;var l=r.exports=function(t){var e,r=this;u.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader(\"Authorization\",\"Basic \"+new i(t.auth).toString(\"base64\")),Object.keys(t.headers).forEach(function(e){r.setHeader(e,t.headers[e])});var n=!0;if(\"disable-fetch\"===t.mode||\"requestTimeout\"in t&&!o.abortController)n=!1,e=!0;else if(\"prefer-streaming\"===t.mode)e=!1;else if(\"allow-wrong-content-type\"===t.mode)e=!o.overrideMimeType;else{if(t.mode&&\"default\"!==t.mode&&\"prefer-fast\"!==t.mode)throw new Error(\"Invalid value for opts.mode\");e=!0}r._mode=function(t,e){return o.fetch&&e?\"fetch\":o.mozchunkedarraybuffer?\"moz-chunked-arraybuffer\":o.msstream?\"ms-stream\":o.arraybuffer&&t?\"arraybuffer\":o.vbArray&&t?\"text:vbarray\":\"text\"}(e,n),r.on(\"finish\",function(){r._onFinish()})};s(l,u.Writable),l.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:t,value:e})},l.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},l.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},l.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,s=e._headers,a=null;\"GET\"!==r.method&&\"HEAD\"!==r.method&&(a=o.arraybuffer?c(i.concat(e._body)):o.blobConstructor?new n.Blob(e._body.map(function(t){return c(t)}),{type:(s[\"content-type\"]||{}).value||\"\"}):i.concat(e._body).toString());var u=[];if(Object.keys(s).forEach(function(t){var e=s[t].name,r=s[t].value;Array.isArray(r)?r.forEach(function(t){u.push([e,t])}):u.push([e,r])}),\"fetch\"===e._mode){var f=null;if(o.abortController){var l=new AbortController;f=l.signal,e._fetchAbortController=l,\"requestTimeout\"in r&&0!==r.requestTimeout&&n.setTimeout(function(){e.emit(\"requestTimeout\"),e._fetchAbortController&&e._fetchAbortController.abort()},r.requestTimeout)}n.fetch(e._opts.url,{method:e._opts.method,headers:u,body:a||void 0,mode:\"cors\",credentials:r.withCredentials?\"include\":\"same-origin\",signal:f}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit(\"error\",t)})}else{var p=e._xhr=new n.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,!0)}catch(r){return void t.nextTick(function(){e.emit(\"error\",r)})}\"responseType\"in p&&(p.responseType=e._mode.split(\":\")[0]),\"withCredentials\"in p&&(p.withCredentials=!!r.withCredentials),\"text\"===e._mode&&\"overrideMimeType\"in p&&p.overrideMimeType(\"text/plain; charset=x-user-defined\"),\"requestTimeout\"in r&&(p.timeout=r.requestTimeout,p.ontimeout=function(){e.emit(\"requestTimeout\")}),u.forEach(function(t){p.setRequestHeader(t[0],t[1])}),e._response=null,p.onreadystatechange=function(){switch(p.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},\"moz-chunked-arraybuffer\"===e._mode&&(p.onprogress=function(){e._onXHRProgress()}),p.onerror=function(){e._destroyed||e.emit(\"error\",new Error(\"XHR error\"))};try{p.send(a)}catch(r){return void t.nextTick(function(){e.emit(\"error\",r)})}}}},l.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},l.prototype._connect=function(){var t=this;t._destroyed||(t._response=new f(t._xhr,t._fetchResponse,t._mode),t._response.on(\"error\",function(e){t.emit(\"error\",e)}),t.emit(\"response\",t._response))},l.prototype._write=function(t,e,r){this._body.push(t),r()},l.prototype.abort=l.prototype.destroy=function(){this._destroyed=!0,this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},l.prototype.end=function(t,e,r){\"function\"==typeof t&&(r=t,t=void 0),u.Writable.prototype.end.call(this,t,e,r)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var p=[\"accept-charset\",\"accept-encoding\",\"access-control-request-headers\",\"access-control-request-method\",\"connection\",\"content-length\",\"cookie\",\"cookie2\",\"date\",\"dnt\",\"expect\",\"host\",\"keep-alive\",\"origin\",\"referer\",\"te\",\"trailer\",\"transfer-encoding\",\"upgrade\",\"user-agent\",\"via\"]}).call(this,e(\"_process\"),void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer)},{\"./capability\":44,\"./response\":46,_process:19,buffer:6,inherits:13,\"readable-stream\":34,\"to-arraybuffer\":48}],46:[function(e,r,n){(function(t,r,i){var o=e(\"./capability\"),s=e(\"inherits\"),a=e(\"readable-stream\"),u=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=n.IncomingMessage=function(e,r,n){var s=this;if(a.Readable.call(s),s._mode=n,s.headers={},s.rawHeaders=[],s.trailers={},s.rawTrailers=[],s.on(\"end\",function(){t.nextTick(function(){s.emit(\"close\")})}),\"fetch\"===n){if(s._fetchResponse=r,s.url=r.url,s.statusCode=r.status,s.statusMessage=r.statusText,r.headers.forEach(function(t,e){s.headers[e.toLowerCase()]=t,s.rawHeaders.push(e,t)}),o.writableStream){var u=new WritableStream({write:function(t){return new Promise(function(e,r){s._destroyed||(s.push(new i(t))?e():s._resumeFetch=e)})},close:function(){s._destroyed||s.push(null)},abort:function(t){s._destroyed||s.emit(\"error\",t)}});try{return void r.body.pipeTo(u)}catch(t){}}var c=r.body.getReader();!function t(){c.read().then(function(e){s._destroyed||(e.done?s.push(null):(s.push(new i(e.value)),t()))}).catch(function(t){s._destroyed||s.emit(\"error\",t)})}()}else{if(s._xhr=e,s._pos=0,s.url=e.responseURL,s.statusCode=e.status,s.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\\r?\\n/).forEach(function(t){var e=t.match(/^([^:]+):\\s*(.*)/);if(e){var r=e[1].toLowerCase();\"set-cookie\"===r?(void 0===s.headers[r]&&(s.headers[r]=[]),s.headers[r].push(e[2])):void 0!==s.headers[r]?s.headers[r]+=\", \"+e[2]:s.headers[r]=e[2],s.rawHeaders.push(e[1],e[2])}}),s._charset=\"x-user-defined\",!o.overrideMimeType){var f=s.rawHeaders[\"mime-type\"];if(f){var h=f.match(/;\\s*charset=([^;])(;|$)/);h&&(s._charset=h[1].toLowerCase())}s._charset||(s._charset=\"utf-8\")}}};s(c,a.Readable),c.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},c.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case\"text:vbarray\":if(e.readyState!==u.DONE)break;try{n=new r.VBArray(e.responseBody).toArray()}catch(t){}if(null!==n){t.push(new i(n));break}case\"text\":try{n=e.responseText}catch(e){t._mode=\"text:vbarray\";break}if(n.length>t._pos){var o=n.substr(t._pos);if(\"x-user-defined\"===t._charset){for(var s=new i(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);t.push(s)}else t.push(o,t._charset);t._pos=n.length}break;case\"arraybuffer\":if(e.readyState!==u.DONE||!e.response)break;n=e.response,t.push(new i(new Uint8Array(n)));break;case\"moz-chunked-arraybuffer\":if(n=e.response,e.readyState!==u.LOADING||!n)break;t.push(new i(new Uint8Array(n)));break;case\"ms-stream\":if(n=e.response,e.readyState!==u.LOADING)break;var c=new r.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(new i(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){t.push(null)},c.readAsArrayBuffer(n)}t._xhr.readyState===u.DONE&&\"ms-stream\"!==t._mode&&t.push(null)}}).call(this,e(\"_process\"),void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer)},{\"./capability\":44,_process:19,buffer:6,inherits:13,\"readable-stream\":34}],47:[function(t,e,r){\"use strict\";var n=t(\"safe-buffer\").Buffer,i=n.isEncoding||function(t){switch((t=\"\"+t)&&t.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return\"utf8\";for(var e;;)switch(t){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return t;default:if(e)return;t=(\"\"+t).toLowerCase(),e=!0}}(t);if(\"string\"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error(\"Unknown encoding: \"+t);return e||t}(t),this.encoding){case\"utf16le\":this.text=u,this.end=c,e=4;break;case\"utf8\":this.fillLast=a,e=4;break;case\"base64\":this.text=f,this.end=h,e=3;break;default:return this.write=l,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,\"�\";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,\"�\";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,\"�\"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString(\"utf16le\",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString(\"utf16le\",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):\"\";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString(\"utf16le\",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString(\"base64\",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString(\"base64\",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+this.lastChar.toString(\"base64\",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):\"\"}r.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return\"\";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return\"\";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||\"\"},o.prototype.end=function(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+\"�\":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString(\"utf8\",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString(\"utf8\",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{\"safe-buffer\":38}],48:[function(t,e,r){var n=t(\"buffer\").Buffer;e.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if(\"function\"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(n.isBuffer(t)){for(var e=new Uint8Array(t.length),r=t.length,i=0;i<r;i++)e[i]=t[i];return e.buffer}throw new Error(\"Argument must be a Buffer\")}},{buffer:6}],49:[function(t,e,r){\"use strict\";var n=t(\"punycode\"),i=t(\"./util\");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=v,r.resolve=function(t,e){return v(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?v(t,!1,!0).resolveObject(e):e},r.format=function(t){i.isString(t)&&(t=v(t));return t instanceof o?t.format():o.prototype.format.call(t)},r.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,c=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),f=[\"'\"].concat(c),h=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(f),l=[\"/\",\"?\",\"#\"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,\"javascript:\":!0},m={javascript:!0,\"javascript:\":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},b=t(\"querystring\");function v(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof t);var o=t.indexOf(\"?\"),a=-1!==o&&o<t.indexOf(\"#\")?\"?\":\"#\",c=t.split(a);c[0]=c[0].replace(/\\\\/g,\"/\");var v=t=c.join(a);if(v=v.trim(),!r&&1===t.split(\"#\").length){var _=u.exec(v);if(_)return this.path=v,this.href=v,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search=\"\",this.query={}),this}var w=s.exec(v);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,v=v.substr(w.length)}if(r||w||v.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var k=\"//\"===v.substr(0,2);!k||w&&m[w]||(v=v.substr(2),this.slashes=!0)}if(!m[w]&&(k||w&&!g[w])){for(var E,A,x=-1,T=0;T<l.length;T++){-1!==(B=v.indexOf(l[T]))&&(-1===x||B<x)&&(x=B)}-1!==(A=-1===x?v.lastIndexOf(\"@\"):v.lastIndexOf(\"@\",x))&&(E=v.slice(0,A),v=v.slice(A+1),this.auth=decodeURIComponent(E)),x=-1;for(T=0;T<h.length;T++){var B;-1!==(B=v.indexOf(h[T]))&&(-1===x||B<x)&&(x=B)}-1===x&&(x=v.length),this.host=v.slice(0,x),v=v.slice(x),this.parseHost(),this.hostname=this.hostname||\"\";var I=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!I)for(var C=this.hostname.split(/\\./),M=(T=0,C.length);T<M;T++){var P=C[T];if(P&&!P.match(p)){for(var O=\"\",R=0,j=P.length;R<j;R++)P.charCodeAt(R)>127?O+=\"x\":O+=P[R];if(!O.match(p)){var N=C.slice(0,T),L=C.slice(T+1),K=P.match(d);K&&(N.push(K[1]),L.unshift(K[2])),L.length&&(v=\"/\"+L.join(\".\")+v),this.hostname=N.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var D=this.port?\":\"+this.port:\"\",U=this.hostname||\"\";this.host=U+D,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==v[0]&&(v=\"/\"+v))}if(!y[S])for(T=0,M=f.length;T<M;T++){var F=f[T];if(-1!==v.indexOf(F)){var q=encodeURIComponent(F);q===F&&(q=escape(F)),v=v.split(F).join(q)}}var H=v.indexOf(\"#\");-1!==H&&(this.hash=v.substr(H),v=v.slice(0,H));var z=v.indexOf(\"?\");if(-1!==z?(this.search=v.substr(z),this.query=v.substr(z+1),e&&(this.query=b.parse(this.query)),v=v.slice(0,z)):e&&(this.search=\"\",this.query={}),v&&(this.pathname=v),g[S]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){D=this.pathname||\"\";var V=this.search||\"\";this.path=D+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||\"\";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,\":\"),t+=\"@\");var e=this.protocol||\"\",r=this.pathname||\"\",n=this.hash||\"\",o=!1,s=\"\";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(o+=\":\"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&\"?\"+s||\"\";return e&&\":\"!==e.substr(-1)&&(e+=\":\"),this.slashes||(!e||g[e])&&!1!==o?(o=\"//\"+(o||\"\"),r&&\"/\"!==r.charAt(0)&&(r=\"/\"+r)):o||(o=\"\"),n&&\"#\"!==n.charAt(0)&&(n=\"#\"+n),a&&\"?\"!==a.charAt(0)&&(a=\"?\"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace(\"#\",\"%23\"))+n},o.prototype.resolve=function(t){return this.resolveObject(v(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,\"\"===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var f=u[c];\"protocol\"!==f&&(r[f]=t[f])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname=\"/\"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var h=Object.keys(t),l=0;l<h.length;l++){var p=h[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||\"\").split(\"/\");d.length&&!(t.host=d.shift()););t.host||(t.host=\"\"),t.hostname||(t.hostname=\"\"),\"\"!==d[0]&&d.unshift(\"\"),d.length<2&&d.unshift(\"\"),r.pathname=d.join(\"/\")}if(r.search=t.search,r.query=t.query,r.host=t.host||\"\",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||\"\",b=r.search||\"\";r.path=y+b}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&\"/\"===r.pathname.charAt(0),_=t.host||t.pathname&&\"/\"===t.pathname.charAt(0),w=_||v||r.host&&t.pathname,S=w,k=r.pathname&&r.pathname.split(\"/\")||[],E=(d=t.pathname&&t.pathname.split(\"/\")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname=\"\",r.port=null,r.host&&(\"\"===k[0]?k[0]=r.host:k.unshift(r.host)),r.host=\"\",t.protocol&&(t.hostname=null,t.port=null,t.host&&(\"\"===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(\"\"===d[0]||\"\"===k[0])),_)r.host=t.host||\"\"===t.host?t.host:r.host,r.hostname=t.hostname||\"\"===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,k=d;else if(d.length)k||(k=[]),k.pop(),k=k.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=k.shift(),(I=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path=\"/\"+r.search:r.path=null,r.href=r.format(),r;for(var A=k.slice(-1)[0],x=(r.host||t.host||k.length>1)&&(\".\"===A||\"..\"===A)||\"\"===A,T=0,B=k.length;B>=0;B--)\".\"===(A=k[B])?k.splice(B,1):\"..\"===A?(k.splice(B,1),T++):T&&(k.splice(B,1),T--);if(!w&&!S)for(;T--;T)k.unshift(\"..\");!w||\"\"===k[0]||k[0]&&\"/\"===k[0].charAt(0)||k.unshift(\"\"),x&&\"/\"!==k.join(\"/\").substr(-1)&&k.push(\"\");var I,C=\"\"===k[0]||k[0]&&\"/\"===k[0].charAt(0);E&&(r.hostname=r.host=C?\"\":k.length?k.shift():\"\",(I=!!(r.host&&r.host.indexOf(\"@\")>0)&&r.host.split(\"@\"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(w=w||r.host&&k.length)&&!C&&k.unshift(\"\"),k.length?r.pathname=k.join(\"/\"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:\"\")+(r.search?r.search:\"\")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(\":\"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{\"./util\":50,punycode:20,querystring:23}],50:[function(t,e,r){\"use strict\";e.exports={isString:function(t){return\"string\"==typeof t},isObject:function(t){return\"object\"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],51:[function(e,r,n){(function(t){function e(e){try{if(!t.localStorage)return!1}catch(t){return!1}var r=t.localStorage[e];return null!=r&&\"true\"===String(r).toLowerCase()}r.exports=function(t,r){if(e(\"noDeprecation\"))return t;var n=!1;return function(){if(!n){if(e(\"throwDeprecation\"))throw new Error(r);e(\"traceDeprecation\")?console.trace(r):console.warn(r),n=!0}return t.apply(this,arguments)}}}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],52:[function(t,e,r){arguments[4][13][0].apply(r,arguments)},{dup:13}],53:[function(t,e,r){e.exports=function(t){return t&&\"object\"==typeof t&&\"function\"==typeof t.copy&&\"function\"==typeof t.fill&&\"function\"==typeof t.readUInt8}},{}],54:[function(e,r,n){(function(t,r){var i=/%[sdj%]/g;n.format=function(t){if(!g(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(\" \")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,function(t){if(\"%%\"===t)return\"%\";if(r>=o)return t;switch(t){case\"%s\":return String(n[r++]);case\"%d\":return Number(n[r++]);case\"%j\":try{return JSON.stringify(n[r++])}catch(t){return\"[Circular]\"}default:return t}}),u=n[r];r<o;u=n[++r])y(u)||!_(u)?s+=\" \"+u:s+=\" \"+a(u);return s},n.deprecate=function(e,i){if(b(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,s={};function a(t,e){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(e)?r.showHidden=e:e&&n._extend(r,e),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),f(r,t,r.depth)}function u(t,e){var r=a.styles[e];return r?\"\u001b[\"+a.colors[r][0]+\"m\"+t+\"\u001b[\"+a.colors[r][1]+\"m\":t}function c(t,e){return t}function f(t,e,r){if(t.customInspect&&e&&k(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return g(i)||(i=f(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize(\"undefined\",\"undefined\");if(g(e)){var r=\"'\"+JSON.stringify(e).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return t.stylize(r,\"string\")}if(m(e))return t.stylize(\"\"+e,\"number\");if(d(e))return t.stylize(\"\"+e,\"boolean\");if(y(e))return t.stylize(\"null\",\"null\")}(t,e);if(o)return o;var s=Object.keys(e),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),S(e)&&(s.indexOf(\"message\")>=0||s.indexOf(\"description\")>=0))return h(e);if(0===s.length){if(k(e)){var u=e.name?\": \"+e.name:\"\";return t.stylize(\"[Function\"+u+\"]\",\"special\")}if(v(e))return t.stylize(RegExp.prototype.toString.call(e),\"regexp\");if(w(e))return t.stylize(Date.prototype.toString.call(e),\"date\");if(S(e))return h(e)}var c,_=\"\",E=!1,A=[\"{\",\"}\"];(p(e)&&(E=!0,A=[\"[\",\"]\"]),k(e))&&(_=\" [Function\"+(e.name?\": \"+e.name:\"\")+\"]\");return v(e)&&(_=\" \"+RegExp.prototype.toString.call(e)),w(e)&&(_=\" \"+Date.prototype.toUTCString.call(e)),S(e)&&(_=\" \"+h(e)),0!==s.length||E&&0!=e.length?r<0?v(e)?t.stylize(RegExp.prototype.toString.call(e),\"regexp\"):t.stylize(\"[Object]\",\"special\"):(t.seen.push(e),c=E?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)T(e,String(s))?o.push(l(t,e,r,n,String(s),!0)):o.push(\"\");return i.forEach(function(i){i.match(/^\\d+$/)||o.push(l(t,e,r,n,i,!0))}),o}(t,e,r,a,s):s.map(function(n){return l(t,e,r,a,n,E)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf(\"\\n\")>=0&&0,t+e.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60)return r[0]+(\"\"===e?\"\":e+\"\\n \")+\" \"+t.join(\",\\n  \")+\" \"+r[1];return r[0]+e+\" \"+t.join(\", \")+\" \"+r[1]}(c,_,A)):A[0]+_+A[1]}function h(t){return\"[\"+Error.prototype.toString.call(t)+\"]\"}function l(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize(\"[Getter/Setter]\",\"special\"):t.stylize(\"[Getter]\",\"special\"):u.set&&(a=t.stylize(\"[Setter]\",\"special\")),T(n,i)||(s=\"[\"+i+\"]\"),a||(t.seen.indexOf(u.value)<0?(a=y(r)?f(t,u.value,null):f(t,u.value,r-1)).indexOf(\"\\n\")>-1&&(a=o?a.split(\"\\n\").map(function(t){return\"  \"+t}).join(\"\\n\").substr(2):\"\\n\"+a.split(\"\\n\").map(function(t){return\"   \"+t}).join(\"\\n\")):a=t.stylize(\"[Circular]\",\"special\")),b(s)){if(o&&i.match(/^\\d+$/))return a;(s=JSON.stringify(\"\"+i)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,\"name\")):(s=s.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),s=t.stylize(s,\"string\"))}return s+\": \"+a}function p(t){return Array.isArray(t)}function d(t){return\"boolean\"==typeof t}function y(t){return null===t}function m(t){return\"number\"==typeof t}function g(t){return\"string\"==typeof t}function b(t){return void 0===t}function v(t){return _(t)&&\"[object RegExp]\"===E(t)}function _(t){return\"object\"==typeof t&&null!==t}function w(t){return _(t)&&\"[object Date]\"===E(t)}function S(t){return _(t)&&(\"[object Error]\"===E(t)||t instanceof Error)}function k(t){return\"function\"==typeof t}function E(t){return Object.prototype.toString.call(t)}function A(t){return t<10?\"0\"+t.toString(10):t.toString(10)}n.debuglog=function(e){if(b(o)&&(o=t.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!s[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(o)){var r=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error(\"%s %d: %s\",e,r,t)}}else s[e]=function(){};return s[e]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},n.isArray=p,n.isBoolean=d,n.isNull=y,n.isNullOrUndefined=function(t){return null==t},n.isNumber=m,n.isString=g,n.isSymbol=function(t){return\"symbol\"==typeof t},n.isUndefined=b,n.isRegExp=v,n.isObject=_,n.isDate=w,n.isError=S,n.isFunction=k,n.isPrimitive=function(t){return null===t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||\"symbol\"==typeof t||void 0===t},n.isBuffer=e(\"./support/isBuffer\");var x=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.log=function(){console.log(\"%s - %s\",function(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(\":\");return[t.getDate(),x[t.getMonth()],e].join(\" \")}(),n.format.apply(n,arguments))},n.inherits=e(\"inherits\"),n._extend=function(t,e){if(!e||!_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,e(\"_process\"),void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./support/isBuffer\":53,_process:19,inherits:52}],55:[function(t,e,r){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},{}],56:[function(t,e,r){t(\"es6-shim\");var n=t(\"solc/wrapper\");function i(t,e,r){var n=document.getElementById(\"script-\"+t);null!=n&&n.parentElement.removeChild(n),(n=document.createElement(\"script\")).type=\"text/javascript\",n.setAttribute(\"id\",\"script-\"+t),n.readyState?n.onreadystatechange=function(){\"loaded\"!=n.readyState&&\"complete\"!=n.readyState||(n.onreadystatechange=null,r())}:n.onload=function(){r()},n.src=e,document.getElementsByTagName(\"head\")[0].appendChild(n)}e.exports={getVersions:function(t){i(\"solc-list\",\"https://ethereum.github.io/solc-bin/bin/list.js\",function(){t(soljsonSources,soljsonReleases)})},loadVersion:function(t,e){delete window.Module,window.Module=void 0,i(\"solc\",\"https://ethereum.github.io/solc-bin/bin/\"+t,function(){var t=n(window.Module);e(t)})}}},{\"es6-shim\":9,\"solc/wrapper\":41}],57:[function(t,e,r){t(\"es6-shim\");var n=t(\"./browser-solc\"),i=function(t){t&&\"function\"==typeof t?\"ie\"!=(document.attachEvent&&void 0!==document.attachEvent?\"ie\":\"not-ie\")?document.addEventListener(\"DOMContentLoaded\",function(){return t()}):document.attachEvent(\"onreadystatechange\",function(){if(\"complete\"===document.readyState)return t()}):console.error(\"The callback is not a function!\")};!function(t,e,r,i){r(function(){e.BrowserSolc=n})}(document,window,i)},{\"./browser-solc\":56,\"es6-shim\":9}]},{},[57])}).call(this,r(5),r(32).setImmediate)},function(t,e,r){\"use strict\";(function(e){const n=r(413),i=r(878),o=r(116),s=r(54),a=r(464),u=r(48),c=r(117),f=r(549),h=r(63),l=r(10),p=r(550),d=r(416),y=r(13),m=r(6),g=r(303),b=r(19),v=r(1209),_=r(1217),w=r(1218),S=r(1754);class k extends b{constructor(t){super(),this._options={init:!0,start:!0,EXPERIMENTAL:{}},t=v.validate(t||{}),g(this._options,t),!1===t.init&&(this._options.init=!1),!1!==t.start&&(this._options.start=!0),\"string\"==typeof t.repo||void 0===t.repo?this._repo=S(t.repo):this._repo=t.repo,this.log=m(\"jsipfs\"),this.log.err=m(\"jsipfs:err\"),this.types={Buffer:e,PeerId:o,PeerInfo:s,multiaddr:h,multibase:d,multihash:l,CID:y,dagPB:u,dagCBOR:a},this._peerInfoBook=new p,this._peerInfo=void 0,this._libp2pNode=void 0,this._bitswap=void 0,this._blockService=new n(this._repo),this._ipld=new i(this._blockService),this._pubsub=void 0,this.init=w.init(this),this.preStart=w.preStart(this),this.start=w.start(this),this.stop=w.stop(this),this.shutdown=this.stop,this.isOnline=w.isOnline(this),this.version=w.version(this),this.id=w.id(this),this.repo=w.repo(this),this.bootstrap=w.bootstrap(this),this.config=w.config(this),this.block=w.block(this),this.object=w.object(this),this.dag=w.dag(this),this.libp2p=w.libp2p(this),this.swarm=w.swarm(this),this.files=w.files(this),this.bitswap=w.bitswap(this),this.pin=w.pin(this),this.ping=w.ping(this),this.pingPullStream=w.pingPullStream(this),this.pingReadableStream=w.pingReadableStream(this),this.pubsub=w.pubsub(this),this.dht=w.dht(this),this.dns=w.dns(this),this.key=w.key(this),this.stats=w.stats(this),this._options.EXPERIMENTAL.pubsub&&this.log(\"EXPERIMENTAL pubsub is enabled\"),this._options.EXPERIMENTAL.sharding&&this.log(\"EXPERIMENTAL sharding is enabled\"),this._options.EXPERIMENTAL.dht&&this.log(\"EXPERIMENTAL Kademlia DHT is enabled\"),this.state=r(1755)(this),this.ls=this.files.lsImmutable,this.lsReadableStream=this.files.lsReadableStreamImmutable,this.lsPullStream=this.files.lsPullStreamImmutable,this.util={crypto:c,isIPFS:f};const b=w.mfs(this,this._options);Object.keys(b).forEach(t=>{this.files[t]=b[t]}),_(this)}}(t.exports=k).createNode=(t=>new k(t))}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(184),i=r(9),o=r(13),s=r(905),a=r(188),u=r(413),c=r(144).join,f=r(144).sep,h=r(258).source,l=r(259),p=r(88),d=r(52),y=r(4),m=r(35).MemoryDatastore,g=r(48),b=r(464),v=r(1006),_=r(1011),w=r(103).ethAccountSnapshot,S=r(103).ethBlock,k=r(103).ethBlockList,E=r(103).ethStateTrie,A=r(103).ethStorageTrie,x=r(103).ethTx,T=r(103).ethTxTrie,B=r(1068),I=r(1069);function C(){}class M{constructor(t){if(!t)throw new Error(\"Missing blockservice\");this.bs=t,this.resolvers={},this.support={},this.support.add=((t,e,r)=>{if(this.resolvers[t])throw new Error('Resolver already exists for codec \"'+t+'\"');this.resolvers[t]={resolver:e,util:r}}),this.support.rm=(t=>{this.resolvers[t]&&delete this.resolvers[t]}),this.support.add(g.resolver.multicodec,g.resolver,g.util),this.support.add(b.resolver.multicodec,b.resolver,b.util),this.support.add(v.resolver.multicodec,v.resolver,v.util),this.support.add(_.resolver.multicodec,_.resolver,_.util),this.support.add(w.resolver.multicodec,w.resolver,w.util),this.support.add(S.resolver.multicodec,S.resolver,S.util),this.support.add(k.resolver.multicodec,k.resolver,k.util),this.support.add(E.resolver.multicodec,E.resolver,E.util),this.support.add(A.resolver.multicodec,A.resolver,A.util),this.support.add(x.resolver.multicodec,x.resolver,x.util),this.support.add(T.resolver.multicodec,T.resolver,T.util),this.support.add(B.resolver.multicodec,B.resolver,B.util),this.support.add(I.resolver.multicodec,I.resolver,I.util)}get(t,e,r,n){if(\"function\"==typeof e&&(n=e,e=void 0),\"function\"==typeof r&&(n=r,r={}),\"string\"==typeof e&&(e=c(\"/\",e).substr(1).split(f).join(\"/\")),\"\"===e||!e)return this._get(t,(t,e)=>{if(t)return n(t);n(null,{value:e,remainderPath:\"\"})});let i;s(r=>{this.bs.get(t,(n,o)=>{if(n)return r(n);const s=this.resolvers[t.codec];if(!s)return r(new Error('No resolver found for codec \"'+t.codec+'\"'));s.resolver.resolve(o.data,e,(t,n)=>{if(t)return r(t);i=n.value,e=n.remainderPath,r()})})},()=>{const n=!e||\"\"===e||\"/\"===e,s=i&&!i[\"/\"];return!!(n&&s||r.localResolve)||(i&&(t=new o(i[\"/\"])),!1)},(t,r)=>t?n(t):n(null,{value:i,remainderPath:e}))}getStream(t,e,r){const n=h();return this.get(t,e,r,(t,e)=>{if(t)return n.resolve(i.error(t));n.resolve(i.values([e]))}),n}put(t,r,n){if(\"function\"==typeof r)return n=r,e(()=>n(new Error(\"IPLDResolver.put requires options\")));if(n=n||C,r.cid&&o.isCID(r.cid))return this._put(r.cid,t,n);const i=this.resolvers[r.format];if(!i)return n(new Error('No resolver found for codec \"'+r.format+'\"'));i.util.cid(t,r,(e,r)=>{if(e)return n(e);this._put(r,t,n)})}treeStream(t,e,r){let n;if(\"object\"==typeof e&&(r=e,e=void 0),!(r=r||{}).recursive){n=h();const e=this.resolvers[t.codec];if(!e)return n.abort(new Error('No resolver found for codec \"'+t.codec+'\"')),n;y([e=>this.bs.get(t,e),(t,r)=>e.resolver.tree(t.data,r)],(t,e)=>{if(t)return n.abort(t),n;n.resolve(i.values(e))})}return r.recursive&&(n=i(l.widthFirst({basePath:null,cid:t},t=>{if(\"string\"==typeof t)return i.empty();const e=h(),r=t.cid,n=this.resolvers[r.codec];return n?(y([e=>this.bs.get(t.cid,e),(t,e)=>n.resolver.tree(t.data,(r,i)=>{if(r)return e(r);p(i,(e,r)=>{n.resolver.isLink(t.data,e,(t,n)=>{if(t)return r(t);r(null,{path:e,link:n})})},e)})],(r,n)=>{if(r)return e.abort(r),e;e.resolve(i.values(n.map(e=>{const r=t.basePath?t.basePath+\"/\"+e.path:e.path;return e.link?{basePath:r,cid:new o(e.link[\"/\"])}:r})))}),e):(e.abort(new Error('No resolver found for codec \"'+r.codec+'\"')),e)}),i.map(t=>\"string\"==typeof t?t:t.basePath),i.filter(Boolean))),e?i(n,i.map(t=>{if(0===t.indexOf(e))return t=t.slice(e.length+1)}),i.filter(Boolean)):n}remove(t,e){this.bs.delete(t,e)}_get(t,e){const r=this.resolvers[t.codec];if(!r)return e(new Error('No resolver found for codec \"'+t.codec+'\"'));y([e=>this.bs.get(t,e),(t,e)=>{r?r.util.deserialize(t.data,(t,r)=>{if(t)return e(t);e(null,r)}):e(null,t.data)}],e)}_put(t,e,r){r=r||C;const i=this.resolvers[t.codec];if(!i)return r(new Error('No resolver found for codec \"'+t.codec+'\"'));y([t=>i.util.serialize(e,t),(e,r)=>this.bs.put(new n(e,t),r)],e=>{if(e)return r(e);r(null,t)})}}M.inMemory=function(t){const e=new a(\"in-memory\",{storageBackends:{root:m,blocks:m,datastore:m},lock:\"memory\"}),r=new u(e);d([t=>e.init({},t),t=>e.open(t)],e=>{if(e)return t(e);t(null,new M(r))})},t.exports=M}).call(this,r(32).setImmediate)},function(t,e){t.exports=function t(e,o,s){o=o||[];s=s||0;var a=s;for(;e>=i;)o[s++]=255&e|r,e/=128;for(;e&n;)o[s++]=255&e|r,e>>>=7;o[s]=0|e;t.bytes=s-a+1;return o};var r=128,n=-128,i=Math.pow(2,31)},function(t,e){t.exports=function t(e,i){var o,s=0,i=i||0,a=0,u=i,c=e.length;do{if(u>=c)throw t.bytes=0,new RangeError(\"Could not decode varint\");o=e[u++],s+=a<28?(o&n)<<a:(o&n)*Math.pow(2,a),a+=7}while(o>=r);t.bytes=u-i;return s};var r=128,n=127},function(t,e){var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),u=Math.pow(2,49),c=Math.pow(2,56),f=Math.pow(2,63);t.exports=function(t){return t<r?1:t<n?2:t<i?3:t<o?4:t<s?5:t<a?6:t<u?7:t<c?8:t<f?9:10}},function(t,e,r){\"use strict\";const n=r(883),i=r(414),o=r(884),s=r(885),a=r(886),u=[[\"base1\",\"1\",\"\",\"1\"],[\"base2\",\"0\",i,\"01\"],[\"base8\",\"7\",i,\"01234567\"],[\"base10\",\"9\",i,\"0123456789\"],[\"base16\",\"f\",o,\"0123456789abcdef\"],[\"base32\",\"b\",s,\"abcdefghijklmnopqrstuvwxyz234567\"],[\"base32pad\",\"c\",s,\"abcdefghijklmnopqrstuvwxyz234567=\"],[\"base32hex\",\"v\",s,\"0123456789abcdefghijklmnopqrstuv\"],[\"base32hexpad\",\"t\",s,\"0123456789abcdefghijklmnopqrstuv=\"],[\"base32z\",\"h\",s,\"ybndrfg8ejkmcpqxot1uwisza345h769\"],[\"base58flickr\",\"Z\",i,\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"],[\"base58btc\",\"z\",i,\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"],[\"base64\",\"m\",a,\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"],[\"base64pad\",\"M\",a,\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"],[\"base64url\",\"u\",a,\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"],[\"base64urlpad\",\"U\",a,\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\"]],c=u.reduce((t,e)=>(t[e[0]]=new n(e[0],e[1],e[2],e[3]),t),{}),f=u.reduce((t,e)=>(t[e[1]]=c[e[0]],t),{});t.exports={names:c,codes:f}},function(t,e,r){\"use strict\";t.exports=class{constructor(t,e,r,n){this.name=t,this.code=e,this.alphabet=n,r&&n&&(this.engine=r(n))}encode(t){return this.engine.encode(t)}decode(t){return this.engine.decode(t)}isImplemented(){return this.engine}}},function(t,e,r){\"use strict\";(function(e){t.exports=function(t){return{encode:t=>\"string\"==typeof t?e.from(t).toString(\"hex\"):t.toString(\"hex\"),decode(r){for(let e of r)if(t.indexOf(e)<0)throw new Error(\"invalid base16 character\");return e.from(r,\"hex\")}}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){function r(t,e){let r=t.byteLength,n=new Uint8Array(t),i=e.indexOf(\"=\")===e.length-1;i&&(e=e.substring(0,e.length-2));let o=0,s=0,a=\"\";for(let t=0;t<r;t++)for(s=s<<8|n[t],o+=8;o>=5;)a+=e[s>>>o-5&31],o-=5;if(o>0&&(a+=e[s<<5-o&31]),i)for(;a.length%8!=0;)a+=\"=\";return a}t.exports=function(t){return{encode:n=>r(\"string\"==typeof n?e.from(n):n,t),decode(e){for(let r of e)if(t.indexOf(r)<0)throw new Error(\"invalid base32 character\");return function(t,e){let r=(t=t.replace(new RegExp(\"=\",\"g\"),\"\")).length,n=0,i=0,o=0,s=new Uint8Array(5*r/8|0);for(let a=0;a<r;a++)i=i<<5|e.indexOf(t[a]),(n+=5)>=8&&(s[o++]=i>>>n-8&255,n-=8);return s.buffer}(e,t)}}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){t.exports=function(t){const r=t.indexOf(\"=\")>-1,n=t.indexOf(\"-\")>-1&&t.indexOf(\"_\")>-1;return{encode(t){let i=\"\";i=\"string\"==typeof t?e.from(t).toString(\"base64\"):t.toString(\"base64\"),n&&(i=(i=i.replace(\"+\",\"-\")).replace(\"/\",\"_\"));const o=i.indexOf(\"=\");return o>0&&!r&&(i=i.substring(0,o)),i},decode(r){n&&(r=(r=r.replace(\"+\",\"-\")).replace(\"/\",\"_\"));for(let e of r)if(t.indexOf(e)<0)throw new Error(\"invalid base64 character\");return e.from(r,\"base64\")}}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(n){const i=r(20),o=r(417),s=r(419),a=r(418);(e=t.exports).addPrefix=((t,e)=>{let r;if(n.isBuffer(t))r=a.varintBufferEncode(t);else{if(!o[t])throw new Error(\"multicodec not recognized\");r=o[t]}return n.concat([r,e])}),e.rmPrefix=(t=>(i.decode(t),t.slice(i.decode.bytes))),e.getCodec=(t=>{const e=a.varintBufferDecode(t),r=s[e.toString(\"hex\")];if(void 0===r)throw new Error(\"Code `0x\"+e.toString(\"hex\")+\"` not found\");return r}),e.getCodeVarint=(t=>{const e=o[t];if(void 0===e)throw new Error(\"Codec `\"+t+\"` not found\");return e}),e.addCodec=((t,e)=>{o[t]=a.varintBufferEncode(e),s[e.toString(\"hex\")]=t})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10);var i={checkCIDComponents:function(t){if(null==t)return\"null values are not valid CIDs\";if(0!==t.version&&1!==t.version)return\"Invalid version, must be a number equal to 1 or 0\";if(\"string\"!=typeof t.codec)return\"codec must be string\";if(!e.isBuffer(t.multihash))return\"multihash must be a Buffer\";try{n.validate(t.multihash)}catch(t){let e=t.message;return e||(e=\"Multihash validation failed\"),e}}};t.exports=i}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";t.exports={keys:r(890),once:r(421),values:r(97),count:r(891),infinite:r(892),empty:r(893),error:r(894)}},function(t,e,r){\"use strict\";var n=r(97);t.exports=function(t){return n(Object.keys(t))}},function(t,e,r){\"use strict\";t.exports=function(t){var e=0;return t=t||1/0,function(r,n){return r?n&&n(r):e>t?n(!0):void n(null,e++)}}},function(t,e,r){\"use strict\";t.exports=function(t){return t=t||Math.random,function(e,r){return e?r&&r(e):r(null,t())}}},function(t,e,r){\"use strict\";t.exports=function(){return function(t,e){e(!0)}}},function(t,e,r){\"use strict\";t.exports=function(t){return function(e,r){r(t)}}},function(t,e,r){\"use strict\";t.exports={drain:r(140),onEnd:r(896),log:r(897),find:r(898),reduce:r(246),collect:r(98),concat:r(899)}},function(t,e,r){\"use strict\";var n=r(140);t.exports=function(t){return n(null,t)}},function(t,e,r){\"use strict\";var n=r(140);t.exports=function(t){return n(function(t){console.log(t)},t)}},function(t,e,r){\"use strict\";function n(t){return t}var i=r(141),o=r(140);t.exports=function(t,e){var r=!1;return e?t=i(t)||n:(e=t,t=n),o(function(n){if(t(n))return r=!0,e(null,n),!1},function(t){r||e(!0===t?null:t,null)})}},function(t,e,r){\"use strict\";var n=r(246);t.exports=function(t){return n(function(t,e){return t+e},\"\",t)}},function(t,e,r){\"use strict\";t.exports={map:r(422),asyncMap:r(186),filter:r(142),filterNot:r(901),through:r(424),take:r(902),unique:r(425),nonUnique:r(903),flatten:r(904)}},function(t,e,r){\"use strict\";var n=r(423),i=r(142);t.exports=function(t){return t=n(t),i(function(e){return!t(e)})}},function(t,e,r){\"use strict\";t.exports=function(t,e){var r=(e=e||{}).last||!1,n=!1;if(\"number\"==typeof t){r=!0;var i=t;t=function(){return--i}}return function(e){function i(t){e(!0,function(e){r=!1,t(e||!0)})}return function(o,s){n&&!o?r?i(s):s(n):(n=o)?e(n,s):e(null,function(e,o){(n=n||e)?s(n):t(o)?s(null,o):(n=!0,r?s(null,o):i(s))})}}}},function(t,e,r){\"use strict\";var n=r(425);t.exports=function(t){return n(t,!0)}},function(t,e,r){\"use strict\";var n=r(97),i=r(421);t.exports=function(){return function(t){var e;return function(r,o){function s(){e(null,function(e,r){!0===e?a():e?t(!0,function(t){o(e)}):o(null,r)})}function a(){e=null,t(null,function(t,r){if(t)return o(t);Array.isArray(r)||r&&\"object\"==typeof r?r=n(r):\"function\"!=typeof r&&(r=i(r)),e=r,s()})}r?e?e(r,function(e){t(e||r,o)}):t(r,o):e?s():a()}}}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,function(){return!e.apply(this,arguments)},r)};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(426));t.exports=e.default},function(t,e,r){var n=r(191),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=r:delete t[a]),i}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):function(t){var e=(0,o.default)(t),r=-1,n=e.length;return function(){var i=e[++r];return r<n?{value:t[i],key:i}:null}}(t)};var n=s(r(100)),i=s(r(909)),o=s(r(433));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n=\"function\"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(190),i=r(193),o=\"[object Arguments]\";t.exports=function(t){return i(t)&&n(t)==o}},function(t,e,r){(function(t){var n=r(192),i=r(913),o=\"object\"==typeof e&&e&&!e.nodeType&&e,s=o&&\"object\"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;t.exports=u}).call(this,r(26)(t))},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(915),i=r(916),o=r(917),s=o&&o.isTypedArray,a=s?i(s):n;t.exports=a},function(t,e,r){var n=r(190),i=r(430),o=r(193),s={};s[\"[object Float32Array]\"]=s[\"[object Float64Array]\"]=s[\"[object Int8Array]\"]=s[\"[object Int16Array]\"]=s[\"[object Int32Array]\"]=s[\"[object Uint8Array]\"]=s[\"[object Uint8ClampedArray]\"]=s[\"[object Uint16Array]\"]=s[\"[object Uint32Array]\"]=!0,s[\"[object Arguments]\"]=s[\"[object Array]\"]=s[\"[object ArrayBuffer]\"]=s[\"[object Boolean]\"]=s[\"[object DataView]\"]=s[\"[object Date]\"]=s[\"[object Error]\"]=s[\"[object Function]\"]=s[\"[object Map]\"]=s[\"[object Number]\"]=s[\"[object Object]\"]=s[\"[object RegExp]\"]=s[\"[object Set]\"]=s[\"[object String]\"]=s[\"[object WeakMap]\"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[n(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){(function(t){var n=r(429),i=\"object\"==typeof e&&e&&!e.nodeType&&e,o=i&&\"object\"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&n.process,a=function(){try{var t=o&&o.require&&o.require(\"util\").types;return t||s&&s.binding&&s.binding(\"util\")}catch(t){}}();t.exports=a}).call(this,r(26)(t))},function(t,e,r){var n=r(437),i=r(919),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}},function(t,e,r){var n=r(920)(Object.keys,Object);t.exports=n},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e){t.exports=function(t){return t&&\"object\"==typeof t&&\"function\"==typeof t.copy&&\"function\"==typeof t.fill&&\"function\"==typeof t.readUInt8}},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),\"string\"!=typeof s[0]&&s.unshift(\"%O\");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if(\"%%\"===r)return r;u++;var i=e.formatters[n];if(\"function\"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,\"function\"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable(\"\")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=(\"string\"==typeof t?t:\"\").split(/[\\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&(\"-\"===(t=n[r].replace(/\\*/g,\".*?\"))[0]?e.skips.push(new RegExp(\"^\"+t.substr(1)+\"$\")):e.names.push(new RegExp(\"^\"+t+\"$\")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if(\"*\"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(439),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){var n;!function(i){\"use strict\";var o,s=20,a=1,u=1e6,c=-7,f=21,h=\"[big.js] \",l=h+\"Invalid \",p=l+\"decimal places\",d=l+\"rounding mode\",y={},m=void 0,g=/^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;function b(t,e,r,n){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===r)n=i[o]>=5;else if(2===r)n=i[o]>5||5==i[o]&&(n||o<0||i[o+1]!==m||1&i[o-1]);else if(3===r)n=n||i[o]!==m||o<0;else if(n=!1,0!==r)throw Error(d);if(o<1)i.length=1,n?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(r<0||r>3||r!==~~r)throw Error(d);return t}function v(t,e,r,n){var i,o,s=t.constructor,a=!t.c[0];if(r!==m){if(r!==~~r||r<(3==e)||r>u)throw Error(3==e?l+\"precision\":p);for(r=n-(t=new s(t)).e,t.c.length>++n&&b(t,r,s.RM),2==e&&(n=t.e+r+1);t.c.length<n;)t.c.push(0)}if(i=t.e,r=(o=t.c.join(\"\")).length,2!=e&&(1==e||3==e&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(r>1?\".\"+o.slice(1):\"\")+(i<0?\"e\":\"e+\")+i;else if(i<0){for(;++i;)o=\"0\"+o;o=\"0.\"+o}else if(i>0)if(++i>r)for(i-=r;i--;)o+=\"0\";else i<r&&(o=o.slice(0,i)+\".\"+o.slice(i));else r>1&&(o=o.charAt(0)+\".\"+o.slice(1));return t.s<0&&(!a||4==e)?\"-\"+o:o}y.abs=function(){var t=new this.constructor(this);return t.s=1,t},y.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,s=t.s,a=r.e,u=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(e=o<0,a!=u)return a>u^e?1:-1;for(s=(a=n.length)<(u=i.length)?a:u,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return a==u?0:a>u^e?1:-1},y.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,o=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>u)throw Error(p);if(!i[0])throw Error(\"[big.js] Division by zero\");if(!n[0])return new r(0*o);var a,c,f,h,l,d=i.slice(),y=a=i.length,g=n.length,v=n.slice(0,a),_=v.length,w=t,S=w.c=[],k=0,E=s+(w.e=e.e-t.e)+1;for(w.s=o,o=E<0?0:E,d.unshift(0);_++<a;)v.push(0);do{for(f=0;f<10;f++){if(a!=(_=v.length))h=a>_?1:-1;else for(l=-1,h=0;++l<a;)if(i[l]!=v[l]){h=i[l]>v[l]?1:-1;break}if(!(h<0))break;for(c=_==a?i:d;_;){if(v[--_]<c[_]){for(l=_;l&&!v[--l];)v[l]=9;--v[l],v[_]+=10}v[_]-=c[_]}for(;!v[0];)v.shift()}S[k++]=h?f:++f,v[0]&&h?v[_]=n[y]||0:v=[n[y]]}while((y++<g||v[0]!==m)&&o--);return S[0]||1==k||(S.shift(),w.e--),k>E&&b(w,s,r.RM,v[0]!==m),w},y.eq=function(t){return!this.cmp(t)},y.gt=function(t){return this.cmp(t)>0},y.gte=function(t){return this.cmp(t)>-1},y.lt=function(t){return this.cmp(t)<0},y.lte=function(t){return this.cmp(t)<1},y.minus=y.sub=function(t){var e,r,n,i,o=this,s=o.constructor,a=o.s,u=(t=new s(t)).s;if(a!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,h=t.c,l=t.e;if(!c[0]||!h[0])return h[0]?(t.s=-u,t):new s(c[0]?o:0);if(a=f-l){for((i=a<0)?(a=-a,n=c):(l=f,n=h),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(r=((i=c.length<h.length)?c:h).length,a=u=0;u<r;u++)if(c[u]!=h[u]){i=c[u]<h[u];break}if(i&&(n=c,c=h,h=n,t.s=-t.s),(u=(r=h.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;r>a;){if(c[--r]<h[r]){for(e=r;e&&!c[--e];)c[e]=9;--c[e],c[r]+=10}c[r]-=h[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--l;return c[0]||(t.s=1,c=[l=0]),t.c=c,t.e=l,t},y.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error(\"[big.js] Division by zero\");return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},y.plus=y.add=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,r.minus(t);var s=r.e,a=r.c,u=t.e,c=t.c;if(!a[0]||!c[0])return c[0]?t:new n(a[0]?r:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,e=c):(i=-i,e=a),e.reverse();i--;)e.push(0);e.reverse()}for(a.length-c.length<0&&(e=c,c=a,a=e),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];)a.pop();return t.c=a,t.e=u,t},y.pow=function(t){var e=this,r=new e.constructor(1),n=r,i=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(l+\"exponent\");for(i&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return i?r.div(n):n},y.round=function(t,e){var r=this.constructor;if(t===m)t=0;else if(t!==~~t||t<0||t>u)throw Error(p);return b(new r(this),t,e===m?r.RM:e)},y.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,s=n.e,a=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(h+\"No square root\");0===(o=Math.sqrt(n.toString()))||o===1/0?((e=n.c.join(\"\")).length+s&1||(e+=\"0\"),(t=new i(Math.sqrt(e).toString())).e=((s+1)/2|0)-(s<0||1&s)):t=new i(o.toString()),s=t.e+(i.DP+=4);do{r=t,t=a.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join(\"\")!==t.c.slice(0,s).join(\"\"));return b(t,i.DP-=4,i.RM)},y.times=y.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,s=i.length,a=o.length,u=r.e,c=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return new n(0*t.s);for(t.e=u+c,s<a&&(e=i,i=o,o=e,c=s,s=a,a=c),e=new Array(c=s+a);c--;)e[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=e[c]+o[u]*i[c-u-1]+a,e[c--]=a%10,a=a/10|0;e[c]=(e[c]+a)%10}for(a?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},y.toExponential=function(t){return v(this,1,t,t)},y.toFixed=function(t){return v(this,2,t,this.e+t)},y.toPrecision=function(t){return v(this,3,t,t-1)},y.toString=function(){return v(this)},y.valueOf=y.toJSON=function(){return v(this,4)},(o=function t(){function e(r){var n=this;if(!(n instanceof e))return r===m?t():new e(r);r instanceof e?(n.s=r.s,n.e=r.e,n.c=r.c.slice()):function(t,e){var r,n,i;if(0===e&&1/e<0)e=\"-0\";else if(!g.test(e+=\"\"))throw Error(l+\"number\");for(t.s=\"-\"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf(\".\"))>-1&&(e=e.replace(\".\",\"\")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&\"0\"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&\"0\"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(n,r),n.constructor=e}return e.prototype=y,e.DP=s,e.RM=a,e.NE=c,e.PE=f,e.version=\"5.0.2\",e}()).default=o.Big=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){\"use strict\";e.create=function(t,e,r){return new(0,r.storageBackends[t])(e,Object.assign({},r.storageBackendOptions[t]||{}))}},function(t,e,r){\"use strict\";(function(e){const n=r(35).Key,i=r(6)(\"repo:version\"),o=new n(\"version\");t.exports=(t=>({exists(e){t.has(o,e)},get(e){t.get(o,(t,r)=>{if(t)return e(t);e(null,parseInt(r.toString().trim(),10))})},set(r,n){t.put(o,e.from(String(r)),n)},check(t,e){this.get((r,n)=>r?e(r):(i(\"comparing version: %s and %s\",n,t),n!==t?e(new Error(`version mismatch: expected v${t}, found v${n}`)):void e()))}}))}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(9),i=r(2),o=r(254).asyncFilter,s=r(254).asyncSort,a=r(440);t.exports=class{constructor(){this.data={}}open(t){i(t)}put(t,e,r){this.data[t.toString()]=e,i(r)}get(t,e){this.has(t,(r,n)=>r?e(r):n?void e(null,this.data[t.toString()]):e(new Error(\"No value\")))}has(t,e){i(()=>{e(null,void 0!==this.data[t.toString()])})}delete(t,e){delete this.data[t.toString()],i(()=>{e()})}batch(){let t=[],e=[];return{put(e,r){t.push([e,r])},delete(t){e.push(t)},commit:r=>{t.forEach(t=>{this.data[t[0].toString()]=t[1]}),t=[],e.forEach(t=>{delete this.data[t.toString()]}),e=[],i(r)}}}query(t){let e=[n.keys(this.data),n.map(t=>({key:new a(t),value:this.data[t]}))],r=[];if(null!=t.prefix){const e=t.prefix;r.push((t,r)=>r(null,t.key.toString().startsWith(e)))}if(null!=t.filters&&(r=r.concat(t.filters)),e=e.concat(r.map(t=>o(t))),null!=t.orders&&(e=e.concat(t.orders.map(t=>s(t)))),null!=t.offset){let r=0;e.push(n.filter(()=>r++>=t.offset))}return null!=t.limit&&e.push(n.take(t.limit)),!0===t.keysOnly&&e.push(n.map(t=>({key:t.key}))),n.apply(null,e)}close(t){i(t)}}},function(t,e,r){\"use strict\";const n=r(35).Key,i=r(255),o=r(4),s=r(934),a=r(935),u=r(936),c=r(3).Buffer,f=new n(\"config\");t.exports=(t=>{const e=i(function(t,e){const i=t.key,s=t.value;i?o([t=>r.get(t),(t,e)=>e(null,a(t,i,s)),n],e):n(s,e)},1),r={get(e,r){\"function\"==typeof e&&(r=e,e=void 0),e||(e=void 0),t.get(f,(t,n)=>{if(t)return r(t);let i;try{i=JSON.parse(n.toString())}catch(t){return r(t)}if(void 0!==e&&!u(i,e))return r(new Error(\"Key \"+e+\" does not exist in config\"));let o=void 0!==e?s(i,e):i;r(null,o)})},set(t,r,n){if(\"function\"==typeof r)n=r,r=t,t=void 0;else if(!t||\"string\"!=typeof t)return n(new Error(\"Invalid key type\"));if(void 0===r||c.isBuffer(r))return n(new Error(\"Invalid value type\"));e.push({key:t,value:r},n)},exists(e){t.has(f,e)}};return r;function n(e,r){const n=c.from(JSON.stringify(e,null,2));t.put(f,n,r)}})},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r){if(null==e)e=1;else if(0===e)throw new Error(\"Concurrency must not be zero\");var f=(0,c.default)(t),h=0,l=[],p=!1;function d(t,e,r){if(null!=r&&\"function\"!=typeof r)throw new Error(\"task callback must be a function\");if(g.started=!0,(0,i.default)(t)||(t=[t]),0===t.length&&g.idle())return(0,a.default)(function(){g.drain()});for(var n=0,s=t.length;n<s;n++){var u={data:t[n],callback:r||o.default};e?g._tasks.unshift(u):g._tasks.push(u)}p||(p=!0,(0,a.default)(function(){p=!1,g.process()}))}function y(t){return function(e){h-=1;for(var r=0,i=t.length;r<i;r++){var o=t[r],s=(0,n.default)(l,o,0);0===s?l.shift():s>0&&l.splice(s,1),o.callback.apply(o,arguments),null!=e&&g.error(e,o.data)}h<=g.concurrency-g.buffer&&g.unsaturated(),g.idle()&&g.drain(),g.process()}}var m=!1,g={_tasks:new u.default,concurrency:e,payload:r,saturated:o.default,unsaturated:o.default,buffer:e/4,empty:o.default,drain:o.default,error:o.default,started:!1,paused:!1,push:function(t,e){d(t,!1,e)},kill:function(){g.drain=o.default,g._tasks.empty()},unshift:function(t,e){d(t,!0,e)},remove:function(t){g._tasks.remove(t)},process:function(){if(!m){for(m=!0;!g.paused&&h<g.concurrency&&g._tasks.length;){var t=[],e=[],r=g._tasks.length;g.payload&&(r=Math.min(r,g.payload));for(var n=0;n<r;n++){var i=g._tasks.shift();t.push(i),l.push(i),e.push(i.data)}h+=1,0===g._tasks.length&&g.empty(),h===g.concurrency&&g.saturated();var o=(0,s.default)(y(t));f(e,o)}m=!1}},length:function(){return g._tasks.length},running:function(){return h},workersList:function(){return l},idle:function(){return g._tasks.length+h===0},pause:function(){g.paused=!0},resume:function(){!1!==g.paused&&(g.paused=!1,(0,a.default)(g.process))}};return g};var n=f(r(929)),i=f(r(99)),o=f(r(65)),s=f(r(111)),a=f(r(247)),u=f(r(933)),c=f(r(38));function f(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){var n=r(930),i=r(931),o=r(932);t.exports=function(t,e,r){return e==e?o(t,e,r):n(t,i,r)}},function(t,e){t.exports=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}},function(t,e,r){\"use strict\";function n(){this.head=this.tail=null,this.length=0}function i(t,e){t.length=1,t.head=t.tail=e}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=n,n.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},n.prototype.empty=function(){for(;this.head;)this.shift();return this},n.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},n.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},n.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):i(this,t)},n.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):i(this,t)},n.prototype.shift=function(){return this.head&&this.removeLink(this.head)},n.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},n.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,r=0;r<this.length;r++)t[r]=e.data,e=e.next;return t},n.prototype.remove=function(t){for(var e=this.head;e;){var r=e.next;t(e)&&this.removeLink(e),e=r}return this},t.exports=e.default},function(t,e,r){(function(e){var r=\"Expected a function\",n=\"__lodash_hash_undefined__\",i=1/0,o=\"[object Function]\",s=\"[object GeneratorFunction]\",a=\"[object Symbol]\",u=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,c=/^\\w*$/,f=/^\\./,h=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,l=/\\\\(\\\\)?/g,p=/^\\[object .+?Constructor\\]$/,d=\"object\"==typeof e&&e&&e.Object===Object&&e,y=\"object\"==typeof self&&self&&self.Object===Object&&self,m=d||y||Function(\"return this\")();var g=Array.prototype,b=Function.prototype,v=Object.prototype,_=m[\"__core-js_shared__\"],w=function(){var t=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),S=b.toString,k=v.hasOwnProperty,E=v.toString,A=RegExp(\"^\"+S.call(k).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),x=m.Symbol,T=g.splice,B=D(m,\"Map\"),I=D(Object,\"create\"),C=x?x.prototype:void 0,M=C?C.toString:void 0;function P(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function O(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function R(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function j(t,e){for(var r=t.length;r--;)if(H(t[r][0],e))return r;return-1}function N(t,e){for(var r=0,n=(e=function(t,e){if(z(t))return!1;var r=typeof t;if(\"number\"==r||\"symbol\"==r||\"boolean\"==r||null==t||G(t))return!0;return c.test(t)||!u.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return z(t)?t:U(t)}(e)).length;null!=t&&r<n;)t=t[F(e[r++])];return r&&r==n?t:void 0}function L(t){return!(!V(t)||function(t){return!!w&&w in t}(t))&&(function(t){var e=V(t)?E.call(t):\"\";return e==o||e==s}(t)||function(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}(t)?A:p).test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}(t))}function K(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function D(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return L(r)?r:void 0}P.prototype.clear=function(){this.__data__=I?I(null):{}},P.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},P.prototype.get=function(t){var e=this.__data__;if(I){var r=e[t];return r===n?void 0:r}return k.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return I?void 0!==e[t]:k.call(e,t)},P.prototype.set=function(t,e){return this.__data__[t]=I&&void 0===e?n:e,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(t){var e=this.__data__,r=j(e,t);return!(r<0||(r==e.length-1?e.pop():T.call(e,r,1),0))},O.prototype.get=function(t){var e=this.__data__,r=j(e,t);return r<0?void 0:e[r][1]},O.prototype.has=function(t){return j(this.__data__,t)>-1},O.prototype.set=function(t,e){var r=this.__data__,n=j(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},R.prototype.clear=function(){this.__data__={hash:new P,map:new(B||O),string:new P}},R.prototype.delete=function(t){return K(this,t).delete(t)},R.prototype.get=function(t){return K(this,t).get(t)},R.prototype.has=function(t){return K(this,t).has(t)},R.prototype.set=function(t,e){return K(this,t).set(t,e),this};var U=q(function(t){t=function(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(G(t))return M?M.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-i?\"-0\":e}(t)}(t);var e=[];return f.test(t)&&e.push(\"\"),t.replace(h,function(t,r,n,i){e.push(n?i.replace(l,\"$1\"):r||t)}),e});function F(t){if(\"string\"==typeof t||G(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-i?\"-0\":e}function q(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(q.Cache||R),n}function H(t,e){return t===e||t!=t&&e!=e}q.Cache=R;var z=Array.isArray;function V(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function G(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&E.call(t)==a}t.exports=function(t,e,r){var n=null==t?void 0:N(t,e);return void 0===n?r:n}}).call(this,r(5))},function(t,e,r){(function(e){var r=\"Expected a function\",n=\"__lodash_hash_undefined__\",i=1/0,o=9007199254740991,s=\"[object Function]\",a=\"[object GeneratorFunction]\",u=\"[object Symbol]\",c=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,f=/^\\w*$/,h=/^\\./,l=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,p=/\\\\(\\\\)?/g,d=/^\\[object .+?Constructor\\]$/,y=/^(?:0|[1-9]\\d*)$/,m=\"object\"==typeof e&&e&&e.Object===Object&&e,g=\"object\"==typeof self&&self&&self.Object===Object&&self,b=m||g||Function(\"return this\")();var v=Array.prototype,_=Function.prototype,w=Object.prototype,S=b[\"__core-js_shared__\"],k=function(){var t=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),E=_.toString,A=w.hasOwnProperty,x=w.toString,T=RegExp(\"^\"+E.call(A).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),B=b.Symbol,I=v.splice,C=q(b,\"Map\"),M=q(Object,\"create\"),P=B?B.prototype:void 0,O=P?P.toString:void 0;function R(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function j(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function N(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function L(t,e,r){var n=t[e];A.call(t,e)&&W(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function K(t,e){for(var r=t.length;r--;)if(W(t[r][0],e))return r;return-1}function D(t){return!(!Y(t)||function(t){return!!k&&k in t}(t))&&(function(t){var e=Y(t)?x.call(t):\"\";return e==s||e==a}(t)||function(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}(t)?T:d).test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}(t))}function U(t,e,r,n){if(!Y(t))return t;for(var i=-1,o=(e=function(t,e){if($(t))return!1;var r=typeof t;if(\"number\"==r||\"symbol\"==r||\"boolean\"==r||null==t||J(t))return!0;return f.test(t)||!c.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return $(t)?t:z(t)}(e)).length,s=o-1,a=t;null!=a&&++i<o;){var u=V(e[i]),h=r;if(i!=s){var l=a[u];void 0===(h=n?n(l,u,a):void 0)&&(h=Y(l)?l:H(e[i+1])?[]:{})}L(a,u,h),a=a[u]}return t}function F(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function q(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return D(r)?r:void 0}function H(t,e){return!!(e=null==e?o:e)&&(\"number\"==typeof t||y.test(t))&&t>-1&&t%1==0&&t<e}R.prototype.clear=function(){this.__data__=M?M(null):{}},R.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},R.prototype.get=function(t){var e=this.__data__;if(M){var r=e[t];return r===n?void 0:r}return A.call(e,t)?e[t]:void 0},R.prototype.has=function(t){var e=this.__data__;return M?void 0!==e[t]:A.call(e,t)},R.prototype.set=function(t,e){return this.__data__[t]=M&&void 0===e?n:e,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(t){var e=this.__data__,r=K(e,t);return!(r<0||(r==e.length-1?e.pop():I.call(e,r,1),0))},j.prototype.get=function(t){var e=this.__data__,r=K(e,t);return r<0?void 0:e[r][1]},j.prototype.has=function(t){return K(this.__data__,t)>-1},j.prototype.set=function(t,e){var r=this.__data__,n=K(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},N.prototype.clear=function(){this.__data__={hash:new R,map:new(C||j),string:new R}},N.prototype.delete=function(t){return F(this,t).delete(t)},N.prototype.get=function(t){return F(this,t).get(t)},N.prototype.has=function(t){return F(this,t).has(t)},N.prototype.set=function(t,e){return F(this,t).set(t,e),this};var z=G(function(t){t=function(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(J(t))return O?O.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-i?\"-0\":e}(t)}(t);var e=[];return h.test(t)&&e.push(\"\"),t.replace(l,function(t,r,n,i){e.push(n?i.replace(p,\"$1\"):r||t)}),e});function V(t){if(\"string\"==typeof t||J(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-i?\"-0\":e}function G(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(G.Cache||N),n}function W(t,e){return t===e||t!=t&&e!=e}G.Cache=N;var $=Array.isArray;function Y(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function J(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&x.call(t)==u}t.exports=function(t,e,r){return null==t?t:U(t,e,r)}}).call(this,r(5))},function(t,e,r){(function(e){var r=\"Expected a function\",n=\"__lodash_hash_undefined__\",i=1/0,o=9007199254740991,s=\"[object Arguments]\",a=\"[object Function]\",u=\"[object GeneratorFunction]\",c=\"[object Symbol]\",f=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,h=/^\\w*$/,l=/^\\./,p=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,d=/\\\\(\\\\)?/g,y=/^\\[object .+?Constructor\\]$/,m=/^(?:0|[1-9]\\d*)$/,g=\"object\"==typeof e&&e&&e.Object===Object&&e,b=\"object\"==typeof self&&self&&self.Object===Object&&self,v=g||b||Function(\"return this\")();var _=Array.prototype,w=Function.prototype,S=Object.prototype,k=v[\"__core-js_shared__\"],E=function(){var t=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),A=w.toString,x=S.hasOwnProperty,T=S.toString,B=RegExp(\"^\"+A.call(x).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),I=v.Symbol,C=S.propertyIsEnumerable,M=_.splice,P=H(v,\"Map\"),O=H(Object,\"create\"),R=I?I.prototype:void 0,j=R?R.toString:void 0;function N(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function L(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function K(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function D(t,e){for(var r=t.length;r--;)if($(t[r][0],e))return r;return-1}function U(t,e){return null!=t&&x.call(t,e)}function F(t){return!(!X(t)||function(t){return!!E&&E in t}(t))&&(J(t)||function(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}(t)?B:y).test(function(t){if(null!=t){try{return A.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}(t))}function q(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function H(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return F(r)?r:void 0}function z(t,e,r){for(var n,i=-1,a=(e=function(t,e){if(Y(t))return!1;var r=typeof t;if(\"number\"==r||\"symbol\"==r||\"boolean\"==r||null==t||tt(t))return!0;return h.test(t)||!f.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return Y(t)?t:V(t)}(e)).length;++i<a;){var u=G(e[i]);if(!(n=null!=t&&r(t,u)))break;t=t[u]}return n||!!(a=t?t.length:0)&&Z(a)&&function(t,e){return!!(e=null==e?o:e)&&(\"number\"==typeof t||m.test(t))&&t>-1&&t%1==0&&t<e}(u,a)&&(Y(t)||function(t){return function(t){return Q(t)&&function(t){return null!=t&&Z(t.length)&&!J(t)}(t)}(t)&&x.call(t,\"callee\")&&(!C.call(t,\"callee\")||T.call(t)==s)}(t))}N.prototype.clear=function(){this.__data__=O?O(null):{}},N.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},N.prototype.get=function(t){var e=this.__data__;if(O){var r=e[t];return r===n?void 0:r}return x.call(e,t)?e[t]:void 0},N.prototype.has=function(t){var e=this.__data__;return O?void 0!==e[t]:x.call(e,t)},N.prototype.set=function(t,e){return this.__data__[t]=O&&void 0===e?n:e,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(t){var e=this.__data__,r=D(e,t);return!(r<0||(r==e.length-1?e.pop():M.call(e,r,1),0))},L.prototype.get=function(t){var e=this.__data__,r=D(e,t);return r<0?void 0:e[r][1]},L.prototype.has=function(t){return D(this.__data__,t)>-1},L.prototype.set=function(t,e){var r=this.__data__,n=D(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},K.prototype.clear=function(){this.__data__={hash:new N,map:new(P||L),string:new N}},K.prototype.delete=function(t){return q(this,t).delete(t)},K.prototype.get=function(t){return q(this,t).get(t)},K.prototype.has=function(t){return q(this,t).has(t)},K.prototype.set=function(t,e){return q(this,t).set(t,e),this};var V=W(function(t){t=function(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(tt(t))return j?j.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-i?\"-0\":e}(t)}(t);var e=[];return l.test(t)&&e.push(\"\"),t.replace(p,function(t,r,n,i){e.push(n?i.replace(d,\"$1\"):r||t)}),e});function G(t){if(\"string\"==typeof t||tt(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-i?\"-0\":e}function W(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(W.Cache||K),n}function $(t,e){return t===e||t!=t&&e!=e}W.Cache=K;var Y=Array.isArray;function J(t){var e=X(t)?T.call(t):\"\";return e==a||e==u}function Z(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=o}function X(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function Q(t){return!!t&&\"object\"==typeof t}function tt(t){return\"symbol\"==typeof t||Q(t)&&T.call(t)==c}t.exports=function(t,e){return null!=t&&z(t,e,U)}}).call(this,r(5))},function(t,e,r){\"use strict\";const n=r(35).Key,i=r(3).Buffer,o=new n(\"api\");t.exports=(t=>({get(e){t.get(o,(t,r)=>e(t,r&&r.toString()))},set(e,r){t.put(o,i.from(e.toString()),r)},delete(e){t.delete(o,e)}}))},function(t,e,r){\"use strict\";const n=r(939),i=n.ShardingDatastore,o=r(35).Key,s=r(946),a=r(184),u=r(2),c=r(445),f=r(13),h=r(9),l=t=>(t=>{const e=new s.Encoder;return new o(\"/\"+e.write(t).finalize(),!1)})(t.buffer);t.exports=((t,e,r)=>{!function(t,e,r){if(e.sharding){const e=new n.shard.NextToLast(2);i.createOrOpen(t,e,r)}else u(()=>r(null,t))}(t,e,(t,e)=>{if(t)return r(t);r(null,function(t){return{query(e,r){h(t.query(e),h.collect(r))},get(e,r){if(!f.isCID(e))return u(()=>{r(new Error(\"Not a valid cid\"))});const n=l(e);t.get(n,(t,n)=>{if(t)return r(t);r(null,new a(n,e))})},put(e,r){if(!a.isBlock(e))return u(()=>{r(new Error(\"invalid block\"))});const n=l(e.cid);t.has(n,(i,o)=>i?r(i):o?r():void t.put(n,e.data,r))},putMany(e,r){const n=e.map(t=>({key:l(t.cid),block:t})),i=t.batch();c(n,(e,r)=>t.has(e.key,r),(t,e)=>{if(t)return r(t);e.forEach(t=>{i.put(t.key,t.block.data)}),i.commit(r)})},has(e,r){if(!f.isCID(e))return u(()=>{r(new Error(\"Not a valid cid\"))});t.has(l(e),r)},delete(e,r){if(!f.isCID(e))return u(()=>{r(new Error(\"Not a valid cid\"))});t.delete(l(e),r)},close(e){t.close(e)}}}(e))})})},function(t,e,r){\"use strict\";const n=r(195),i=r(940),o=r(942),s=r(944),a=r(945),u=r(443);e.KeytransformDatastore=n,e.ShardingDatastore=i,e.MountDatastore=o,e.TieredDatastore=s,e.NamespaceDatastore=a,e.shard=u},function(t,e,r){\"use strict\";(function(e){const n=r(4),i=r(66),o=r(35).Key,s=r(443),a=r(195),u=new o(s.SHARDING_FN),c=new o(s.README_FN);class f{constructor(t,e){this.child=new a(t,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=e}open(t){this.child.open(t)}_convertKey(t){const e=t.toString();return e===u.toString()||e===c.toString()?t:new o(this.shard.fun(e)).child(t)}_invertKey(t){const e=t.toString();return e===u.toString()||e===c.toString()?t:o.withNamespaces(t.list().slice(1))}static createOrOpen(t,e,r){f.create(t,e,e=>{if(e&&\"datastore exists\"!==e.message)return r(e);f.open(t,r)})}static open(t,e){n([e=>s.readShardFun(\"/\",t,e),(e,r)=>{r(null,new f(t,e))}],e)}static create(t,r,n){t.has(u,(o,a)=>{if(o)return n(o);if(!a){const o=\"function\"==typeof t.putRaw?t.putRaw.bind(t):t.put.bind(t);return i([t=>o(u,e.from(r.toString()+\"\\n\"),t),t=>o(c,e.from(s.readme),t)],t=>n(t))}s.readShardFun(\"/\",t,(t,e)=>{if(t)return n(t);const i=(e||\"\").toString(),o=r.toString();if(i!==o)return n(new Error(`specified fun ${o} does not match repo shard fun ${i}`));n(new Error(\"datastore exists\"))})})}put(t,e,r){this.child.put(t,e,r)}get(t,e){this.child.get(t,e)}has(t,e){this.child.has(t,e)}delete(t,e){this.child.delete(t,e)}batch(){return this.child.batch()}query(t){const e={keysOnly:t.keysOnly,offset:t.offset,limit:t.limit,filters:[(t,e)=>e(null,t.key.toString()!==u.toString()),(t,e)=>e(null,t.key.toString()!==c.toString())]};if(null!=t.prefix&&e.filters.push((e,r)=>{r(null,this._invertKey(e.key).toString().startsWith(t.prefix))}),null!=t.filters){const r=t.filters.map(t=>(e,r)=>{t(Object.assign({},e,{key:this._invertKey(e.key)}),r)});e.filters=e.filters.concat(r)}return null!=t.orders&&(e.orders=t.orders.map(t=>(e,r)=>{e.forEach(t=>{t.key=this._invertKey(t.key)}),t(e,(t,e)=>{if(t)return r(t);e.forEach(t=>{t.key=this._convertKey(t.key)}),r(null,e)})})),this.child.query(e)}close(t){this.child.close(t)}}t.exports=f}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";t.exports=\"This is a repository of IPLD objects. Each IPLD object is in a single file,\\nnamed <base32 encoding of cid>.data. Where <base32 encoding of cid> is the\\n\\\"base32\\\" encoding of the CID (as specified in\\nhttps://github.com/multiformats/multibase) without the 'B' prefix.\\nAll the object files are placed in a tree of directories, based on a\\nfunction of the CID. This is a form of sharding similar to\\nthe objects directory in git repositories. Previously, we used\\nprefixes, we now use the next-to-last two charters.\\n    func NextToLast(base32cid string) {\\n      nextToLastLen := 2\\n      offset := len(base32cid) - nextToLastLen - 1\\n      return str[offset : offset+nextToLastLen]\\n    }\\nFor example, an object with a base58 CIDv1 of\\n    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f\\nhas a base32 CIDv1 of\\n    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA\\nand will be placed at\\n    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data\\nwith 'SC' being the last-to-next two characters and the 'B' at the\\nbeginning of the CIDv1 string is the multibase prefix that is not\\nstored in the filename.\\n\"},function(t,e,r){\"use strict\";const n=r(53),i=r(943),o=r(9),s=r(35).Key,a=r(35).utils,u=a.asyncFilter,c=a.asyncSort,f=a.replaceStartWith,h=r(195);t.exports=class{constructor(t){this.mounts=t.slice()}open(t){n(this.mounts,(t,e)=>{t.datastore.open(e)},t)}_lookup(t){for(let e of this.mounts)if(e.prefix.toString()===t.toString()||e.prefix.isAncestorOf(t)){const r=f(t.toString(),e.prefix.toString());return{datastore:e.datastore,mountpoint:e.prefix,rest:new s(r)}}}put(t,e,r){const n=this._lookup(t);null!=n?n.datastore.put(n.rest,e,r):r(new Error(\"No datastore mounted for this key\"))}get(t,e){const r=this._lookup(t);null!=r?r.datastore.get(r.rest,e):e(new Error(\"No datastore mounted for this key\"))}has(t,e){const r=this._lookup(t);null!=r?r.datastore.has(r.rest,e):e(null,!1)}delete(t,e){const r=this._lookup(t);null!=r?r.datastore.delete(r.rest,e):e(new Error(\"No datastore mounted for this key\"))}close(t){n(this.mounts,(t,e)=>{t.datastore.close(e)},t)}batch(){const t={},e=e=>{const r=this._lookup(e);if(null==r)throw new Error(\"No datastore mounted for this key\");const n=r.mountpoint.toString();return null==t[n]&&(t[n]=r.datastore.batch()),{batch:t[n],rest:r.rest}};return{put:(t,r)=>{const n=e(t);n.batch.put(n.rest,r)},delete:t=>{const r=e(t);r.batch.delete(r.rest)},commit:e=>{n(Object.keys(t),(e,r)=>{t[e].commit(r)},e)}}}query(t){const e=this.mounts.map(e=>{const r=new h(e.datastore,{convert:t=>{throw new Error(\"should never be called\")},invert:t=>e.prefix.child(t)});let n;return null!=t.prefix&&(n=f(t.prefix,e.prefix.toString())),r.query({prefix:n,filters:t.filters,keysOnly:t.keysOnly})});let r=[i(e)];if(null!=t.filters&&(r=r.concat(t.filters.map(t=>u(t)))),null!=t.orders&&(r=r.concat(t.orders.map(t=>c(t)))),null!=t.offset){let e=0;r.push(o.filter(()=>e++>=t.offset))}return null!=t.limit&&r.push(o.take(t.limit)),o.apply(null,r)}}},function(t,e){t.exports=function(t){var e,r,n=!!t,i=(t||[]).map(s),o=0;function s(t){return{ready:!1,reading:!1,ended:!1,read:t,data:null}}function a(){if(r){!function(){var t=i.length;for(;t--;)i[t].ended&&i.splice(t,1)}();var t=i.length,s=r;if(0===t&&(e||n))return r=null,void s(e||!0);for(var a=0;a<t;a++){var u=i[(o+a)%t];if(u.ready&&!u.ended){var c=u.data;return u.ready=!1,u.data=null,o++,r=null,s(null,c)}}}}function u(){for(var t=i.length;t--;)!function(r){if(t>i.length)throw new Error(\"this should never happen\");if(!(r.reading||r.ended||r.ready)){r.reading=!0;var n=!0;r.read(e,function t(i,o){r.data=o,r.ready=!0,r.reading=!1,!0===i||e?r.ended=!0:i&&(e=r.ended=i),e&&!i&&r.read(e,t),n||a()}),n=!1}}(i[t]);a()}function c(t,n){e=e||t,r=n,u()}return c.add=function(t){if(!t)return n=!0,u();i.push(s(t)),u()},c.cap=function(t){c.add(null)},c}},function(t,e,r){\"use strict\";const n=r(53),i=r(39);t.exports=class{constructor(t){this.stores=t.slice()}open(t){n(this.stores,(t,e)=>{t.open(e)},t)}put(t,e,r){n(this.stores,(r,n)=>{r.put(t,e,n)},r)}get(t,e){const r=this.stores.length;let n=!1,o=0;i(()=>!n&&o<r,e=>{this.stores[o++].get(t,(t,r)=>{if(null==t)return n=!0,e(null,r);e()})},e)}has(t,e){const r=this.stores.length;let n=!1,o=0;i(()=>!n&&o<r,e=>{this.stores[o++].has(t,(t,r)=>{if(null==t)return n=!0,e(null,r);e()})},e)}delete(t,e){n(this.stores,(e,r)=>{e.delete(t,r)},e)}close(t){n(this.stores,(t,e)=>{t.close(e)},t)}batch(){const t=this.stores.map(t=>t.batch());return{put:(e,r)=>{t.forEach(t=>t.put(e,r))},delete:e=>{t.forEach(t=>t.delete(e))},commit:e=>{n(t,(t,e)=>{t.commit(e)},e)}}}query(t){return this.stores[this.stores.length-1].query(t)}}},function(t,e,r){\"use strict\";const n=r(35).Key,i=r(195);t.exports=class extends i{constructor(t,e){super(t,{convert:t=>e.child(t),invert(t){if(\"/\"===e.toString())return t;if(!e.isAncestorOf(t))throw new Error(`Expected prefix: (${e.toString()}) in key: ${t.toString()}`);return new n(t.toString().slice(e.toString().length),!1)}}),this.prefix=e}query(t){return t.prefix&&\"/\"!==this.prefix.toString()?super.query(Object.assign({},t,{prefix:this.prefix.child(new n(t.prefix)).toString()})):super.query(t)}}},function(t,e,r){\"use strict\";var n=function(t,e){return e||(e={}),t.split(\"\").forEach(function(t,r){t in e||(e[t]=r)}),e},i={alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",charmap:{0:14,1:8}};i.charmap=n(i.alphabet,i.charmap);var o={alphabet:\"0123456789ABCDEFGHJKMNPQRSTVWXYZ\",charmap:{O:0,I:1,L:1}};o.charmap=n(o.alphabet,o.charmap);var s={alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",charmap:{}};function a(t){if(this.buf=[],this.shift=8,this.carry=0,t){switch(t.type){case\"rfc4648\":this.charmap=e.rfc4648.charmap;break;case\"crockford\":this.charmap=e.crockford.charmap;break;case\"base32hex\":this.charmap=e.base32hex.charmap;break;default:throw new Error(\"invalid type\")}t.charmap&&(this.charmap=t.charmap)}}function u(t){if(this.buf=\"\",this.shift=3,this.carry=0,t){switch(t.type){case\"rfc4648\":this.alphabet=e.rfc4648.alphabet;break;case\"crockford\":this.alphabet=e.crockford.alphabet;break;case\"base32hex\":this.alphabet=e.base32hex.alphabet;break;default:throw new Error(\"invalid type\")}t.alphabet?this.alphabet=t.alphabet:t.lc&&(this.alphabet=this.alphabet.toLowerCase())}}s.charmap=n(s.alphabet,s.charmap),a.prototype.charmap=i.charmap,a.prototype.write=function(t){var e=this.charmap,r=this.buf,n=this.shift,i=this.carry;return t.toUpperCase().split(\"\").forEach(function(t){if(\"=\"!=t){var o=255&e[t];(n-=5)>0?i|=o<<n:n<0?(r.push(i|o>>-n),i=o<<(n+=8)&255):(r.push(i|o),n=8,i=0)}}),this.shift=n,this.carry=i,this},a.prototype.finalize=function(t){return t&&this.write(t),8!==this.shift&&0!==this.carry&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf},u.prototype.alphabet=i.alphabet,u.prototype.write=function(t){var e,r,n,i=this.shift,o=this.carry;for(n=0;n<t.length;n++)e=o|(r=t[n])>>i,this.buf+=this.alphabet[31&e],i>5&&(e=r>>(i-=5),this.buf+=this.alphabet[31&e]),o=r<<(i=5-i),i=8-i;return this.shift=i,this.carry=o,this},u.prototype.finalize=function(t){return t&&this.write(t),3!==this.shift&&(this.buf+=this.alphabet[31&this.carry],this.shift=3,this.carry=0),this.buf},e.encode=function(t,e){return new u(e).finalize(t)},e.decode=function(t,e){return new a(e).finalize(t)},e.Decoder=a,e.Encoder=u,e.charmap=n,e.crockford=o,e.rfc4648=i,e.base32hex=s},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r,i){(0,n.default)(t,e,function(t,e){r(t,function(t,r){e(t,!r)})},i)};var n=function(t){return t&&t.__esModule?t:{default:t}}(r(948));t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r,n){((0,i.default)(e)?c:f)(t,e,(0,a.default)(r),n||s.default)};var n=u(r(256)),i=u(r(100)),o=u(r(949)),s=u(r(65)),a=u(r(38));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e,r,n){var i=new Array(e.length);t(e,function(t,e,n){r(t,function(t,r){i[e]=!!r,n(t)})},function(t){if(t)return n(t);for(var r=[],o=0;o<e.length;o++)i[o]&&r.push(e[o]);n(null,r)})}function f(t,e,r,i){var s=[];t(e,function(t,e,n){r(t,function(r,i){r?n(r):(i&&s.push({index:e,value:t}),n())})},function(t){t?i(t):i(null,(0,n.default)(s.sort(function(t,e){return t.index-e.index}),(0,o.default)(\"value\")))})}t.exports=e.default},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,r){\"use strict\";t.exports={lock:\"memory\",storageBackends:{root:r(197),blocks:r(197),keys:r(197),datastore:r(197)},storageBackendOptions:{root:{extension:\"\"},blocks:{sharding:!1},keys:{sharding:!1}}}},function(t,e,r){(function(e){var n=r(19).EventEmitter,i=r(112).inherits,o=r(33),s=r(952),a=r(955),u=r(956),c=r(449),f=r(15),h=r(451),l=c.WriteError,p=c.ReadError,d=c.NotFoundError,y=c.OpenError,m=c.InitializationError;function g(t,r,i){if(!(this instanceof g))return new g(t,r,i);var o;if(n.call(this),this.setMaxListeners(1/0),\"function\"==typeof r&&(i=r,r={}),r=r||{},!t||\"object\"!=typeof t){if(o=new m(\"First argument must be an abstract-leveldown compliant store\"),\"function\"==typeof i)return e.nextTick(i,o);throw o}f.equal(typeof t.status,\"string\",\".status required, old abstract-leveldown\"),this.options=v(r),this._db=t,this.db=new s(t),this.open(i)}function b(t,e){return\"function\"==typeof t?t:e}function v(t){return\"object\"==typeof t&&null!==t?t:{}}function _(t,r){if(!t._isOpening()&&!t.isOpen())return e.nextTick(r,new p(\"Database is not open\")),!0}g.prototype.emit=n.prototype.emit,g.prototype.once=n.prototype.once,i(g,n),g.prototype.open=function(t){var r,n=this;return t||(r=(t=h()).promise),this.isOpen()?(e.nextTick(t,null,n),r):this._isOpening()?(this.once(\"open\",function(){t(null,n)}),r):(this.emit(\"opening\"),this.db.open(this.options,function(e){if(e)return t(new y(e));n.db=n._db,t(null,n),n.emit(\"open\"),n.emit(\"ready\")}),r)},g.prototype.close=function(t){var r,n=this;return t||(r=(t=h()).promise),this.isOpen()?(this.db.close(function(){n.emit(\"closed\"),t.apply(null,arguments)}),this.emit(\"closing\"),this.db=new s(this._db)):this.isClosed()?e.nextTick(t):\"closing\"===this.db.status?this.once(\"closed\",t):this._isOpening()&&this.once(\"open\",function(){n.close(t)}),r},g.prototype.isOpen=function(){return\"open\"===this.db.status},g.prototype._isOpening=function(){return\"opening\"===this.db.status},g.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},g.prototype.get=function(t,e,r){if(null===t||void 0===t)throw new p(\"get() requires a key argument\");var n;return(r=b(e,r))||(n=(r=h()).promise),_(this,r)?n:(e=v(e),this.db.get(t,e,function(e,n){if(e)return e=/notfound/i.test(e)||e.notFound?new d(\"Key not found in database [\"+t+\"]\",e):new p(e),r(e);r(null,n)}),n)},g.prototype.put=function(t,e,r,n){if(null===t||void 0===t)throw new l(\"put() requires a key argument\");var i,o=this;return(n=b(r,n))||(i=(n=h()).promise),_(this,n)?i:(r=v(r),this.db.put(t,e,r,function(r){if(r)return n(new l(r));o.emit(\"put\",t,e),n()}),i)},g.prototype.del=function(t,e,r){if(null===t||void 0===t)throw new l(\"del() requires a key argument\");var n,i=this;return(r=b(e,r))||(n=(r=h()).promise),_(this,r)?n:(e=v(e),this.db.del(t,e,function(e){if(e)return r(new l(e));i.emit(\"del\",t),r()}),n)},g.prototype.batch=function(t,e,r){if(!arguments.length)return new u(this);if(!Array.isArray(t))throw new l(\"batch() requires an array argument\");var n,i=this;return(r=b(e,r))||(n=(r=h()).promise),_(this,r)?n:(e=v(e),t=t.map(function(t){return t.type||void 0===t.key||void 0===t.value||(t.type=\"put\"),t}),this.db.batch(t,e,function(e){if(e)return r(new l(e));i.emit(\"batch\",t),r()}),n)},g.prototype.readStream=g.prototype.createReadStream=function(t){return\"number\"!=typeof(t=o({keys:!0,values:!0},t)).limit&&(t.limit=-1),new a(this.db.iterator(t),t)},g.prototype.keyStream=g.prototype.createKeyStream=function(t){return this.createReadStream(o(t,{keys:!0,values:!1}))},g.prototype.valueStream=g.prototype.createValueStream=function(t){return this.createReadStream(o(t,{keys:!1,values:!0}))},g.prototype.toString=function(){return\"LevelUP\"},g.errors=c,t.exports=g.default=g}).call(this,r(7))},function(t,e,r){var n=r(112),i=r(446).AbstractLevelDOWN,o=r(954),s=\"put get del batch\".split(\" \");function a(t){i.call(this,\"\"),this._db=t,this._operations=[],this._iterators=[],u(this)}function u(t){s.forEach(function(e){t[\"_\"+e]=function(){this._operations.push({method:e,args:arguments})}}),\"function\"==typeof t._db.approximateSize&&(t.approximateSize=function(){this._operations.push({method:\"approximateSize\",args:arguments})}),t._iterator=function(t){var e=new o(t);return this._iterators.push(e),e}}n.inherits(a,i),a.prototype._open=function(t,e){var r=this;this._db.open(t,function(t){if(t)return e(t);r._operations.forEach(function(t){r._db[t.method].apply(r._db,t.args)}),r._operations=[],r._iterators.forEach(function(t){t.setDb(r._db)}),r._iterators=[],function(t){s.concat(\"iterator\").forEach(function(e){t[\"_\"+e]=function(){return this._db[e].apply(this._db,arguments)}}),t._db.approximateSize&&(t.approximateSize=function(){return this._db.approximateSize.apply(this._db,arguments)})}(r),e()})},a.prototype._close=function(t){var e=this;this._db.close(function(r){if(r)return t(r);u(e),t()})},a.prototype._serializeKey=function(t){return t},a.prototype._serializeValue=function(t){return t},t.exports=a,t.exports.DeferredIterator=o},function(t,e,r){(function(e,n){const i=r(33),o=r(447),s=r(448),a=Object.prototype.hasOwnProperty,u=\"start end gt gte lt lte\".split(\" \");function c(t){if(!arguments.length||void 0===t)throw new Error(\"constructor requires at least a location argument\");if(\"string\"!=typeof t)throw new Error(\"constructor requires a location string argument\");this.location=t,this.status=\"new\"}function f(t){return-1!==u.indexOf(t)}function h(t){return\"\"===t||null==t||function(t){return n.isBuffer(t)&&0===t.length}(t)}c.prototype.open=function(t,e){var r=this,n=this.status;if(\"function\"==typeof t&&(e=t),\"function\"!=typeof e)throw new Error(\"open() requires a callback argument\");\"object\"!=typeof t&&(t={}),t.createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists,this.status=\"opening\",this._open(t,function(t){if(t)return r.status=n,e(t);r.status=\"open\",e()})},c.prototype._open=function(t,r){e.nextTick(r)},c.prototype.close=function(t){var e=this,r=this.status;if(\"function\"!=typeof t)throw new Error(\"close() requires a callback argument\");this.status=\"closing\",this._close(function(n){if(n)return e.status=r,t(n);e.status=\"closed\",t()})},c.prototype._close=function(t){e.nextTick(t)},c.prototype.get=function(t,r,n){if(\"function\"==typeof r&&(n=r),\"function\"!=typeof n)throw new Error(\"get() requires a callback argument\");var i=this._checkKey(t,\"key\");if(i)return e.nextTick(n,i);t=this._serializeKey(t),\"object\"!=typeof r&&(r={}),r.asBuffer=!1!==r.asBuffer,this._get(t,r,n)},c.prototype._get=function(t,r,n){e.nextTick(function(){n(new Error(\"NotFound\"))})},c.prototype.put=function(t,r,n,i){if(\"function\"==typeof n&&(i=n),\"function\"!=typeof i)throw new Error(\"put() requires a callback argument\");var o=this._checkKey(t,\"key\");if(o)return e.nextTick(i,o);t=this._serializeKey(t),r=this._serializeValue(r),\"object\"!=typeof n&&(n={}),this._put(t,r,n,i)},c.prototype._put=function(t,r,n,i){e.nextTick(i)},c.prototype.del=function(t,r,n){if(\"function\"==typeof r&&(n=r),\"function\"!=typeof n)throw new Error(\"del() requires a callback argument\");var i=this._checkKey(t,\"key\");if(i)return e.nextTick(n,i);t=this._serializeKey(t),\"object\"!=typeof r&&(r={}),this._del(t,r,n)},c.prototype._del=function(t,r,n){e.nextTick(n)},c.prototype.batch=function(t,r,n){if(!arguments.length)return this._chainedBatch();if(\"function\"==typeof r&&(n=r),\"function\"==typeof t&&(n=t),\"function\"!=typeof n)throw new Error(\"batch(array) requires a callback argument\");if(!Array.isArray(t))return e.nextTick(n,new Error(\"batch(array) requires an array argument\"));r&&\"object\"==typeof r||(r={});for(var o=new Array(t.length),s=0;s<t.length;s++){if(\"object\"!=typeof t[s]||null===t[s])return e.nextTick(n,new Error(\"batch(array) element must be an object and not `null`\"));var a=i(t[s]);if(\"put\"!==a.type&&\"del\"!==a.type)return e.nextTick(n,new Error(\"`type` must be 'put' or 'del'\"));var u=this._checkKey(a.key,\"key\");if(u)return e.nextTick(n,u);a.key=this._serializeKey(a.key),\"put\"===a.type&&(a.value=this._serializeValue(a.value)),o[s]=a}this._batch(o,r,n)},c.prototype._batch=function(t,r,n){e.nextTick(n)},c.prototype._setupIteratorOptions=function(t){return(t=function(t){var e={};for(var r in t)a.call(t,r)&&(f(r)&&h(t[r])||(e[r]=t[r]));return e}(t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit=\"limit\"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},c.prototype.iterator=function(t){return\"object\"!=typeof t&&(t={}),t=this._setupIteratorOptions(t),this._iterator(t)},c.prototype._iterator=function(t){return new o(this)},c.prototype._chainedBatch=function(){return new s(this)},c.prototype._serializeKey=function(t){return n.isBuffer(t)?t:String(t)},c.prototype._serializeValue=function(t){return null==t?\"\":n.isBuffer(t)||e.browser?t:String(t)},c.prototype._checkKey=function(t,e){return null===t||void 0===t?new Error(e+\" cannot be `null` or `undefined`\"):n.isBuffer(t)&&0===t.length?new Error(e+\" cannot be an empty Buffer\"):\"\"===String(t)?new Error(e+\" cannot be an empty String\"):void 0},t.exports=c}).call(this,r(7),r(0).Buffer)},function(t,e,r){var n=r(112),i=r(446).AbstractIterator;function o(t){i.call(this,t),this._options=t,this._iterator=null,this._operations=[]}n.inherits(o,i),o.prototype.setDb=function(t){var e=this._iterator=t.iterator(this._options);this._operations.forEach(function(t){e[t.method].apply(e,t.args)})},o.prototype._operation=function(t,e){if(this._iterator)return this._iterator[t].apply(this._iterator,e);this._operations.push({method:t,args:e})},\"next end\".split(\" \").forEach(function(t){o.prototype[\"_\"+t]=function(){this._operation(t,arguments)}}),t.exports=o},function(t,e,r){var n=r(1),i=r(58).Readable,o=r(33);function s(t,e){if(!(this instanceof s))return new s(t,e);e=e||{},i.call(this,o(e,{objectMode:!0})),this._iterator=t,this._destroyed=!1,this._options=e,this.on(\"end\",this._cleanup.bind(this))}t.exports=s,n(s,i),s.prototype._read=function(){var t=this,e=this._options;this._destroyed||this._iterator.next(function(r,n,i){if(!t._destroyed)return r?t.emit(\"error\",r):void(void 0===n&&void 0===i?t.push(null):!1!==e.keys&&!1===e.values?t.push(n):!1===e.keys&&!1!==e.values?t.push(i):t.push({key:n,value:i}))})},s.prototype.destroy=s.prototype._cleanup=function(){var t=this;this._destroyed||(this._destroyed=!0,this._iterator.end(function(e){if(e)return t.emit(\"error\",e);t.emit(\"close\")}))}},function(t,e,r){var n=r(449).WriteError,i=r(451);function o(t){this._levelup=t,this.batch=t.db.batch(),this.ops=[],this.length=0}o.prototype.put=function(t,e){try{this.batch.put(t,e)}catch(t){throw new n(t)}return this.ops.push({type:\"put\",key:t,value:e}),this.length++,this},o.prototype.del=function(t){try{this.batch.del(t)}catch(t){throw new n(t)}return this.ops.push({type:\"del\",key:t}),this.length++,this},o.prototype.clear=function(){try{this.batch.clear()}catch(t){throw new n(t)}return this.ops=[],this.length=0,this},o.prototype.write=function(t){var e,r=this._levelup,o=this.ops;t||(e=(t=i()).promise);try{this.batch.write(function(e){if(e)return t(new n(e));r.emit(\"batch\",o),t()})}catch(t){throw new n(t)}return e},t.exports=o},function(t,e,r){var n=r(958);function i(t,e,r){e&&\"string\"!=typeof e&&(e=e.message||e.name),n(this,{type:t,name:t,cause:\"string\"!=typeof e?e:r,message:e},\"ewr\")}function o(t,e){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i.call(this,\"CustomError\",t,e)}o.prototype=new Error,t.exports=function(t){var e=function(e,r){return function(t,e,r){var n=function(r,o){i.call(this,e,r,o),\"FilesystemError\"==e&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(t.errno[this.cause.errno]?t.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?\" [\"+this.cause.path+\"]\":\"\")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=r?new r:new o,n}(t,e,r)};return{CustomError:o,FilesystemError:e(\"FilesystemError\"),createError:e}}},function(t,e){\n/*!\n  * prr\n  * (c) 2013 Rod Vagg <rod@vagg.org>\n  * https://github.com/rvagg/prr\n  * License: MIT\n  */\n!function(e,r,n){void 0!==t&&t.exports?t.exports=n():r.prr=n()}(0,this,function(){var t=\"function\"==typeof Object.defineProperty?function(t,e,r){return Object.defineProperty(t,e,r),t}:function(t,e,r){return t[e]=r.value,t};return function(e,r,n,i){var o;if(i=function(t,e){var r=\"object\"==typeof e,n=!r&&\"string\"==typeof e,i=function(t){return r?!!e[t]:!!n&&e.indexOf(t[0])>-1};return{enumerable:i(\"enumerable\"),configurable:i(\"configurable\"),writable:i(\"writable\"),value:t}}(n,i),\"object\"==typeof r){for(o in r)Object.hasOwnProperty.call(r,o)&&(i.value=r[o],t(e,o,i));return e}return t(e,r,i)}})},function(t,e,r){\"use strict\";var n=r(257).AbstractLevelDOWN,i=r(257).AbstractChainedBatch,o=r(257).AbstractIterator,s=r(1),a=r(33),u=r(961),c=r(963).EncodingError;function f(t,e){if(!(this instanceof f))return new f(t,e);n.call(this,\"\"),void 0===(e=e||{}).keyEncoding&&(e.keyEncoding=\"utf8\"),void 0===e.valueEncoding&&(e.valueEncoding=\"utf8\"),this.db=t,this.codec=new u(e)}function h(t,e){o.call(this,t),this.codec=t.codec,this.keys=e.keys,this.values=e.values,this.opts=this.codec.encodeLtgt(e),this.it=t.db.iterator(this.opts)}function l(t,e){i.call(this,t),this.codec=t.codec,this.batch=t.db.batch()}t.exports=f.default=f,s(f,n),f.prototype._serializeKey=f.prototype._serializeValue=function(t){return t},f.prototype._open=function(t,e){this.db.open(t,e)},f.prototype._close=function(t){this.db.close(t)},f.prototype._put=function(t,e,r,n){t=this.codec.encodeKey(t,r),e=this.codec.encodeValue(e,r),this.db.put(t,e,r,n)},f.prototype._get=function(t,e,r){var n=this;t=this.codec.encodeKey(t,e),e.asBuffer=this.codec.valueAsBuffer(e),this.db.get(t,e,function(t,i){if(t)return r(t);try{i=n.codec.decodeValue(i,e)}catch(t){return r(new c(t))}r(null,i)})},f.prototype._del=function(t,e,r){t=this.codec.encodeKey(t,e),this.db.del(t,e,r)},f.prototype._chainedBatch=function(){return new l(this)},f.prototype._batch=function(t,e,r){t=this.codec.encodeBatch(t,e),this.db.batch(t,e,r)},f.prototype._iterator=function(t){return t.keyAsBuffer=this.codec.keyAsBuffer(t),t.valueAsBuffer=this.codec.valueAsBuffer(t),new h(this,t)},f.prototype._setupIteratorOptions=function(t){return(t=a(t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit=\"limit\"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},f.prototype.approximateSize=function(t,e,r,n){return this.db.approximateSize(t,e,r,n)},s(h,o),h.prototype._next=function(t){var e=this;this.it.next(function(r,n,i){if(r)return t(r);try{n=e.keys&&void 0!==n?e.codec.decodeKey(n,e.opts):void 0,i=e.values&&void 0!==i?e.codec.decodeValue(i,e.opts):void 0}catch(r){return t(new c(r))}t(null,n,i)})},h.prototype._end=function(t){this.it.end(t)},s(l,i),l.prototype._put=function(t,e){t=this.codec.encodeKey(t),e=this.codec.encodeValue(e),this.batch.put(t,e)},l.prototype._del=function(t){t=this.codec.encodeKey(t),this.batch.del(t)},l.prototype._clear=function(){this.batch.clear()},l.prototype._write=function(t,e){this.batch.write(t,e)}},function(t,e,r){(function(e,n){var i=r(33),o=r(452),s=r(453),a=Object.prototype.hasOwnProperty,u=\"start end gt gte lt lte\".split(\" \");function c(t){if(!arguments.length||void 0===t)throw new Error(\"constructor requires at least a location argument\");if(\"string\"!=typeof t)throw new Error(\"constructor requires a location string argument\");this.location=t,this.status=\"new\"}function f(t){return-1!==u.indexOf(t)}function h(t){return\"\"===t||null==t||function(t){return n.isBuffer(t)&&0===t.length}(t)}c.prototype.open=function(t,e){var r=this,n=this.status;if(\"function\"==typeof t&&(e=t),\"function\"!=typeof e)throw new Error(\"open() requires a callback argument\");\"object\"!=typeof t&&(t={}),t.createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists,this.status=\"opening\",this._open(t,function(t){if(t)return r.status=n,e(t);r.status=\"open\",e()})},c.prototype._open=function(t,r){e.nextTick(r)},c.prototype.close=function(t){var e=this,r=this.status;if(\"function\"!=typeof t)throw new Error(\"close() requires a callback argument\");this.status=\"closing\",this._close(function(n){if(n)return e.status=r,t(n);e.status=\"closed\",t()})},c.prototype._close=function(t){e.nextTick(t)},c.prototype.get=function(t,r,n){if(\"function\"==typeof r&&(n=r),\"function\"!=typeof n)throw new Error(\"get() requires a callback argument\");var i=this._checkKey(t,\"key\");if(i)return e.nextTick(n,i);t=this._serializeKey(t),\"object\"!=typeof r&&(r={}),r.asBuffer=!1!==r.asBuffer,this._get(t,r,n)},c.prototype._get=function(t,r,n){e.nextTick(function(){n(new Error(\"NotFound\"))})},c.prototype.put=function(t,r,n,i){if(\"function\"==typeof n&&(i=n),\"function\"!=typeof i)throw new Error(\"put() requires a callback argument\");var o=this._checkKey(t,\"key\");if(o)return e.nextTick(i,o);t=this._serializeKey(t),r=this._serializeValue(r),\"object\"!=typeof n&&(n={}),this._put(t,r,n,i)},c.prototype._put=function(t,r,n,i){e.nextTick(i)},c.prototype.del=function(t,r,n){if(\"function\"==typeof r&&(n=r),\"function\"!=typeof n)throw new Error(\"del() requires a callback argument\");var i=this._checkKey(t,\"key\");if(i)return e.nextTick(n,i);t=this._serializeKey(t),\"object\"!=typeof r&&(r={}),this._del(t,r,n)},c.prototype._del=function(t,r,n){e.nextTick(n)},c.prototype.batch=function(t,r,n){if(!arguments.length)return this._chainedBatch();if(\"function\"==typeof r&&(n=r),\"function\"==typeof t&&(n=t),\"function\"!=typeof n)throw new Error(\"batch(array) requires a callback argument\");if(!Array.isArray(t))return e.nextTick(n,new Error(\"batch(array) requires an array argument\"));r&&\"object\"==typeof r||(r={});for(var o=new Array(t.length),s=0;s<t.length;s++){if(\"object\"!=typeof t[s]||null===t[s])return e.nextTick(n,new Error(\"batch(array) element must be an object and not `null`\"));var a=i(t[s]);if(\"put\"!==a.type&&\"del\"!==a.type)return e.nextTick(n,new Error(\"`type` must be 'put' or 'del'\"));var u=this._checkKey(a.key,\"key\");if(u)return e.nextTick(n,u);a.key=this._serializeKey(a.key),\"put\"===a.type&&(a.value=this._serializeValue(a.value)),o[s]=a}this._batch(o,r,n)},c.prototype._batch=function(t,r,n){e.nextTick(n)},c.prototype._setupIteratorOptions=function(t){return(t=function(t){var e={};for(var r in t)a.call(t,r)&&(f(r)&&h(t[r])||(e[r]=t[r]));return e}(t)).reverse=!!t.reverse,t.keys=!1!==t.keys,t.values=!1!==t.values,t.limit=\"limit\"in t?t.limit:-1,t.keyAsBuffer=!1!==t.keyAsBuffer,t.valueAsBuffer=!1!==t.valueAsBuffer,t},c.prototype.iterator=function(t){return\"object\"!=typeof t&&(t={}),t=this._setupIteratorOptions(t),this._iterator(t)},c.prototype._iterator=function(t){return new o(this)},c.prototype._chainedBatch=function(){return new s(this)},c.prototype._serializeKey=function(t){return n.isBuffer(t)?t:String(t)},c.prototype._serializeValue=function(t){return null==t?\"\":n.isBuffer(t)||e.browser?t:String(t)},c.prototype._checkKey=function(t,e){return null===t||void 0===t?new Error(e+\" cannot be `null` or `undefined`\"):n.isBuffer(t)&&0===t.length?new Error(e+\" cannot be an empty Buffer\"):\"\"===String(t)?new Error(e+\" cannot be an empty String\"):void 0},t.exports=c}).call(this,r(7),r(0).Buffer)},function(t,e,r){var n=r(962);function i(t){if(!(this instanceof i))return new i(t);this.opts=t||{},this.encodings=n}t.exports=i,i.prototype._encoding=function(t){return\"string\"==typeof t&&(t=n[t]),t||(t=n.id),t},i.prototype._keyEncoding=function(t,e){return this._encoding(e&&e.keyEncoding||t&&t.keyEncoding||this.opts.keyEncoding)},i.prototype._valueEncoding=function(t,e){return this._encoding(e&&(e.valueEncoding||e.encoding)||t&&(t.valueEncoding||t.encoding)||this.opts.valueEncoding||this.opts.encoding)},i.prototype.encodeKey=function(t,e,r){return this._keyEncoding(e,r).encode(t)},i.prototype.encodeValue=function(t,e,r){return this._valueEncoding(e,r).encode(t)},i.prototype.decodeKey=function(t,e){return this._keyEncoding(e).decode(t)},i.prototype.decodeValue=function(t,e){return this._valueEncoding(e).decode(t)},i.prototype.encodeBatch=function(t,e){var r=this;return t.map(function(t){var n={type:t.type,key:r.encodeKey(t.key,e,t)};return r.keyAsBuffer(e,t)&&(n.keyEncoding=\"binary\"),t.prefix&&(n.prefix=t.prefix),\"value\"in t&&(n.value=r.encodeValue(t.value,e,t),r.valueAsBuffer(e,t)&&(n.valueEncoding=\"binary\")),n})};var o=[\"lt\",\"gt\",\"lte\",\"gte\",\"start\",\"end\"];i.prototype.encodeLtgt=function(t){var e=this,r={};return Object.keys(t).forEach(function(n){r[n]=o.indexOf(n)>-1?e.encodeKey(t[n],t):t[n]}),r},i.prototype.createStreamDecoder=function(t){var e=this;return t.keys&&t.values?function(r,n){return{key:e.decodeKey(r,t),value:e.decodeValue(n,t)}}:t.keys?function(r){return e.decodeKey(r,t)}:t.values?function(r,n){return e.decodeValue(n,t)}:function(){}},i.prototype.keyAsBuffer=function(t){return this._keyEncoding(t).buffer},i.prototype.valueAsBuffer=function(t){return this._valueEncoding(t).buffer}},function(t,e,r){(function(t){e.utf8=e[\"utf-8\"]={encode:function(t){return n(t)?t:String(t)},decode:r,buffer:!1,type:\"utf8\"},e.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:\"json\"},e.binary={encode:function(e){return n(e)?e:t.from(e)},decode:r,buffer:!0,type:\"binary\"},e.none={encode:r,decode:r,buffer:!1,type:\"id\"},e.id=e.none;function r(t){return t}function n(e){return void 0===e||null===e||t.isBuffer(e)}[\"hex\",\"ascii\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\"].forEach(function(r){e[r]={encode:function(e){return n(e)?e:t.from(e,r)},decode:function(t){return t.toString(r)},buffer:!0,type:r}})}).call(this,r(0).Buffer)},function(t,e,r){var n=r(450).create,i=n(\"LevelUPError\"),o=n(\"NotFoundError\",i);o.prototype.notFound=!0,o.prototype.status=404,t.exports={LevelUPError:i,InitializationError:n(\"InitializationError\",i),OpenError:n(\"OpenError\",i),ReadError:n(\"ReadError\",i),WriteError:n(\"WriteError\",i),NotFoundError:o,EncodingError:n(\"EncodingError\",i)}},function(t,e,r){(function(e,n){t.exports=u;var i=r(454).AbstractLevelDOWN,o=r(112),s=r(966),a=r(33);function u(t){if(!(this instanceof u))return new u(t);i.call(this,t)}o.inherits(u,i),u.prototype._open=function(t,e){var r=this;if(this._idbOpts=a({storeName:this.location,keyEncoding:\"none\",valueEncoding:\"none\"},t),this._idbOpts.idb)i(this._idbOpts.idb);else{var n=indexedDB.open(this.location);n.onerror=function(t){e(t.target.error)},n.onsuccess=function(){i(n.result)}}function i(n){r._db=n;var i=r._db.objectStoreNames.contains(r._idbOpts.storeName);if(t.errorIfExists&&i)return r._db.close(),void e(new Error(\"store already exists\"));if(!t.createIfMissing&&!i)return r._db.close(),void e(new Error(\"store does not exist\"));if(t.createIfMissing&&!i){r._db.close();var o=indexedDB.open(r.location,r._db.version+1);return o.onerror=function(t){e(t.target.error)},o.onupgradeneeded=function(){o.result.createObjectStore(r._idbOpts.storeName,r._idbOpts)},void(o.onsuccess=function(){r._db=o.result,e(null,r)})}e(null,r)}},u.prototype._get=function(t,r,n){var i=t;\"binary\"!==(r=a(this._idbOpts,r)).keyEncoding||Array.isArray(t)||(t=Array.prototype.slice.call(t));var o=this._db.transaction(this._idbOpts.storeName),s=o.objectStore(this._idbOpts.storeName).openCursor(IDBKeyRange.only(t));o.onabort=function(){n(o.error)},s.onsuccess=function(){var t=s.result;if(t){var o=t.value;if(o instanceof Uint8Array&&(o=new e(o)),\"binary\"!==r.valueEncoding||e.isBuffer(o)||(o=new e(o)),r.asBuffer&&!e.isBuffer(o))if(null==o)o=new e(0);else if(\"string\"==typeof o)o=new e(o);else if(\"boolean\"==typeof o)o=new e(String(o));else if(\"number\"==typeof o)o=new e(String(o));else if(Array.isArray(o))o=new e(String(o));else{if(!(o instanceof Uint8Array))return void n(new TypeError(\"can't coerce `\"+o.constructor.name+\"` into a Buffer\"));o=new e(o)}n(null,o,i)}else n(new Error(\"NotFound\"))}},u.prototype._del=function(t,e,r){\"binary\"!==(e=a(this._idbOpts,e)).keyEncoding||Array.isArray(t)||(t=Array.prototype.slice.call(t));var n=\"readwrite\";!0===e.sync&&(n=\"readwriteflush\");var i=this._db.transaction(this._idbOpts.storeName,n);i.objectStore(this._idbOpts.storeName).delete(t);i.onabort=function(){r(i.error)},i.oncomplete=function(){r()}},u.prototype._put=function(t,e,r,n){\"binary\"!==(r=a(this._idbOpts,r)).keyEncoding||Array.isArray(t)||(t=Array.prototype.slice.call(t));var i=\"readwrite\";!0===r.sync&&(i=\"readwriteflush\");var o=this._db.transaction(this._idbOpts.storeName,i);o.objectStore(this._idbOpts.storeName).put(e,t);o.onabort=function(){n(o.error)},o.oncomplete=function(){n()}},u.prototype._iterator=function(t){return new s(this,t)},u.prototype._batch=function(t,e,r){if(0===t.length)return n.nextTick(r);var i=\"readwrite\";!0===e.sync&&(i=\"readwriteflush\");var o=this._db.transaction(this._idbOpts.storeName,i),s=o.objectStore(this._idbOpts.storeName);o.onabort=function(){r(o.error)},o.oncomplete=function(){r()},t.forEach(function(t){\"binary\"!==a(e,t).keyEncoding||Array.isArray(t.key)||(t.key=Array.prototype.slice.call(t.key)),\"del\"===t.type?s.delete(t.key):s.put(t.value,t.key)})},u.prototype._close=function(t){this._db.close(),n.nextTick(t)},u.prototype._approximateSize=function(t,e,r){var i=new Error(\"Not implemented\");if(!r)throw i;n.nextTick(function(){r(i)})},u.destroy=function(t,e){var r;if(null!=t&&\"object\"==typeof t)r=a({location:t.location,storeName:t.location},t._idbOpts);else{if(\"string\"!=typeof t)throw new TypeError(\"location must be a string or an object\");r={location:t,storeName:t}}if(\"string\"!=typeof r.location)throw new TypeError(\"location must be a string\");if(\"string\"!=typeof r.storeName)throw new TypeError(\"db.storeName must be a string\");var n=indexedDB.open(r.location);n.onerror=function(t){e(t.target.error)},n.onsuccess=function(){var t=n.result;function i(t){var r=indexedDB.deleteDatabase(t);r.onerror=function(t){e(t.target.error)},r.onsuccess=function(){e()}}if(t.close(),0!==t.objectStoreNames.length)if(t.objectStoreNames.contains(r.storeName)){var o=indexedDB.open(r.location,t.version+1);o.onerror=function(t){e(t.target.error)},o.onupgradeneeded=function(){(t=o.result).deleteObjectStore(r.storeName)},o.onsuccess=function(){(t=o.result).close(),0===t.objectStoreNames.length?i(r.location):e()}}else e();else i(r.location)}}}).call(this,r(0).Buffer,r(7))},function(t,e,r){var n=r(455);t.exports=function(t){return!(!t||\"object\"!=typeof t)&&Object.keys(n.prototype).filter(function(t){return\"_\"!=t[0]&&\"approximateSize\"!=t}).every(function(e){return\"function\"==typeof t[e]})}},function(t,e,r){(function(e,n){var i=r(112),o=r(454).AbstractIterator,s=r(967),a=r(968),u=r(86),c=r(33),f=u.Writable;function h(t,e){if(this._db=t._db,this._idbOpts=t._idbOpts,o.call(this,t),this._options=c({snapshot:!0},this._idbOpts,e),this._limit=this._options.limit,null!=this._limit&&-1!==this._limit||(this._limit=1/0),\"number\"!=typeof this._limit)throw new TypeError(\"options.limit must be a number\");0!==this._limit&&(this._count=0,this._startCursor(this._options))}t.exports=h,i.inherits(h,o),h.prototype._startCursor=function(t){t=c(this._options,t);var e=this,r=null,n=s.lowerBound(t),i=s.upperBound(t),o=s.lowerBoundExclusive(t),u=s.upperBoundExclusive(t),h=t.reverse?\"prev\":\"next\";if(n&&(\"binary\"!==t.keyEncoding||Array.isArray(n)||(n=Array.prototype.slice.call(n))),i&&(\"binary\"!==t.keyEncoding||Array.isArray(i)||(i=Array.prototype.slice.call(i))),n&&i)try{r=IDBKeyRange.bound(n,i,o,u)}catch(t){return void(this._keyRangeError=!0)}else n?r=IDBKeyRange.lowerBound(n,o):i&&(r=IDBKeyRange.upperBound(i,u));this._reader=a(this._db,this._idbOpts.storeName,c(t,{range:r,direction:h})),this._reader.on(\"error\",function(t){var r=e._callback;e._callback=!1,r?r(t):e._readNext=function(e){e(t)}}),this._reader.pipe(new f({objectMode:!0,write:function(t,r,n){if(e._count++>=e._limit)return e._reader.pause(),e._reader.unpipe(this),n(),void this.end();var i=e._callback;e._callback=!1,i?e._processItem(t,function(t,e,r){n(t),i(t,e,r)}):e._readNext=function(r){e._processItem(t,function(t,e,i){n(t),r(t,e,i)})}}})).on(\"finish\",function(){var t=e._callback;e._callback=!1,t?t():e._readNext=function(t){t()}})},h.prototype._processItem=function(t,r){if(\"function\"!=typeof r)throw new TypeError(\"cb must be a function\");var n=t.key,i=t.value;if(i instanceof Uint8Array&&(i=new e(i)),\"binary\"===this._options.keyEncoding&&Array.isArray(n)&&(n=new e(n)),\"binary\"!==this._options.valueEncoding||e.isBuffer(i)||(i=new e(i)),this._options.keyAsBuffer&&!e.isBuffer(n))if(null==n)n=new e(0);else if(\"string\"==typeof n)n=new e(n);else if(\"boolean\"==typeof n)n=new e(String(n));else if(\"number\"==typeof n)n=new e(String(n));else if(Array.isArray(n))n=new e(String(n));else{if(!(n instanceof Uint8Array))throw new TypeError(\"can't coerce `\"+n.constructor.name+\"` into a Buffer\");n=new e(n)}if(this._options.valueAsBuffer&&!e.isBuffer(i))if(null==i)i=new e(0);else if(\"string\"==typeof i)i=new e(i);else if(\"boolean\"==typeof i)i=new e(String(i));else if(\"number\"==typeof i)i=new e(String(i));else if(Array.isArray(i))i=new e(String(i));else{if(!(i instanceof Uint8Array))throw new TypeError(\"can't coerce `\"+i.constructor.name+\"` into a Buffer\");i=new e(i)}r(null,n,i)},h.prototype._next=function(t){if(this._callback)throw new Error(\"callback already exists\");if(this._keyRangeError||0===this._limit)t();else{var e=this._readNext;this._readNext=!1,e?n.nextTick(function(){e(t)}):this._callback=t}}}).call(this,r(0).Buffer,r(7))},function(t,e,r){(function(t){function r(t){return void 0!==t&&\"\"!==t}function n(t,e){return Object.hasOwnProperty.call(t,e)}function i(t,e){return Object.hasOwnProperty.call(t,e)&&e}e.compare=function(e,r){if(t.isBuffer(e)){for(var n=Math.min(e.length,r.length),i=0;i<n;i++){var o=e[i]-r[i];if(o)return o}return e.length-r.length}return e<r?-1:e>r?1:0};var o=e.lowerBoundKey=function(t){return i(t,\"gt\")||i(t,\"gte\")||i(t,\"min\")||(t.reverse?i(t,\"end\"):i(t,\"start\"))||void 0},s=e.lowerBound=function(t,e){var r=o(t);return r?t[r]:e},a=e.lowerBoundInclusive=function(t){return!n(t,\"gt\")},u=e.upperBoundInclusive=function(t){return!n(t,\"lt\")},c=e.lowerBoundExclusive=function(t){return!a(t)},f=e.upperBoundExclusive=function(t){return!u(t)},h=e.upperBoundKey=function(t){return i(t,\"lt\")||i(t,\"lte\")||i(t,\"max\")||(t.reverse?i(t,\"start\"):i(t,\"end\"))||void 0},l=e.upperBound=function(t,e){var r=h(t);return r?t[r]:e};function p(t){return t}e.start=function(t,e){return t.reverse?l(t,e):s(t,e)},e.end=function(t,e){return t.reverse?s(t,e):l(t,e)},e.startInclusive=function(t){return t.reverse?u(t):a(t)},e.endInclusive=function(t){return t.reverse?a(t):u(t)},e.toLtgt=function(t,r,i,o,s){r=r||{},i=i||p;var a=arguments.length>3,u=e.lowerBoundKey(t),c=e.upperBoundKey(t);return u?\"gt\"===u?r.gt=i(t.gt,!1):r.gte=i(t[u],!1):a&&(r.gte=i(o,!1)),c?\"lt\"===c?r.lt=i(t.lt,!0):r.lte=i(t[c],!0):a&&(r.lte=i(s,!0)),null!=t.reverse&&(r.reverse=!!t.reverse),n(r,\"max\")&&delete r.max,n(r,\"min\")&&delete r.min,n(r,\"start\")&&delete r.start,n(r,\"end\")&&delete r.end,r},e.contains=function(t,n,i){i=i||e.compare;var o=s(t);if(r(o)&&((a=i(n,o))<0||0===a&&c(t)))return!1;var a,u=l(t);if(r(u)&&((a=i(n,u))>0||0===a&&f(t)))return!1;return!0},e.filter=function(t,r){return function(n){return e.contains(t,n,r)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(86),i=r(33);t.exports=function(t,e,r){if(\"object\"!=typeof t)throw new TypeError(\"db must be an object\");if(\"string\"!=typeof e)throw new TypeError(\"storeName must be a string\");if(null==r&&(r={}),\"object\"!=typeof r)throw new TypeError(\"opts must be an object\");var o=new n.Transform(i(r,{objectMode:!0,transform:function(t,e,r){r(null,t)}}));r=i({snapshot:!1},r);var s=null;return o._cursorsOpened=0,function n(){var i,a,u,c,f,h=r.direction||\"next\",l=r.range||{};i=l.lower,a=l.upper,u=!!l.lowerOpen,c=!!l.upperOpen,s&&(\"next\"===h?(u=!0,i=s):(c=!0,a=s)),i&&a?f=IDBKeyRange.bound(i,a,u,c):i?f=IDBKeyRange.lowerBound(i,u):a&&(f=IDBKeyRange.upperBound(a,c));var p=t.transaction(e,\"readonly\"),d=p.objectStore(e);o._cursorsOpened++;var y=d.openCursor(f,r.direction);function m(t){try{t.continue()}catch(t){\"TransactionInactiveError\"!==t.name||r.snapshot?o.emit(\"error\",t):n()}}y.onsuccess=function(){var t=y.result;if(t){s=t.key;var e=o.write({key:t.key,value:t.value});r.snapshot||e?m(t):o.once(\"drain\",function(){m(t)})}else o.end()},p.onabort=function(){o.emit(\"error\",p.error)},p.onerror=function(){o.emit(\"error\",p.error)}}(),o}},function(t,e,r){\"use strict\";e.ERR_REPO_NOT_INITIALIZED=\"ERR_REPO_NOT_INITIALIZED\"},function(t,e,r){\"use strict\";t.exports={repoVersion:6}},function(t,e){t.exports=function(){var t,e,r,n,i;function o(o){return i?i(o):(t=o,function(t,i){e?e(t,i):(n=t,r=i)})}return o.resolve=function(o){if(i)throw new Error(\"already resolved\");if(!(i=o))throw new Error(\"resolve *must* be passed a transform stream\");t&&(e=i(t),r&&e(n,r))},o}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r,o){o=o||n.default,e=e||[];var s=[],a=0,u=(0,i.default)(r);t(e,function(t,e,r){var n=a++;u(t,function(t,e){s[n]=e,r(t)})},function(t){o(t,s)})};var n=o(r(65)),i=o(r(38));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(461),s=r(976),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,128)),shake256:a(u(n.shake_256,256)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(980),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,r){!function(r,n){\"use strict\";var i={version:\"3.0.1\",x86:{},x64:{}};function o(t,e){return(65535&t)*e+(((t>>>16)*e&65535)<<16)}function s(t,e){return t<<e|t>>>32-e}function a(t){return t=o(t^=t>>>16,2246822507),t=o(t^=t>>>13,3266489909),t^=t>>>16}function u(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]+e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]+e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]+e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]+e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function c(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]*e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]*e[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=t[3]*e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]*e[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[2]*e[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[3]*e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function f(t,e){return 32===(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function h(t,e){return 0===(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function l(t,e){return[t[0]^e[0],t[1]^e[1]]}function p(t){return t=l(t=c(t=l(t=c(t=l(t,[0,t[0]>>>1]),[4283543511,3981806797]),[0,t[0]>>>1]),[3301882366,444984403]),[0,t[0]>>>1])}i.x86.hash32=function(t,e){t=t||\"\",e=e||0;for(var r=t.length%4,n=t.length-r,i=e,u=0,c=3432918353,f=461845907,h=0;h<n;h+=4)i=o(i=s(i^=u=o(u=s(u=o(u=255&t.charCodeAt(h)|(255&t.charCodeAt(h+1))<<8|(255&t.charCodeAt(h+2))<<16|(255&t.charCodeAt(h+3))<<24,c),15),f),13),5)+3864292196;switch(u=0,r){case 3:u^=(255&t.charCodeAt(h+2))<<16;case 2:u^=(255&t.charCodeAt(h+1))<<8;case 1:i^=u=o(u=s(u=o(u^=255&t.charCodeAt(h),c),15),f)}return(i=a(i^=t.length))>>>0},i.x86.hash128=function(t,e){t=t||\"\",e=e||0;for(var r=t.length%16,n=t.length-r,i=e,u=e,c=e,f=e,h=0,l=0,p=0,d=0,y=597399067,m=2869860233,g=951274213,b=2716044179,v=0;v<n;v+=16)h=255&t.charCodeAt(v)|(255&t.charCodeAt(v+1))<<8|(255&t.charCodeAt(v+2))<<16|(255&t.charCodeAt(v+3))<<24,l=255&t.charCodeAt(v+4)|(255&t.charCodeAt(v+5))<<8|(255&t.charCodeAt(v+6))<<16|(255&t.charCodeAt(v+7))<<24,p=255&t.charCodeAt(v+8)|(255&t.charCodeAt(v+9))<<8|(255&t.charCodeAt(v+10))<<16|(255&t.charCodeAt(v+11))<<24,d=255&t.charCodeAt(v+12)|(255&t.charCodeAt(v+13))<<8|(255&t.charCodeAt(v+14))<<16|(255&t.charCodeAt(v+15))<<24,i=s(i^=h=o(h=s(h=o(h,y),15),m),19),i=o(i+=u,5)+1444728091,u=s(u^=l=o(l=s(l=o(l,m),16),g),17),u=o(u+=c,5)+197830471,c=s(c^=p=o(p=s(p=o(p,g),17),b),15),c=o(c+=f,5)+2530024501,f=s(f^=d=o(d=s(d=o(d,b),18),y),13),f=o(f+=i,5)+850148119;switch(h=0,l=0,p=0,d=0,r){case 15:d^=t.charCodeAt(v+14)<<16;case 14:d^=t.charCodeAt(v+13)<<8;case 13:f^=d=o(d=s(d=o(d^=t.charCodeAt(v+12),b),18),y);case 12:p^=t.charCodeAt(v+11)<<24;case 11:p^=t.charCodeAt(v+10)<<16;case 10:p^=t.charCodeAt(v+9)<<8;case 9:c^=p=o(p=s(p=o(p^=t.charCodeAt(v+8),g),17),b);case 8:l^=t.charCodeAt(v+7)<<24;case 7:l^=t.charCodeAt(v+6)<<16;case 6:l^=t.charCodeAt(v+5)<<8;case 5:u^=l=o(l=s(l=o(l^=t.charCodeAt(v+4),m),16),g);case 4:h^=t.charCodeAt(v+3)<<24;case 3:h^=t.charCodeAt(v+2)<<16;case 2:h^=t.charCodeAt(v+1)<<8;case 1:i^=h=o(h=s(h=o(h^=t.charCodeAt(v),y),15),m)}return i^=t.length,i+=u^=t.length,i+=c^=t.length,u+=i+=f^=t.length,c+=i,f+=i,i=a(i),i+=u=a(u),i+=c=a(c),u+=i+=f=a(f),c+=i,f+=i,(\"00000000\"+(i>>>0).toString(16)).slice(-8)+(\"00000000\"+(u>>>0).toString(16)).slice(-8)+(\"00000000\"+(c>>>0).toString(16)).slice(-8)+(\"00000000\"+(f>>>0).toString(16)).slice(-8)},i.x64.hash128=function(t,e){t=t||\"\",e=e||0;for(var r=t.length%16,n=t.length-r,i=[0,e],o=[0,e],s=[0,0],a=[0,0],d=[2277735313,289559509],y=[1291169091,658871167],m=0;m<n;m+=16)s=[255&t.charCodeAt(m+4)|(255&t.charCodeAt(m+5))<<8|(255&t.charCodeAt(m+6))<<16|(255&t.charCodeAt(m+7))<<24,255&t.charCodeAt(m)|(255&t.charCodeAt(m+1))<<8|(255&t.charCodeAt(m+2))<<16|(255&t.charCodeAt(m+3))<<24],a=[255&t.charCodeAt(m+12)|(255&t.charCodeAt(m+13))<<8|(255&t.charCodeAt(m+14))<<16|(255&t.charCodeAt(m+15))<<24,255&t.charCodeAt(m+8)|(255&t.charCodeAt(m+9))<<8|(255&t.charCodeAt(m+10))<<16|(255&t.charCodeAt(m+11))<<24],i=u(c(i=u(i=f(i=l(i,s=c(s=f(s=c(s,d),31),y)),27),o),[0,5]),[0,1390208809]),o=u(c(o=u(o=f(o=l(o,a=c(a=f(a=c(a,y),33),d)),31),i),[0,5]),[0,944331445]);switch(s=[0,0],a=[0,0],r){case 15:a=l(a,h([0,t.charCodeAt(m+14)],48));case 14:a=l(a,h([0,t.charCodeAt(m+13)],40));case 13:a=l(a,h([0,t.charCodeAt(m+12)],32));case 12:a=l(a,h([0,t.charCodeAt(m+11)],24));case 11:a=l(a,h([0,t.charCodeAt(m+10)],16));case 10:a=l(a,h([0,t.charCodeAt(m+9)],8));case 9:o=l(o,a=c(a=f(a=c(a=l(a,[0,t.charCodeAt(m+8)]),y),33),d));case 8:s=l(s,h([0,t.charCodeAt(m+7)],56));case 7:s=l(s,h([0,t.charCodeAt(m+6)],48));case 6:s=l(s,h([0,t.charCodeAt(m+5)],40));case 5:s=l(s,h([0,t.charCodeAt(m+4)],32));case 4:s=l(s,h([0,t.charCodeAt(m+3)],24));case 3:s=l(s,h([0,t.charCodeAt(m+2)],16));case 2:s=l(s,h([0,t.charCodeAt(m+1)],8));case 1:i=l(i,s=c(s=f(s=c(s=l(s,[0,t.charCodeAt(m)]),d),31),y))}return i=l(i,[0,t.length]),o=u(o=l(o,[0,t.length]),i=u(i,o)),i=p(i),o=u(o=p(o),i=u(i,o)),(\"00000000\"+(i[0]>>>0).toString(16)).slice(-8)+(\"00000000\"+(i[1]>>>0).toString(16)).slice(-8)+(\"00000000\"+(o[0]>>>0).toString(16)).slice(-8)+(\"00000000\"+(o[1]>>>0).toString(16)).slice(-8)},void 0!==t&&t.exports&&(e=t.exports=i),e.murmurHash3=i}()},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n,i=r(978);n=\"function\"==typeof setImediate?setImediate:\"object\"==typeof e&&e&&e.nextTick?e.nextTick:function(t){setTimeout(t,0)};var o=[];function s(t){if(!(this instanceof s))return\"function\"==typeof t?new s(t):function(){var t,e=new s(function(e){t=e});return{resolver:t,promise:e}}();var e,r=!1,a=!1,u=[],c=!1;function f(t){u.length?(c=!0,u.shift()(t||!1)):c=!1}this.then=function(t,i){return new s(function(o){u.push(function(r){var s=a?t:i;if(\"function\"==typeof s){function u(){var t;try{t=s(e)}catch(t){return o.reject(t),f()}o.fulfill(t),f(!0)}r?u():n(u)}else a?(o.fulfill(e),f(r)):(o.reject(e),f(r))}),r&&!c&&f()})},function(){function n(t){r||(r=!0,a=!1,e=t,f())}for(var s={fulfill:function t(o){r||(i(o)?o.then(t,n):(r=a=!0,e=o,f()))},reject:n},u=0;u<o.length;u++)o[u](this,s);if(\"function\"==typeof t)try{t(s)}catch(t){s.reject(t)}}()}t.exports=s,s.use=function(t){o.push(t)}}).call(this,r(7))},function(t,e){t.exports=function(t){return t&&\"function\"==typeof t.then}},function(t,e){t.exports=function(t){return t&&\"function\"==typeof t.then}},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(461).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){var n=r(462);function i(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function o(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function s(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function a(t,e,r,n,s,a){var u=h[s],c=h[s+1],l=h[a],p=h[a+1];i(f,t,e),o(f,t,u,c);var d=f[n]^f[t],y=f[n+1]^f[t+1];f[n]=y,f[n+1]=d,i(f,r,n),d=f[e]^f[r],y=f[e+1]^f[r+1],f[e]=d>>>24^y<<8,f[e+1]=y>>>24^d<<8,i(f,t,e),o(f,t,l,p),d=f[n]^f[t],y=f[n+1]^f[t+1],f[n]=d>>>16^y<<16,f[n+1]=y>>>16^d<<16,i(f,r,n),d=f[e]^f[r],y=f[e+1]^f[r+1],f[e]=y>>>31^d<<1,f[e+1]=d>>>31^y<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(t){return 2*t})),f=new Uint32Array(32),h=new Uint32Array(32);function l(t,e){var r=0;for(r=0;r<16;r++)f[r]=t.h[r],f[r+16]=u[r];for(f[24]=f[24]^t.t,f[25]=f[25]^t.t/4294967296,e&&(f[28]=~f[28],f[29]=~f[29]),r=0;r<32;r++)h[r]=s(t.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,c[16*r+0],c[16*r+1]),a(2,10,18,26,c[16*r+2],c[16*r+3]),a(4,12,20,28,c[16*r+4],c[16*r+5]),a(6,14,22,30,c[16*r+6],c[16*r+7]),a(0,10,20,30,c[16*r+8],c[16*r+9]),a(2,12,22,24,c[16*r+10],c[16*r+11]),a(4,14,16,26,c[16*r+12],c[16*r+13]),a(6,8,18,28,c[16*r+14],c[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^f[r]^f[r+16]}function p(t,e){if(0===t||t>64)throw new Error(\"Illegal output length, expected 0 < length <= 64\");if(e&&e.length>64)throw new Error(\"Illegal key, expected Uint8Array with 0 < length <= 64\");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t},n=0;n<16;n++)r.h[n]=u[n];var i=e?e.length:0;return r.h[0]^=16842752^i<<8^t,e&&(d(r,e),r.c=128),r}function d(t,e){for(var r=0;r<e.length;r++)128===t.c&&(t.t+=t.c,l(t,!1),t.c=0),t.b[t.c++]=e[r]}function y(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;l(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r);return e}function m(t,e,r){r=r||64,t=n.normalizeInput(t);var i=p(r,e);return d(i,t),y(i)}t.exports={blake2b:m,blake2bHex:function(t,e,r){var i=m(t,e,r);return n.toHex(i)},blake2bInit:p,blake2bUpdate:d,blake2bFinal:y}},function(t,e,r){var n=r(462);function i(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function o(t,e,r,n,i,o){c[t]=c[t]+c[e]+i,c[n]=s(c[n]^c[t],16),c[r]=c[r]+c[n],c[e]=s(c[e]^c[r],12),c[t]=c[t]+c[e]+o,c[n]=s(c[n]^c[t],8),c[r]=c[r]+c[n],c[e]=s(c[e]^c[r],7)}function s(t,e){return t>>>e^t<<32-e}var a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),f=new Uint32Array(16);function h(t,e){var r=0;for(r=0;r<8;r++)c[r]=t.h[r],c[r+8]=a[r];for(c[12]^=t.t,c[13]^=t.t/4294967296,e&&(c[14]=~c[14]),r=0;r<16;r++)f[r]=i(t.b,4*r);for(r=0;r<10;r++)o(0,4,8,12,f[u[16*r+0]],f[u[16*r+1]]),o(1,5,9,13,f[u[16*r+2]],f[u[16*r+3]]),o(2,6,10,14,f[u[16*r+4]],f[u[16*r+5]]),o(3,7,11,15,f[u[16*r+6]],f[u[16*r+7]]),o(0,5,10,15,f[u[16*r+8]],f[u[16*r+9]]),o(1,6,11,12,f[u[16*r+10]],f[u[16*r+11]]),o(2,7,8,13,f[u[16*r+12]],f[u[16*r+13]]),o(3,4,9,14,f[u[16*r+14]],f[u[16*r+15]]);for(r=0;r<8;r++)t.h[r]^=c[r]^c[r+8]}function l(t,e){if(!(t>0&&t<=32))throw new Error(\"Incorrect output length, should be in [1, 32]\");var r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error(\"Incorrect key length, should be in [1, 32]\");var n={h:new Uint32Array(a),b:new Uint32Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(p(n,e),n.c=64),n}function p(t,e){for(var r=0;r<e.length;r++)64===t.c&&(t.t+=t.c,h(t,!1),t.c=0),t.b[t.c++]=e[r]}function d(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;h(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r)&255;return e}function y(t,e,r){r=r||32,t=n.normalizeInput(t);var i=l(r,e);return p(i,t),d(i)}t.exports={blake2s:y,blake2sHex:function(t,e,r){var i=y(t,e,r);return n.toHex(i)},blake2sInit:l,blake2sUpdate:p,blake2sFinal:d}},function(t,e,r){\n//! stable.js 0.1.8, https://github.com/Two-Screen/stable\n//! © 2018 Angry Bytes and contributors. MIT licensed.\nt.exports=function(){\"use strict\";var t=function(t,r){return e(t.slice(),r)};function e(t,e){\"function\"!=typeof e&&(e=function(t,e){return String(t).localeCompare(e)});var n=t.length;if(n<=1)return t;for(var i=new Array(n),o=1;o<n;o*=2){r(t,e,o,i);var s=t;t=i,i=s}return t}t.inplace=function(t,n){var i=e(t,n);return i!==t&&r(i,null,t.length,t),t};var r=function(t,e,r,n){var i,o,s,a,u,c=t.length,f=0,h=2*r;for(i=0;i<c;i+=h)for(s=(o=i+r)+r,o>c&&(o=c),s>c&&(s=c),a=i,u=o;;)if(a<o&&u<s)e(t[a],t[u])<=0?n[f++]=t[a++]:n[f++]=t[u++];else if(a<o)n[f++]=t[a++];else{if(!(u<s))break;n[f++]=t[u++]}};return t}()},function(t,e,r){var n=r(985),i=r(987);t.exports=n,t.exports.parse=n,t.exports.stringify=i},function(t,e,r){var n=r(986),i=[\"int32\",\"int64\",\"uint32\",\"uint64\",\"sint32\",\"sint64\",\"bool\",\"fixed64\",\"sfixed64\",\"double\",\"fixed32\",\"sfixed32\",\"float\"],o=function(t){for(var e={};t.length;)switch(t[0]){case\"[\":case\",\":t.shift();var r=t.shift();if(\"(\"===r&&(r=t.shift(),t.shift()),\"=\"!==t[0])throw new Error(\"Unexpected token in field options: \"+t[0]);if(t.shift(),\"]\"===t[0])throw new Error(\"Unexpected ] in field option\");e[r]=t.shift();break;case\"]\":return t.shift(),e;default:throw new Error(\"Unexpected token in field options: \"+t[0])}throw new Error(\"No closing tag for field options\")},s=function(t){for(var e={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};t.length;)switch(t[0]){case\"=\":t.shift(),e.tag=Number(t.shift());break;case\"map\":if(e.type=\"map\",e.map={from:null,to:null},t.shift(),\"<\"!==t[0])throw new Error(\"Unexpected token in map type: \"+t[0]);if(t.shift(),e.map.from=t.shift(),\",\"!==t[0])throw new Error(\"Unexpected token in map type: \"+t[0]);if(t.shift(),e.map.to=t.shift(),\">\"!==t[0])throw new Error(\"Unexpected token in map type: \"+t[0]);t.shift(),e.name=t.shift();break;case\"repeated\":case\"required\":case\"optional\":var r=t.shift();e.required=\"required\"===r,e.repeated=\"repeated\"===r,e.type=t.shift(),e.name=t.shift();break;case\"[\":e.options=o(t);break;case\";\":if(null===e.name)throw new Error(\"Missing field name\");if(null===e.type)throw new Error(\"Missing type in message field: \"+e.name);if(-1===e.tag)throw new Error(\"Missing tag number in message field: \"+e.name);return t.shift(),e;default:throw new Error(\"Unexpected token in message field: \"+t[0])}throw new Error(\"No ; found for message field\")},a=function(t){for(var e={enums:[],messages:[],fields:[],extends:[],extensions:null};t.length;)switch(t[0]){case\"map\":case\"repeated\":case\"optional\":case\"required\":e.fields.push(s(t));break;case\"enum\":e.enums.push(d(t));break;case\"message\":e.messages.push(f(t));break;case\"extensions\":e.extensions=c(t);break;case\"oneof\":t.shift();var r=t.shift();if(\"{\"!==t[0])throw new Error(\"Unexpected token in oneof: \"+t[0]);for(t.shift();\"}\"!==t[0];){t.unshift(\"optional\");var n=s(t);n.oneof=r,e.fields.push(n)}t.shift();break;case\"extend\":e.extends.push(u(t));break;case\";\":t.shift();break;case\"reserved\":case\"option\":for(t.shift();\";\"!==t[0];)t.shift();break;default:t.unshift(\"optional\"),e.fields.push(s(t))}return e},u=function(t){return{name:t[1],message:f(t)}},c=function(t){t.shift();var e=Number(t.shift());if(isNaN(e))throw new Error(\"Invalid from in extensions definition\");if(\"to\"!==t.shift())throw new Error(\"Expected keyword 'to' in extensions definition\");var r=t.shift();if(\"max\"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error(\"Invalid to in extensions definition\");if(\";\"!==t.shift())throw new Error(\"Missing ; in extensions definition\");return{from:e,to:r}},f=function(t){t.shift();var e=1,r=[],n={name:t.shift(),enums:[],extends:[],messages:[],fields:[]};if(\"{\"!==t[0])throw new Error(\"Expected { but found \"+t[0]);for(t.shift();t.length;){if(\"{\"===t[0]?e++:\"}\"===t[0]&&e--,!e)return t.shift(),r=a(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n;r.push(t.shift())}if(e)throw new Error(\"No closing tag for message\")},h=function(t){t.shift();var e=t.shift();if(\";\"!==t[0])throw new Error(\"Expected ; but found \"+t[0]);return t.shift(),e},l=function(t){if(t.shift(),\"=\"!==t[0])throw new Error(\"Expected = but found \"+t[0]);t.shift();var e=t.shift();switch(e){case'\"proto2\"':e=2;break;case'\"proto3\"':e=3;break;default:throw new Error(\"Expected protobuf syntax version but found \"+e)}if(\";\"!==t[0])throw new Error(\"Expected ; but found \"+t[0]);return t.shift(),e},p=function(t){if(t.length<4)throw new Error(\"Invalid enum value: \"+t.slice(0,3).join(\" \"));if(\"=\"!==t[1])throw new Error(\"Expected = but found \"+t[1]);if(\";\"!==t[3]&&\"[\"!==t[3])throw new Error(\"Expected ; or [ but found \"+t[1]);var e=t.shift();t.shift();var r={value:null,options:{}};return r.value=Number(t.shift()),\"[\"===t[0]&&(r.options=o(t)),t.shift(),{name:e,val:r}},d=function(t){t.shift();var e={},r={name:t.shift(),values:{},options:{}};if(\"{\"!==t[0])throw new Error(\"Expected { but found \"+t[0]);for(t.shift();t.length;){if(\"}\"===t[0])return t.shift(),\";\"===t[0]&&t.shift(),r;if(\"option\"!==t[0]){var n=p(t);r.values[n.name]=n.val}else e=y(t),r.options[e.name]=e.value}throw new Error(\"No closing tag for enum\")},y=function(t){for(var e=null,r=null,n=function(t){return\"true\"===t||\"false\"!==t&&t.replace(/^\"+|\"+$/gm,\"\")};t.length;){if(\";\"===t[0])return t.shift(),{name:e,value:r};switch(t[0]){case\"option\":t.shift();var i=\"(\"===t[0];if(i&&t.shift(),e=t.shift(),i){if(\")\"!==t[0])throw new Error(\"Expected ) but found \"+t[0]);t.shift()}\".\"===t[0][0]&&(e+=t.shift());break;case\"=\":if(t.shift(),null===e)throw new Error(\"Expected key for option with value: \"+t[0]);if(r=n(t.shift()),\"optimize_for\"===e&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error(\"Unexpected value for option optimize_for: \"+r);\"{\"===r&&(r=m(t));break;default:throw new Error(\"Unexpected token in option: \"+t[0])}}},m=function(t){for(var e=function(t){return\"true\"===t||\"false\"!==t&&t.replace(/^\"+|\"+$/gm,\"\")},r={};t.length;){if(\"}\"===t[0])return t.shift(),r;var n=\"(\"===t[0];n&&t.shift();var i=t.shift();if(n){if(\")\"!==t[0])throw new Error(\"Expected ) but found \"+t[0]);t.shift()}var o=null;switch(t[0]){case\":\":if(void 0!==r[i])throw new Error(\"Duplicate option map key \"+i);t.shift(),\"{\"===(o=e(t.shift()))&&(o=m(t)),r[i]=o,\";\"===t[0]&&t.shift();break;case\"{\":if(t.shift(),o=m(t),void 0===r[i]&&(r[i]=[]),!Array.isArray(r[i]))throw new Error(\"Duplicate option map key \"+i);r[i].push(o);break;default:throw new Error(\"Unexpected token in option map: \"+t[0])}}throw new Error(\"No closing tag for option map\")},g=function(t){t.shift();var e=t.shift().replace(/^\"+|\"+$/gm,\"\");if(\";\"!==t[0])throw new Error(\"Unexpected token: \"+t[0]+'. Expected \";\"');return t.shift(),e},b=function(t){t.shift();var e={name:t.shift(),methods:[],options:{}};if(\"{\"!==t[0])throw new Error(\"Expected { but found \"+t[0]);for(t.shift();t.length;){if(\"}\"===t[0])return t.shift(),\";\"===t[0]&&t.shift(),e;switch(t[0]){case\"option\":var r=y(t);if(void 0!==e.options[r.name])throw new Error(\"Duplicate option \"+r.name);e.options[r.name]=r.value;break;case\"rpc\":e.methods.push(v(t));break;default:throw new Error(\"Unexpected token in service: \"+t[0])}}throw new Error(\"No closing tag for service\")},v=function(t){t.shift();var e={name:t.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(\"(\"!==t[0])throw new Error(\"Expected ( but found \"+t[0]);if(t.shift(),\"stream\"===t[0]&&(t.shift(),e.client_streaming=!0),e.input_type=t.shift(),\")\"!==t[0])throw new Error(\"Expected ) but found \"+t[0]);if(t.shift(),\"returns\"!==t[0])throw new Error(\"Expected returns but found \"+t[0]);if(t.shift(),\"(\"!==t[0])throw new Error(\"Expected ( but found \"+t[0]);if(t.shift(),\"stream\"===t[0]&&(t.shift(),e.server_streaming=!0),e.output_type=t.shift(),\")\"!==t[0])throw new Error(\"Expected ) but found \"+t[0]);if(t.shift(),\";\"===t[0])return t.shift(),e;if(\"{\"!==t[0])throw new Error(\"Expected { but found \"+t[0]);for(t.shift();t.length;){if(\"}\"===t[0])return t.shift(),\";\"===t[0]&&t.shift(),e;if(\"option\"!==t[0])throw new Error(\"Unexpected token in rpc options: \"+t[0]);var r=y(t);if(void 0!==e.options[r.name])throw new Error(\"Duplicate option \"+r.name);e.options[r.name]=r.value}throw new Error(\"No closing tag for rpc\")};t.exports=function(t){for(var e=n(t.toString()),r=0;r<e.length;r++){var o;if(/^(\"|')([^'\"]*)$/.test(e[r]))for(o=1===e[r].length?r+1:r;o<e.length;o++)if(/^([^'\"]*)(\"|')$/.test(e[o])){e=e.slice(0,r).concat(e.slice(r,o+1).join(\"\")).concat(e.slice(o+1));break}}for(var s={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},a=!0;e.length;){switch(e[0]){case\"package\":s.package=h(e);break;case\"syntax\":if(!a)throw new Error(\"Protobuf syntax version should be first thing in file\");s.syntax=l(e);break;case\"message\":s.messages.push(f(e));break;case\"enum\":s.enums.push(d(e));break;case\"option\":var c=y(e);if(s.options[c.name])throw new Error(\"Duplicate option \"+c.name);s.options[c.name]=c.value;break;case\"import\":s.imports.push(g(e));break;case\"extend\":s.extends.push(u(e));break;case\"service\":s.services||(s.services=[]),s.services.push(b(e));break;default:throw new Error(\"Unexpected token: \"+e[0])}a=!1}return s.extends.forEach(function(t){s.messages.forEach(function(e){e.name===t.name&&t.message.fields.forEach(function(t){if(!e.extensions||t.tag<e.extensions.from||t.tag>e.extensions.to)throw new Error(e.name+\" does not declare \"+t.tag+\" as an extension number\");e.fields.push(t)})})}),s.messages.forEach(function(t){t.fields.forEach(function(e){var r,n,o,a;if(e.options&&\"true\"===e.options.packed&&-1===i.indexOf(e.type)){if(-1===e.type.indexOf(\".\")){if(t.enums&&t.enums.some(function(t){return t.name===e.type}))return}else{if((r=e.type.split(\".\")).length>2)throw new Error(\"what is this?\");if(n=r[0],o=r[1],s.messages.some(function(t){if(t.name===n)return a=t,t}),a&&a.enums&&a.enums.some(function(t){return t.name===o}))return}throw new Error(\"Fields of type \"+e.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared \"packed\". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),s}},function(t,e){t.exports=function(t){var e=function(t){return t.trim()};return t.replace(/([;,{}()=:[\\]<>]|\\/\\*|\\*\\/)/g,\" $1 \").split(/\\n/).map(e).filter(Boolean).map(function(t){var e=t.indexOf(\"//\");return e>-1?t.slice(0,e):t}).map(e).filter(Boolean).join(\"\\n\").split(/\\s+|\\n+/gm).filter(function(){var t=!1;return function(e){return\"/*\"===e?(t=!0,!1):\"*/\"===e?(t=!1,!1):!t}}())}},function(t,e){var r=function(t,e){var r=t.repeated?\"repeated\":t.required?\"required\":\"optional\";\"map\"===t.type&&(r=\"map<\"+t.map.from+\",\"+t.map.to+\">\"),t.oneof&&(r=\"\");var n=Object.keys(t.options||{}).map(function(e){return e+\" = \"+t.options[e]}).join(\",\");return n&&(n=\" [\"+n+\"]\"),e.push((r?r+\" \":\"\")+(\"map\"===t.map?\"\":t.type+\" \")+t.name+\" = \"+t.tag+n+\";\"),e},n=function(t,e){e.push(\"message \"+t.name+\" {\"),t.enums||(t.enums=[]),t.enums.forEach(function(t){e.push(i(t,[]))}),t.messages||(t.messages=[]),t.messages.forEach(function(t){e.push(n(t,[]))});var o={};return t.fields||(t.fields=[]),t.fields.forEach(function(t){t.oneof?(o[t.oneof]||(o[t.oneof]=[]),o[t.oneof].push(r(t,[]))):e.push(r(t,[]))}),Object.keys(o).forEach(function(t){o[t].unshift(\"oneof \"+t+\" {\"),o[t].push(\"}\"),e.push(o[t])}),e.push(\"}\",\"\"),e},i=function(t,e){e.push(\"enum \"+t.name+\" {\"),t.options||(t.options={});var r=s(t.options,[]);return r.length>1&&e.push(r.slice(0,-1)),Object.keys(t.values).map(function(r){var n=o(t.values[r]);e.push([r+\" = \"+n+\";\"])}),e.push(\"}\",\"\"),e},o=function(t,e){var r=Object.keys(t.options||{}).map(function(e){return e+\" = \"+t.options[e]}).join(\",\");return r&&(r=\" [\"+r+\"]\"),t.value+r},s=function(t,e){var r=Object.keys(t);return r.forEach(function(r){var n=t[r];~r.indexOf(\".\")&&(r=\"(\"+r+\")\");var i=typeof n;\"object\"===i?(n=a(n,[])).length&&e.push(\"option \"+r+\" = {\",n,\"};\"):(\"string\"===i&&\"optimize_for\"!==r&&(n='\"'+n+'\"'),e.push(\"option \"+r+\" = \"+n+\";\"))}),r.length>0&&e.push(\"\"),e},a=function(t,e){return Object.keys(t).forEach(function(r){var n=t[r],i=typeof n;\"object\"===i?Array.isArray(n)?n.forEach(function(t){(t=a(t,[])).length&&e.push(r+\" {\",t,\"}\")}):(n=a(n,[])).length&&e.push(r+\" {\",n,\"}\"):(\"string\"===i&&(n='\"'+n+'\"'),e.push(r+\": \"+n))}),e},u=function(t,e){var r=\"rpc \"+t.name+\"(\";t.client_streaming&&(r+=\"stream \"),r+=t.input_type+\") returns (\",t.server_streaming&&(r+=\"stream \"),r+=t.output_type+\")\",t.options||(t.options={});var n=s(t.options,[]);return n.length>1?e.push(r+\" {\",n.slice(0,-1),\"}\"):e.push(r+\";\"),e},c=function(t){return function(e){return Array.isArray(e)?e.map(c(t+\"  \")).join(\"\\n\"):t+e}};t.exports=function(t){var e=[];return e.push('syntax = \"proto'+t.syntax+'\";',\"\"),t.package&&e.push(\"package \"+t.package+\";\",\"\"),t.options||(t.options={}),s(t.options,e),t.enums||(t.enums=[]),t.enums.forEach(function(t){i(t,e)}),t.messages||(t.messages=[]),t.messages.forEach(function(t){n(t,e)}),t.services&&t.services.forEach(function(t){!function(t,e){e.push(\"service \"+t.name+\" {\"),t.options||(t.options={}),s(t.options,e),t.methods||(t.methods=[]),t.methods.forEach(function(t){e.push(u(t,[]))}),e.push(\"}\",\"\")}(t,e)}),e.map(c(\"\")).join(\"\\n\")}},function(t,e,r){\"use strict\";var n=r(989),i=r(991),o=r(992),s=r(993),a=r(20);t.exports=function(t,e){var r={},u={},c={},f=function(t,e){t.enums&&t.enums.forEach(function(t){t.id=e+(e?\".\":\"\")+t.name,u[t.id]=t,f(t,t.id)}),t.messages&&t.messages.forEach(function(n){n.id=e+(e?\".\":\"\")+n.name,r[n.id]=n,n.fields.forEach(function(n){if(n.map){var i=\"Map_\"+n.map.from+\"_\"+n.map.to,o={name:i,enums:[],messages:[],fields:[{name:\"key\",type:n.map.from,tag:1,repeated:!1,required:!0},{name:\"value\",type:n.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:e+(e?\".\":\"\")+i};r[o.id]||(r[o.id]=o,t.messages.push(o)),n.type=i,n.repeated=!0}}),f(n,n.id)})};f(t,\"\");var h=function(t,e){t.messages.forEach(function(r){e[r.name]=l(r.name,t.id)}),t.enums.forEach(function(t){e[t.name]=function(t){if(!t)return null;var e={};return Object.keys(t).forEach(function(r){e[r]=t[r].value}),e}(t.values)}),e.type=2,e.message=!0,e.name=t.name;var r={};t.fields.forEach(function(t){t.oneof&&(r[t.oneof]||(r[t.oneof]=[]),r[t.oneof].push(t.name))});var n=t.fields.map(function(e){return l(e.type,t.id)}),a=s(t,n,r),u=o(t,l,n,r,a),c=i(t,l,n);return u.bytes=c.bytes=0,e.buffer=!0,e.encode=u,e.decode=c,e.encodingLength=a,e},l=function(t,i,o){if(e&&e[t])return e[t];if(n[t])return n[t];var s=(i?i+\".\"+t:t).split(\".\").map(function(e,r,n){return n.slice(0,r).concat(t).join(\".\")}).reverse().reduce(function(t,e){return t||r[e]||u[e]},null);if(!1===o)return s;if(!s)throw new Error(\"Could not resolve \"+t);return s.values?function(t){var e=Object.keys(t.values||[]).map(function(e){return parseInt(t.values[e].value,10)});return n.make(0,function t(r,n,i){if(!e.length||-1===e.indexOf(r))throw new Error(\"Invalid enum value: \"+r);return a.encode(r,n,i),t.bytes=a.encode.bytes,n},function t(r,n){var i=a.decode(r,n);if(!e.length||-1===e.indexOf(i))throw new Error(\"Invalid enum value: \"+i);return t.bytes=a.decode.bytes,i},a.encodingLength)}(s):c[s.id]||h(s,c[s.id]={})};return(t.enums||[]).concat((t.messages||[]).map(function(t){return l(t.id)}))}},function(t,e,r){\"use strict\";var n=r(20),i=r(990),o=r(3).Buffer,s=function(t,e,r,n){return e.bytes=r.bytes=0,{type:t,encode:e,decode:r,encodingLength:n}};e.make=s,e.bytes=function(t){var e=function(t){return o.isBuffer(t)?t.length:o.byteLength(t)},r=function(t,i,s){var a=s,u=e(t);return n.encode(u,i,s),s+=n.encode.bytes,o.isBuffer(t)?t.copy(i,s):i.write(t,s,u),s+=u,r.bytes=s-a,i},i=function(t,e){var r=e,o=n.decode(t,e);e+=n.decode.bytes;var s=t.slice(e,e+o);return e+=s.length,i.bytes=e-r,s};return s(2,r,i,function(t){var r=e(t);return n.encodingLength(r)+r})}(),e.string=function(){var t=function(e,r,i){var s=i,a=o.byteLength(e);return n.encode(a,r,i,\"utf-8\"),i+=n.encode.bytes,r.write(e,i,a),i+=a,t.bytes=i-s,r},e=function(t,r){var i=r,o=n.decode(t,r);r+=n.decode.bytes;var s=t.toString(\"utf-8\",r,r+o);return r+=o,e.bytes=r-i,s};return s(2,t,e,function(t){var e=o.byteLength(t);return n.encodingLength(e)+e})}(),e.bool=function(){var t=function(e,r,n){return r[n]=e?1:0,t.bytes=1,r},e=function(t,r){var n=t[r]>0;return e.bytes=1,n};return s(0,t,e,function(t){return 1})}(),e.int32=function(){var t=function(e,r){var i=n.decode(e,r);return t.bytes=n.decode.bytes,i>2147483647?i-4294967296:i};return s(0,n.encode,t,function(t){return n.encodingLength(t<0?t+4294967296:t)})}(),e.int64=function(){var t=function(e,r){var i=n.decode(e,r);if(i>=Math.pow(2,63)){for(var s=9;255===e[r+s-1];)s--;s=s||9;var a=o.allocUnsafe(s);e.copy(a,0,r,r+s),a[s-1]=127&a[s-1],i=-1*n.decode(a,0),t.bytes=10}else t.bytes=n.decode.bytes;return i},e=function(t,r,i){if(t<0){var o=i+9;for(n.encode(-1*t,r,i),r[i+=n.encode.bytes-1]=128|r[i];i<o-1;)r[++i]=255;r[o]=1,e.bytes=10}else n.encode(t,r,i),e.bytes=n.encode.bytes;return r};return s(0,e,t,function(t){return t<0?10:n.encodingLength(t)})}(),e.sint32=e.sint64=s(0,i.encode,i.decode,i.encodingLength),e.uint32=e.uint64=e.enum=e.varint=s(0,n.encode,n.decode,n.encodingLength),e.fixed64=e.sfixed64=function(){var t=function(e,r,n){return e.copy(r,n),t.bytes=8,r},e=function(t,r){var n=t.slice(r,r+8);return e.bytes=8,n};return s(1,t,e,function(t){return 8})}(),e.double=function(){var t=function(e,r,n){return r.writeDoubleLE(e,n),t.bytes=8,r},e=function(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n};return s(1,t,e,function(t){return 8})}(),e.fixed32=function(){var t=function(e,r,n){return r.writeUInt32LE(e,n),t.bytes=4,r},e=function(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n};return s(5,t,e,function(t){return 4})}(),e.sfixed32=function(){var t=function(e,r,n){return r.writeInt32LE(e,n),t.bytes=4,r},e=function(t,r){var n=t.readInt32LE(r);return e.bytes=4,n};return s(5,t,e,function(t){return 4})}(),e.float=function(){var t=function(e,r,n){return r.writeFloatLE(e,n),t.bytes=4,r},e=function(t,r){var n=t.readFloatLE(r);return e.bytes=4,n};return s(5,t,e,function(t){return 4})}()},function(t,e,r){var n=r(20);e.encode=function t(e,r,i){e=e>=0?2*e:-2*e-1;var o=n.encode(e,r,i);return t.bytes=n.encode.bytes,o},e.decode=function t(e,r){var i=n.decode(e,r);return t.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},e.encodingLength=function(t){return n.encodingLength(t>=0?2*t:-2*t-1)}},function(t,e,r){\"use strict\";var n=r(20),i=r(261).defined;var o=function(t,e,r){switch(t){case 0:return n.decode(e,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(e,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error(\"Groups are not supported\");case 5:return r+4;default:throw new Error(\"Unknown wire type: \"+t)}},s=function(t,e){if(t.map)return{};if(t.repeated)return[];switch(t.type){case\"string\":return null!=e?e:\"\";case\"bool\":return\"true\"===e;case\"float\":case\"double\":case\"sfixed32\":case\"fixed32\":case\"varint\":case\"enum\":case\"uint64\":case\"uint32\":case\"int64\":case\"int32\":case\"sint64\":case\"sint32\":return parseInt(e||0,10);default:return null}};t.exports=function(t,e,r){for(var a=[],u={},c=[],f=[],h=0;h<r.length;h++){var l=t.fields[h];u[l.tag]=h;var p=l.options&&l.options.default,d=e(l.type,t.id,!1);f[h]=[p,d&&d.values],t.fields[h].packed=l.repeated&&l.options&&l.options.packed&&\"false\"!==l.options.packed,l.required&&a.push(l.name),l.oneof&&c.push(l.name)}function y(t,e,r,i,o,s){var a=e.name;if(e.oneof)for(var u=Object.keys(r),f=0;f<u.length;f++)c.indexOf(u[f])>-1&&delete r[u[f]];if(t.message){var h=n.decode(i,o);o+=n.decode.bytes;var l=t.decode(i,o,o+h);e.map?(r[a]=r[a]||{},r[a][l.key]=l.value):e.repeated?(r[a]=r[a]||[],r[a].push(l)):r[a]=l}else e.repeated?(r[a]=r[a]||[],r[a].push(t.decode(i,o))):r[a]=t.decode(i,o);return o+=t.decode.bytes}return function e(h,l,p){if(null==l&&(l=0),null==p&&(p=h.length),!(p<=h.length&&l<=h.length))throw new Error(\"Decoded message is not valid\");for(var d,m=l,g={};;){if(p<=l){var b,v,_=\"\",w=0;for(w=0;w<a.length;w++)if(_=a[w],!i(g[_]))throw new Error(\"Decoded message is not valid, missing required field: \"+_);for(w=0;w<r.length;w++)if(d=t.fields[w],v=f[w][0],b=f[w][1],_=d.name,!i(g[_])){var S=!1;if(d.oneof)for(var k=Object.keys(g),E=0;E<k.length;E++)if(c.indexOf(k[E])>-1){S=!0;break}S||(b?d.repeated?g[_]=[]:(v=v&&b[v]?b[v].value:b[Object.keys(b)[0]].value,g[_]=parseInt(v||0,10)):g[_]=s(d,v))}return e.bytes=l-m,g}var A=n.decode(h,l);l+=n.decode.bytes;var x=u[A>>3];if(null!=x){var T=r[x];if((d=t.fields[x]).packed){var B=n.decode(h,l);for(B+=l+=n.decode.bytes;l<B;)l=y(T,d,g,h,l)}else l=y(T,d,g,h,l)}else l=o(7&A,h,l)}}}},function(t,e,r){\"use strict\";(function(e){var n=r(261).defined,i=r(20);t.exports=function(t,r,o,s,a){for(var u=Object.keys(s),c=o.length,f={},h=0;h<c;h++){f[h]={p:i.encode(t.fields[h].tag<<3|2),h:i.encode(t.fields[h].tag<<3|o[h].type)};var l=t.fields[h];t.fields[h].packed=l.repeated&&l.options&&l.options.packed&&\"false\"!==l.options.packed}function p(t,e,r,n,o,s){var a=0;if(!o)for(a=0;a<r.length;a++)t[e++]=r[a];return n.message&&(i.encode(n.encodingLength(s),t,e),e+=i.encode.bytes),n.encode(s,t,e),e+n.encode.bytes}return function r(h,l,d){null==d&&(d=0),null==l&&(l=e.allocUnsafe(a(h)));var y=d,m=Object.keys(h),g=0,b=!1;for(g=0;g<u.length;g++){var v=u[g],_=s[g];if(m.indexOf(_)>-1){if(b)throw new Error(\"only one of the properties defined in oneof \"+v+\" can be set\");b=!0}}for(g=0;g<c;g++){var w=o[g],S=t.fields[g],k=h[S.name],E=0;if(n(k)){var A,x=f[g].p,T=f[g].h,B=S.packed;if(S.map){var I=Object.keys(k);for(E=0;E<I.length;E++)I[E]={key:I[E],value:k[I[E]]};k=I}if(B){var C=0;for(E=0;E<k.length;E++)n(k[E])&&(C+=w.encodingLength(k[E]));if(C){for(E=0;E<T.length;E++)l[d++]=x[E];i.encode(C,l,d),d+=i.encode.bytes}}if(S.repeated)for(E=0;E<k.length;E++)A=k[E],n(A)&&(d=p(l,d,T,w,B,A));else d=p(l,d,T,w,B,k)}else if(S.required)throw new Error(S.name+\" is required\")}return r.bytes=d-y,l}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(261).defined,i=r(20);t.exports=function(t,e,r){for(var o=Object.keys(r),s=e.length,a=new Array(s),u=0;u<t.fields.length;u++){a[u]=i.encodingLength(t.fields[u].tag<<3|e[u].type);var c=t.fields[u];t.fields[u].packed=c.repeated&&c.options&&c.options.packed&&\"false\"!==c.options.packed}return function(u){var c=0,f=0,h=0;for(f=0;f<o.length;f++){var l=o[f],p=r[l],d=!1;for(h=0;h<p.length;h++)if(n(u[p[h]])){if(d)throw new Error(\"only one of the properties defined in oneof \"+l+\" can be set\");d=!0}}for(f=0;f<s;f++){var y,m=e[f],g=t.fields[f],b=u[g.name],v=a[f];if(n(b)){if(g.map){var _=Object.keys(b);for(h=0;h<_.length;h++)_[h]={key:_[h],value:b[_[h]]};b=_}if(g.packed){var w=0;for(h=0;h<b.length;h++)n(b[h])&&(w+=y=m.encodingLength(b[h]),m.message&&(w+=i.encodingLength(y)));w&&(c+=v+w+i.encodingLength(w))}else if(g.repeated)for(h=0;h<b.length;h++)n(b[h])&&(c+=v+(y=m.encodingLength(b[h]))+(m.message?i.encodingLength(y):0));else c+=v+(y=m.encodingLength(b))+(m.message?i.encodingLength(y):0)}else if(g.required)throw new Error(g.name+\" is required\")}return c}}},function(t,e,r){\"use strict\";t.exports=\"// An IPFS MerkleDAG Link\\nmessage PBLink {\\n\\n  // multihash of the target object\\n  optional bytes Hash = 1;\\n\\n  // utf string name. should be unique per object\\n  optional string Name = 2;\\n\\n  // cumulative size of target object\\n  optional uint64 Tsize = 3;\\n}\\n\\n// An IPFS MerkleDAG Node\\nmessage PBNode {\\n\\n  // refs to other objects\\n  repeated PBLink Links = 2;\\n\\n  // opaque user data\\n  optional bytes Data = 1;\\n}\"},function(t,e,r){\"use strict\";const n=r(101);t.exports=function(t,e,r,i){i(null,new n(t,e,r))}},function(t,e,r){\"use strict\";const n=r(101);t.exports.createDagLinkFromB58EncodedHash=function(t){return new n(t.name?t.name:t.Name,t.size?t.size:t.Size,t.hash||t.Hash||t.multihash)}},function(t,e,r){\"use strict\";const n=r(200),i=n.cloneLinks,o=n.cloneData,s=r(199);t.exports=function(t,e){const r=o(t),n=i(t);s(r,n,e)}},function(t,e,r){\"use strict\";const n=r(200),i=n.cloneLinks,o=n.cloneData,s=n.toDAGLink,a=r(101),u=r(198),c=r(199);t.exports=function(t,e,r){const n=i(t),f=o(t);if(a.isDAGLink(e));else if(u.isDAGNode(e))e=s(e);else{e.multihash=e.multihash||e.hash;try{e=new a(e.name,e.size,e.multihash)}catch(t){return r(t)}}n.push(e),c(f,n,r)}},function(t,e,r){\"use strict\";(function(e){const n=r(200),i=n.cloneLinks,o=n.cloneData,s=r(199);t.exports=function(t,r,n){const a=o(t);let u=i(t);if(\"string\"==typeof r)u=u.filter(t=>t.name!==r);else{if(!e.isBuffer(r))return n(new Error(\"second arg needs to be a name or multihash\"),null);u=u.filter(t=>!t.multihash.equals(r))}s(a,u,n)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";e.Diagnose=r(1001),e.Decoder=r(466),e.Encoder=r(1003),e.Simple=r(467),e.Tagged=r(468),e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:\"cbor\"}},function(t,e,r){\"use strict\";(function(e){const n=r(466),i=r(262);class o extends n{createTag(t,e){return`${t}(${e})`}createInt(t){return super.createInt(t).toString()}createInt32(t,e){return super.createInt32(t,e).toString()}createInt64(t,e,r,n){return super.createInt64(t,e,r,n).toString()}createInt32Neg(t,e){return super.createInt32Neg(t,e).toString()}createInt64Neg(t,e,r,n){return super.createInt64Neg(t,e,r,n).toString()}createTrue(){return\"true\"}createFalse(){return\"false\"}createFloat(t){const e=super.createFloat(t);return i.isNegativeZero(t)?\"-0_1\":`${e}_1`}createFloatSingle(t,e,r,n){return`${super.createFloatSingle(t,e,r,n)}_2`}createFloatDouble(t,e,r,n,i,o,s,a){return`${super.createFloatDouble(t,e,r,n,i,o,s,a)}_3`}createByteString(t,e){const r=t.join(\", \");return-1===e?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(t,r){return`h'${e.from(super.createByteStringFromHeap(t,r)).toString(\"hex\")}'`}createInfinity(){return\"Infinity_1\"}createInfinityNeg(){return\"-Infinity_1\"}createNaN(){return\"NaN_1\"}createNaNNeg(){return\"-NaN_1\"}createNull(){return\"null\"}createUndefined(){return\"undefined\"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,e){const r=super.createArray(t,e);return-1===e?`[_ ${r.join(\", \")}]`:`[${r.join(\", \")}]`}createMap(t,e){const r=super.createMap(t),n=Array.from(r.keys()).reduce(s(r),\"\");return-1===e?`{_ ${n}}`:`{${n}}`}createObject(t,e){const r=super.createObject(t),n=Object.keys(r).reduce(s(r),\"\");return-1===e?`{_ ${n}}`:`{${n}}`}createUtf8String(t,e){const r=t.join(\", \");return-1===e?`(_ ${r})`:`\"${r}\"`}createUtf8StringFromHeap(t,r){return`\"${e.from(super.createUtf8StringFromHeap(t,r)).toString(\"utf8\")}\"`}static diagnose(t,r){return\"string\"==typeof t&&(t=e.from(t,r||\"hex\")),(new o).decodeFirst(t)}}function s(t){return(e,r)=>e?`${e}, ${r}: ${t[r]}`:`${r}: ${t[r]}`}t.exports=o}).call(this,r(0).Buffer)},function(t,e){t.exports=function(t,e,r){\"use asm\";var n=new t.Uint8Array(r);var i=e.pushInt;var o=e.pushInt32;var s=e.pushInt32Neg;var a=e.pushInt64;var u=e.pushInt64Neg;var c=e.pushFloat;var f=e.pushFloatSingle;var h=e.pushFloatDouble;var l=e.pushTrue;var p=e.pushFalse;var d=e.pushUndefined;var y=e.pushNull;var m=e.pushInfinity;var g=e.pushInfinityNeg;var b=e.pushNaN;var v=e.pushNaNNeg;var _=e.pushArrayStart;var w=e.pushArrayStartFixed;var S=e.pushArrayStartFixed32;var k=e.pushArrayStartFixed64;var E=e.pushObjectStart;var A=e.pushObjectStartFixed;var x=e.pushObjectStartFixed32;var T=e.pushObjectStartFixed64;var B=e.pushByteString;var I=e.pushByteStringStart;var C=e.pushUtf8String;var M=e.pushUtf8StringStart;var P=e.pushSimpleUnassigned;var O=e.pushTagStart;var R=e.pushTagStart4;var j=e.pushTagStart8;var N=e.pushTagUnassigned;var L=e.pushBreak;var K=t.Math.pow;var D=0;var U=0;var F=0;function q(t){t=t|0;D=0;U=t;while((D|0)<(U|0)){F=Jt[n[D]&255](n[D]|0)|0;if((F|0)>0){break}}return F|0}function H(t){t=t|0;if(((D|0)+(t|0)|0)<(U|0)){return 0}return 1}function z(t){t=t|0;return n[t|0]<<8|n[t+1|0]|0}function V(t){t=t|0;return n[t|0]<<24|n[t+1|0]<<16|n[t+2|0]<<8|n[t+3|0]|0}function G(t){t=t|0;i(t|0);D=D+1|0;return 0}function W(t){t=t|0;if(H(1)|0){return 1}i(n[D+1|0]|0);D=D+2|0;return 0}function $(t){t=t|0;if(H(2)|0){return 1}i(z(D+1|0)|0);D=D+3|0;return 0}function Y(t){t=t|0;if(H(4)|0){return 1}o(z(D+1|0)|0,z(D+3|0)|0);D=D+5|0;return 0}function J(t){t=t|0;if(H(8)|0){return 1}a(z(D+1|0)|0,z(D+3|0)|0,z(D+5|0)|0,z(D+7|0)|0);D=D+9|0;return 0}function Z(t){t=t|0;i(-1-(t-32|0)|0);D=D+1|0;return 0}function X(t){t=t|0;if(H(1)|0){return 1}i(-1-(n[D+1|0]|0)|0);D=D+2|0;return 0}function Q(t){t=t|0;var e=0;if(H(2)|0){return 1}e=z(D+1|0)|0;i(-1-(e|0)|0);D=D+3|0;return 0}function tt(t){t=t|0;if(H(4)|0){return 1}s(z(D+1|0)|0,z(D+3|0)|0);D=D+5|0;return 0}function et(t){t=t|0;if(H(8)|0){return 1}u(z(D+1|0)|0,z(D+3|0)|0,z(D+5|0)|0,z(D+7|0)|0);D=D+9|0;return 0}function rt(t){t=t|0;var e=0;var r=0;var n=0;n=t-64|0;if(H(n|0)|0){return 1}e=D+1|0;r=(D+1|0)+(n|0)|0;B(e|0,r|0);D=r|0;return 0}function nt(t){t=t|0;var e=0;var r=0;var i=0;if(H(1)|0){return 1}i=n[D+1|0]|0;e=D+2|0;r=(D+2|0)+(i|0)|0;if(H(i+1|0)|0){return 1}B(e|0,r|0);D=r|0;return 0}function it(t){t=t|0;var e=0;var r=0;var n=0;if(H(2)|0){return 1}n=z(D+1|0)|0;e=D+3|0;r=(D+3|0)+(n|0)|0;if(H(n+2|0)|0){return 1}B(e|0,r|0);D=r|0;return 0}function ot(t){t=t|0;var e=0;var r=0;var n=0;if(H(4)|0){return 1}n=V(D+1|0)|0;e=D+5|0;r=(D+5|0)+(n|0)|0;if(H(n+4|0)|0){return 1}B(e|0,r|0);D=r|0;return 0}function st(t){t=t|0;return 1}function at(t){t=t|0;I();D=D+1|0;return 0}function ut(t){t=t|0;var e=0;var r=0;var n=0;n=t-96|0;if(H(n|0)|0){return 1}e=D+1|0;r=(D+1|0)+(n|0)|0;C(e|0,r|0);D=r|0;return 0}function ct(t){t=t|0;var e=0;var r=0;var i=0;if(H(1)|0){return 1}i=n[D+1|0]|0;e=D+2|0;r=(D+2|0)+(i|0)|0;if(H(i+1|0)|0){return 1}C(e|0,r|0);D=r|0;return 0}function ft(t){t=t|0;var e=0;var r=0;var n=0;if(H(2)|0){return 1}n=z(D+1|0)|0;e=D+3|0;r=(D+3|0)+(n|0)|0;if(H(n+2|0)|0){return 1}C(e|0,r|0);D=r|0;return 0}function ht(t){t=t|0;var e=0;var r=0;var n=0;if(H(4)|0){return 1}n=V(D+1|0)|0;e=D+5|0;r=(D+5|0)+(n|0)|0;if(H(n+4|0)|0){return 1}C(e|0,r|0);D=r|0;return 0}function lt(t){t=t|0;return 1}function pt(t){t=t|0;M();D=D+1|0;return 0}function dt(t){t=t|0;w(t-128|0);D=D+1|0;return 0}function yt(t){t=t|0;if(H(1)|0){return 1}w(n[D+1|0]|0);D=D+2|0;return 0}function mt(t){t=t|0;if(H(2)|0){return 1}w(z(D+1|0)|0);D=D+3|0;return 0}function gt(t){t=t|0;if(H(4)|0){return 1}S(z(D+1|0)|0,z(D+3|0)|0);D=D+5|0;return 0}function bt(t){t=t|0;if(H(8)|0){return 1}k(z(D+1|0)|0,z(D+3|0)|0,z(D+5|0)|0,z(D+7|0)|0);D=D+9|0;return 0}function vt(t){t=t|0;_();D=D+1|0;return 0}function _t(t){t=t|0;var e=0;e=t-160|0;if(H(e|0)|0){return 1}A(e|0);D=D+1|0;return 0}function wt(t){t=t|0;if(H(1)|0){return 1}A(n[D+1|0]|0);D=D+2|0;return 0}function St(t){t=t|0;if(H(2)|0){return 1}A(z(D+1|0)|0);D=D+3|0;return 0}function kt(t){t=t|0;if(H(4)|0){return 1}x(z(D+1|0)|0,z(D+3|0)|0);D=D+5|0;return 0}function Et(t){t=t|0;if(H(8)|0){return 1}T(z(D+1|0)|0,z(D+3|0)|0,z(D+5|0)|0,z(D+7|0)|0);D=D+9|0;return 0}function At(t){t=t|0;E();D=D+1|0;return 0}function xt(t){t=t|0;O(t-192|0|0);D=D+1|0;return 0}function Tt(t){t|0;O(t|0);D=D+1|0;return 0}function Bt(t){t|0;O(t|0);D=D+1|0;return 0}function It(t){t|0;O(t|0);D=D+1|0;return 0}function Ct(t){t|0;O(t|0);D=D+1|0;return 0}function Mt(t){t=t|0;O(t-192|0|0);D=D+1|0;return 0}function Pt(t){t|0;O(t|0);D=D+1|0;return 0}function Ot(t){t|0;O(t|0);D=D+1|0;return 0}function Rt(t){t|0;O(t|0);D=D+1|0;return 0}function jt(t){t=t|0;if(H(1)|0){return 1}O(n[D+1|0]|0);D=D+2|0;return 0}function Nt(t){t=t|0;if(H(2)|0){return 1}O(z(D+1|0)|0);D=D+3|0;return 0}function Lt(t){t=t|0;if(H(4)|0){return 1}R(z(D+1|0)|0,z(D+3|0)|0);D=D+5|0;return 0}function Kt(t){t=t|0;if(H(8)|0){return 1}j(z(D+1|0)|0,z(D+3|0)|0,z(D+5|0)|0,z(D+7|0)|0);D=D+9|0;return 0}function Dt(t){t=t|0;P((t|0)-224|0);D=D+1|0;return 0}function Ut(t){t=t|0;p();D=D+1|0;return 0}function Ft(t){t=t|0;l();D=D+1|0;return 0}function qt(t){t=t|0;y();D=D+1|0;return 0}function Ht(t){t=t|0;d();D=D+1|0;return 0}function zt(t){t=t|0;if(H(1)|0){return 1}P(n[D+1|0]|0);D=D+2|0;return 0}function Vt(t){t=t|0;var e=0;var r=0;var i=1.0;var o=0.0;var s=0.0;var a=0.0;if(H(2)|0){return 1}e=n[D+1|0]|0;r=n[D+2|0]|0;if((e|0)&0x80){i=-1.0}o=+(((e|0)&0x7C)>>2);s=+(((e|0)&0x03)<<8|r);if(+o==0.0){c(+(+i*+5.9604644775390625e-8*+s))}else if(+o==31.0){if(+i==1.0){if(+s>0.0){b()}else{m()}}else{if(+s>0.0){v()}else{g()}}}else{c(+(+i*K(+2,+(+o-25.0))*+(1024.0+s)))}D=D+3|0;return 0}function Gt(t){t=t|0;if(H(4)|0){return 1}f(n[D+1|0]|0,n[D+2|0]|0,n[D+3|0]|0,n[D+4|0]|0);D=D+5|0;return 0}function Wt(t){t=t|0;if(H(8)|0){return 1}h(n[D+1|0]|0,n[D+2|0]|0,n[D+3|0]|0,n[D+4|0]|0,n[D+5|0]|0,n[D+6|0]|0,n[D+7|0]|0,n[D+8|0]|0);D=D+9|0;return 0}function $t(t){t=t|0;return 1}function Yt(t){t=t|0;L();D=D+1|0;return 0}var Jt=[G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,W,$,Y,J,$t,$t,$t,$t,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,X,Q,tt,et,$t,$t,$t,$t,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,nt,it,ot,st,$t,$t,$t,at,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ut,ct,ft,ht,lt,$t,$t,$t,pt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,yt,mt,gt,bt,$t,$t,$t,vt,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,wt,St,kt,Et,$t,$t,$t,At,xt,xt,xt,xt,xt,xt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,jt,Nt,Lt,Kt,$t,$t,$t,$t,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Dt,Ut,Ft,qt,Ht,zt,Vt,Gt,Wt,$t,$t,$t,Yt];return{parse:q}}},function(t,e,r){\"use strict\";(function(e){const n=r(79),i=r(201),o=r(262),s=r(202),a=s.MT,u=s.NUMBYTES,c=s.SHIFT32,f=s.SYMS,h=s.TAG,l=s.MT.SIMPLE_FLOAT<<5|s.NUMBYTES.TWO,p=s.MT.SIMPLE_FLOAT<<5|s.NUMBYTES.FOUR,d=s.MT.SIMPLE_FLOAT<<5|s.NUMBYTES.EIGHT,y=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.TRUE,m=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.FALSE,g=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.UNDEFINED,b=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.NULL,v=new i(\"0x20000000000000\"),_=e.from(\"f97e00\",\"hex\"),w=e.from(\"f9fc00\",\"hex\"),S=e.from(\"f97c00\",\"hex\");class k{constructor(t){t=t||{},this.streaming=\"function\"==typeof t.stream,this.onData=t.stream,this.semanticTypes=[[n.Url,this._pushUrl],[i,this._pushBigNumber]];const e=t.genTypes||[],r=e.length;for(let t=0;t<r;t++)this.addSemanticType(e[t][0],e[t][1]);this._reset()}addSemanticType(t,e){const r=this.semanticTypes.length;for(let n=0;n<r;n++){if(this.semanticTypes[n][0]===t){const t=this.semanticTypes[n][1];return this.semanticTypes[n][1]=e,t}}return this.semanticTypes.push([t,e]),null}push(t){return!t||(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(t,e,r){return this.result[this.offset]=t,this.resultMethod[this.offset]=e,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(_)}_pushInfinity(t){const e=t<0?w:S;return this.push(e)}_pushFloat(t){const r=e.allocUnsafe(2);if(o.writeHalf(r,t)&&o.parseHalf(r)===t)return this._pushUInt8(l)&&this.push(r);const n=e.allocUnsafe(4);return n.writeFloatBE(t,0),n.readFloatBE(0)===t?this._pushUInt8(p)&&this.push(n):this._pushUInt8(d)&&this._pushDoubleBE(t)}_pushInt(t,e,r){const n=e<<5;return t<24?this._pushUInt8(n|t):t<=255?this._pushUInt8(n|u.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(n|u.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(n|u.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|u.EIGHT)&&this._pushUInt32BE(Math.floor(t/c))&&this._pushUInt32BE(t%c):e===a.NEG_INT?this._pushFloat(r):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,a.NEG_INT,t):this._pushInt(t,a.POS_INT)}_pushNumber(t){switch(!1){case t==t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!=0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=e.byteLength(t,\"utf8\");return this._pushInt(r,a.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?y:m)}_pushUndefined(t){return this._pushUInt8(g)}_pushArray(t,e){const r=e.length;if(!t._pushInt(r,a.ARRAY))return!1;for(let n=0;n<r;n++)if(!t.pushAny(e[n]))return!1;return!0}_pushTag(t){return this._pushInt(t,a.TAG)}_pushDate(t,e){return t._pushTag(h.DATE_EPOCH)&&t.pushAny(Math.round(e/1e3))}_pushBuffer(t,e){return t._pushInt(e.length,a.BYTE_STRING)&&t.push(e)}_pushNoFilter(t,e){return t._pushBuffer(t,e.slice())}_pushRegexp(t,e){return t._pushTag(h.REGEXP)&&t.pushAny(e.source)}_pushSet(t,e){if(!t._pushInt(e.size,a.ARRAY))return!1;for(let r of e)if(!t.pushAny(r))return!1;return!0}_pushUrl(t,e){return t._pushTag(h.URI)&&t.pushAny(e.format())}_pushBigint(t){let r=h.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=h.NEG_BIGINT);let n=t.toString(16);n.length%2&&(n=\"0\"+n);const i=e.from(n,\"hex\");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(t,e){if(e.isNaN())return t._pushNaN();if(!e.isFinite())return t._pushInfinity(e.isNegative()?-1/0:1/0);if(e.isInteger())return t._pushBigint(e);if(!t._pushTag(h.DECIMAL_FRAC)||!t._pushInt(2,a.ARRAY))return!1;const r=e.decimalPlaces(),n=e.multipliedBy(new i(10).pow(r));return!!t._pushIntNum(-r)&&(n.abs().isLessThan(v)?t._pushIntNum(n.toNumber()):t._pushBigint(n))}_pushMap(t,e){return!!t._pushInt(e.size,a.MAP)&&this._pushRawMap(e.size,Array.from(e))}_pushObject(t){if(!t)return this._pushUInt8(b);for(var e=this.semanticTypes.length,r=0;r<e;r++)if(t instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(t,this,t);var n=t.encodeCBOR;if(\"function\"==typeof n)return n.call(t,this);var i=Object.keys(t),o=i.length;return!!this._pushInt(o,a.MAP)&&this._pushRawMap(o,i.map(e=>[e,t[e]]))}_pushRawMap(t,e){e=e.map(function(t){return t[0]=k.encode(t[0]),t}).sort(o.keySorter);for(var r=0;r<t;r++){if(!this.push(e[r][0]))return!1;if(!this.pushAny(e[r][1]))return!1}return!0}write(t){return this.pushAny(t)}pushAny(t){switch(function(t){return{}.toString.call(t).slice(8,-1)}(t)){case\"Number\":return this._pushNumber(t);case\"String\":return this._pushString(t);case\"Boolean\":return this._pushBoolean(t);case\"Object\":return this._pushObject(t);case\"Array\":return this._pushArray(this,t);case\"Uint8Array\":return this._pushBuffer(this,e.isBuffer(t)?t:e.from(t));case\"Null\":return this._pushUInt8(b);case\"Undefined\":return this._pushUndefined(t);case\"Map\":return this._pushMap(this,t);case\"Set\":return this._pushSet(this,t);case\"Date\":return this._pushDate(this,t);case\"RegExp\":return this._pushRegexp(this,t);case\"Symbol\":switch(t){case f.NULL:return this._pushObject(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error(\"Unknown symbol: \"+t.toString())}default:throw new Error(\"Unknown type: \"+typeof t+\", \"+(t?t.toString():\"\"))}}finalize(){if(0===this.offset)return null;for(var t=this.result,r=this.resultLength,n=this.resultMethod,i=this.offset,o=0,s=0;s<i;s++)o+=r[s];var a=e.allocUnsafe(o),u=0,c=0;for(s=0;s<i;s++){switch(c=r[s],n[s]){case 0:t[s].copy(a,u);break;case 1:a.writeUInt8(t[s],u,!0);break;case 2:a.writeUInt16BE(t[s],u,!0);break;case 3:a.writeUInt32BE(t[s],u,!0);break;case 4:a.writeDoubleBE(t[s],u,!0);break;case 5:a.write(t[s],u,c,\"utf8\");break;default:throw new Error(\"unkown method\")}u+=c}var f=a;return this._reset(),f}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const e=new k;if(!e.pushAny(t))throw new Error(\"Failed to encode input\");return e.finalize()}}t.exports=k}).call(this,r(0).Buffer)},function(t,e,r){var n=r(1005);t.exports=function(t){if(!(t instanceof Object))throw new TypeError('\"obj\" must be an object (or inherit from it)');return function t(e,r){r=new n(e,r);for(var i in e){var o=e[i];if(o instanceof Object&&(r.contains(o)||t(o,r)))return!0}return!1}(t)}},function(t,e){function r(t,e){this.value=t,this.next=e}t.exports=r,r.prototype.contains=function(t){for(var e=this;e;){if(e.value===t)return!0;e=e.next}return!1}},function(t,e,r){\"use strict\";e.util=r(471),e.resolver=r(472)},function(t,e,r){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});const r={INVALID_ENCODING:\"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.\",INVALID_SMARTBUFFER_SIZE:\"Invalid size provided. Size must be a valid integer greater than zero.\",INVALID_SMARTBUFFER_BUFFER:\"Invalid Buffer provided in SmartBufferOptions.\",INVALID_SMARTBUFFER_OBJECT:\"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.\",INVALID_OFFSET:\"An invalid offset value was provided.\",INVALID_OFFSET_NON_NUMBER:\"An invalid offset value was provided. A numeric value is required.\",INVALID_LENGTH:\"An invalid length value was provided.\",INVALID_LENGTH_NON_NUMBER:\"An invalid length value was provived. A numeric value is required.\",INVALID_TARGET_OFFSET:\"Target offset is beyond the bounds of the internal SmartBuffer data.\",INVALID_TARGET_LENGTH:\"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.\",INVALID_READ_BEYOND_BOUNDS:\"Attempted to read beyond the bounds of the managed data.\",INVALID_WRITE_BEYOND_BOUNDS:\"Attempted to write beyond the bounds of the managed data.\"};function n(t){return\"number\"==typeof t&&isFinite(t)&&function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t}(t)}function i(t,e){if(\"number\"!=typeof t)throw new Error(e?r.INVALID_OFFSET_NON_NUMBER:r.INVALID_LENGTH_NON_NUMBER);if(!n(t)||t<0)throw new Error(e?r.INVALID_OFFSET:r.INVALID_LENGTH)}e.ERRORS=r,e.checkEncoding=function(e){if(!t.isEncoding(e))throw new Error(r.INVALID_ENCODING)},e.isFiniteInteger=n,e.checkLengthValue=function(t){i(t,!1)},e.checkOffsetValue=function(t){i(t,!0)},e.checkTargetOffset=function(t,e){if(t<0||t>e.length)throw new Error(r.INVALID_TARGET_OFFSET)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(n){const i=r(2),o=r(204).SmartBuffer,s=r(203);(e=t.exports).serialize=((t,e)=>{let r=[];r.push(\"tree \"+s.cidToSha(t.tree[\"/\"]).toString(\"hex\")),t.parents.forEach(t=>{r.push(\"parent \"+s.cidToSha(t[\"/\"]).toString(\"hex\"))}),r.push(\"author \"+s.serializePersonLine(t.author)),r.push(\"committer \"+s.serializePersonLine(t.committer)),t.encoding&&r.push(\"encoding \"+t.encoding),t.signature&&(r.push(\"gpgsig -----BEGIN PGP SIGNATURE-----\"),r.push(t.signature.text)),r.push(\"\"),r.push(t.message);let n=r.join(\"\\n\"),a=new o;a.writeString(\"commit \"),a.writeString(n.length.toString()),a.writeUInt8(0),a.writeString(n),i(()=>e(null,a.toBuffer()))}),e.deserialize=((t,e)=>{let r=t.toString().split(\"\\n\"),o={gitType:\"commit\",parents:[]};for(let t=0;t<r.length;t++){let a=r[t].match(/^([^ ]+) (.+)$/);if(!a){\"\"!==r[t]&&i(()=>e(new Error(\"Invalid commit line \"+t))),o.message=r.slice(t+1).join(\"\\n\");break}let u=a[1],c=a[2];switch(u){case\"tree\":o.tree={\"/\":s.shaToCid(n.from(c,\"hex\"))};break;case\"committer\":o.committer=s.parsePersonLine(c);break;case\"author\":o.author=s.parsePersonLine(c);break;case\"parent\":o.parents.push({\"/\":s.shaToCid(n.from(c,\"hex\"))});break;case\"gpgsig\":{\"-----BEGIN PGP SIGNATURE-----\"!==c&&i(()=>e(new Error(\"Invalid commit line \"+t))),o.signature={};let n=t;for(;t<r.length-1;t++)if(\" \"!==r[t+1][0]){o.signature.text=r.slice(n+1,t+1).join(\"\\n\");break}break}default:o[u]=c}}i(()=>e(null,o))})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(n){const i=r(2),o=r(204).SmartBuffer,s=r(203);(e=t.exports).serialize=((t,e)=>{let r=[];r.push(\"object \"+s.cidToSha(t.object[\"/\"]).toString(\"hex\")),r.push(\"type \"+t.type),r.push(\"tag \"+t.tag),null!==t.tagger&&r.push(\"tagger \"+s.serializePersonLine(t.tagger)),r.push(\"\"),r.push(t.message);let n=r.join(\"\\n\"),a=new o;a.writeString(\"tag \"),a.writeString(n.length.toString()),a.writeUInt8(0),a.writeString(n),i(()=>e(null,a.toBuffer()))}),e.deserialize=((t,e)=>{let r=t.toString().split(\"\\n\"),o={gitType:\"tag\"};for(let t=0;t<r.length;t++){let a=r[t].match(/^([^ ]+) (.+)$/);if(null===a){\"\"!==r[t]&&i(()=>e(new Error(\"Invalid tag line \"+t))),o.message=r.slice(t+1).join(\"\\n\");break}let u=a[1],c=a[2];switch(u){case\"object\":o.object={\"/\":s.shaToCid(n.from(c,\"hex\"))};break;case\"tagger\":o.tagger=s.parsePersonLine(c);break;case\"tag\":o.tag=c;break;case\"type\":o.type=c;break;default:o[u]=c}}i(()=>e(null,o))})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(2),i=r(204).SmartBuffer,o=r(203);(e=t.exports).serialize=((t,e)=>{let r=[];Object.keys(t).forEach(e=>{r.push([e,t[e]])}),r.sort((t,e)=>t[0]>e[0]?1:-1);let s=new i;r.forEach(t=>{s.writeStringNT(t[1].mode+\" \"+t[0]),s.writeBuffer(o.cidToSha(t[1].hash[\"/\"]))});let a=new i;a.writeString(\"tree \"),a.writeString(s.length.toString()),a.writeUInt8(0),a.writeBuffer(s.toBuffer()),n(()=>e(null,a.toBuffer()))}),e.deserialize=((t,e)=>{let r={},s=i.fromBuffer(t,\"utf8\");for(;;){let t=s.readStringNT();if(\"\"===t)break;let i=s.readBuffer(o.SHA1_LENGTH),a=t.match(/^(\\d+) (.+)$/);a||n(()=>e(new Error(\"invalid file mode/name\"))),r[a[2]]&&n(()=>e(new Error(\"duplicate file in tree\"))),r[a[2]]={mode:a[1],hash:{\"/\":o.shaToCid(i)}}}n(()=>e(null,r))})},function(t,e,r){\"use strict\";e.resolver=r(263),e.util=r(473)},function(t,e,r){var n=r(27),i=r(266);for(var o in i)n[o]=i[o];t.exports={bufferutils:r(480),Block:r(1030),ECPair:r(272),ECSignature:r(275),HDNode:r(1040),Transaction:r(271),TransactionBuilder:r(1041),address:r(273),crypto:r(113),networks:r(145),opcodes:r(44),script:n}},function(t,e,r){(function(e){var n=r(265),i=r(475);function o(t){return e.isBuffer(t)}function s(t){return\"string\"==typeof t&&/^([0-9a-f]{2})+$/i.test(t)}function a(t,e){var r=t.toJSON();function n(n){if(!t(n))return!1;if(n.length===e)return!0;throw i.tfCustomError(r+\"(Length: \"+e+\")\",r+\"(Length: \"+n.length+\")\")}return n.toJSON=function(){return r},n}var u=a.bind(null,n.Array),c=a.bind(null,o),f=a.bind(null,s),h=a.bind(null,n.String),l=Math.pow(2,53)-1;var p={ArrayN:u,Buffer:o,BufferN:c,Finite:function(t){return\"number\"==typeof t&&isFinite(t)},Hex:s,HexN:f,Int8:function(t){return t<<24>>24===t},Int16:function(t){return t<<16>>16===t},Int32:function(t){return(0|t)===t},StringN:h,UInt8:function(t){return(255&t)===t},UInt16:function(t){return(65535&t)===t},UInt32:function(t){return t>>>0===t},UInt53:function(t){return\"number\"==typeof t&&t>=0&&t<=l&&Math.floor(t)===t}};for(var d in p)p[d].toJSON=function(t){return t}.bind(null,d);t.exports=p}).call(this,r(0).Buffer)},function(t,e,r){var n=r(44),i={};for(var o in n){i[n[o]]=o}t.exports=i},function(t,e,r){var n=r(3).Buffer,i=r(27),o=r(477),s=r(25),a=r(44);function u(t){return t===a.OP_0||i.isCanonicalSignature(t)}function c(t,e){var r=i.decompile(t);return!(r.length<2)&&(r[0]===a.OP_0&&(e?r.slice(1).every(u):r.slice(1).every(i.isCanonicalSignature)))}c.toJSON=function(){return\"multisig input\"};var f=n.allocUnsafe(0);function h(t,e){if(s([u],t),e){var r=o.decode(e);if(t.length<r.m)throw new TypeError(\"Not enough signatures provided\");if(t.length>r.pubKeys.length)throw new TypeError(\"Too many signatures provided\")}return[].concat(f,t.map(function(t){return t===a.OP_0?f:t}))}function l(t,e){return s(s.Array,t),s(c,t,e),t.slice(1)}t.exports={check:c,decode:function(t,e){return l(i.decompile(t),e)},decodeStack:l,encode:function(t,e){return i.compile(h(t,e))},encodeStack:h}},function(t,e,r){var n=r(27),i=r(29),o=r(25),s=r(44);function a(t){var e=n.compile(t);return e.length>1&&e[0]===s.OP_RETURN}a.toJSON=function(){return\"null data output\"},t.exports={output:{check:a,decode:function(t){return o(a,t),t.slice(2)},encode:function(t){return o(i.Buffer,t),n.compile([s.OP_RETURN,t])}}}},function(t,e,r){var n=r(27),i=r(25);function o(t){var e=n.decompile(t);return 1===e.length&&n.isCanonicalSignature(e[0])}function s(t){return i(n.isCanonicalSignature,t),[t]}function a(t){return i(i.Array,t),i(o,t),t[0]}o.toJSON=function(){return\"pubKey input\"},t.exports={check:o,decode:function(t){return a(n.decompile(t))},decodeStack:a,encode:function(t){return n.compile(s(t))},encodeStack:s}},function(t,e,r){var n=r(27),i=r(25),o=r(44);function s(t){var e=n.decompile(t);return 2===e.length&&n.isCanonicalPubKey(e[0])&&e[1]===o.OP_CHECKSIG}s.toJSON=function(){return\"pubKey output\"},t.exports={check:s,decode:function(t){var e=n.decompile(t);return i(s,e),e[0]},encode:function(t){return i(n.isCanonicalPubKey,t),n.compile([t,o.OP_CHECKSIG])}}},function(t,e,r){var n=r(27),i=r(25);function o(t){var e=n.decompile(t);return 2===e.length&&n.isCanonicalSignature(e[0])&&n.isCanonicalPubKey(e[1])}function s(t,e){return i({signature:n.isCanonicalSignature,pubKey:n.isCanonicalPubKey},{signature:t,pubKey:e}),[t,e]}function a(t){return i(i.Array,t),i(o,t),{signature:t[0],pubKey:t[1]}}o.toJSON=function(){return\"pubKeyHash input\"},t.exports={check:o,decode:function(t){return a(n.decompile(t))},decodeStack:a,encode:function(t,e){return n.compile(s(t,e))},encodeStack:s}},function(t,e,r){var n=r(27),i=r(29),o=r(25),s=r(44);function a(t){var e=n.compile(t);return 25===e.length&&e[0]===s.OP_DUP&&e[1]===s.OP_HASH160&&20===e[2]&&e[23]===s.OP_EQUALVERIFY&&e[24]===s.OP_CHECKSIG}a.toJSON=function(){return\"pubKeyHash output\"},t.exports={check:a,decode:function(t){return o(a,t),t.slice(3,23)},encode:function(t){return o(i.Hash160bit,t),n.compile([s.OP_DUP,s.OP_HASH160,t,s.OP_EQUALVERIFY,s.OP_CHECKSIG])}}},function(t,e,r){t.exports={input:r(1022),output:r(1023)}},function(t,e,r){var n=r(3).Buffer,i=r(27),o=r(25),s=r(267),a=r(268),u=r(269),c=r(478),f=r(479);function h(t,e){var r=i.decompile(t);if(r.length<1)return!1;var o=r[r.length-1];if(!n.isBuffer(o))return!1;var h=i.decompile(i.compile(r.slice(0,-1))),l=i.decompile(o);return 0!==l.length&&(!!i.isPushOnly(h)&&(1===r.length?f.check(l)||c.check(l):!(!u.input.check(h)||!u.output.check(l))||(!(!s.input.check(h,e)||!s.output.check(l))||!(!a.input.check(h)||!a.output.check(l)))))}function l(t,e){var r=i.compile(e);return[].concat(t,r)}function p(t){return o(o.Array,t),o(h,t),{redeemScriptStack:t.slice(0,-1),redeemScript:t[t.length-1]}}h.toJSON=function(){return\"scriptHash input\"},t.exports={check:h,decode:function(t){var e=p(i.decompile(t));return e.redeemScriptSig=i.compile(e.redeemScriptStack),delete e.redeemScriptStack,e},decodeStack:p,encode:function(t,e){var r=i.decompile(t);return i.compile(l(r,e))},encodeStack:l}},function(t,e,r){var n=r(27),i=r(29),o=r(25),s=r(44);function a(t){var e=n.compile(t);return 23===e.length&&e[0]===s.OP_HASH160&&20===e[1]&&e[22]===s.OP_EQUAL}a.toJSON=function(){return\"scriptHash output\"},t.exports={check:a,decode:function(t){return o(a,t),t.slice(2,22)},encode:function(t){return o(i.Hash160bit,t),n.compile([s.OP_HASH160,t,s.OP_EQUAL])}}},function(t,e,r){t.exports={input:r(1025),output:r(478)}},function(t,e,r){var n=r(27),i=r(25);function o(t){return n.isCanonicalPubKey(t)&&33===t.length}function s(t){var e=n.decompile(t);return 2===e.length&&n.isCanonicalSignature(e[0])&&o(e[1])}s.toJSON=function(){return\"witnessPubKeyHash input\"},t.exports={check:s,decodeStack:function(t){return i(i.Array,t),i(s,t),{signature:t[0],pubKey:t[1]}},encodeStack:function(t,e){return i({signature:n.isCanonicalSignature,pubKey:o},{signature:t,pubKey:e}),[t,e]}}},function(t,e,r){t.exports={input:r(1027),output:r(479)}},function(t,e,r){(function(e){var n=r(27),i=r(29),o=r(25),s=r(267),a=r(268),u=r(269);function c(t,r){if(o(i.Array,t),t.length<1)return!1;var c=t[t.length-1];if(!e.isBuffer(c))return!1;var f=n.decompile(c);if(0===f.length)return!1;var h=n.compile(t.slice(0,-1));return!(!u.input.check(h)||!u.output.check(f))||(!(!s.input.check(h,r)||!s.output.check(f))||!(!a.input.check(h)||!a.output.check(f)))}c.toJSON=function(){return\"witnessScriptHash input\"},t.exports={check:c,decodeStack:function(t){return o(o.Array,t),o(c,t),{witnessData:t.slice(0,-1),witnessScript:t[t.length-1]}},encodeStack:function(t,e){return o({witnessData:[i.Buffer],witnessScript:i.Buffer},{witnessData:t,witnessScript:e}),[].concat(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){t.exports={output:r(1029)}},function(t,e,r){var n=r(3).Buffer,i=r(27),o=r(29),s=r(25),a=r(44),u=n.from(\"aa21a9ed\",\"hex\");function c(t){var e=i.compile(t);return e.length>37&&e[0]===a.OP_RETURN&&36===e[1]&&e.slice(2,6).equals(u)}c.toJSON=function(){return\"Witness commitment output\"},t.exports={check:c,decode:function(t){return s(c,t),i.decompile(t)[1].slice(4,36)},encode:function(t){s(o.Hash256bit,t);var e=n.allocUnsafe(36);return u.copy(e,0),t.copy(e,4),i.compile([a.OP_RETURN,e])}}},function(t,e,r){var n=r(3).Buffer,i=r(113),o=r(1031),s=r(25),a=r(29),u=r(270),c=r(271);function f(){this.version=1,this.prevHash=null,this.merkleRoot=null,this.timestamp=0,this.bits=0,this.nonce=0}f.fromBuffer=function(t){if(t.length<80)throw new Error(\"Buffer too small (< 80 bytes)\");var e=0;function r(r){return e+=r,t.slice(e-r,e)}function n(){var r=t.readUInt32LE(e);return e+=4,r}var i=new f;if(i.version=function(){var r=t.readInt32LE(e);return e+=4,r}(),i.prevHash=r(32),i.merkleRoot=r(32),i.timestamp=n(),i.bits=n(),i.nonce=n(),80===t.length)return i;function o(){var r=c.fromBuffer(t.slice(e),!0);return e+=r.byteLength(),r}var s=function(){var r=u.decode(t,e);return e+=u.decode.bytes,r}();i.transactions=[];for(var a=0;a<s;++a){var h=o();i.transactions.push(h)}return i},f.prototype.byteLength=function(t){return t||!this.transactions?80:80+u.encodingLength(this.transactions.length)+this.transactions.reduce(function(t,e){return t+e.byteLength()},0)},f.fromHex=function(t){return f.fromBuffer(n.from(t,\"hex\"))},f.prototype.getHash=function(){return i.hash256(this.toBuffer(!0))},f.prototype.getId=function(){return this.getHash().reverse().toString(\"hex\")},f.prototype.getUTCDate=function(){var t=new Date(0);return t.setUTCSeconds(this.timestamp),t},f.prototype.toBuffer=function(t){var e=n.allocUnsafe(this.byteLength(t)),r=0;function i(t){t.copy(e,r),r+=t.length}function o(t){e.writeUInt32LE(t,r),r+=4}return function(t){e.writeInt32LE(t,r),r+=4}(this.version),i(this.prevHash),i(this.merkleRoot),o(this.timestamp),o(this.bits),o(this.nonce),t||!this.transactions?e:(u.encode(this.transactions.length,e,r),r+=u.encode.bytes,this.transactions.forEach(function(t){var n=t.byteLength();t.toBuffer(e,r),r+=n}),e)},f.prototype.toHex=function(t){return this.toBuffer(t).toString(\"hex\")},f.calculateTarget=function(t){var e=((4278190080&t)>>24)-3,r=8388607&t,i=n.alloc(32,0);return i.writeUInt32BE(r,28-e),i},f.calculateMerkleRoot=function(t){if(s([{getHash:a.Function}],t),0===t.length)throw TypeError(\"Cannot compute merkle root for zero transactions\");var e=t.map(function(t){return t.getHash()});return o(e,i.hash256)},f.prototype.checkMerkleRoot=function(){if(!this.transactions)return!1;var t=f.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(t)},f.prototype.checkProofOfWork=function(){var t=this.getHash().reverse(),e=f.calculateTarget(this.bits);return t.compare(e)<=0},t.exports=f},function(t,e,r){(function(e){t.exports=function(t,r){if(!Array.isArray(t))throw TypeError(\"Expected values Array\");if(\"function\"!=typeof r)throw TypeError(\"Expected digest Function\");for(var n=t.length,i=t.concat();n>1;){for(var o=0,s=0;s<n;s+=2,++o){var a=i[s],u=s+1===n?a:i[s+1],c=e.concat([a,u]);i[o]=r(c)}n=o}return i[0]}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";for(var n=\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\",i={},o=0;o<n.length;o++){var s=n.charAt(o);if(void 0!==i[s])throw new TypeError(s+\" is ambiguous\");i[s]=o}function a(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function u(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)throw new Error(\"Invalid prefix (\"+t+\")\");e=a(e)^n>>5}for(e=a(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=a(e)^31&i}return e}function c(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],u=0;u<t.length;++u)for(i=i<<e|t[u],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)throw new Error(\"Excess padding\");if(i<<r-o&s)throw new Error(\"Non-zero padding\")}return a}t.exports={decode:function(t,e){if(e=e||90,t.length<8)throw new TypeError(t+\" too short\");if(t.length>e)throw new TypeError(\"Exceeds length limit\");var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)throw new Error(\"Mixed-case string \"+t);var o=(t=r).lastIndexOf(\"1\");if(-1===o)throw new Error(\"No separator character for \"+t);if(0===o)throw new Error(\"Missing prefix for \"+t);var s=t.slice(0,o),c=t.slice(o+1);if(c.length<6)throw new Error(\"Data too short\");for(var f=u(s),h=[],l=0;l<c.length;++l){var p=c.charAt(l),d=i[p];if(void 0===d)throw new Error(\"Unknown character \"+p);f=a(f)^d,l+6>=c.length||h.push(d)}if(1!==f)throw new Error(\"Invalid checksum for \"+t);return{prefix:s,words:h}},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError(\"Exceeds length limit\");for(var i=u(t=t.toLowerCase()),o=t+\"1\",s=0;s<e.length;++s){var c=e[s];if(c>>5!=0)throw new Error(\"Non 5-bit word\");i=a(i)^c,o+=n.charAt(c)}for(s=0;s<6;++s)i=a(i);for(i^=1,s=0;s<6;++s){var f=i>>5*(5-s)&31;o+=n.charAt(f)}return o},toWords:function(t){return c(t,8,5,!0)},fromWords:function(t){return c(t,5,8,!1)}}},function(t,e,r){\"use strict\";var n=r(8),i=r(3).Buffer;t.exports=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),i=t(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(e){var r=t(e);return n.encode(i.concat([e,r],e.length+4))},decode:function(t){var r=e(n.decode(t));if(!r)throw new Error(\"Invalid checksum\");return r},decodeUnsafe:function(t){var r=n.decodeUnsafe(t);if(r)return e(r)}}}},function(t,e,r){var n=r(3).Buffer,i=r(135),o=r(25),s=r(29),a=r(102),u=r(275),c=n.alloc(1,0),f=n.alloc(1,1),h=r(276).getCurveByName(\"secp256k1\");function l(t,e,r){o(s.tuple(s.Hash256bit,s.Buffer256bit,s.Function),arguments);var u=n.alloc(32,0),l=n.alloc(32,1);u=i(\"sha256\",u).update(l).update(c).update(e).update(t).digest(),l=i(\"sha256\",u).update(l).digest(),u=i(\"sha256\",u).update(l).update(f).update(e).update(t).digest(),l=i(\"sha256\",u).update(l).digest(),l=i(\"sha256\",u).update(l).digest();for(var p=a.fromBuffer(l);p.signum()<=0||p.compareTo(h.n)>=0||!r(p);)u=i(\"sha256\",u).update(l).update(c).digest(),l=i(\"sha256\",u).update(l).digest(),l=i(\"sha256\",u).update(l).digest(),p=a.fromBuffer(l);return p}var p=h.n.shiftRight(1);t.exports={deterministicGenerateK:l,sign:function(t,e){o(s.tuple(s.Hash256bit,s.BigInt),arguments);var r,n,i=e.toBuffer(32),c=a.fromBuffer(t),f=h.n,d=h.G;return l(t,i,function(t){var i=d.multiply(t);return!h.isInfinity(i)&&0!==(r=i.affineX.mod(f)).signum()&&0!==(n=t.modInverse(f).multiply(c.add(e.multiply(r))).mod(f)).signum()}),n.compareTo(p)>0&&(n=f.subtract(n)),new u(r,n)},verify:function(t,e,r){o(s.tuple(s.Hash256bit,s.ECSignature,s.ECPoint),arguments);var n=h.n,i=h.G,u=e.r,c=e.s;if(u.signum()<=0||u.compareTo(n)>=0)return!1;if(c.signum()<=0||c.compareTo(n)>=0)return!1;var f=a.fromBuffer(t),l=c.modInverse(n),p=f.multiply(l).mod(n),d=u.multiply(l).mod(n),y=i.multiplyTwo(p,r,d);return!h.isInfinity(y)&&y.affineX.mod(n).equals(u)},__curve:h}},function(t){t.exports={_from:\"bigi@^1.4.0\",_id:\"bigi@1.4.2\",_inBundle:!1,_integrity:\"sha1-nGZalfiLiwj8Bc/XMfVhhZ1yWCU=\",_location:\"/bigi\",_phantomChildren:{},_requested:{type:\"range\",registry:!0,raw:\"bigi@^1.4.0\",name:\"bigi\",escapedName:\"bigi\",rawSpec:\"^1.4.0\",saveSpec:null,fetchSpec:\"^1.4.0\"},_requiredBy:[\"/bitcoinjs-lib\",\"/ecurve\"],_resolved:\"https://registry.npmjs.org/bigi/-/bigi-1.4.2.tgz\",_shasum:\"9c665a95f88b8b08fc05cfd731f561859d725825\",_spec:\"bigi@^1.4.0\",_where:\"/Users/markfocella/truffle_projects/leth_contracts/node_modules/bitcoinjs-lib\",bugs:{url:\"https://github.com/cryptocoinjs/bigi/issues\"},bundleDependencies:!1,dependencies:{},deprecated:!1,description:\"Big integers.\",devDependencies:{coveralls:\"^2.11.2\",istanbul:\"^0.3.5\",jshint:\"^2.5.1\",mocha:\"^2.1.0\",mochify:\"^2.1.0\"},homepage:\"https://github.com/cryptocoinjs/bigi#readme\",keywords:[\"cryptography\",\"math\",\"bitcoin\",\"arbitrary\",\"precision\",\"arithmetic\",\"big\",\"integer\",\"int\",\"number\",\"biginteger\",\"bigint\",\"bignumber\",\"decimal\",\"float\"],main:\"./lib/index.js\",name:\"bigi\",repository:{url:\"git+https://github.com/cryptocoinjs/bigi.git\",type:\"git\"},scripts:{\"browser-test\":\"mochify --wd -R spec\",coverage:\"istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js\",coveralls:\"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info\",jshint:\"jshint --config jshint.json lib/*.js ; true\",test:\"_mocha -- test/*.js\",unit:\"mocha\"},testling:{files:\"test/*.js\",harness:\"mocha\",browsers:[\"ie/9..latest\",\"firefox/latest\",\"chrome/latest\",\"safari/6.0..latest\",\"iphone/6.0..latest\",\"android-browser/4.2..latest\"]},version:\"1.4.2\"}},function(t,e,r){(function(t){var e=r(15),n=r(481);n.fromByteArrayUnsigned=function(t){return 128&t[0]?new n([0].concat(t)):new n(t)},n.prototype.toByteArrayUnsigned=function(){var t=this.toByteArray();return 0===t[0]?t.slice(1):t},n.fromDERInteger=function(t){return new n(t)},n.prototype.toDERInteger=n.prototype.toByteArray,n.fromBuffer=function(t){if(128&t[0]){var e=Array.prototype.slice.call(t);return new n([0].concat(e))}return new n(t)},n.fromHex=function(t){return\"\"===t?n.ZERO:(e.equal(t,t.match(/^[A-Fa-f0-9]+/),\"Invalid hex string\"),e.equal(t.length%2,0,\"Incomplete hex\"),new n(t,16))},n.prototype.toBuffer=function(e){for(var r=this.toByteArrayUnsigned(),n=[],i=e-r.length;n.length<i;)n.push(0);return new t(n.concat(r))},n.prototype.toHex=function(t){return this.toBuffer(t).toString(\"hex\")}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(102),i=r(1038),o=r(483);t.exports=function(t){var e=i[t];if(!e)return null;var r=new n(e.p,16),s=new n(e.a,16),a=new n(e.b,16),u=new n(e.n,16),c=new n(e.h,16),f=new n(e.Gx,16),h=new n(e.Gy,16);return new o(r,s,a,f,h,u,c)}},function(t){t.exports={secp128r1:{p:\"fffffffdffffffffffffffffffffffff\",a:\"fffffffdfffffffffffffffffffffffc\",b:\"e87579c11079f43dd824993c2cee5ed3\",n:\"fffffffe0000000075a30d1b9038a115\",h:\"01\",Gx:\"161ff7528b899b2d0c28607ca52c5b86\",Gy:\"cf5ac8395bafeb13c02da292dded7a83\"},secp160k1:{p:\"fffffffffffffffffffffffffffffffeffffac73\",a:\"00\",b:\"07\",n:\"0100000000000000000001b8fa16dfab9aca16b6b3\",h:\"01\",Gx:\"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb\",Gy:\"938cf935318fdced6bc28286531733c3f03c4fee\"},secp160r1:{p:\"ffffffffffffffffffffffffffffffff7fffffff\",a:\"ffffffffffffffffffffffffffffffff7ffffffc\",b:\"1c97befc54bd7a8b65acf89f81d4d4adc565fa45\",n:\"0100000000000000000001f4c8f927aed3ca752257\",h:\"01\",Gx:\"4a96b5688ef573284664698968c38bb913cbfc82\",Gy:\"23a628553168947d59dcc912042351377ac5fb32\"},secp192k1:{p:\"fffffffffffffffffffffffffffffffffffffffeffffee37\",a:\"00\",b:\"03\",n:\"fffffffffffffffffffffffe26f2fc170f69466a74defd8d\",h:\"01\",Gx:\"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d\",Gy:\"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d\"},secp192r1:{p:\"fffffffffffffffffffffffffffffffeffffffffffffffff\",a:\"fffffffffffffffffffffffffffffffefffffffffffffffc\",b:\"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1\",n:\"ffffffffffffffffffffffff99def836146bc9b1b4d22831\",h:\"01\",Gx:\"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012\",Gy:\"07192b95ffc8da78631011ed6b24cdd573f977a11e794811\"},secp256k1:{p:\"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\",a:\"00\",b:\"07\",n:\"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\",h:\"01\",Gx:\"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798\",Gy:\"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8\"},secp256r1:{p:\"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff\",a:\"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc\",b:\"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\",n:\"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\",h:\"01\",Gx:\"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\",Gy:\"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\"}}},function(t,e,r){(function(e){var n=r(274);function i(t,e){if(void 0!==e&&t[0]!==e)throw new Error(\"Invalid network version\");if(33===t.length)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(34!==t.length)throw new Error(\"Invalid WIF length\");if(1!==t[33])throw new Error(\"Invalid compression flag\");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function o(t,r,n){var i=new e(n?34:33);return i.writeUInt8(t,0),r.copy(i,1),n&&(i[33]=1),i}t.exports={decode:function(t,e){return i(n.decode(t),e)},decodeRaw:i,encode:function(t,e,r){return\"number\"==typeof t?n.encode(o(t,e,r)):n.encode(o(t.version,t.privateKey,t.compressed))},encodeRaw:o}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(3).Buffer,i=r(274),o=r(113),s=r(135),a=r(25),u=r(29),c=r(145),f=r(102),h=r(272),l=r(276),p=l.getCurveByName(\"secp256k1\");function d(t,e){if(a(u.tuple(\"ECPair\",u.Buffer256bit),arguments),!t.compressed)throw new TypeError(\"BIP32 only allows compressed keyPairs\");this.keyPair=t,this.chainCode=e,this.depth=0,this.index=0,this.parentFingerprint=0}d.HIGHEST_BIT=2147483648,d.LENGTH=78,d.MASTER_SECRET=n.from(\"Bitcoin seed\",\"utf8\"),d.fromSeedBuffer=function(t,e){if(a(u.tuple(u.Buffer,u.maybe(u.Network)),arguments),t.length<16)throw new TypeError(\"Seed should be at least 128 bits\");if(t.length>64)throw new TypeError(\"Seed should be at most 512 bits\");var r=s(\"sha512\",d.MASTER_SECRET).update(t).digest(),n=r.slice(0,32),i=r.slice(32),o=f.fromBuffer(n);return new d(new h(o,null,{network:e}),i)},d.fromSeedHex=function(t,e){return d.fromSeedBuffer(n.from(t,\"hex\"),e)},d.fromBase58=function(t,e){var r=i.decode(t);if(78!==r.length)throw new Error(\"Invalid buffer length\");var n,o=r.readUInt32BE(0);if(Array.isArray(e)){if(!(n=e.filter(function(t){return o===t.bip32.private||o===t.bip32.public}).pop()))throw new Error(\"Unknown network version\")}else n=e||c.bitcoin;if(o!==n.bip32.private&&o!==n.bip32.public)throw new Error(\"Invalid network version\");var s=r[4],a=r.readUInt32BE(5);if(0===s&&0!==a)throw new Error(\"Invalid parent fingerprint\");var u=r.readUInt32BE(9);if(0===s&&0!==u)throw new Error(\"Invalid index\");var y,m=r.slice(13,45);if(o===n.bip32.private){if(0!==r.readUInt8(45))throw new Error(\"Invalid private key\");var g=f.fromBuffer(r.slice(46,78));y=new h(g,null,{network:n})}else{var b=l.Point.decodeFrom(p,r.slice(45,78));p.validate(b),y=new h(null,b,{network:n})}var v=new d(y,m);return v.depth=s,v.index=u,v.parentFingerprint=a,v},d.prototype.getAddress=function(){return this.keyPair.getAddress()},d.prototype.getIdentifier=function(){return o.hash160(this.keyPair.getPublicKeyBuffer())},d.prototype.getFingerprint=function(){return this.getIdentifier().slice(0,4)},d.prototype.getNetwork=function(){return this.keyPair.getNetwork()},d.prototype.getPublicKeyBuffer=function(){return this.keyPair.getPublicKeyBuffer()},d.prototype.neutered=function(){var t=new d(new h(null,this.keyPair.Q,{network:this.keyPair.network}),this.chainCode);return t.depth=this.depth,t.index=this.index,t.parentFingerprint=this.parentFingerprint,t},d.prototype.sign=function(t){return this.keyPair.sign(t)},d.prototype.verify=function(t,e){return this.keyPair.verify(t,e)},d.prototype.toBase58=function(t){if(void 0!==t)throw new TypeError(\"Unsupported argument in 2.0.0\");var e=this.keyPair.network,r=this.isNeutered()?e.bip32.public:e.bip32.private,o=n.allocUnsafe(78);return o.writeUInt32BE(r,0),o.writeUInt8(this.depth,4),o.writeUInt32BE(this.parentFingerprint,5),o.writeUInt32BE(this.index,9),this.chainCode.copy(o,13),this.isNeutered()?this.keyPair.getPublicKeyBuffer().copy(o,45):(o.writeUInt8(0,45),this.keyPair.d.toBuffer(32).copy(o,46)),i.encode(o)},d.prototype.derive=function(t){a(u.UInt32,t);var e=t>=d.HIGHEST_BIT,r=n.allocUnsafe(37);if(e){if(this.isNeutered())throw new TypeError(\"Could not derive hardened child key\");r[0]=0,this.keyPair.d.toBuffer(32).copy(r,1),r.writeUInt32BE(t,33)}else this.keyPair.getPublicKeyBuffer().copy(r,0),r.writeUInt32BE(t,33);var i,o=s(\"sha512\",this.chainCode).update(r).digest(),c=o.slice(0,32),l=o.slice(32),y=f.fromBuffer(c);if(y.compareTo(p.n)>=0)return this.derive(t+1);if(this.isNeutered()){var m=p.G.multiply(y).add(this.keyPair.Q);if(p.isInfinity(m))return this.derive(t+1);i=new h(null,m,{network:this.keyPair.network})}else{var g=y.add(this.keyPair.d).mod(p.n);if(0===g.signum())return this.derive(t+1);i=new h(g,null,{network:this.keyPair.network})}var b=new d(i,l);return b.depth=this.depth+1,b.index=t,b.parentFingerprint=this.getFingerprint().readUInt32BE(0),b},d.prototype.deriveHardened=function(t){return a(u.UInt31,t),this.derive(t+d.HIGHEST_BIT)},d.prototype.isNeutered=function(){return!this.keyPair.d},d.prototype.derivePath=function(t){a(u.BIP32Path,t);var e=t.split(\"/\");if(\"m\"===e[0]){if(this.parentFingerprint)throw new Error(\"Not a master node\");e=e.slice(1)}return e.reduce(function(t,e){var r;return\"'\"===e.slice(-1)?(r=parseInt(e.slice(0,-1),10),t.deriveHardened(r)):(r=parseInt(e,10),t.derive(r))},this)},t.exports=d},function(t,e,r){var n=r(3).Buffer,i=r(273),o=r(113),s=r(27),a=r(266),u=r(145),c=r(44),f=r(25),h=r(29),l=a.types,p=[a.types.P2PKH,a.types.P2PK,a.types.MULTISIG],d=p.concat([a.types.P2WPKH,a.types.P2WSH]),y=r(272),m=r(275),g=r(271);function b(t){return-1!==p.indexOf(t)}function v(t){return-1!==d.indexOf(t)}function _(t,e){if(0===t.length&&0===e.length)return{};var r,n,i,u,c,f,h,p,d,y,m=!1,g=!1,_=!1,w=s.decompile(t);a.classifyInput(w,!0)===l.P2SH&&(_=!0,c=w[w.length-1],p=a.classifyOutput(c),r=a.scriptHash.output.encode(o.hash160(c)),n=l.P2SH,u=c);var S=a.classifyWitness(e,!0);if(S===l.P2WSH){if(f=e[e.length-1],h=a.classifyOutput(f),g=!0,m=!0,0===t.length){if(r=a.witnessScriptHash.output.encode(o.sha256(f)),n=l.P2WSH,void 0!==c)throw new Error(\"Redeem script given when unnecessary\")}else{if(!c)throw new Error(\"No redeemScript provided for P2WSH, but scriptSig non-empty\");if(d=a.witnessScriptHash.output.encode(o.sha256(f)),!c.equals(d))throw new Error(\"Redeem script didn't match witnessScript\")}if(!b(a.classifyOutput(f)))throw new Error(\"unsupported witness script\");u=f,i=h,y=e.slice(0,-1)}else if(S===l.P2WPKH){m=!0;var k=e[e.length-1],E=o.hash160(k);if(0===t.length){if(r=a.witnessPubKeyHash.output.encode(E),n=l.P2WPKH,void 0!==c)throw new Error(\"Redeem script given when unnecessary\")}else{if(!c)throw new Error(\"No redeemScript provided for P2WPKH, but scriptSig wasn't empty\");if(d=a.witnessPubKeyHash.output.encode(E),!c.equals(d))throw new Error(\"Redeem script did not have the right witness program\")}i=l.P2PKH,y=e}else if(c){if(!v(p))throw new Error(\"Bad redeemscript!\");u=c,i=p,y=w.slice(0,-1)}else n=i=a.classifyInput(t),y=w;var A=function(t,e,r){var n=[],i=[];switch(t){case l.P2PKH:n=e.slice(1),i=e.slice(0,1);break;case l.P2PK:n[0]=r?a.pubKey.output.decode(r):void 0,i=e.slice(0,1);break;case l.MULTISIG:r&&(n=a.multisig.output.decode(r).pubKeys),i=e.slice(1).map(function(t){return 0===t.length?void 0:t})}return{pubKeys:n,signatures:i}}(i,y,u),x={pubKeys:A.pubKeys,signatures:A.signatures,prevOutScript:r,prevOutType:n,signType:i,signScript:u,witness:Boolean(m)};return _&&(x.redeemScript=c,x.redeemScriptType=p),g&&(x.witnessScript=f,x.witnessScriptType=h),x}function w(t,e,r){f(h.Buffer,t);var n=s.decompile(t);e||(e=a.classifyOutput(t));var i=[];switch(e){case l.P2PKH:if(!r)break;var u=n[2],c=o.hash160(r);u.equals(c)&&(i=[r]);break;case l.P2WPKH:if(!r)break;var p=n[1],d=o.hash160(r);p.equals(d)&&(i=[r]);break;case l.P2PK:i=n.slice(0,1);break;case l.MULTISIG:i=n.slice(1,-2);break;default:return{scriptType:e}}return{pubKeys:i,scriptType:e,signatures:i.map(function(){})}}function S(t,e){if(t.prevOutType){if(t.prevOutType!==l.P2SH)throw new Error(\"PrevOutScript must be P2SH\");if(!s.decompile(t.prevOutScript)[1].equals(e))throw new Error(\"Inconsistent hash160(RedeemScript)\")}}function k(t,e,r,n,i){var u,c,f,h,p,d,y,m,g,b=!1,v=!1,_=!1;if(r&&i){if(p=o.hash160(r),y=o.sha256(i),S(t,p),!r.equals(a.witnessScriptHash.output.encode(y)))throw new Error(\"Witness script inconsistent with redeem script\");if(!(u=w(i,void 0,e)).pubKeys)throw new Error('WitnessScript not supported \"'+s.toASM(r)+'\"');c=a.types.P2SH,f=a.scriptHash.output.encode(p),b=v=_=!0,h=a.types.P2WSH,m=d=u.scriptType,g=i}else if(r){if(S(t,p=o.hash160(r)),!(u=w(r,void 0,e)).pubKeys)throw new Error('RedeemScript not supported \"'+s.toASM(r)+'\"');c=a.types.P2SH,f=a.scriptHash.output.encode(p),b=!0,g=r,v=(m=h=u.scriptType)===a.types.P2WPKH}else if(i){if(function(t,e){if(t.prevOutType){if(t.prevOutType!==l.P2WSH)throw new Error(\"PrevOutScript must be P2WSH\");if(!s.decompile(t.prevOutScript)[1].equals(e))throw new Error(\"Inconsistent sha25(WitnessScript)\")}}(t,y=o.sha256(i)),!(u=w(i,void 0,e)).pubKeys)throw new Error('WitnessScript not supported \"'+s.toASM(r)+'\"');c=a.types.P2WSH,f=a.witnessScriptHash.output.encode(y),v=_=!0,m=d=u.scriptType,g=i}else if(t.prevOutType){if(t.prevOutType===l.P2SH||t.prevOutType===l.P2WSH)throw new Error(\"PrevOutScript is \"+t.prevOutType+\", requires redeemScript\");if(c=t.prevOutType,f=t.prevOutScript,!(u=w(t.prevOutScript,t.prevOutType,e)).pubKeys)return;v=t.prevOutType===l.P2WPKH,m=c,g=f}else u=w(f=a.pubKeyHash.output.encode(o.hash160(e)),l.P2PKH,e),v=!1,m=c=l.P2PKH,g=f;m===l.P2WPKH&&(g=a.pubKeyHash.output.encode(a.witnessPubKeyHash.output.decode(g))),b&&(t.redeemScript=r,t.redeemScriptType=h),_&&(t.witnessScript=i,t.witnessScriptType=d),t.pubKeys=u.pubKeys,t.signatures=u.signatures,t.signScript=g,t.signType=m,t.prevOutScript=f,t.prevOutType=c,t.witness=v}function E(t,e,r,i){if(t===l.P2PKH){if(1===e.length&&n.isBuffer(e[0])&&1===r.length)return a.pubKeyHash.input.encodeStack(e[0],r[0])}else if(t===l.P2PK){if(1===e.length&&n.isBuffer(e[0]))return a.pubKey.input.encodeStack(e[0])}else{if(t!==l.MULTISIG)throw new Error(\"Not yet supported\");if(e.length>0)return e=e.map(function(t){return t||c.OP_0}),i||(e=e.filter(function(t){return t!==c.OP_0})),a.multisig.input.encodeStack(e)}if(!i)throw new Error(\"Not enough signatures provided\");return[]}function A(t,e){this.prevTxMap={},this.network=t||u.bitcoin,this.maximumFeeRate=e||2500,this.inputs=[],this.tx=new g}function x(t){return void 0!==t.prevOutScript&&void 0!==t.signScript&&void 0!==t.pubKeys&&void 0!==t.signatures&&t.signatures.length===t.pubKeys.length&&t.pubKeys.length>0&&(!1===t.witness||!0===t.witness&&void 0!==t.value)}function T(t){return t.readUInt8(t.length-1)}A.prototype.setLockTime=function(t){if(f(h.UInt32,t),this.inputs.some(function(t){return!!t.signatures&&t.signatures.some(function(t){return t})}))throw new Error(\"No, this would invalidate signatures\");this.tx.locktime=t},A.prototype.setVersion=function(t){f(h.UInt32,t),this.tx.version=t},A.fromTransaction=function(t,e){var r=new A(e);return r.setVersion(t.version),r.setLockTime(t.locktime),t.outs.forEach(function(t){r.addOutput(t.script,t.value)}),t.ins.forEach(function(t){r.__addInputUnsafe(t.hash,t.index,{sequence:t.sequence,script:t.script,witness:t.witness})}),r.inputs.forEach(function(e,r){!function(t,e,r){if(t.redeemScriptType===l.MULTISIG&&t.redeemScript&&t.pubKeys.length!==t.signatures.length){var n=t.signatures.concat();t.signatures=t.pubKeys.map(function(i){var o,s=y.fromPublicKeyBuffer(i);return n.some(function(i,a){if(!i)return!1;var u=m.parseScriptSignature(i),c=e.hashForSignature(r,t.redeemScript,u.hashType);return!!s.verify(c,u.signature)&&(n[a]=void 0,o=i,!0)}),o})}}(e,t,r)}),r},A.prototype.addInput=function(t,e,r,i){if(!this.__canModifyInputs())throw new Error(\"No, this would invalidate signatures\");var o;if(\"string\"==typeof t)t=n.from(t,\"hex\").reverse();else if(t instanceof g){var s=t.outs[e];i=s.script,o=s.value,t=t.getHash()}return this.__addInputUnsafe(t,e,{sequence:r,prevOutScript:i,value:o})},A.prototype.__addInputUnsafe=function(t,e,r){if(g.isCoinbaseHash(t))throw new Error(\"coinbase inputs not supported\");var n=t.toString(\"hex\")+\":\"+e;if(void 0!==this.prevTxMap[n])throw new Error(\"Duplicate TxOut: \"+n);var i={};if(void 0!==r.script&&(i=_(r.script,r.witness||[])),void 0!==r.value&&(i.value=r.value),!i.prevOutScript&&r.prevOutScript){var o;if(!i.pubKeys&&!i.signatures){var s=w(r.prevOutScript);s.pubKeys&&(i.pubKeys=s.pubKeys,i.signatures=s.signatures),o=s.scriptType}i.prevOutScript=r.prevOutScript,i.prevOutType=o||a.classifyOutput(r.prevOutScript)}var u=this.tx.addInput(t,e,r.sequence,r.scriptSig);return this.inputs[u]=i,this.prevTxMap[n]=u,u},A.prototype.addOutput=function(t,e){if(!this.__canModifyOutputs())throw new Error(\"No, this would invalidate signatures\");return\"string\"==typeof t&&(t=i.toOutputScript(t,this.network)),this.tx.addOutput(t,e)},A.prototype.build=function(){return this.__build(!1)},A.prototype.buildIncomplete=function(){return this.__build(!0)},A.prototype.__build=function(t){if(!t){if(!this.tx.ins.length)throw new Error(\"Transaction has no inputs\");if(!this.tx.outs.length)throw new Error(\"Transaction has no outputs\")}var e=this.tx.clone();if(this.inputs.forEach(function(r,n){if(!(r.witnessScriptType||r.redeemScriptType||r.prevOutType)&&!t)throw new Error(\"Transaction is not complete\");var i=function(t,e){var r=t.prevOutType,n=[],i=[];b(r)&&(n=E(r,t.signatures,t.pubKeys,e));var o=!1;if(r===a.types.P2SH){if(!e&&!v(t.redeemScriptType))throw new Error(\"Impossible to sign this type\");b(t.redeemScriptType)&&(n=E(t.redeemScriptType,t.signatures,t.pubKeys,e)),t.redeemScriptType&&(o=!0,r=t.redeemScriptType)}switch(r){case a.types.P2WPKH:i=E(a.types.P2PKH,t.signatures,t.pubKeys,e);break;case a.types.P2WSH:if(!e&&!b(t.witnessScriptType))throw new Error(\"Impossible to sign this type\");b(t.witnessScriptType)&&((i=E(t.witnessScriptType,t.signatures,t.pubKeys,e)).push(t.witnessScript),r=t.witnessScriptType)}return o&&n.push(t.redeemScript),{type:r,script:s.compile(n),witness:i}}(r,t);if(!t&&!b(i.type)&&i.type!==a.types.P2WPKH)throw new Error(i.type+\" not supported\");e.setInputScript(n,i.script),e.setWitness(n,i.witness)}),!t&&this.__overMaximumFees(e.virtualSize()))throw new Error(\"Transaction has absurd fees\");return e},A.prototype.sign=function(t,e,r,i,o,s){if(e.network&&e.network!==this.network)throw new TypeError(\"Inconsistent network\");if(!this.inputs[t])throw new Error(\"No input at index: \"+t);i=i||g.SIGHASH_ALL;var a=this.inputs[t];if(void 0!==a.redeemScript&&r&&!a.redeemScript.equals(r))throw new Error(\"Inconsistent redeemScript\");var u,c=e.publicKey||e.getPublicKeyBuffer();if(!x(a)){if(void 0!==o){if(void 0!==a.value&&a.value!==o)throw new Error(\"Input didn't match witnessValue\");f(h.Satoshi,o),a.value=o}if(x(a)||k(a,c,r,0,s),!x(a))throw Error(a.prevOutType+\" not supported\")}if(u=a.witness?this.tx.hashForWitnessV0(t,a.signScript,a.value,i):this.tx.hashForSignature(t,a.signScript,i),!a.pubKeys.some(function(t,r){if(!c.equals(t))return!1;if(a.signatures[r])throw new Error(\"Signature already exists\");if(33!==c.length&&a.signType===l.P2WPKH)throw new Error(\"BIP143 rejects uncompressed public keys in P2WPKH or P2WSH\");var o=e.sign(u);return n.isBuffer(o)&&(o=m.fromRSBuffer(o)),a.signatures[r]=o.toScriptSignature(i),!0}))throw new Error(\"Key pair cannot sign for this input\")},A.prototype.__canModifyInputs=function(){return this.inputs.every(function(t){return void 0===t.signatures||t.signatures.every(function(t){return!t||T(t)&g.SIGHASH_ANYONECANPAY})})},A.prototype.__canModifyOutputs=function(){var t=this.tx.ins.length,e=this.tx.outs.length;return this.inputs.every(function(r){return void 0===r.signatures||r.signatures.every(function(r){if(!r)return!0;var n=31&T(r);return n===g.SIGHASH_NONE||(n===g.SIGHASH_SINGLE?t<=e:void 0)})})},A.prototype.__overMaximumFees=function(t){return(this.inputs.reduce(function(t,e){return t+(e.value>>>0)},0)-this.tx.outs.reduce(function(t,e){return t+e.value},0))/t>this.maximumFeeRate},t.exports=A},function(t,e,r){const n=r(205),i=r(146),o=r(3).Buffer;var s=t.exports=function(t){var e=[{name:\"nonce\",default:o.alloc(0)},{name:\"balance\",default:o.alloc(0)},{name:\"stateRoot\",length:32,default:n.SHA3_RLP},{name:\"codeHash\",length:32,default:n.SHA3_NULL}];n.defineProperties(this,e,t)};s.prototype.serialize=function(){return i.encode(this.raw)},s.prototype.isContract=function(){return this.codeHash.toString(\"hex\")!==n.SHA3_NULL_S},s.prototype.getCode=function(t,e){this.isContract()?t.getRaw(this.codeHash,e):e(null,o.alloc(0))},s.prototype.setCode=function(t,e,r){var i=this;this.codeHash=n.sha3(e),this.codeHash.toString(\"hex\")!==n.SHA3_NULL_S?t.putRaw(this.codeHash,e,function(t){r(t,i.codeHash)}):r(null,o.alloc(0))},s.prototype.getStorage=function(t,e,r){var n=t.copy();n.root=this.stateRoot,n.get(e,r)},s.prototype.setStorage=function(t,e,r,n){var i=this,o=t.copy();o.root=i.stateRoot,o.put(e,r,function(t){if(t)return n();i.stateRoot=o.root,n()})},s.prototype.isEmpty=function(){return\"\"===this.balance.toString(\"hex\")&&\"\"===this.nonce.toString(\"hex\")&&this.stateRoot.toString(\"hex\")===n.SHA3_RLP_S&&this.codeHash.toString(\"hex\")===n.SHA3_NULL_S}},function(t,e,r){\"use strict\";t.exports=r(1044)(r(1047))},function(t,e,r){\"use strict\";var n=r(1045),i=r(1046);t.exports=function(t){var e=n(t),r=i(t);return function(t,n){switch(\"string\"==typeof t?t.toLowerCase():t){case\"keccak224\":return new e(1152,448,null,224,n);case\"keccak256\":return new e(1088,512,null,256,n);case\"keccak384\":return new e(832,768,null,384,n);case\"keccak512\":return new e(576,1024,null,512,n);case\"sha3-224\":return new e(1152,448,6,224,n);case\"sha3-256\":return new e(1088,512,6,256,n);case\"sha3-384\":return new e(832,768,6,384,n);case\"sha3-512\":return new e(576,1024,6,512,n);case\"shake128\":return new r(1344,256,31,n);case\"shake256\":return new r(1088,512,31,n);default:throw new Error(\"Invald algorithm: \"+t)}}}},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(86).Transform,o=r(1);t.exports=function(t){function e(e,r,n,o,s){i.call(this,s),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return o(e,i),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},e.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},e.prototype.update=function(t,e){if(!n.isBuffer(t)&&\"string\"!=typeof t)throw new TypeError(\"Data must be a string or a buffer\");if(this._finalized)throw new Error(\"Digest already called\");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this},e.prototype.digest=function(t){if(this._finalized)throw new Error(\"Digest already called\");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(86).Transform,o=r(1);t.exports=function(t){function e(e,r,n,o){i.call(this,o),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._options=o,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return o(e,i),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},e.prototype._flush=function(){},e.prototype._read=function(t){this.push(this.squeeze(t))},e.prototype.update=function(t,e){if(!n.isBuffer(t)&&\"string\"!=typeof t)throw new TypeError(\"Data must be a string or a buffer\");if(this._finalized)throw new Error(\"Squeeze already called\");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this},e.prototype.squeeze=function(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(1048);function o(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}o.prototype.initialize=function(t,e){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},o.prototype.absorb=function(t){for(var e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},o.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!=(128&t)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},o.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);for(var e=n.alloc(t),r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return e},o.prototype.copy=function(t){for(var e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},t.exports=o},function(t,e,r){\"use strict\";var n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];e.p1600=function(t){for(var e=0;e<24;++e){var r=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],l=t[9]^t[19]^t[29]^t[39]^t[49],p=h^(o<<1|s>>>31),d=l^(s<<1|o>>>31),y=t[0]^p,m=t[1]^d,g=t[10]^p,b=t[11]^d,v=t[20]^p,_=t[21]^d,w=t[30]^p,S=t[31]^d,k=t[40]^p,E=t[41]^d;p=r^(a<<1|u>>>31),d=i^(u<<1|a>>>31);var A=t[2]^p,x=t[3]^d,T=t[12]^p,B=t[13]^d,I=t[22]^p,C=t[23]^d,M=t[32]^p,P=t[33]^d,O=t[42]^p,R=t[43]^d;p=o^(c<<1|f>>>31),d=s^(f<<1|c>>>31);var j=t[4]^p,N=t[5]^d,L=t[14]^p,K=t[15]^d,D=t[24]^p,U=t[25]^d,F=t[34]^p,q=t[35]^d,H=t[44]^p,z=t[45]^d;p=a^(h<<1|l>>>31),d=u^(l<<1|h>>>31);var V=t[6]^p,G=t[7]^d,W=t[16]^p,$=t[17]^d,Y=t[26]^p,J=t[27]^d,Z=t[36]^p,X=t[37]^d,Q=t[46]^p,tt=t[47]^d;p=c^(r<<1|i>>>31),d=f^(i<<1|r>>>31);var et=t[8]^p,rt=t[9]^d,nt=t[18]^p,it=t[19]^d,ot=t[28]^p,st=t[29]^d,at=t[38]^p,ut=t[39]^d,ct=t[48]^p,ft=t[49]^d,ht=y,lt=m,pt=b<<4|g>>>28,dt=g<<4|b>>>28,yt=v<<3|_>>>29,mt=_<<3|v>>>29,gt=S<<9|w>>>23,bt=w<<9|S>>>23,vt=k<<18|E>>>14,_t=E<<18|k>>>14,wt=A<<1|x>>>31,St=x<<1|A>>>31,kt=B<<12|T>>>20,Et=T<<12|B>>>20,At=I<<10|C>>>22,xt=C<<10|I>>>22,Tt=P<<13|M>>>19,Bt=M<<13|P>>>19,It=O<<2|R>>>30,Ct=R<<2|O>>>30,Mt=N<<30|j>>>2,Pt=j<<30|N>>>2,Ot=L<<6|K>>>26,Rt=K<<6|L>>>26,jt=U<<11|D>>>21,Nt=D<<11|U>>>21,Lt=F<<15|q>>>17,Kt=q<<15|F>>>17,Dt=z<<29|H>>>3,Ut=H<<29|z>>>3,Ft=V<<28|G>>>4,qt=G<<28|V>>>4,Ht=$<<23|W>>>9,zt=W<<23|$>>>9,Vt=Y<<25|J>>>7,Gt=J<<25|Y>>>7,Wt=Z<<21|X>>>11,$t=X<<21|Z>>>11,Yt=tt<<24|Q>>>8,Jt=Q<<24|tt>>>8,Zt=et<<27|rt>>>5,Xt=rt<<27|et>>>5,Qt=nt<<20|it>>>12,te=it<<20|nt>>>12,ee=st<<7|ot>>>25,re=ot<<7|st>>>25,ne=at<<8|ut>>>24,ie=ut<<8|at>>>24,oe=ct<<14|ft>>>18,se=ft<<14|ct>>>18;t[0]=ht^~kt&jt,t[1]=lt^~Et&Nt,t[10]=Ft^~Qt&yt,t[11]=qt^~te&mt,t[20]=wt^~Ot&Vt,t[21]=St^~Rt&Gt,t[30]=Zt^~pt&At,t[31]=Xt^~dt&xt,t[40]=Mt^~Ht&ee,t[41]=Pt^~zt&re,t[2]=kt^~jt&Wt,t[3]=Et^~Nt&$t,t[12]=Qt^~yt&Tt,t[13]=te^~mt&Bt,t[22]=Ot^~Vt&ne,t[23]=Rt^~Gt&ie,t[32]=pt^~At&Lt,t[33]=dt^~xt&Kt,t[42]=Ht^~ee&gt,t[43]=zt^~re&bt,t[4]=jt^~Wt&oe,t[5]=Nt^~$t&se,t[14]=yt^~Tt&Dt,t[15]=mt^~Bt&Ut,t[24]=Vt^~ne&vt,t[25]=Gt^~ie&_t,t[34]=At^~Lt&Yt,t[35]=xt^~Kt&Jt,t[44]=ee^~gt&It,t[45]=re^~bt&Ct,t[6]=Wt^~oe&ht,t[7]=$t^~se&lt,t[16]=Tt^~Dt&Ft,t[17]=Bt^~Ut&qt,t[26]=ne^~vt&wt,t[27]=ie^~_t&St,t[36]=Lt^~Yt&Zt,t[37]=Kt^~Jt&Xt,t[46]=gt^~It&Mt,t[47]=bt^~Ct&Pt,t[8]=oe^~ht&kt,t[9]=se^~lt&Et,t[18]=Dt^~Ft&Qt,t[19]=Ut^~qt&te,t[28]=vt^~wt&Ot,t[29]=_t^~St&Rt,t[38]=Yt^~Zt&pt,t[39]=Jt^~Xt&dt,t[48]=It^~Mt&Ht,t[49]=Ct^~Pt&zt,t[0]^=n[2*e],t[1]^=n[2*e+1]}}},function(t,e,r){\"use strict\";t.exports=r(485)(r(1052))},function(t,e,r){\"use strict\";(function(t){var r=Object.prototype.toString;e.isArray=function(t,e){if(!Array.isArray(t))throw TypeError(e)},e.isBoolean=function(t,e){if(\"[object Boolean]\"!==r.call(t))throw TypeError(e)},e.isBuffer=function(e,r){if(!t.isBuffer(e))throw TypeError(r)},e.isFunction=function(t,e){if(\"[object Function]\"!==r.call(t))throw TypeError(e)},e.isNumber=function(t,e){if(\"[object Number]\"!==r.call(t))throw TypeError(e)},e.isObject=function(t,e){if(\"[object Object]\"!==r.call(t))throw TypeError(e)},e.isBufferLength=function(t,e,r){if(t.length!==e)throw RangeError(r)},e.isBufferLength2=function(t,e,r,n){if(t.length!==e&&t.length!==r)throw RangeError(n)},e.isLengthGTZero=function(t,e){if(0===t.length)throw RangeError(e)},e.isNumberInInterval=function(t,e,r,n){if(t<=e||t>=r)throw RangeError(n)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(264),o=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e.privateKeyExport=function(t,e,r){var i=n.from(r?o:s);return t.copy(i,r?8:9),e.copy(i,r?181:214),i},e.privateKeyImport=function(t){var e=t.length,r=0;if(!(e<r+1||48!==t[r])&&!(e<(r+=1)+1)&&128&t[r]){var n=127&t[r];if(r+=1,!(n<1||n>2||e<r+n)){var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);if(!(e<(r+=n)+i||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]))return t.slice(r+2,r+2+t[r+1])}}},e.signatureExport=function(t){for(var e=n.concat([n.from([0]),t.r]),r=33,o=0;r>1&&0===e[o]&&!(128&e[o+1]);--r,++o);for(var s=n.concat([n.from([0]),t.s]),a=33,u=0;a>1&&0===s[u]&&!(128&s[u+1]);--a,++u);return i.encode(e.slice(o),s.slice(u))},e.signatureImport=function(t){var e=n.alloc(32,0),r=n.alloc(32,0);try{var o=i.decode(t);if(33===o.r.length&&0===o.r[0]&&(o.r=o.r.slice(1)),o.r.length>32)throw new Error(\"R length is too long\");if(33===o.s.length&&0===o.s[0]&&(o.s=o.s.slice(1)),o.s.length>32)throw new Error(\"S length is too long\")}catch(t){return}return o.r.copy(e,32-o.r.length),o.s.copy(r,32-o.s.length),{r:e,s:r}},e.signatureImportLax=function(t){var e=n.alloc(32,0),r=n.alloc(32,0),i=t.length,o=0;if(48===t[o++]){var s=t[o++];if(!(128&s&&(o+=s-128)>i)&&2===t[o++]){var a=t[o++];if(128&a){if(o+(s=a-128)>i)return;for(;s>0&&0===t[o];o+=1,s-=1);for(a=0;s>0;o+=1,s-=1)a=(a<<8)+t[o]}if(!(a>i-o)){var u=o;if(o+=a,2===t[o++]){var c=t[o++];if(128&c){if(o+(s=c-128)>i)return;for(;s>0&&0===t[o];o+=1,s-=1);for(c=0;s>0;o+=1,s-=1)c=(c<<8)+t[o]}if(!(c>i-o)){var f=o;for(o+=c;a>0&&0===t[u];a-=1,u+=1);if(!(a>32)){var h=t.slice(u,u+a);for(h.copy(e,32-h.length);c>0&&0===t[f];c-=1,f+=1);if(!(c>32)){var l=t.slice(f,f+c);return l.copy(r,32-l.length),{r:e,s:r}}}}}}}}}},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(74),o=r(16),s=r(34).ec,a=r(277),u=new s(\"secp256k1\"),c=u.curve;function f(t){var e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:function(t,e){var r=new o(e);if(r.cmp(c.p)>=0)return null;var n=(r=r.toRed(c.red)).redSqr().redIMul(r).redIAdd(c.b).redSqrt();return 3===t!==n.isOdd()&&(n=n.redNeg()),u.keyPair({pub:{x:r,y:n}})}(e,t.slice(1,33));case 4:case 6:case 7:return 65!==t.length?null:function(t,e,r){var n=new o(e),i=new o(r);if(n.cmp(c.p)>=0||i.cmp(c.p)>=0)return null;if(n=n.toRed(c.red),i=i.toRed(c.red),(6===t||7===t)&&i.isOdd()!==(7===t))return null;var s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(c.b)).isZero()?u.keyPair({pub:{x:n,y:i}}):null}(e,t.slice(1,33),t.slice(33,65));default:return null}}e.privateKeyVerify=function(t){var e=new o(t);return e.cmp(c.n)<0&&!e.isZero()},e.privateKeyExport=function(t,e){var r=new o(t);if(r.cmp(c.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(u.keyFromPrivate(t).getPublic(e,!0))},e.privateKeyNegate=function(t){var e=new o(t);return e.isZero()?n.alloc(32):c.n.sub(e).umod(c.n).toArrayLike(n,\"be\",32)},e.privateKeyModInverse=function(t){var e=new o(t);if(e.cmp(c.n)>=0||e.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return e.invm(c.n).toArrayLike(n,\"be\",32)},e.privateKeyTweakAdd=function(t,e){var r=new o(e);if(r.cmp(c.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new o(t)),r.cmp(c.n)>=0&&r.isub(c.n),r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,\"be\",32)},e.privateKeyTweakMul=function(t,e){var r=new o(e);if(r.cmp(c.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new o(t)),r.cmp(c.n)&&(r=r.umod(c.n)),r.toArrayLike(n,\"be\",32)},e.publicKeyCreate=function(t,e){var r=new o(t);if(r.cmp(c.n)>=0||r.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(u.keyFromPrivate(t).getPublic(e,!0))},e.publicKeyConvert=function(t,e){var r=f(t);if(null===r)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(e,!0))},e.publicKeyVerify=function(t){return null!==f(t)},e.publicKeyTweakAdd=function(t,e,r){var i=f(t);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new o(e)).cmp(c.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(c.g.mul(e).add(i.pub).encode(!0,r))},e.publicKeyTweakMul=function(t,e,r){var i=f(t);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new o(e)).cmp(c.n)>=0||e.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(e).encode(!0,r))},e.publicKeyCombine=function(t,e){for(var r=new Array(t.length),i=0;i<t.length;++i)if(r[i]=f(t[i]),null===r[i])throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var o=r[0].pub,s=1;s<r.length;++s)o=o.add(r[s].pub);if(o.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(o.encode(!0,e))},e.signatureNormalize=function(t){var e=new o(t.slice(0,32)),r=new o(t.slice(32,64));if(e.cmp(c.n)>=0||r.cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(t);return 1===r.cmp(u.nh)&&c.n.sub(r).toArrayLike(n,\"be\",32).copy(i,32),i},e.signatureExport=function(t){var e=t.slice(0,32),r=t.slice(32,64);if(new o(e).cmp(c.n)>=0||new o(r).cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:e,s:r}},e.signatureImport=function(t){var e=new o(t.r);e.cmp(c.n)>=0&&(e=new o(0));var r=new o(t.s);return r.cmp(c.n)>=0&&(r=new o(0)),n.concat([e.toArrayLike(n,\"be\",32),r.toArrayLike(n,\"be\",32)])},e.sign=function(t,e,r,i){if(\"function\"==typeof r){var s=r;r=function(r){var u=s(t,e,null,i,r);if(!n.isBuffer(u)||32!==u.length)throw new Error(a.ECDSA_SIGN_FAIL);return new o(u)}}var f=new o(e);if(f.cmp(c.n)>=0||f.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var h=u.sign(t,e,{canonical:!0,k:r,pers:i});return{signature:n.concat([h.r.toArrayLike(n,\"be\",32),h.s.toArrayLike(n,\"be\",32)]),recovery:h.recoveryParam}},e.verify=function(t,e,r){var n={r:e.slice(0,32),s:e.slice(32,64)},i=new o(n.r),s=new o(n.s);if(i.cmp(c.n)>=0||s.cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(1===s.cmp(u.nh)||i.isZero()||s.isZero())return!1;var h=f(r);if(null===h)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return u.verify(t,n,{x:h.pub.x,y:h.pub.y})},e.recover=function(t,e,r,i){var s={r:e.slice(0,32),s:e.slice(32,64)},f=new o(s.r),h=new o(s.s);if(f.cmp(c.n)>=0||h.cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(f.isZero()||h.isZero())throw new Error;var l=u.recoverPubKey(t,s,r);return n.from(l.encode(!0,i))}catch(t){throw new Error(a.ECDSA_RECOVER_FAIL)}},e.ecdh=function(t,r){var n=e.ecdhUnsafe(t,r,!0);return i(\"sha256\").update(n).digest()},e.ecdhUnsafe=function(t,e,r){var i=f(t);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var s=new o(e);if(s.cmp(c.n)>=0||s.isZero())throw new Error(a.ECDH_FAIL);return n.from(i.pub.mul(s).encode(!0,r))}},function(t,e,r){\"use strict\";(function(e){var n=r(361),i=r(360);function o(t){var e=t;if(\"string\"!=typeof e)throw new Error(\"[ethjs-util] while padding to even, value must be string, is currently \"+typeof e+\", while padToEven.\");return e.length%2&&(e=\"0\"+e),e}function s(t){return\"0x\"+t.toString(16)}t.exports={arrayContainsArray:function(t,e,r){if(!0!==Array.isArray(t))throw new Error(\"[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '\"+typeof t+\"'\");if(!0!==Array.isArray(e))throw new Error(\"[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '\"+typeof e+\"'\");return e[Boolean(r)?\"some\":\"every\"](function(e){return t.indexOf(e)>=0})},intToBuffer:function(t){var r=s(t);return new e(o(r.slice(2)),\"hex\")},getBinarySize:function(t){if(\"string\"!=typeof t)throw new Error(\"[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '\"+typeof t+\"'.\");return e.byteLength(t,\"utf8\")},isHexPrefixed:n,stripHexPrefix:i,padToEven:o,intToHex:s,fromAscii:function(t){for(var e=\"\",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?\"0\"+n:n}return\"0x\"+e},fromUtf8:function(t){return\"0x\"+o(new e(t,\"utf8\").toString(\"hex\")).replace(/^0+|0+$/g,\"\")},toAscii:function(t){var e=\"\",r=0,n=t.length;for(\"0x\"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},toUtf8:function(t){return new e(o(i(t).replace(/^0+|0+$/g,\"\")),\"hex\").toString(\"utf8\")},getKeys:function(t,e,r){if(!Array.isArray(t))throw new Error(\"[ethjs-util] method getKeys expecting type Array as 'params' input, got '\"+typeof t+\"'\");if(\"string\"!=typeof e)throw new Error(\"[ethjs-util] method getKeys expecting type String for input 'key' got '\"+typeof e+\"'.\");for(var n=[],i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o=\"\";else if(\"string\"!=typeof o)throw new Error(\"invalid abi\");n.push(o)}return n},isHexString:function(t,e){return!(\"string\"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){t.exports=new e(\"c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470\",\"hex\")}).call(this,r(0).Buffer)},function(t){t.exports={genesisGasLimit:{v:5e3,d:\"Gas limit of the Genesis block.\"},genesisDifficulty:{v:17179869184,d:\"Difficulty of the Genesis block.\"},genesisNonce:{v:\"0x0000000000000042\",d:\"the geneis nonce\"},genesisExtraData:{v:\"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa\",d:\"extra data \"},genesisHash:{v:\"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\",d:\"genesis hash\"},genesisStateRoot:{v:\"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544\",d:\"the genesis state root\"},minGasLimit:{v:5e3,d:\"Minimum the gas limit may ever be.\"},gasLimitBoundDivisor:{v:1024,d:\"The bound divisor of the gas limit, used in update calculations.\"},minimumDifficulty:{v:131072,d:\"The minimum that the difficulty may ever be.\"},difficultyBoundDivisor:{v:2048,d:\"The bound divisor of the difficulty, used in the update calculations.\"},durationLimit:{v:13,d:\"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not.\"},maximumExtraDataSize:{v:32,d:\"Maximum size extra data may be after Genesis.\"},epochDuration:{v:3e4,d:\"Duration between proof-of-work epochs.\"},stackLimit:{v:1024,d:\"Maximum size of VM stack allowed.\"},callCreateDepth:{v:1024,d:\"Maximum depth of call/create stack.\"},tierStepGas:{v:[0,2,3,5,8,10,20],d:\"Once per operation, for a selection of them.\"},expGas:{v:10,d:\"Once per EXP instuction.\"},expByteGas:{v:50,d:\"Times ceil(log256(exponent)) for the EXP instruction.\"},sha3Gas:{v:30,d:\"Once per SHA3 operation.\"},sha3WordGas:{v:6,d:\"Once per word of the SHA3 operation's data.\"},sloadGas:{v:50,d:\"Once per SLOAD operation.\"},sstoreSetGas:{v:2e4,d:\"Once per SSTORE operation if the zeroness changes from zero.\"},sstoreResetGas:{v:5e3,d:\"Once per SSTORE operation if the zeroness does not change from zero.\"},sstoreRefundGas:{v:15e3,d:\"Once per SSTORE operation if the zeroness changes to zero.\"},jumpdestGas:{v:1,d:\"Refunded gas, once per SSTORE operation if the zeroness changes to zero.\"},logGas:{v:375,d:\"Per LOG* operation.\"},logDataGas:{v:8,d:\"Per byte in a LOG* operation's data.\"},logTopicGas:{v:375,d:\"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas.\"},createGas:{v:32e3,d:\"Once per CREATE operation & contract-creation transaction.\"},callGas:{v:40,d:\"Once per CALL operation & message call transaction.\"},callStipend:{v:2300,d:\"Free gas given at beginning of call.\"},callValueTransferGas:{v:9e3,d:\"Paid for CALL when the value transfor is non-zero.\"},callNewAccountGas:{v:25e3,d:\"Paid for CALL when the destination address didn't exist prior.\"},suicideRefundGas:{v:24e3,d:\"Refunded following a suicide operation.\"},memoryGas:{v:3,d:\"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL.\"},quadCoeffDiv:{v:512,d:\"Divisor for the quadratic particle of the memory cost equation.\"},createDataGas:{v:200,d:\"\"},txGas:{v:21e3,d:\"Per transaction. NOTE: Not payable on data of calls between transactions.\"},txCreation:{v:32e3,d:\"the cost of creating a contract via tx\"},txDataZeroGas:{v:4,d:\"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions.\"},txDataNonZeroGas:{v:68,d:\"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions.\"},copyGas:{v:3,d:\"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added.\"},ecrecoverGas:{v:3e3,d:\"\"},sha256Gas:{v:60,d:\"\"},sha256WordGas:{v:12,d:\"\"},ripemd160Gas:{v:600,d:\"\"},ripemd160WordGas:{v:120,d:\"\"},identityGas:{v:15,d:\"\"},identityWordGas:{v:3,d:\"\"},modexpGquaddivisor:{v:20,d:\"Gquaddivisor from modexp precompile for gas calculation.\"},ecAddGas:{v:500,d:\"Gas costs for curve addition precompile.\"},ecMulGas:{v:4e4,d:\"Gas costs for curve multiplication precompile.\"},ecPairingGas:{v:1e5,d:\"Base gas costs for curve pairing precompile.\"},ecPairingWordGas:{v:8e4,d:\"Gas costs regarding curve pairing precompile input length.\"},minerReward:{v:\"3000000000000000000\",d:\"the amount a miner get rewarded for mining a block\"},homeSteadForkNumber:{v:115e4,d:\"the block that the Homestead fork started at\"},homesteadRepriceForkNumber:{v:2463e3,d:\"the block that the Homestead Reprice (EIP150) fork started at\"},timebombPeriod:{v:1e5,d:\"Exponential difficulty timebomb period\"},freeBlockPeriod:{v:2}}},function(t,e,r){\"use strict\";const n=r(4),i=r(53),o=r(187),s=r(146),a=r(490),u=r(1057),c=r(147),f=r(489).resolver,h=r(148)(\"eth-block-list\",void 0,function(t,e,r){let n=[];n.push({path:\"count\",value:t.length}),i(t,(e,r)=>{const i=t.indexOf(e),o=i.toString();n.push({path:o,value:e}),f._mapFromEthObject(e,{},(t,e)=>{if(t)return r(t);e.forEach(t=>t.path=o+\"/\"+t.path),n=n.concat(e),r()})},t=>{if(t)return r(t);r(null,n)})}),l=h.util;l.serialize=o(t=>{const e=t.map(t=>t.raw);return s.encode(e)}),l.deserialize=o(t=>{return s.decode(t).map(t=>new a(t))}),l.cid=((t,e,r)=>{\"function\"==typeof e&&(r=e,e={});const i=(e=e||{}).hashAlg||\"keccak-256\";void 0===e.version||e.version;n([e=>l.serialize(t,e),(t,e)=>u.digest(t,i,e),o(t=>c(\"eth-block-list\",t,e))],r)}),t.exports=h},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(1058);function o(t,e,r,i){if(\"function\"==typeof r&&(i=r,r=void 0),!i)throw new Error(\"Missing callback\");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if(\"function\"==typeof r&&(n=r,r=void 0),!n)throw new Error(\"Missing callback\");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error(\"multihash function \"+t+\" not yet supported\");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(491),s=r(1059),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1060),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(491).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(484),i=r(278)(\"eth-state-trie\",n);t.exports=i},function(t,e,r){(function(e){const n=r(146),i=r(205);function o(t,e,r){if(Array.isArray(t))this.parseNode(t);else if(this.type=t,\"branch\"===t){var n=e;this.raw=Array.apply(null,Array(17)),n&&n.forEach(function(t){this.set.apply(this,t)})}else this.raw=Array(2),this.setValue(r),this.setKey(e)}function s(t,e){return t.length%2?t.unshift(1):(t.unshift(0),t.unshift(0)),e&&(t[0]+=2),t}function a(t){return t=t[0]%2?t.slice(1):t.slice(2)}function u(t){return t[0]>1}function c(t){for(var r=new e(t),n=[],i=0;i<r.length;i++){var o=2*i;n[o]=r[i]>>4,n[++o]=r[i]%16}return n}function f(t){for(var r=new e(t.length/2),n=0;n<r.length;n++){var i=2*n;r[n]=(t[i]<<4)+t[++i]}return r}function h(t){return 17===t.length?\"branch\":2===t.length?u(c(t[0]))?\"leaf\":\"extention\":void 0}t.exports=o,o.isRawNode=function(t){return Array.isArray(t)&&!e.isBuffer(t)},o.addHexPrefix=s,o.removeHexPrefix=a,o.isTerminator=u,o.stringToNibbles=c,o.nibblesToBuffer=f,o.getNodeType=h,Object.defineProperty(o.prototype,\"value\",{get:function(){return this.getValue()},set:function(t){this.setValue(t)}}),Object.defineProperty(o.prototype,\"key\",{get:function(){return this.getKey()},set:function(t){this.setKey(t)}}),o.prototype.parseNode=function(t){this.raw=t,this.type=h(t)},o.prototype.setValue=function(t,e){\"branch\"!==this.type?this.raw[1]=t:(1===arguments.length&&(e=t,t=16),this.raw[t]=e)},o.prototype.getValue=function(t){if(\"branch\"!==this.type)return this.raw[1];0===arguments.length&&(t=16);var e=this.raw[t];return null!==e&&void 0!==e&&0!==e.length?e:void 0},o.prototype.setKey=function(t){\"branch\"!==this.type&&(t=s(t=e.isBuffer(t)?c(t):t.slice(0),\"leaf\"===this.type),this.raw[0]=f(t))},o.prototype.getKey=function(){if(\"branch\"!==this.type){var t=this.raw[0];return t=a(c(t))}},o.prototype.serialize=function(){return n.encode(this.raw)},o.prototype.hash=function(){return i.sha3(this.serialize())},o.prototype.toString=function(){var t=this.type;return t+=\": [\",this.raw.forEach(function(r){e.isBuffer(r)?t+=r.toString(\"hex\")+\", \":t+=r?\"object, \":\"empty, \"}),t=t.slice(0,-2),t+=\"]\"},o.prototype.getChildren=function(){var t=[];switch(this.type){case\"leaf\":break;case\"extention\":t.push([this.key,this.getValue()]);break;case\"branch\":for(var e=0;e<16;e++){var r=this.getValue(e);r&&t.push([[e],r])}}return t}}).call(this,r(0).Buffer)},function(t,e){t.exports=function(t){return Boolean(t[\"/\"])}},function(t,e,r){\"use strict\";const n=r(278)(\"eth-storage-trie\");t.exports=n},function(t,e,r){\"use strict\";(function(e){var n=r(205),i=r(1066),o=n.BN,s=new o(\"7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0\",16),a=function(){function t(r){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=r||{};var i=[{name:\"nonce\",length:32,allowLess:!0,default:new e([])},{name:\"gasPrice\",length:32,allowLess:!0,default:new e([])},{name:\"gasLimit\",alias:\"gas\",length:32,allowLess:!0,default:new e([])},{name:\"to\",allowZero:!0,length:20,default:new e([])},{name:\"value\",length:32,allowLess:!0,default:new e([])},{name:\"data\",alias:\"input\",allowZero:!0,default:new e([])},{name:\"v\",allowZero:!0,default:new e([28])},{name:\"r\",length:32,allowZero:!0,allowLess:!0,default:new e([])},{name:\"s\",length:32,allowZero:!0,allowLess:!0,default:new e([])}];n.defineProperties(this,i,r),Object.defineProperty(this,\"from\",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var o=n.bufferToInt(this.v),s=Math.floor((o-35)/2);s<0&&(s=0),this._chainId=s||r.chainId||0,this._homestead=!0}return t.prototype.toCreationAddress=function(){return\"\"===this.to.toString(\"hex\")},t.prototype.hash=function(t){void 0===t&&(t=!0);var e=void 0;if(t)e=this.raw;else if(this._chainId>0){var r=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,e=this.raw,this.raw=r}else e=this.raw.slice(0,6);return n.rlphash(e)},t.prototype.getChainId=function(){return this._chainId},t.prototype.getSenderAddress=function(){if(this._from)return this._from;var t=this.getSenderPublicKey();return this._from=n.publicToAddress(t),this._from},t.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error(\"Invalid Signature\");return this._senderPubKey},t.prototype.verifySignature=function(){var t=this.hash(!1);if(this._homestead&&1===new o(this.s).cmp(s))return!1;try{var e=n.bufferToInt(this.v);this._chainId>0&&(e-=2*this._chainId+8),this._senderPubKey=n.ecrecover(t,e,this.r,this.s)}catch(t){return!1}return!!this._senderPubKey},t.prototype.sign=function(t){var e=this.hash(!1),r=n.ecsign(e,t);this._chainId>0&&(r.v+=2*this._chainId+8),Object.assign(this,r)},t.prototype.getDataFee=function(){for(var t=this.raw[5],e=new o(0),r=0;r<t.length;r++)0===t[r]?e.iaddn(i.txDataZeroGas.v):e.iaddn(i.txDataNonZeroGas.v);return e},t.prototype.getBaseFee=function(){var t=this.getDataFee().iaddn(i.txGas.v);return this._homestead&&this.toCreationAddress()&&t.iaddn(i.txCreation.v),t},t.prototype.getUpfrontCost=function(){return new o(this.gasLimit).imul(new o(this.gasPrice)).iadd(new o(this.value))},t.prototype.validate=function(t){var e=[];return this.verifySignature()||e.push(\"Invalid Signature\"),this.getBaseFee().cmp(new o(this.gasLimit))>0&&e.push([\"gas limit is too low. Need at least \"+this.getBaseFee()]),void 0===t||!1===t?0===e.length:e.join(\" \")},t}();t.exports=a}).call(this,r(0).Buffer)},function(t){t.exports={genesisGasLimit:{v:5e3,d:\"Gas limit of the Genesis block.\"},genesisDifficulty:{v:17179869184,d:\"Difficulty of the Genesis block.\"},genesisNonce:{v:\"0x0000000000000042\",d:\"the geneis nonce\"},genesisExtraData:{v:\"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa\",d:\"extra data \"},genesisHash:{v:\"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\",d:\"genesis hash\"},genesisStateRoot:{v:\"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544\",d:\"the genesis state root\"},minGasLimit:{v:5e3,d:\"Minimum the gas limit may ever be.\"},gasLimitBoundDivisor:{v:1024,d:\"The bound divisor of the gas limit, used in update calculations.\"},minimumDifficulty:{v:131072,d:\"The minimum that the difficulty may ever be.\"},difficultyBoundDivisor:{v:2048,d:\"The bound divisor of the difficulty, used in the update calculations.\"},durationLimit:{v:13,d:\"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not.\"},maximumExtraDataSize:{v:32,d:\"Maximum size extra data may be after Genesis.\"},epochDuration:{v:3e4,d:\"Duration between proof-of-work epochs.\"},stackLimit:{v:1024,d:\"Maximum size of VM stack allowed.\"},callCreateDepth:{v:1024,d:\"Maximum depth of call/create stack.\"},tierStepGas:{v:[0,2,3,5,8,10,20],d:\"Once per operation, for a selection of them.\"},expGas:{v:10,d:\"Once per EXP instuction.\"},expByteGas:{v:10,d:\"Times ceil(log256(exponent)) for the EXP instruction.\"},sha3Gas:{v:30,d:\"Once per SHA3 operation.\"},sha3WordGas:{v:6,d:\"Once per word of the SHA3 operation's data.\"},sloadGas:{v:50,d:\"Once per SLOAD operation.\"},sstoreSetGas:{v:2e4,d:\"Once per SSTORE operation if the zeroness changes from zero.\"},sstoreResetGas:{v:5e3,d:\"Once per SSTORE operation if the zeroness does not change from zero.\"},sstoreRefundGas:{v:15e3,d:\"Once per SSTORE operation if the zeroness changes to zero.\"},jumpdestGas:{v:1,d:\"Refunded gas, once per SSTORE operation if the zeroness changes to zero.\"},logGas:{v:375,d:\"Per LOG* operation.\"},logDataGas:{v:8,d:\"Per byte in a LOG* operation's data.\"},logTopicGas:{v:375,d:\"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas.\"},createGas:{v:32e3,d:\"Once per CREATE operation & contract-creation transaction.\"},callGas:{v:40,d:\"Once per CALL operation & message call transaction.\"},callStipend:{v:2300,d:\"Free gas given at beginning of call.\"},callValueTransferGas:{v:9e3,d:\"Paid for CALL when the value transfor is non-zero.\"},callNewAccountGas:{v:25e3,d:\"Paid for CALL when the destination address didn't exist prior.\"},suicideRefundGas:{v:24e3,d:\"Refunded following a suicide operation.\"},memoryGas:{v:3,d:\"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL.\"},quadCoeffDiv:{v:512,d:\"Divisor for the quadratic particle of the memory cost equation.\"},createDataGas:{v:200,d:\"\"},txGas:{v:21e3,d:\"Per transaction. NOTE: Not payable on data of calls between transactions.\"},txCreation:{v:32e3,d:\"the cost of creating a contract via tx\"},txDataZeroGas:{v:4,d:\"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions.\"},txDataNonZeroGas:{v:68,d:\"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions.\"},copyGas:{v:3,d:\"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added.\"},ecrecoverGas:{v:3e3,d:\"\"},sha256Gas:{v:60,d:\"\"},sha256WordGas:{v:12,d:\"\"},ripemd160Gas:{v:600,d:\"\"},ripemd160WordGas:{v:120,d:\"\"},identityGas:{v:15,d:\"\"},identityWordGas:{v:3,d:\"\"},minerReward:{v:\"5000000000000000000\",d:\"the amount a miner get rewarded for mining a block\"},ommerReward:{v:\"625000000000000000\",d:\"The amount of wei a miner of an uncle block gets for being inculded in the blockchain\"},niblingReward:{v:\"156250000000000000\",d:\"the amount a miner gets for inculding a uncle\"},homeSteadForkNumber:{v:115e4,d:\"the block that the Homestead fork started at\"},homesteadRepriceForkNumber:{v:2463e3,d:\"the block that the Homestead Reprice (EIP150) fork started at\"},timebombPeriod:{v:1e5,d:\"Exponential difficulty timebomb period\"},freeBlockPeriod:{v:2}}},function(t,e,r){\"use strict\";const n=r(492),i=r(278)(\"eth-tx-trie\",n);t.exports=i},function(t,e,r){\"use strict\";const n=r(13),i=r(67);t.exports={resolver:{multicodec:\"raw\",defaultHashAlg:\"sha2-256\",resolve:(t,e,r)=>{r(null,{value:t,remainderPath:\"\"})},tree:(t,e,r)=>{\"function\"==typeof e&&(r=e),r(null,[])}},util:{deserialize:(t,e)=>{e(null,t)},serialize:(t,e)=>{e(null,t)},cid:(t,e,r)=>{\"function\"==typeof e&&(r=e,e={});const o=(e=e||{}).hashAlg||\"sha2-256\",s=void 0===e.version?1:e.version;i(t,o,(t,e)=>{if(t)return r(t);r(null,new n(s,\"raw\",e))})}}}},function(t,e,r){\"use strict\";e.resolver=r(279),e.util=r(493)},function(t,e,r){\"use strict\";(function(e,n){var i=t.exports;i.version=\"v\"+r(1071).version,i.versionGuard=function(t){if(void 0!==t);},i.versionGuard(e._bitcore),e._bitcore=i.version,i.crypto={},i.crypto.BN=r(30),i.crypto.ECDSA=r(494),i.crypto.Hash=r(45),i.crypto.Random=r(210),i.crypto.Point=r(114),i.crypto.Signature=r(69),i.encoding={},i.encoding.Base58=r(208),i.encoding.Base58Check=r(149),i.encoding.BufferReader=r(89),i.encoding.BufferWriter=r(59),i.encoding.Varint=r(1099),i.util={},i.util.buffer=r(23),i.util.js=r(28),i.util.preconditions=r(21),i.errors=r(68),i.Address=r(105),i.Block=r(1100),i.MerkleBlock=r(498),i.BlockHeader=r(211),i.HDPrivateKey=r(499),i.HDPublicKey=r(500),i.Networks=r(104),i.Opcode=r(280),i.PrivateKey=r(207),i.PublicKey=r(78),i.Script=r(70),i.Transaction=r(209),i.URI=r(1102),i.Unit=r(283),i.deps={},i.deps.bnjs=r(80),i.deps.bs58=r(495),i.deps.Buffer=n,i.deps.elliptic=r(77),i.deps._=r(17),i._HDKeyCache=r(284),i.Transaction.sighash=r(90)}).call(this,r(5),r(0).Buffer)},function(t){t.exports={_from:\"zcash-bitcore-lib@~0.13.20-rc3\",_id:\"zcash-bitcore-lib@0.13.20-rc3\",_inBundle:!1,_integrity:\"sha1-gToPVtz4t2vBQplRvqbRI2xQcAg=\",_location:\"/zcash-bitcore-lib\",_phantomChildren:{},_requested:{type:\"range\",registry:!0,raw:\"zcash-bitcore-lib@~0.13.20-rc3\",name:\"zcash-bitcore-lib\",escapedName:\"zcash-bitcore-lib\",rawSpec:\"~0.13.20-rc3\",saveSpec:null,fetchSpec:\"~0.13.20-rc3\"},_requiredBy:[\"/ipld-zcash\"],_resolved:\"https://registry.npmjs.org/zcash-bitcore-lib/-/zcash-bitcore-lib-0.13.20-rc3.tgz\",_shasum:\"813a0f56dcf8b76bc1429951bea6d1236c507008\",_shrinkwrap:{name:\"bitcore\",version:\"0.13.19\",dependencies:{\"bn.js\":{version:\"2.0.4\",from:\"bn.js@=2.0.4\",resolved:\"https://registry.npmjs.org/bn.js/-/bn.js-2.0.4.tgz\"},bs58:{version:\"2.0.0\",from:\"bs58@=2.0.0\",resolved:\"https://registry.npmjs.org/bs58/-/bs58-2.0.0.tgz\"},\"buffer-compare\":{version:\"1.0.0\",from:\"buffer-compare@=1.0.0\",resolved:\"https://registry.npmjs.org/buffer-compare/-/buffer-compare-1.0.0.tgz\"},elliptic:{version:\"3.0.3\",from:\"elliptic@=3.0.3\",resolved:\"https://registry.npmjs.org/elliptic/-/elliptic-3.0.3.tgz\",dependencies:{brorand:{version:\"1.0.5\",from:\"brorand@^1.0.1\",resolved:\"https://registry.npmjs.org/brorand/-/brorand-1.0.5.tgz\"},\"hash.js\":{version:\"1.0.3\",from:\"hash.js@=1.0.3\",resolved:\"https://registry.npmjs.org/hash.js/-/hash.js-1.0.3.tgz\"}}},inherits:{version:\"2.0.1\",from:\"inherits@=2.0.1\",resolved:\"https://registry.npmjs.org/inherits/-/inherits-2.0.1.tgz\"},lodash:{version:\"3.10.1\",from:\"lodash@=3.10.1\",resolved:\"https://registry.npmjs.org/lodash/-/lodash-3.10.1.tgz\"}}},_spec:\"zcash-bitcore-lib@~0.13.20-rc3\",_where:\"/Users/markfocella/truffle_projects/leth_contracts/node_modules/ipld-zcash\",author:{name:\"BitPay\",email:\"dev@bitpay.com\"},browser:{request:\"browser-request\"},bugs:{url:\"https://github.com/bitmex/zcash-bitcore-lib/issues\"},bundleDependencies:!1,contributors:[{name:\"Daniel Cousens\",email:\"bitcoin@dcousens.com\"},{name:\"Esteban Ordano\",email:\"eordano@gmail.com\"},{name:\"Gordon Hall\",email:\"gordon@bitpay.com\"},{name:\"Jeff Garzik\",email:\"jgarzik@bitpay.com\"},{name:\"Kyle Drake\",email:\"kyle@kyledrake.net\"},{name:\"Manuel Araoz\",email:\"manuelaraoz@gmail.com\"},{name:\"Matias Alejo Garcia\",email:\"ematiu@gmail.com\"},{name:\"Ryan X. Charles\",email:\"ryanxcharles@gmail.com\"},{name:\"Stefan Thomas\",email:\"moon@justmoon.net\"},{name:\"Stephen Pair\",email:\"stephen@bitpay.com\"},{name:\"Wei Lu\",email:\"luwei.here@gmail.com\"},{name:\"Jack Grigg\",email:\"jack@z.cash\"}],dependencies:{\"bn.js\":\"=2.0.4\",bs58:\"=2.0.0\",\"buffer-compare\":\"=1.0.0\",elliptic:\"=3.0.3\",inherits:\"=2.0.1\",lodash:\"=3.10.1\"},deprecated:!1,description:\"A pure and powerful JavaScript Zcash library.\",devDependencies:{brfs:\"^1.2.0\",chai:\"^1.10.0\",gulp:\"^3.8.10\",sinon:\"^1.13.0\",\"zcash-bitcore-build\":\"^0.5.4\"},homepage:\"https://github.com/bitmex/zcash-bitcore-lib#readme\",keywords:[\"zcash\",\"transaction\",\"address\",\"p2p\",\"ecies\",\"cryptocurrency\",\"blockchain\",\"payment\",\"bip21\",\"bip32\",\"bip37\",\"bip69\",\"bip70\",\"multisig\"],license:\"MIT\",main:\"index.js\",name:\"zcash-bitcore-lib\",repository:{type:\"git\",url:\"git+https://github.com/bitmex/zcash-bitcore-lib.git\"},scripts:{build:\"gulp\",coverage:\"gulp coverage\",lint:\"gulp lint\",test:\"gulp test\"},version:\"0.13.20-rc3\"}},function(t,e,r){\"use strict\";t.exports=[{name:\"InvalidB58Char\",message:\"Invalid Base58 character: {0} in {1}\"},{name:\"InvalidB58Checksum\",message:\"Invalid Base58 checksum for {0}\"},{name:\"InvalidNetwork\",message:\"Invalid version for network: got {0}\"},{name:\"InvalidState\",message:\"Invalid state: {0}\"},{name:\"NotImplemented\",message:\"Function {0} was not implemented yet\"},{name:\"InvalidNetworkArgument\",message:'Invalid network: must be \"livenet\" or \"testnet\", got {0}'},{name:\"InvalidArgument\",message:function(){return\"Invalid Argument\"+(arguments[0]?\": \"+arguments[0]:\"\")+(arguments[1]?\" Documentation: http://bitcore.io/\"+arguments[1]:\"\")}},{name:\"AbstractMethodInvoked\",message:\"Abstract Method Invocation: {0}\"},{name:\"InvalidArgumentType\",message:function(){return\"Invalid Argument for \"+arguments[2]+\", expected \"+arguments[1]+\" but got \"+typeof arguments[0]}},{name:\"Unit\",message:\"Internal Error on Unit {0}\",errors:[{name:\"UnknownCode\",message:\"Unrecognized unit code: {0}\"},{name:\"InvalidRate\",message:\"Invalid exchange rate: {0}\"}]},{name:\"Transaction\",message:\"Internal Error on Transaction {0}\",errors:[{name:\"Input\",message:\"Internal Error on Input {0}\",errors:[{name:\"MissingScript\",message:\"Need a script to create an input\"},{name:\"UnsupportedScript\",message:\"Unsupported input script type: {0}\"},{name:\"MissingPreviousOutput\",message:\"No previous output information.\"}]},{name:\"NeedMoreInfo\",message:\"{0}\"},{name:\"InvalidSorting\",message:\"The sorting function provided did not return the change output as one of the array elements\"},{name:\"InvalidOutputAmountSum\",message:\"{0}\"},{name:\"MissingSignatures\",message:\"Some inputs have not been fully signed\"},{name:\"InvalidIndex\",message:\"Invalid index: {0} is not between 0, {1}\"},{name:\"UnableToVerifySignature\",message:\"Unable to verify signature: {0}\"},{name:\"DustOutputs\",message:\"Dust amount detected in one output\"},{name:\"InvalidSatoshis\",message:\"Output satoshis are invalid\"},{name:\"FeeError\",message:\"Internal Error on Fee {0}\",errors:[{name:\"TooSmall\",message:\"Fee is too small: {0}\"},{name:\"TooLarge\",message:\"Fee is too large: {0}\"},{name:\"Different\",message:\"Unspent value is different from specified fee: {0}\"}]},{name:\"ChangeAddressMissing\",message:\"Change address is missing\"},{name:\"BlockHeightTooHigh\",message:\"Block Height can be at most 2^32 -1\"},{name:\"NLockTimeOutOfRange\",message:\"Block Height can only be between 0 and 499 999 999\"},{name:\"LockTimeTooEarly\",message:\"Lock Time can't be earlier than UNIX date 500 000 000\"}]},{name:\"Script\",message:\"Internal Error on Script {0}\",errors:[{name:\"UnrecognizedAddress\",message:\"Expected argument {0} to be an address\"},{name:\"CantDeriveAddress\",message:\"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out.\"},{name:\"InvalidBuffer\",message:\"Invalid script buffer: can't parse valid script from given buffer {0}\"}]},{name:\"HDPrivateKey\",message:\"Internal Error on HDPrivateKey {0}\",errors:[{name:\"InvalidDerivationArgument\",message:\"Invalid derivation argument {0}, expected string, or number and boolean\"},{name:\"InvalidEntropyArgument\",message:\"Invalid entropy: must be an hexa string or binary buffer, got {0}\",errors:[{name:\"TooMuchEntropy\",message:'Invalid entropy: more than 512 bits is non standard, got \"{0}\"'},{name:\"NotEnoughEntropy\",message:'Invalid entropy: at least 128 bits needed, got \"{0}\"'}]},{name:\"InvalidLength\",message:\"Invalid length for xprivkey string in {0}\"},{name:\"InvalidPath\",message:\"Invalid derivation path: {0}\"},{name:\"UnrecognizedArgument\",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got \"{0}\"'}]},{name:\"HDPublicKey\",message:\"Internal Error on HDPublicKey {0}\",errors:[{name:\"ArgumentIsPrivateExtended\",message:\"Argument is an extended private key: {0}\"},{name:\"InvalidDerivationArgument\",message:\"Invalid derivation argument: got {0}\"},{name:\"InvalidLength\",message:'Invalid length for xpubkey: got \"{0}\"'},{name:\"InvalidPath\",message:'Invalid derivation path, it should look like: \"m/1/100\", got \"{0}\"'},{name:\"InvalidIndexCantDeriveHardened\",message:\"Invalid argument: creating a hardened path requires an HDPrivateKey\"},{name:\"MustSupplyArgument\",message:\"Must supply an argument to create a HDPublicKey\"},{name:\"UnrecognizedArgument\",message:\"Invalid argument for creation, must be string, json, buffer, or object\"}]}]},function(t){t.exports={_from:\"elliptic@=3.0.3\",_id:\"elliptic@3.0.3\",_inBundle:!1,_integrity:\"sha1-hlybQgv75VAGuflp+XoNLESWZZU=\",_location:\"/zcash-bitcore-lib/elliptic\",_phantomChildren:{inherits:\"2.0.1\"},_requested:{type:\"version\",registry:!0,raw:\"elliptic@3.0.3\",name:\"elliptic\",escapedName:\"elliptic\",rawSpec:\"3.0.3\",saveSpec:null,fetchSpec:\"3.0.3\"},_requiredBy:[\"/zcash-bitcore-lib\"],_resolved:\"http://registry.npmjs.org/elliptic/-/elliptic-3.0.3.tgz\",_shasum:\"865c9b420bfbe55006b9f969f97a0d2c44966595\",_spec:\"elliptic@3.0.3\",_where:\"/Users/markfocella/truffle_projects/leth_contracts/node_modules/zcash-bitcore-lib\",author:{name:\"Fedor Indutny\",email:\"fedor@indutny.com\"},bugs:{url:\"https://github.com/indutny/elliptic/issues\"},bundleDependencies:!1,dependencies:{\"bn.js\":\"^2.0.0\",brorand:\"^1.0.1\",\"hash.js\":\"^1.0.0\",inherits:\"^2.0.1\"},deprecated:!1,description:\"EC cryptography\",devDependencies:{browserify:\"^3.44.2\",jscs:\"^1.11.3\",jshint:\"^2.6.0\",mocha:\"^2.1.0\",\"uglify-js\":\"^2.4.13\"},homepage:\"https://github.com/indutny/elliptic\",keywords:[\"EC\",\"Elliptic\",\"curve\",\"Cryptography\"],license:\"MIT\",main:\"lib/elliptic.js\",name:\"elliptic\",repository:{type:\"git\",url:\"git+ssh://git@github.com/indutny/elliptic.git\"},scripts:{test:\"make lint && mocha --reporter=spec test/*-test.js\"},version:\"3.0.3\"}},function(t,e,r){\"use strict\";var n=e;function i(t){return 1===t.length?\"0\"+t:t}function o(t){for(var e=\"\",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}n.assert=function(t,e){if(!t)throw new Error(e||\"Assertion failed\")},n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(\"string\"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if(e){if(\"hex\"===e)for((t=t.replace(/[^a-z0-9]+/gi,\"\")).length%2!=0&&(t=\"0\"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},n.zero2=i,n.toHex=o,n.encode=function(t,e){return\"hex\"===e?o(t):t},n.getNAF=function(t,e){for(var r=[],n=1<<e+1,i=t.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,i.isubn(o)}else o=0;r.push(o);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?e+1:1,u=1;u<a;u++)r.push(0);i.ishrn(a)}return r},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o,s,a,u=t.andln(3)+n&3,c=e.andln(3)+i&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(a=t.andln(7)+n&7)&&5!==a||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!=(a=e.andln(7)+i&7)&&5!==a||2!==u?c:-c,r[1].push(s),2*n===o+1&&(n=1-n),2*i===s+1&&(i=1-i),t.ishrn(1),e.ishrn(1)}return r}},function(t,e,r){var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},\"object\"==typeof window)window.crypto&&window.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return window.crypto.getRandomValues(e),e}:window.msCrypto&&window.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return window.msCrypto.getRandomValues(e),e}:i.prototype._rand=function(){throw new Error(\"Not implemented yet\")};else try{var o=r(96);i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){i.prototype._rand=function(t){for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e}}},function(t,e,r){\"use strict\";var n=r(115),i=r(77).utils,o=i.assert;function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc),r=i.toArray(t.nonce,t.nonceEnc),n=i.toArray(t.pers,t.persEnc);o(e.length>=this.minEntropy/8,\"Not enough entropy. Minimum is: \"+this.minEntropy+\" bits\"),this._init(e,r,n)}t.exports=s,s.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this.reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,r,n){\"string\"!=typeof e&&(n=r,r=e,e=null),t=i.toBuffer(t,e),r=i.toBuffer(r,n),o(t.length>=this.minEntropy/8,\"Not enough entropy. Minimum is: \"+this.minEntropy+\" bits\"),this._update(t.concat(r||[])),this.reseed=1},s.prototype.generate=function(t,e,r,n){if(this.reseed>this.reseedInterval)throw new Error(\"Reseed is required\");\"string\"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(r),this.reseed++,i.encode(s,e)}},function(t,e,r){var n=e,i=r(81);function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?\"0\"+t:t}function a(t){return 7===t.length?\"0\"+t:6===t.length?\"00\"+t:5===t.length?\"000\"+t:4===t.length?\"0000\"+t:3===t.length?\"00000\"+t:2===t.length?\"000000\"+t:1===t.length?\"0000000\"+t:t}function u(t,e){if(!t)throw new Error(e||\"Assertion failed\")}n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(\"string\"==typeof t)if(e){if(\"hex\"===e)for((t=t.replace(/[^a-z0-9]+/gi,\"\")).length%2!=0&&(t=\"0\"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},n.toHex=function(t){for(var e=\"\",r=0;r<t.length;r++)e+=s(t[r].toString(16));return e},n.htonl=o,n.toHex32=function(t,e){for(var r=\"\",n=0;n<t.length;n++){var i=t[n];\"little\"===e&&(i=o(i)),r+=a(i.toString(16))}return r},n.zero2=s,n.zero8=a,n.join32=function(t,e,r,n){var i=r-e;u(i%4==0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var c;c=\"big\"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=c>>>0}return o},n.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];\"big\"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},n.rotr32=function(t,e){return t>>>e|t<<32-e},n.rotl32=function(t,e){return t<<e|t>>>32-e},n.sum32=function(t,e){return t+e>>>0},n.sum32_3=function(t,e,r){return t+e+r>>>0},n.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},n.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},n.assert=u,n.inherits=i,e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,c){var f=0,h=e;return f+=(h=h+n>>>0)<e?1:0,f+=(h=h+o>>>0)<o?1:0,f+=(h=h+a>>>0)<a?1:0,t+r+i+s+u+(f+=(h=h+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,c){return e+n+o+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},function(t,e,r){var n=r(115).utils,i=n.assert;function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian=\"big\",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,\"big\"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else{n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;for(o=8;o<this.padLength;o++)n[i++]=0}return n}},function(t,e,r){var n=r(115),i=n.utils,o=i.assert,s=i.rotr32,a=i.rotl32,u=i.sum32,c=i.sum32_4,f=i.sum32_5,h=i.rotr64_hi,l=i.rotr64_lo,p=i.shr64_hi,d=i.shr64_lo,y=i.sum64,m=i.sum64_hi,g=i.sum64_lo,b=i.sum64_4_hi,v=i.sum64_4_lo,_=i.sum64_5_hi,w=i.sum64_5_lo,S=n.common.BlockHash,k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],A=[1518500249,1859775393,2400959708,3395469782];function x(){if(!(this instanceof x))return new x;S.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=k,this.W=new Array(64)}function T(){if(!(this instanceof T))return new T;x.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}function B(){if(!(this instanceof B))return new B;S.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}function I(){if(!(this instanceof I))return new I;B.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}function C(){if(!(this instanceof C))return new C;S.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}function M(t,e,r){return t&e^~t&r}function P(t,e,r){return t&e^t&r^e&r}function O(t){return s(t,2)^s(t,13)^s(t,22)}function R(t){return s(t,6)^s(t,11)^s(t,25)}function j(t){return s(t,7)^s(t,18)^t>>>3}function N(t){return s(t,17)^s(t,19)^t>>>10}function L(t,e,r,n){return 0===t?M(e,r,n):1===t||3===t?function(t,e,r){return t^e^r}(e,r,n):2===t?P(e,r,n):void 0}function K(t,e,r,n,i,o){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function D(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function U(t,e,r,n,i,o){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function F(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function q(t,e){var r=h(t,e,28)^h(e,t,2)^h(e,t,7);return r<0&&(r+=4294967296),r}function H(t,e){var r=l(t,e,28)^l(e,t,2)^l(e,t,7);return r<0&&(r+=4294967296),r}function z(t,e){var r=h(t,e,14)^h(t,e,18)^h(e,t,9);return r<0&&(r+=4294967296),r}function V(t,e){var r=l(t,e,14)^l(t,e,18)^l(e,t,9);return r<0&&(r+=4294967296),r}function G(t,e){var r=h(t,e,1)^h(t,e,8)^p(t,e,7);return r<0&&(r+=4294967296),r}function W(t,e){var r=l(t,e,1)^l(t,e,8)^d(t,e,7);return r<0&&(r+=4294967296),r}function $(t,e){var r=h(t,e,19)^h(e,t,29)^p(t,e,6);return r<0&&(r+=4294967296),r}function Y(t,e){var r=l(t,e,19)^l(e,t,29)^d(t,e,6);return r<0&&(r+=4294967296),r}i.inherits(x,S),e.sha256=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=c(N(r[n-2]),r[n-7],j(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],a=this.h[2],h=this.h[3],l=this.h[4],p=this.h[5],d=this.h[6],y=this.h[7];o(this.k.length===r.length);for(n=0;n<r.length;n++){var m=f(y,R(l),M(l,p,d),this.k[n],r[n]),g=u(O(i),P(i,s,a));y=d,d=p,p=l,l=u(h,m),h=a,a=s,s=i,i=u(m,g)}this.h[0]=u(this.h[0],i),this.h[1]=u(this.h[1],s),this.h[2]=u(this.h[2],a),this.h[3]=u(this.h[3],h),this.h[4]=u(this.h[4],l),this.h[5]=u(this.h[5],p),this.h[6]=u(this.h[6],d),this.h[7]=u(this.h[7],y)},x.prototype._digest=function(t){return\"hex\"===t?i.toHex32(this.h,\"big\"):i.split32(this.h,\"big\")},i.inherits(T,x),e.sha224=T,T.blockSize=512,T.outSize=224,T.hmacStrength=192,T.padLength=64,T.prototype._digest=function(t){return\"hex\"===t?i.toHex32(this.h.slice(0,7),\"big\"):i.split32(this.h.slice(0,7),\"big\")},i.inherits(B,S),e.sha512=B,B.blockSize=1024,B.outSize=512,B.hmacStrength=192,B.padLength=128,B.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=$(r[n-4],r[n-3]),o=Y(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=G(r[n-30],r[n-29]),c=W(r[n-30],r[n-29]),f=r[n-32],h=r[n-31];r[n]=b(i,o,s,a,u,c,f,h),r[n+1]=v(i,o,s,a,u,c,f,h)}},B.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],h=this.h[7],l=this.h[8],p=this.h[9],d=this.h[10],b=this.h[11],v=this.h[12],S=this.h[13],k=this.h[14],E=this.h[15];o(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var x=k,T=E,B=z(l,p),I=V(l,p),C=K(l,p,d,b,v,S),M=D(l,p,d,b,v,S),P=this.k[A],O=this.k[A+1],R=r[A],j=r[A+1],N=_(x,T,B,I,C,M,P,O,R,j),L=w(x,T,B,I,C,M,P,O,R,j),G=(x=q(n,i),T=H(n,i),B=U(n,i,s,a,u,c),I=F(n,i,s,a,u,c),m(x,T,B,I)),W=g(x,T,B,I);k=v,E=S,v=d,S=b,d=l,b=p,l=m(f,h,N,L),p=g(h,h,N,L),f=u,h=c,u=s,c=a,s=n,a=i,n=m(N,L,G,W),i=g(N,L,G,W)}y(this.h,0,n,i),y(this.h,2,s,a),y(this.h,4,u,c),y(this.h,6,f,h),y(this.h,8,l,p),y(this.h,10,d,b),y(this.h,12,v,S),y(this.h,14,k,E)},B.prototype._digest=function(t){return\"hex\"===t?i.toHex32(this.h,\"big\"):i.split32(this.h,\"big\")},i.inherits(I,B),e.sha384=I,I.blockSize=1024,I.outSize=384,I.hmacStrength=192,I.padLength=128,I.prototype._digest=function(t){return\"hex\"===t?i.toHex32(this.h.slice(0,12),\"big\"):i.split32(this.h.slice(0,12),\"big\")},i.inherits(C,S),e.sha1=C,C.blockSize=512,C.outSize=160,C.hmacStrength=80,C.padLength=64,C.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],c=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var l=~~(n/20),p=f(a(i,5),L(l,o,s,c),h,r[n],A[l]);h=c,c=s,s=a(o,30),o=i,i=p}this.h[0]=u(this.h[0],i),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],s),this.h[3]=u(this.h[3],c),this.h[4]=u(this.h[4],h)},C.prototype._digest=function(t){return\"hex\"===t?i.toHex32(this.h,\"big\"):i.split32(this.h,\"big\")}},function(t,e,r){var n=r(115),i=n.utils,o=i.rotl32,s=i.sum32,a=i.sum32_3,u=i.sum32_4,c=n.common.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian=\"little\"}function h(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function l(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function p(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}i.inherits(f,c),e.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],b=r,v=n,_=i,w=c,S=f,k=0;k<80;k++){var E=s(o(u(r,h(k,n,i,c),t[d[k]+e],l(k)),m[k]),f);r=f,f=c,c=o(i,10),i=n,n=E,E=s(o(u(b,h(79-k,v,_,w),t[y[k]+e],p(k)),g[k]),S),b=S,S=w,w=o(_,10),_=v,v=E}E=a(this.h[1],i,w),this.h[1]=a(this.h[2],c,S),this.h[2]=a(this.h[3],f,b),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,_),this.h[0]=E},f.prototype._digest=function(t){return\"hex\"===t?i.toHex32(this.h,\"little\"):i.split32(this.h,\"little\")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,r){var n=r(115).utils,i=n.assert;function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;this.inner=(new this.Hash).update(t);for(e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e,r){\"use strict\";var n=r(80),i=r(77),o=i.utils.getNAF,s=i.utils.getJSF,a=i.utils.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4)}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error(\"Not implemented\")},u.prototype.validate=function(){throw new Error(\"Not implemented\")},u.prototype._fixedNafMul=function(t,e){var r=t._getDoubles(),n=o(e,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],a=0;a<n.length;a+=r.step){var u=0;for(e=a+r.step-1;e>=a;e--)u=(u<<1)+n[e];s.push(u)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<s.length;a++){(u=s[a])===h?f=f.mixedAdd(r.points[a]):u===-h&&(f=f.mixedAdd(r.points[a].neg()))}c=c.add(f)}return c.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(e,r),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(e=0;c>=0&&0===s[c];c--)e++;if(c>=0&&e++,u=u.dblp(e),c<0)break;var f=s[c];a(0!==f),u=\"affine\"===t.type?f>0?u.mixedAdd(i[f-1>>1]):u.mixedAdd(i[-f-1>>1].neg()):f>0?u.add(i[f-1>>1]):u.add(i[-f-1>>1].neg())}return\"affine\"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n){for(var i=this._wnafT1,a=this._wnafT2,u=this._wnafT3,c=0,f=0;f<n;f++){var h=(E=e[f])._getNAFPoints(t);i[f]=h.wnd,a[f]=h.points}for(f=n-1;f>=1;f-=2){var l=f-1,p=f;if(1===i[l]&&1===i[p]){var d=[e[l],null,null,e[p]];0===e[l].y.cmp(e[p].y)?(d[1]=e[l].add(e[p]),d[2]=e[l].toJ().mixedAdd(e[p].neg())):0===e[l].y.cmp(e[p].y.redNeg())?(d[1]=e[l].toJ().mixedAdd(e[p]),d[2]=e[l].add(e[p].neg())):(d[1]=e[l].toJ().mixedAdd(e[p]),d[2]=e[l].toJ().mixedAdd(e[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],m=s(r[l],r[p]);c=Math.max(m[0].length,c),u[l]=new Array(c),u[p]=new Array(c);for(var g=0;g<c;g++){var b=0|m[0][g],v=0|m[1][g];u[l][g]=y[3*(b+1)+(v+1)],u[p][g]=0,a[l]=d}}else u[l]=o(r[l],i[l]),u[p]=o(r[p],i[p]),c=Math.max(u[l].length,c),c=Math.max(u[p].length,c)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(f=c;f>=0;f--){for(var S=0;f>=0;){var k=!0;for(g=0;g<n;g++)w[g]=0|u[g][f],0!==w[g]&&(k=!1);if(!k)break;S++,f--}if(f>=0&&S++,_=_.dblp(S),f<0)break;for(g=0;g<n;g++){var E,A=w[g];0!==A&&(A>0?E=a[g][A-1>>1]:A<0&&(E=a[g][-A-1>>1].neg()),_=\"affine\"===E.type?_.mixedAdd(E):_.add(E))}}for(f=0;f<n;f++)a[f]=null;return _.toP()},u.BasePoint=c,c.prototype.validate=function(){return this.curve.validate(this)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},function(t,e,r){\"use strict\";var n=r(206),i=r(77),o=r(80),s=r(81),a=n.base,u=i.utils.assert;function c(t){a.call(this,\"short\",t),this.a=new o(t.a,16).toRed(this.red),this.b=new o(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(t,e,r,n){a.BasePoint.call(this,t,\"affine\"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(e,16),this.y=new o(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(t,e,r,n){a.BasePoint.call(this,t,\"jacobian\"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(e,16),this.y=new o(r,16),this.z=new o(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,a),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new o(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new o(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],u(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(t){return{a:new o(t.a,16),b:new o(t.b,16)}}):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:o.mont(t),r=new o(2).toRed(e).redInvm(),n=r.redNeg(),i=new o(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,a,u,c,f,h=this.n.shrn(Math.floor(this.n.bitLength()/2)),l=t,p=this.n.clone(),d=new o(1),y=new o(0),m=new o(0),g=new o(1),b=0;0!==l.cmpn(0);){var v=p.div(l);c=p.sub(v.mul(l)),f=m.sub(v.mul(d));var _=g.sub(v.mul(y));if(!n&&c.cmp(h)<0)e=u.neg(),r=d,n=c.neg(),i=f;else if(n&&2==++b)break;u=c,p=l,l=c,m=d,d=f,g=y,y=_}s=c.neg(),a=f;var w=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(w)>=0&&(s=e,a=r),n.sign&&(n=n.neg(),i=i.neg()),s.sign&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(c).neg()}},c.prototype.pointFromX=function(t,e){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b).redSqrt(),n=r.fromRed().isOdd();return(t&&!n||!t&&n)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e){for(var r=this._endoWnafT1,n=this._endoWnafT2,i=0;i<t.length;i++){var o=this._endoSplit(e[i]),s=t[i],a=s._getBeta();o.k1.sign&&(o.k1.sign=!o.k1.sign,s=s.neg(!0)),o.k2.sign&&(o.k2.sign=!o.k2.sign,a=a.neg(!0)),r[2*i]=s,r[2*i+1]=a,n[2*i]=o.k1,n[2*i+1]=o.k2}for(var u=this._wnafMulAdd(1,r,n,2*i),c=0;c<2*i;c++)r[c]=null,n[c]=null;return u},s(f,a.BasePoint),c.prototype.point=function(t,e,r){return new f(this,t,e,r)},c.prototype.pointFromJSON=function(t,e){return f.fromJSON(this,t,e)},f.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(t,e,r){\"string\"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},f.prototype.inspect=function(){return this.isInfinity()?\"<EC Point Infinity>\":\"<EC Point x: \"+this.x.fromRed().toString(16,2)+\" y: \"+this.y.fromRed().toString(16,2)+\">\"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},f.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(t){return t=new o(t,16),this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},f.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},f.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(h,a.BasePoint),c.prototype.jpoint=function(t,e,r){return new h(this,t,e,r)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),h=n.redMul(c),l=u.redSqr().redIAdd(f).redISub(h).redISub(h),p=u.redMul(h.redISub(l)).redISub(o.redMul(f)),d=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,p,d)},h.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(f).redISub(f),l=a.redMul(f.redISub(h)).redISub(i.redMul(c)),p=this.z.redMul(s);return this.curve.jpoint(h,l,p)},h.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(r=0;r<t;r++){var f=o.redSqr(),h=c.redSqr(),l=h.redSqr(),p=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),d=o.redMul(h),y=p.redSqr().redISub(d.redAdd(d)),m=d.redISub(y),g=p.redMul(m);g=g.redIAdd(g).redISub(l);var b=c.redMul(a);r+1<t&&(u=u.redMul(l)),o=y,a=b,c=g}return this.curve.jpoint(o,c.redMul(i),a)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(f).redISub(l);p=p.redIAdd(p);var d=f.redAdd(f).redIAdd(f),y=d.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=y.redISub(p).redISub(p),e=d.redMul(p.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},h.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),l=this.x.redMul(h),p=this.x.redSub(f).redMul(this.x.redAdd(f));p=p.redAdd(p).redIAdd(p);var d=l.redIAdd(l),y=(d=d.redIAdd(d)).redAdd(d);t=p.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=p.redMul(d.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},h.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(f),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var p=a.redMul(h).redISub(l),d=r.redAdd(r).redMul(n);return this.curve.jpoint(f,p,d)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=e.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.x.redMul(a).redISub(f);h=(h=h.redIAdd(h)).redIAdd(h);var l=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var p=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,l,p)},h.prototype.mul=function(t,e){return t=new o(t,e),this.curve._wnafMul(this,t)},h.prototype.eq=function(t){if(\"affine\"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},h.prototype.inspect=function(){return this.isInfinity()?\"<EC JPoint Infinity>\":\"<EC JPoint x: \"+this.x.toString(16,2)+\" y: \"+this.y.toString(16,2)+\" z: \"+this.z.toString(16,2)+\">\"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,r){\"use strict\";var n=r(206),i=r(80),o=r(81),s=n.base;function a(t){s.call(this,\"mont\",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){s.BasePoint.call(this,t,\"projective\"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},o(u,s.BasePoint),a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?\"<EC Point Infinity>\":\"<EC Point x: \"+this.x.fromRed().toString(16,2)+\" z: \"+this.z.fromRed().toString(16,2)+\">\"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error(\"Not supported on Montgomery curve\")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),u=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.ishrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error(\"Not supported on Montgomery curve\")},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,r){\"use strict\";var n=r(206),i=r(77),o=r(80),s=r(81),a=n.base,u=i.utils.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,a.call(this,\"edwards\",t),this.a=new o(t.a,16).mod(this.red.m).toRed(this.red),this.c=new o(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function f(t,e,r,n,i){a.BasePoint.call(this,t,\"projective\"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(e,16),this.y=new o(r,16),this.z=n?new o(n,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,a),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},c.prototype.pointFromX=function(t,e){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=i.redMul(s.redInvm()).redSqrt(),u=a.fromRed().isOdd();return(t&&!u||!t&&u)&&(a=a.redNeg()),this.point(e,a,n.one)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},s(f,a.BasePoint),c.prototype.pointFromJSON=function(t){return f.fromJSON(this,t)},c.prototype.point=function(t,e,r,n){return new f(this,t,e,r,n)},f.fromJSON=function(t,e){return new f(t,e[0],e[1],e[2])},f.prototype.inspect=function(){return this.isInfinity()?\"<EC Point Infinity>\":\"<EC Point x: \"+this.x.fromRed().toString(16,2)+\" y: \"+this.y.fromRed().toString(16,2)+\" z: \"+this.z.fromRed().toString(16,2)+\">\"},f.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},f.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),u=i.redMul(s),c=o.redMul(a),f=i.redMul(a),h=s.redMul(o);return this.curve.point(u,c,h,f)},f.prototype._projDbl=function(){var t,e,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=(c=this.curve._mulA(i)).redAdd(o);if(this.zOne)t=n.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),e=s.redMul(c.redSub(o)),r=s.redSqr().redSub(s).redSub(s);else{var a=this.z.redSqr(),u=s.redSub(a).redISub(a);t=n.redSub(i).redISub(o).redMul(u),e=s.redMul(c.redSub(o)),r=s.redMul(u)}}else{var c=i.redAdd(o);a=this.curve._mulC(this.c.redMul(this.z)).redSqr(),u=c.redSub(a).redSub(a);t=this.curve._mulC(n.redISub(c)).redMul(u),e=this.curve._mulC(c).redMul(i.redISub(o)),r=c.redMul(u)}return this.curve.point(t,e,r)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),c=o.redMul(s),f=a.redMul(u),h=o.redMul(u),l=s.redMul(a);return this.curve.point(c,f,l,h)},f.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),h=n.redMul(u).redMul(f);return this.curve.twisted?(e=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(e=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(h,e,r)},f.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},f.prototype.mul=function(t){return this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2)},f.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},function(t,e,r){\"use strict\";var n,i=e,o=r(115),s=r(77),a=s.utils.assert;function u(t){\"short\"===t.type?this.curve=new s.curve.short(t):\"edwards\"===t.type?this.curve=new s.curve.edwards(t):this.curve=new s.curve.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),\"Invalid curve\"),a(this.g.mul(this.n).isInfinity(),\"Invalid curve, G*N != O\")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c(\"p192\",{type:\"short\",prime:\"p192\",p:\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\",a:\"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc\",b:\"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1\",n:\"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831\",hash:o.sha256,gRed:!1,g:[\"188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012\",\"07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811\"]}),c(\"p224\",{type:\"short\",prime:\"p224\",p:\"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\",a:\"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe\",b:\"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4\",n:\"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d\",hash:o.sha256,gRed:!1,g:[\"b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21\",\"bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34\"]}),c(\"p256\",{type:\"short\",prime:null,p:\"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff\",a:\"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc\",b:\"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b\",n:\"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551\",hash:o.sha256,gRed:!1,g:[\"6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296\",\"4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5\"]}),c(\"curve25519\",{type:\"mont\",prime:\"p25519\",p:\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\",a:\"76d06\",b:\"0\",n:\"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed\",hash:o.sha256,gRed:!1,g:[\"9\"]}),c(\"ed25519\",{type:\"edwards\",prime:\"p25519\",p:\"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\",a:\"-1\",c:\"1\",d:\"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3\",n:\"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed\",hash:o.sha256,gRed:!1,g:[\"216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a\",\"6666666666666666666666666666666666666666666666666666666666666658\"]});try{n=r(1087)}catch(t){n=void 0}c(\"secp256k1\",{type:\"short\",prime:\"k256\",p:\"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\",a:\"0\",b:\"7\",n:\"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141\",h:\"1\",hash:o.sha256,beta:\"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\",lambda:\"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72\",basis:[{a:\"3086d221a7d46bcde86c90e49284eb15\",b:\"-e4437ed6010e88286f547fa90abfe4c3\"},{a:\"114ca50f7a8e2f3f657c1108d9d44cfd8\",b:\"3086d221a7d46bcde86c90e49284eb15\"}],gRed:!1,g:[\"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798\",\"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8\",n]})},function(t,e){t.exports={doubles:{step:4,points:[[\"e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a\",\"f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821\"],[\"8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508\",\"11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf\"],[\"175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739\",\"d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695\"],[\"363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640\",\"4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9\"],[\"8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c\",\"4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36\"],[\"723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda\",\"96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f\"],[\"eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa\",\"5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999\"],[\"100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0\",\"cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09\"],[\"e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d\",\"9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d\"],[\"feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d\",\"e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088\"],[\"da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1\",\"9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d\"],[\"53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0\",\"5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8\"],[\"8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047\",\"10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a\"],[\"385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862\",\"283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453\"],[\"6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7\",\"7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160\"],[\"3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd\",\"56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0\"],[\"85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83\",\"7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6\"],[\"948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a\",\"53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589\"],[\"6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8\",\"bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17\"],[\"e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d\",\"4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda\"],[\"e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725\",\"7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd\"],[\"213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754\",\"4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2\"],[\"4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c\",\"17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6\"],[\"fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6\",\"6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f\"],[\"76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39\",\"c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01\"],[\"c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891\",\"893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3\"],[\"d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b\",\"febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f\"],[\"b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03\",\"2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7\"],[\"e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d\",\"eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78\"],[\"a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070\",\"7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1\"],[\"90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4\",\"e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150\"],[\"8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da\",\"662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82\"],[\"e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11\",\"1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc\"],[\"8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e\",\"efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b\"],[\"e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41\",\"2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51\"],[\"b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef\",\"67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45\"],[\"d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8\",\"db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120\"],[\"324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d\",\"648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84\"],[\"4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96\",\"35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d\"],[\"9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd\",\"ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d\"],[\"6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5\",\"9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8\"],[\"a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266\",\"40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8\"],[\"7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71\",\"34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac\"],[\"928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac\",\"c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f\"],[\"85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751\",\"1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962\"],[\"ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e\",\"493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907\"],[\"827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241\",\"c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec\"],[\"eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3\",\"be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d\"],[\"e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f\",\"4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414\"],[\"1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19\",\"aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd\"],[\"146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be\",\"b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0\"],[\"fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9\",\"6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811\"],[\"da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2\",\"8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1\"],[\"a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13\",\"7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c\"],[\"174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c\",\"ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73\"],[\"959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba\",\"2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd\"],[\"d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151\",\"e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405\"],[\"64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073\",\"d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589\"],[\"8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458\",\"38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e\"],[\"13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b\",\"69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27\"],[\"bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366\",\"d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1\"],[\"8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa\",\"40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482\"],[\"8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0\",\"620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945\"],[\"dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787\",\"7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573\"],[\"f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e\",\"ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82\"]]},naf:{wnd:7,points:[[\"f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9\",\"388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672\"],[\"2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4\",\"d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6\"],[\"5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc\",\"6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da\"],[\"acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe\",\"cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37\"],[\"774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb\",\"d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b\"],[\"f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8\",\"ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81\"],[\"d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e\",\"581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58\"],[\"defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34\",\"4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77\"],[\"2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c\",\"85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a\"],[\"352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5\",\"321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c\"],[\"2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f\",\"2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67\"],[\"9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714\",\"73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402\"],[\"daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729\",\"a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55\"],[\"c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db\",\"2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482\"],[\"6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4\",\"e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82\"],[\"1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5\",\"b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396\"],[\"605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479\",\"2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49\"],[\"62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d\",\"80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf\"],[\"80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f\",\"1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a\"],[\"7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb\",\"d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7\"],[\"d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9\",\"eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933\"],[\"49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963\",\"758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a\"],[\"77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74\",\"958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6\"],[\"f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530\",\"e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37\"],[\"463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b\",\"5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e\"],[\"f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247\",\"cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6\"],[\"caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1\",\"cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476\"],[\"2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120\",\"4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40\"],[\"7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435\",\"91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61\"],[\"754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18\",\"673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683\"],[\"e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8\",\"59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5\"],[\"186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb\",\"3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b\"],[\"df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f\",\"55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417\"],[\"5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143\",\"efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868\"],[\"290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba\",\"e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a\"],[\"af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45\",\"f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6\"],[\"766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a\",\"744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996\"],[\"59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e\",\"c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e\"],[\"f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8\",\"e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d\"],[\"7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c\",\"30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2\"],[\"948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519\",\"e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e\"],[\"7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab\",\"100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437\"],[\"3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca\",\"ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311\"],[\"d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf\",\"8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4\"],[\"1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610\",\"68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575\"],[\"733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4\",\"f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d\"],[\"15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c\",\"d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d\"],[\"a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940\",\"edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629\"],[\"e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980\",\"a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06\"],[\"311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3\",\"66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374\"],[\"34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf\",\"9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee\"],[\"f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63\",\"4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1\"],[\"d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448\",\"fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b\"],[\"32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf\",\"5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661\"],[\"7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5\",\"8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6\"],[\"ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6\",\"8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e\"],[\"16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5\",\"5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d\"],[\"eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99\",\"f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc\"],[\"78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51\",\"f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4\"],[\"494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5\",\"42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c\"],[\"a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5\",\"204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b\"],[\"c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997\",\"4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913\"],[\"841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881\",\"73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154\"],[\"5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5\",\"39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865\"],[\"36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66\",\"d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc\"],[\"336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726\",\"ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224\"],[\"8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede\",\"6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e\"],[\"1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94\",\"60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6\"],[\"85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31\",\"3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511\"],[\"29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51\",\"b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b\"],[\"a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252\",\"ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2\"],[\"4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5\",\"cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c\"],[\"d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b\",\"6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3\"],[\"ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4\",\"322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d\"],[\"af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f\",\"6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700\"],[\"e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889\",\"2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4\"],[\"591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246\",\"b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196\"],[\"11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984\",\"998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4\"],[\"3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a\",\"b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257\"],[\"cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030\",\"bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13\"],[\"c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197\",\"6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096\"],[\"c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593\",\"c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38\"],[\"a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef\",\"21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f\"],[\"347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38\",\"60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448\"],[\"da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a\",\"49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a\"],[\"c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111\",\"5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4\"],[\"4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502\",\"7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437\"],[\"3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea\",\"be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7\"],[\"cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26\",\"8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d\"],[\"b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986\",\"39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a\"],[\"d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e\",\"62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54\"],[\"48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4\",\"25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77\"],[\"dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda\",\"ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517\"],[\"6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859\",\"cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10\"],[\"e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f\",\"f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125\"],[\"eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c\",\"6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e\"],[\"13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942\",\"fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1\"],[\"ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a\",\"1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2\"],[\"b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80\",\"5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423\"],[\"ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d\",\"438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8\"],[\"8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1\",\"cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758\"],[\"52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63\",\"c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375\"],[\"e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352\",\"6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d\"],[\"7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193\",\"ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec\"],[\"5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00\",\"9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0\"],[\"32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58\",\"ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c\"],[\"e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7\",\"d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4\"],[\"8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8\",\"c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f\"],[\"4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e\",\"67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649\"],[\"3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d\",\"cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826\"],[\"674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b\",\"299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5\"],[\"d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f\",\"f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87\"],[\"30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6\",\"462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b\"],[\"be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297\",\"62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc\"],[\"93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a\",\"7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c\"],[\"b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c\",\"ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f\"],[\"d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52\",\"4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a\"],[\"d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb\",\"bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46\"],[\"463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065\",\"bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f\"],[\"7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917\",\"603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03\"],[\"74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9\",\"cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08\"],[\"30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3\",\"553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8\"],[\"9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57\",\"712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373\"],[\"176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66\",\"ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3\"],[\"75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8\",\"9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8\"],[\"809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721\",\"9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1\"],[\"1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180\",\"4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9\"]]}}},function(t,e,r){\"use strict\";var n=r(80),i=r(77),o=i.utils.assert,s=r(1089),a=r(1090);function u(t){if(!(this instanceof u))return new u(t);\"string\"==typeof t&&(o(i.curves.hasOwnProperty(t),\"Unknown curve \"+t),t=i.curves[t]),t instanceof i.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.shrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=u,u.prototype.keyPair=function(t){return new s(this,t)},u.prototype.keyFromPrivate=function(t,e){return s.fromPrivate(this,t,e)},u.prototype.keyFromPublic=function(t,e){return s.fromPublic(this,t,e)},u.prototype.genKeyPair=function(t){t||(t={});for(var e=new i.hmacDRBG({hash:this.hash,pers:t.pers,entropy:t.entropy||i.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(e.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},u.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.shrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},u.prototype.sign=function(t,e,r,o){\"object\"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var s=this.n.byteLength(),u=e.getPrivate().toArray(),c=u.length;c<21;c++)u.unshift(0);var f=t.toArray();for(c=f.length;c<s;c++)f.unshift(0);for(var h=new i.hmacDRBG({hash:this.hash,entropy:u,nonce:f}),l=this.n.sub(new n(1));;){var p=new n(h.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(l)>=0)){var d=this.g.mul(p);if(!d.isInfinity()){var y=d.getX().mod(this.n);if(0!==y.cmpn(0)){var m=p.invm(this.n).mul(y.mul(e.getPrivate()).iadd(t)).mod(this.n);if(0!==m.cmpn(0))return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m)),new a({r:y,s:m})}}}}},u.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var o=(e=new a(e,\"hex\")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),c=u.mul(t).mod(this.n),f=u.mul(o).mod(this.n),h=this.g.mulAdd(c,r.getPublic(),f);return!h.isInfinity()&&0===h.getX().mod(this.n).cmp(o)}},function(t,e,r){\"use strict\";var n=r(80),i=r(77).utils;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:\"Invalid public key\"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:\"Public key * N != O\"}:{result:!1,reason:\"Public key is not a point\"}},o.prototype.getPublic=function(t,e){if(this.pub||(this.pub=this.ec.g.mul(this.priv)),\"string\"==typeof t&&(e=t,t=null),!e)return this.pub;for(var r=this.ec.curve.p.byteLength(),n=this.pub.getX().toArray(),o=n.length;o<r;o++)n.unshift(0);if(\"mont\"!==this.ec.curve.type)if(t)a=[this.pub.getY().isEven()?2:3].concat(n);else{var s=this.pub.getY().toArray();for(o=s.length;o<r;o++)s.unshift(0);var a=[4].concat(n,s)}else a=n;return i.encode(a,e)},o.prototype.getPrivate=function(t){return\"hex\"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.mod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(!t.x&&!t.y)return t=i.toArray(t,e),\"mont\"!==this.ec.curve.type?this._importPublicShort(t):this._importPublicMont(t);this.pub=this.ec.curve.point(t.x,t.y)},o.prototype._importPublicShort=function(t){var e=this.ec.curve.p.byteLength();4===t[0]&&t.length-1==2*e?this.pub=this.ec.curve.point(t.slice(1,1+e),t.slice(1+e,1+2*e)):2!==t[0]&&3!==t[0]||t.length-1!==e||(this.pub=this.ec.curve.pointFromX(3===t[0],t.slice(1,1+e)))},o.prototype._importPublicMont=function(t){this.pub=this.ec.curve.point(t,1)},o.prototype.derive=function(t){return t.mul(this.priv).getX()},o.prototype.sign=function(t){return this.ec.sign(t,this)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return\"<Key priv: \"+(this.priv&&this.priv.toString(16,2))+\" pub: \"+(this.pub&&this.pub.inspect())+\" >\"}},function(t,e,r){\"use strict\";var n=r(80),i=r(77).utils,o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,\"Signature without r or s\"),this.r=new n(t.r,16),this.s=new n(t.s,16))}t.exports=s,s.prototype._importDER=function(t,e){if((t=i.toArray(t,e)).length<6||48!==t[0]||2!==t[2])return!1;if(1+t[1]>t.length)return!1;var r=t[3];if(r>=128)return!1;if(4+r+2>=t.length)return!1;if(2!==t[4+r])return!1;var o=t[5+r];return!(o>=128)&&(!(4+r+2+o>t.length)&&(this.r=new n(t.slice(4,4+r)),this.s=new n(t.slice(4+r+2,4+r+2+o)),!0))},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r));var n=[48,e.length+r.length+4,2,e.length];return n=n.concat(e,[2,r.length],r),i.encode(n,t)}},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(496),o=r(280),s=r(30),a=r(45),u=r(69),c=r(78),f=function t(e){if(!(this instanceof t))return new t(e);e?(this.initialize(),this.set(e)):this.initialize()};f.prototype.verify=function(t,e,o,s,a){var u,c=r(209);if(n.isUndefined(o)&&(o=new c),n.isUndefined(s)&&(s=0),n.isUndefined(a)&&(a=0),this.set({script:t,tx:o,nin:s,flags:a}),0!=(a&f.SCRIPT_VERIFY_SIGPUSHONLY)&&!t.isPushOnly())return this.errstr=\"SCRIPT_ERR_SIG_PUSHONLY\",!1;if(!this.evaluate())return!1;a&f.SCRIPT_VERIFY_P2SH&&(u=this.stack.slice());var h=this.stack;if(this.initialize(),this.set({script:e,stack:h,tx:o,nin:s,flags:a}),!this.evaluate())return!1;if(0===this.stack.length)return this.errstr=\"SCRIPT_ERR_EVAL_FALSE_NO_RESULT\",!1;var l=this.stack[this.stack.length-1];if(!f.castToBool(l))return this.errstr=\"SCRIPT_ERR_EVAL_FALSE_IN_STACK\",!1;if(a&f.SCRIPT_VERIFY_P2SH&&e.isScriptHashOut()){if(!t.isPushOnly())return this.errstr=\"SCRIPT_ERR_SIG_PUSHONLY\",!1;if(0===u.length)throw new Error(\"internal error - stack copy empty\");var p=u[u.length-1],d=i.fromBuffer(p);return u.pop(),this.initialize(),this.set({script:d,stack:u,tx:o,nin:s,flags:a}),!!this.evaluate()&&(0===u.length?(this.errstr=\"SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK\",!1):!!f.castToBool(u[u.length-1])||(this.errstr=\"SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK\",!1))}return!0},t.exports=f,f.prototype.initialize=function(t){this.stack=[],this.altstack=[],this.pc=0,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr=\"\",this.flags=0},f.prototype.set=function(t){this.script=t.script||this.script,this.tx=t.tx||this.tx,this.nin=void 0!==t.nin?t.nin:this.nin,this.stack=t.stack||this.stack,this.altstack=t.altack||this.altstack,this.pc=void 0!==t.pc?t.pc:this.pc,this.pbegincodehash=void 0!==t.pbegincodehash?t.pbegincodehash:this.pbegincodehash,this.nOpCount=void 0!==t.nOpCount?t.nOpCount:this.nOpCount,this.vfExec=t.vfExec||this.vfExec,this.errstr=t.errstr||this.errstr,this.flags=void 0!==t.flags?t.flags:this.flags},f.true=new e([1]),f.false=new e([]),f.MAX_SCRIPT_ELEMENT_SIZE=520,f.LOCKTIME_THRESHOLD_BN=new s(f.LOCKTIME_THRESHOLD=5e8),f.SCRIPT_VERIFY_NONE=0,f.SCRIPT_VERIFY_P2SH=1,f.SCRIPT_VERIFY_STRICTENC=2,f.SCRIPT_VERIFY_DERSIG=4,f.SCRIPT_VERIFY_LOW_S=8,f.SCRIPT_VERIFY_NULLDUMMY=16,f.SCRIPT_VERIFY_SIGPUSHONLY=32,f.SCRIPT_VERIFY_MINIMALDATA=64,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,f.castToBool=function(t){for(var e=0;e<t.length;e++)if(0!==t[e])return e!==t.length-1||128!==t[e];return!1},f.prototype.checkSignatureEncoding=function(t){if(0!=(this.flags&(f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_STRICTENC))&&!u.isTxDER(t))return this.errstr=\"SCRIPT_ERR_SIG_DER_INVALID_FORMAT\",!1;if(0!=(this.flags&f.SCRIPT_VERIFY_LOW_S)){if(!u.fromTxFormat(t).hasLowS())return this.errstr=\"SCRIPT_ERR_SIG_DER_HIGH_S\",!1}else if(0!=(this.flags&f.SCRIPT_VERIFY_STRICTENC)&&!u.fromTxFormat(t).hasDefinedHashtype())return this.errstr=\"SCRIPT_ERR_SIG_HASHTYPE\",!1;return!0},f.prototype.checkPubkeyEncoding=function(t){return!(0!=(this.flags&f.SCRIPT_VERIFY_STRICTENC)&&!c.isValid(t))||(this.errstr=\"SCRIPT_ERR_PUBKEYTYPE\",!1)},f.prototype.evaluate=function(){if(this.script.toBuffer().length>1e4)return this.errstr=\"SCRIPT_ERR_SCRIPT_SIZE\",!1;try{for(;this.pc<this.script.chunks.length;){if(!this.step())return!1}if(this.stack.length+this.altstack.length>1e3)return this.errstr=\"SCRIPT_ERR_STACK_SIZE\",!1}catch(t){return this.errstr=\"SCRIPT_ERR_UNKNOWN_ERROR: \"+t,!1}return!(this.vfExec.length>0)||(this.errstr=\"SCRIPT_ERR_UNBALANCED_CONDITIONAL\",!1)},f.prototype.checkLockTime=function(t){return!!(this.tx.nLockTime<f.LOCKTIME_THRESHOLD&&t.lt(f.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=f.LOCKTIME_THRESHOLD&&t.gte(f.LOCKTIME_THRESHOLD_BN))&&(!t.gt(new s(this.tx.nLockTime))&&!!this.tx.inputs[this.nin].isFinal())},f.prototype.step=function(){var t,e,r,h,l,p,d,y,m,g,b,v,_,w,S,k,E,A=0!=(this.flags&f.SCRIPT_VERIFY_MINIMALDATA),x=-1===this.vfExec.indexOf(!1),T=this.script.chunks[this.pc];this.pc++;var B=T.opcodenum;if(n.isUndefined(B))return this.errstr=\"SCRIPT_ERR_UNDEFINED_OPCODE\",!1;if(T.buf&&T.buf.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr=\"SCRIPT_ERR_PUSH_SIZE\",!1;if(B>o.OP_16&&++this.nOpCount>201)return this.errstr=\"SCRIPT_ERR_OP_COUNT\",!1;if(B===o.OP_CAT||B===o.OP_SUBSTR||B===o.OP_LEFT||B===o.OP_RIGHT||B===o.OP_INVERT||B===o.OP_AND||B===o.OP_OR||B===o.OP_XOR||B===o.OP_2MUL||B===o.OP_2DIV||B===o.OP_MUL||B===o.OP_DIV||B===o.OP_MOD||B===o.OP_LSHIFT||B===o.OP_RSHIFT)return this.errstr=\"SCRIPT_ERR_DISABLED_OPCODE\",!1;if(x&&0<=B&&B<=o.OP_PUSHDATA4){if(A&&!this.script.checkMinimalPush(this.pc-1))return this.errstr=\"SCRIPT_ERR_MINIMALDATA\",!1;if(T.buf){if(T.len!==T.buf.length)throw new Error(\"Length of push value not equal to length of data\");this.stack.push(T.buf)}else this.stack.push(f.false)}else if(x||o.OP_IF<=B&&B<=o.OP_ENDIF)switch(B){case o.OP_1NEGATE:case o.OP_1:case o.OP_2:case o.OP_3:case o.OP_4:case o.OP_5:case o.OP_6:case o.OP_7:case o.OP_8:case o.OP_9:case o.OP_10:case o.OP_11:case o.OP_12:case o.OP_13:case o.OP_14:case o.OP_15:case o.OP_16:l=B-(o.OP_1-1),t=new s(l).toScriptNumBuffer(),this.stack.push(t);break;case o.OP_NOP:break;case o.OP_NOP2:case o.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr=\"SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS\",!1;break}if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;var I=s.fromScriptNumBuffer(this.stack[this.stack.length-1],A,5);if(I.lt(new s(0)))return this.errstr=\"SCRIPT_ERR_NEGATIVE_LOCKTIME\",!1;if(!this.checkLockTime(I))return this.errstr=\"SCRIPT_ERR_UNSATISFIED_LOCKTIME\",!1;break;case o.OP_NOP1:case o.OP_NOP3:case o.OP_NOP4:case o.OP_NOP5:case o.OP_NOP6:case o.OP_NOP7:case o.OP_NOP8:case o.OP_NOP9:case o.OP_NOP10:if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr=\"SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS\",!1;break;case o.OP_IF:case o.OP_NOTIF:if(k=!1,x){if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_UNBALANCED_CONDITIONAL\",!1;t=this.stack.pop(),k=f.castToBool(t),B===o.OP_NOTIF&&(k=!k)}this.vfExec.push(k);break;case o.OP_ELSE:if(0===this.vfExec.length)return this.errstr=\"SCRIPT_ERR_UNBALANCED_CONDITIONAL\",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case o.OP_ENDIF:if(0===this.vfExec.length)return this.errstr=\"SCRIPT_ERR_UNBALANCED_CONDITIONAL\",!1;this.vfExec.pop();break;case o.OP_VERIFY:if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;if(t=this.stack[this.stack.length-1],!(k=f.castToBool(t)))return this.errstr=\"SCRIPT_ERR_VERIFY\",!1;this.stack.pop();break;case o.OP_RETURN:return this.errstr=\"SCRIPT_ERR_OP_RETURN\",!1;case o.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;this.altstack.push(this.stack.pop());break;case o.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_ALTSTACK_OPERATION\",!1;this.stack.push(this.altstack.pop());break;case o.OP_2DROP:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;this.stack.pop(),this.stack.pop();break;case o.OP_2DUP:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1],this.stack.push(e),this.stack.push(r);break;case o.OP_3DUP:if(this.stack.length<3)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;e=this.stack[this.stack.length-3],r=this.stack[this.stack.length-2];var C=this.stack[this.stack.length-1];this.stack.push(e),this.stack.push(r),this.stack.push(C);break;case o.OP_2OVER:if(this.stack.length<4)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;e=this.stack[this.stack.length-4],r=this.stack[this.stack.length-3],this.stack.push(e),this.stack.push(r);break;case o.OP_2ROT:if(this.stack.length<6)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;h=this.stack.splice(this.stack.length-6,2),this.stack.push(h[0]),this.stack.push(h[1]);break;case o.OP_2SWAP:if(this.stack.length<4)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;h=this.stack.splice(this.stack.length-4,2),this.stack.push(h[0]),this.stack.push(h[1]);break;case o.OP_IFDUP:if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;t=this.stack[this.stack.length-1],(k=f.castToBool(t))&&this.stack.push(t);break;case o.OP_DEPTH:t=new s(this.stack.length).toScriptNumBuffer(),this.stack.push(t);break;case o.OP_DROP:if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;this.stack.pop();break;case o.OP_DUP:if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;this.stack.push(this.stack[this.stack.length-1]);break;case o.OP_NIP:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;this.stack.splice(this.stack.length-2,1);break;case o.OP_OVER:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;this.stack.push(this.stack[this.stack.length-2]);break;case o.OP_PICK:case o.OP_ROLL:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;if(t=this.stack[this.stack.length-1],l=(y=s.fromScriptNumBuffer(t,A)).toNumber(),this.stack.pop(),l<0||l>=this.stack.length)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;t=this.stack[this.stack.length-l-1],B===o.OP_ROLL&&this.stack.splice(this.stack.length-l-1,1),this.stack.push(t);break;case o.OP_ROT:if(this.stack.length<3)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;p=this.stack[this.stack.length-3],d=this.stack[this.stack.length-2];var M=this.stack[this.stack.length-1];this.stack[this.stack.length-3]=d,this.stack[this.stack.length-2]=M,this.stack[this.stack.length-1]=p;break;case o.OP_SWAP:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;p=this.stack[this.stack.length-2],d=this.stack[this.stack.length-1],this.stack[this.stack.length-2]=d,this.stack[this.stack.length-1]=p;break;case o.OP_TUCK:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;this.stack.splice(this.stack.length-2,0,this.stack[this.stack.length-1]);break;case o.OP_SIZE:if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;y=new s(this.stack[this.stack.length-1].length),this.stack.push(y.toScriptNumBuffer());break;case o.OP_EQUAL:case o.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1];var P=e.toString(\"hex\")===r.toString(\"hex\");if(this.stack.pop(),this.stack.pop(),this.stack.push(P?f.true:f.false),B===o.OP_EQUALVERIFY){if(!P)return this.errstr=\"SCRIPT_ERR_EQUALVERIFY\",!1;this.stack.pop()}break;case o.OP_1ADD:case o.OP_1SUB:case o.OP_NEGATE:case o.OP_ABS:case o.OP_NOT:case o.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;switch(t=this.stack[this.stack.length-1],y=s.fromScriptNumBuffer(t,A),B){case o.OP_1ADD:y=y.add(s.One);break;case o.OP_1SUB:y=y.sub(s.One);break;case o.OP_NEGATE:y=y.neg();break;case o.OP_ABS:y.cmp(s.Zero)<0&&(y=y.neg());break;case o.OP_NOT:y=new s((0===y.cmp(s.Zero))+0);break;case o.OP_0NOTEQUAL:y=new s((0!==y.cmp(s.Zero))+0)}this.stack.pop(),this.stack.push(y.toScriptNumBuffer());break;case o.OP_ADD:case o.OP_SUB:case o.OP_BOOLAND:case o.OP_BOOLOR:case o.OP_NUMEQUAL:case o.OP_NUMEQUALVERIFY:case o.OP_NUMNOTEQUAL:case o.OP_LESSTHAN:case o.OP_GREATERTHAN:case o.OP_LESSTHANOREQUAL:case o.OP_GREATERTHANOREQUAL:case o.OP_MIN:case o.OP_MAX:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;switch(m=s.fromScriptNumBuffer(this.stack[this.stack.length-2],A),g=s.fromScriptNumBuffer(this.stack[this.stack.length-1],A),y=new s(0),B){case o.OP_ADD:y=m.add(g);break;case o.OP_SUB:y=m.sub(g);break;case o.OP_BOOLAND:y=new s((0!==m.cmp(s.Zero)&&0!==g.cmp(s.Zero))+0);break;case o.OP_BOOLOR:y=new s((0!==m.cmp(s.Zero)||0!==g.cmp(s.Zero))+0);break;case o.OP_NUMEQUAL:case o.OP_NUMEQUALVERIFY:y=new s((0===m.cmp(g))+0);break;case o.OP_NUMNOTEQUAL:y=new s((0!==m.cmp(g))+0);break;case o.OP_LESSTHAN:y=new s((m.cmp(g)<0)+0);break;case o.OP_GREATERTHAN:y=new s((m.cmp(g)>0)+0);break;case o.OP_LESSTHANOREQUAL:y=new s((m.cmp(g)<=0)+0);break;case o.OP_GREATERTHANOREQUAL:y=new s((m.cmp(g)>=0)+0);break;case o.OP_MIN:y=m.cmp(g)<0?m:g;break;case o.OP_MAX:y=m.cmp(g)>0?m:g}if(this.stack.pop(),this.stack.pop(),this.stack.push(y.toScriptNumBuffer()),B===o.OP_NUMEQUALVERIFY){if(!f.castToBool(this.stack[this.stack.length-1]))return this.errstr=\"SCRIPT_ERR_NUMEQUALVERIFY\",!1;this.stack.pop()}break;case o.OP_WITHIN:if(this.stack.length<3)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;m=s.fromScriptNumBuffer(this.stack[this.stack.length-3],A),g=s.fromScriptNumBuffer(this.stack[this.stack.length-2],A);var O=s.fromScriptNumBuffer(this.stack[this.stack.length-1],A);k=g.cmp(m)<=0&&m.cmp(O)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(k?f.true:f.false);break;case o.OP_RIPEMD160:case o.OP_SHA1:case o.OP_SHA256:case o.OP_HASH160:case o.OP_HASH256:if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;var R;t=this.stack[this.stack.length-1],B===o.OP_RIPEMD160?R=a.ripemd160(t):B===o.OP_SHA1?R=a.sha1(t):B===o.OP_SHA256?R=a.sha256(t):B===o.OP_HASH160?R=a.sha256ripemd160(t):B===o.OP_HASH256&&(R=a.sha256sha256(t)),this.stack.pop(),this.stack.push(R);break;case o.OP_CODESEPARATOR:this.pbegincodehash=this.pc;break;case o.OP_CHECKSIG:case o.OP_CHECKSIGVERIFY:if(this.stack.length<2)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;b=this.stack[this.stack.length-2],v=this.stack[this.stack.length-1],_=(new i).set({chunks:this.script.chunks.slice(this.pbegincodehash)});var j=(new i).add(b);if(_.findAndDelete(j),!this.checkSignatureEncoding(b)||!this.checkPubkeyEncoding(v))return!1;try{w=u.fromTxFormat(b),S=c.fromBuffer(v,!1),E=this.tx.verifySignature(w,S,this.nin,_)}catch(t){E=!1}if(this.stack.pop(),this.stack.pop(),this.stack.push(E?f.true:f.false),B===o.OP_CHECKSIGVERIFY){if(!E)return this.errstr=\"SCRIPT_ERR_CHECKSIGVERIFY\",!1;this.stack.pop()}break;case o.OP_CHECKMULTISIG:case o.OP_CHECKMULTISIGVERIFY:var N=1;if(this.stack.length<N)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;var L=s.fromScriptNumBuffer(this.stack[this.stack.length-N],A).toNumber();if(L<0||L>20)return this.errstr=\"SCRIPT_ERR_PUBKEY_COUNT\",!1;if(this.nOpCount+=L,this.nOpCount>201)return this.errstr=\"SCRIPT_ERR_OP_COUNT\",!1;var K=++N;if(N+=L,this.stack.length<N)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;var D=s.fromScriptNumBuffer(this.stack[this.stack.length-N],A).toNumber();if(D<0||D>L)return this.errstr=\"SCRIPT_ERR_SIG_COUNT\",!1;var U=++N;if(N+=D,this.stack.length<N)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;_=(new i).set({chunks:this.script.chunks.slice(this.pbegincodehash)});for(var F=0;F<D;F++)b=this.stack[this.stack.length-U-F],_.findAndDelete((new i).add(b));for(E=!0;E&&D>0;){if(b=this.stack[this.stack.length-U],v=this.stack[this.stack.length-K],!this.checkSignatureEncoding(b)||!this.checkPubkeyEncoding(v))return!1;var q;try{w=u.fromTxFormat(b),S=c.fromBuffer(v,!1),q=this.tx.verifySignature(w,S,this.nin,_)}catch(t){q=!1}q&&(U++,D--),K++,D>--L&&(E=!1)}for(;N-- >1;)this.stack.pop();if(this.stack.length<1)return this.errstr=\"SCRIPT_ERR_INVALID_STACK_OPERATION\",!1;if(this.flags&f.SCRIPT_VERIFY_NULLDUMMY&&this.stack[this.stack.length-1].length)return this.errstr=\"SCRIPT_ERR_SIG_NULLDUMMY\",!1;if(this.stack.pop(),this.stack.push(E?f.true:f.false),B===o.OP_CHECKMULTISIGVERIFY){if(!E)return this.errstr=\"SCRIPT_ERR_CHECKMULTISIGVERIFY\",!1;this.stack.pop()}break;default:return this.errstr=\"SCRIPT_ERR_BAD_OPCODE\",!1}return!0}}).call(this,r(0).Buffer)},function(t,e){t.exports=function(t,e){for(var r=0,n=0;n<t.length&&n!=e.length&&0==(r=t[n]<e[n]?-1:t[n]>e[n]?1:0);++n);return 0==r&&(e.length>t.length?r=-1:t.length>e.length&&(r=1)),r}},function(t,e,r){\"use strict\";var n=r(81),i=r(21),o=(r(23),r(150)),s=r(91),a=r(90),u=r(70),c=r(69),f=r(151);function h(){o.apply(this,arguments)}n(h,o),h.prototype.getSignatures=function(t,e,r,n){i.checkState(this.output instanceof s),n=n||c.SIGHASH_ALL;var o=e.toPublicKey();return o.toString()===this.output.script.getPublicKey().toString(\"hex\")?[new f({publicKey:o,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:a.sign(t,e,n,r,this.output.script),sigtype:n})]:[]},h.prototype.addSignature=function(t,e){return i.checkState(this.isValidSignature(t,e),\"Signature is invalid\"),this.setScript(u.buildPublicKeyIn(e.signature.toDER(),e.sigtype)),this},h.prototype.clearSignatures=function(){return this.setScript(u.empty()),this},h.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},h.SCRIPT_MAX_SIZE=73,h.prototype._estimateSize=function(){return h.SCRIPT_MAX_SIZE},t.exports=h},function(t,e,r){\"use strict\";var n=r(81),i=r(21),o=r(23),s=r(45),a=r(150),u=r(91),c=r(90),f=r(70),h=r(69),l=r(151);function p(){a.apply(this,arguments)}n(p,a),p.prototype.getSignatures=function(t,e,r,n,a){return i.checkState(this.output instanceof u),a=a||s.sha256ripemd160(e.publicKey.toBuffer()),n=n||h.SIGHASH_ALL,o.equals(a,this.output.script.getPublicKeyHash())?[new l({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:c.sign(t,e,n,r,this.output.script),sigtype:n})]:[]},p.prototype.addSignature=function(t,e){return i.checkState(this.isValidSignature(t,e),\"Signature is invalid\"),this.setScript(f.buildPublicKeyHashIn(e.publicKey,e.signature.toDER(),e.sigtype)),this},p.prototype.clearSignatures=function(){return this.setScript(f.empty()),this},p.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()},p.SCRIPT_MAX_SIZE=107,p.prototype._estimateSize=function(){return p.SCRIPT_MAX_SIZE},t.exports=p},function(t,e,r){\"use strict\";var n=r(17),i=r(81),o=(r(281),r(150)),s=r(91),a=r(21),u=r(70),c=r(69),f=r(90),h=(r(78),r(23)),l=r(151);function p(t,e,r,i){o.apply(this,arguments);var s=this;e=e||t.publicKeys,r=r||t.threshold,i=i||t.signatures,this.publicKeys=n.sortBy(e,function(t){return t.toString(\"hex\")}),a.checkState(u.buildMultisigOut(this.publicKeys,r).equals(this.output.script),\"Provided public keys don't match to the provided output script\"),this.publicKeyIndex={},n.each(this.publicKeys,function(t,e){s.publicKeyIndex[t.toString()]=e}),this.threshold=r,this.signatures=i?this._deserializeSignatures(i):new Array(this.publicKeys.length)}i(p,o),p.prototype.toObject=function(){var t=o.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=n.map(this.publicKeys,function(t){return t.toString()}),t.signatures=this._serializeSignatures(),t},p.prototype._deserializeSignatures=function(t){return n.map(t,function(t){if(t)return new l(t)})},p.prototype._serializeSignatures=function(){return n.map(this.signatures,function(t){if(t)return t.toObject()})},p.prototype.getSignatures=function(t,e,r,i){a.checkState(this.output instanceof s),i=i||c.SIGHASH_ALL;var o=this,u=[];return n.each(this.publicKeys,function(n){n.toString()===e.publicKey.toString()&&u.push(new l({publicKey:e.publicKey,prevTxId:o.prevTxId,outputIndex:o.outputIndex,inputIndex:r,signature:f.sign(t,e,i,r,o.output.script),sigtype:i}))}),u},p.prototype.addSignature=function(t,e){return a.checkState(!this.isFullySigned(),\"All needed signatures have already been added\"),a.checkArgument(!n.isUndefined(this.publicKeyIndex[e.publicKey.toString()]),\"Signature has no matching public key\"),a.checkState(this.isValidSignature(t,e)),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this},p.prototype._updateScript=function(){return this.setScript(u.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},p.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(t){return!n.isUndefined(t)}),function(t){return h.concat([t.signature.toDER(),h.integerAsSingleByteBuffer(t.sigtype)])})},p.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},p.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},p.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},p.prototype.countSignatures=function(){return n.reduce(this.signatures,function(t,e){return t+!!e},0)},p.prototype.publicKeysWithoutSignature=function(){var t=this;return n.filter(this.publicKeys,function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]})},p.prototype.isValidSignature=function(t,e){return e.signature.nhashtype=e.sigtype,f.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)},p.normalizeSignatures=function(t,e,r,n,i){return i.map(function(i){var o=null;return n=n.filter(function(n){if(o)return!0;var s=new l({signature:c.fromTxFormat(n),publicKey:i,prevTxId:e.prevTxId,outputIndex:e.outputIndex,inputIndex:r,sigtype:c.SIGHASH_ALL});return s.signature.nhashtype=s.sigtype,!f.verify(t,s.signature,s.publicKey,s.inputIndex,e.output.script)||(o=s,!1)}),o||null})},p.OPCODES_SIZE=1,p.SIGNATURE_SIZE=73,p.prototype._estimateSize=function(){return p.OPCODES_SIZE+this.threshold*p.SIGNATURE_SIZE},t.exports=p},function(t,e,r){\"use strict\";var n=r(17),i=r(81),o=r(150),s=r(91),a=r(21),u=r(70),c=r(69),f=r(90),h=(r(78),r(23)),l=r(151);function p(t,e,r,i){o.apply(this,arguments);var s=this;e=e||t.publicKeys,r=r||t.threshold,i=i||t.signatures,this.publicKeys=n.sortBy(e,function(t){return t.toString(\"hex\")}),this.redeemScript=u.buildMultisigOut(this.publicKeys,r),a.checkState(u.buildScriptHashOut(this.redeemScript).equals(this.output.script),\"Provided public keys don't hash to the provided output\"),this.publicKeyIndex={},n.each(this.publicKeys,function(t,e){s.publicKeyIndex[t.toString()]=e}),this.threshold=r,this.signatures=i?this._deserializeSignatures(i):new Array(this.publicKeys.length)}i(p,o),p.prototype.toObject=function(){var t=o.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=n.map(this.publicKeys,function(t){return t.toString()}),t.signatures=this._serializeSignatures(),t},p.prototype._deserializeSignatures=function(t){return n.map(t,function(t){if(t)return new l(t)})},p.prototype._serializeSignatures=function(){return n.map(this.signatures,function(t){if(t)return t.toObject()})},p.prototype.getSignatures=function(t,e,r,i){a.checkState(this.output instanceof s),i=i||c.SIGHASH_ALL;var o=this,u=[];return n.each(this.publicKeys,function(n){n.toString()===e.publicKey.toString()&&u.push(new l({publicKey:e.publicKey,prevTxId:o.prevTxId,outputIndex:o.outputIndex,inputIndex:r,signature:f.sign(t,e,i,r,o.redeemScript),sigtype:i}))}),u},p.prototype.addSignature=function(t,e){return a.checkState(!this.isFullySigned(),\"All needed signatures have already been added\"),a.checkArgument(!n.isUndefined(this.publicKeyIndex[e.publicKey.toString()]),\"Signature has no matching public key\"),a.checkState(this.isValidSignature(t,e)),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this},p.prototype._updateScript=function(){return this.setScript(u.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript})),this},p.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(t){return!n.isUndefined(t)}),function(t){return h.concat([t.signature.toDER(),h.integerAsSingleByteBuffer(t.sigtype)])})},p.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},p.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},p.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},p.prototype.countSignatures=function(){return n.reduce(this.signatures,function(t,e){return t+!!e},0)},p.prototype.publicKeysWithoutSignature=function(){var t=this;return n.filter(this.publicKeys,function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]})},p.prototype.isValidSignature=function(t,e){return e.signature.nhashtype=e.sigtype,f.verify(t,e.signature,e.publicKey,e.inputIndex,this.redeemScript)},p.OPCODES_SIZE=7,p.SIGNATURE_SIZE=74,p.PUBKEY_SIZE=34,p.prototype._estimateSize=function(){return p.OPCODES_SIZE+this.threshold*p.SIGNATURE_SIZE+this.publicKeys.length*p.PUBKEY_SIZE},t.exports=p},function(t,e,r){\"use strict\";var n=r(17),i=r(21),o=r(30),s=r(0),a=r(59),u=r(23),c=r(28),f=r(1098);function h(t){return this instanceof h?(this.nullifiers=[],this.commitments=[],this.ciphertexts=[],this.macs=[],t?this._fromObject(t):void 0):new h(t)}Object.defineProperty(h.prototype,\"vpub_old\",{configurable:!1,enumerable:!0,get:function(){return this._vpub_old},set:function(t){t instanceof o?(this._vpub_oldBN=t,this._vpub_old=t.toNumber()):n.isString(t)?(this._vpub_old=parseInt(t),this._vpub_oldBN=o.fromNumber(this._vpub_old)):(i.checkArgument(c.isNaturalNumber(t),\"vpub_old is not a natural number\"),this._vpub_oldBN=o.fromNumber(t),this._vpub_old=t),i.checkState(c.isNaturalNumber(this._vpub_old),\"vpub_old is not a natural number\")}}),Object.defineProperty(h.prototype,\"vpub_new\",{configurable:!1,enumerable:!0,get:function(){return this._vpub_new},set:function(t){t instanceof o?(this._vpub_newBN=t,this._vpub_new=t.toNumber()):n.isString(t)?(this._vpub_new=parseInt(t),this._vpub_newBN=o.fromNumber(this._vpub_new)):(i.checkArgument(c.isNaturalNumber(t),\"vpub_new is not a natural number\"),this._vpub_newBN=o.fromNumber(t),this._vpub_new=t),i.checkState(c.isNaturalNumber(this._vpub_new),\"vpub_new is not a natural number\")}}),h.fromObject=function(t){return i.checkArgument(n.isObject(t)),(new h)._fromObject(t)},h.prototype._fromObject=function(t){var e=[];n.each(t.nullifiers,function(t){e.push(u.reverse(new s.Buffer(t,\"hex\")))});var r=[];n.each(t.commitments,function(t){r.push(u.reverse(new s.Buffer(t,\"hex\")))});var i=[];n.each(t.ciphertexts,function(t){i.push(new s.Buffer(t,\"hex\"))});var o=[];return n.each(t.macs,function(t){o.push(u.reverse(new s.Buffer(t,\"hex\")))}),this.vpub_old=t.vpub_old,this.vpub_new=t.vpub_new,this.anchor=u.reverse(new s.Buffer(t.anchor,\"hex\")),this.nullifiers=e,this.commitments=r,this.ephemeralKey=u.reverse(new s.Buffer(t.ephemeralKey,\"hex\")),this.ciphertexts=i,this.randomSeed=u.reverse(new s.Buffer(t.randomSeed,\"hex\")),this.macs=o,this.proof=f.fromObject(t.proof),this},h.prototype.toObject=h.prototype.toJSON=function(){var t=[];n.each(this.nullifiers,function(e){t.push(u.reverse(e).toString(\"hex\"))});var e=[];n.each(this.commitments,function(t){e.push(u.reverse(t).toString(\"hex\"))});var r=[];n.each(this.ciphertexts,function(t){r.push(t.toString(\"hex\"))});var i=[];return n.each(this.macs,function(t){i.push(u.reverse(t).toString(\"hex\"))}),{vpub_old:this.vpub_old,vpub_new:this.vpub_new,anchor:u.reverse(this.anchor).toString(\"hex\"),nullifiers:t,commitments:e,ephemeralKey:u.reverse(this.ephemeralKey).toString(\"hex\"),ciphertexts:r,randomSeed:u.reverse(this.randomSeed).toString(\"hex\"),macs:i,proof:this.proof.toObject()}},h.fromBufferReader=function(t){var e,r=new h;for(r.vpub_old=t.readUInt64LEBN(),r.vpub_new=t.readUInt64LEBN(),r.anchor=t.read(32),e=0;e<2;e++)r.nullifiers.push(t.read(32));for(e=0;e<2;e++)r.commitments.push(t.read(32));for(r.ephemeralKey=t.read(32),r.randomSeed=t.read(32),e=0;e<2;e++)r.macs.push(t.read(32));for(r.proof=f.fromBufferReader(t),e=0;e<2;e++)r.ciphertexts.push(t.read(601));return r},h.prototype.toBufferWriter=function(t){var e;for(t||(t=new a),t.writeUInt64LEBN(this._vpub_oldBN),t.writeUInt64LEBN(this._vpub_newBN),t.write(this.anchor),e=0;e<2;e++)t.write(this.nullifiers[e]);for(e=0;e<2;e++)t.write(this.commitments[e]);for(t.write(this.ephemeralKey),t.write(this.randomSeed),e=0;e<2;e++)t.write(this.macs[e]);for(this.proof.toBufferWriter(t),e=0;e<2;e++)t.write(this.ciphertexts[e]);return t},t.exports=h},function(t,e,r){\"use strict\";var n=r(21),i=r(0),o=r(59);function s(t){return this instanceof s?t?this._fromObject(t):void 0:new s(t)}function a(t){return this instanceof a?t?this._fromObject(t):void 0:new a(t)}function u(t){return this instanceof u?t?this._fromObject(t):void 0:new u(t)}s.fromObject=function(t){return n.checkArgument(_.isObject(t)),(new s)._fromObject(t)},s.prototype._fromObject=function(t){return this.y_lsb=t.y_lsb,this.x=new i.Buffer(t.x,\"hex\"),this},s.prototype.toObject=s.prototype.toJSON=function(){return{y_lsb:this.y_lsb,x:this.x.toString(\"hex\")}},s.fromBufferReader=function(t){var e=new s,r=t.readUInt8();return e.y_lsb=1&r,e.x=t.read(32),e},s.prototype.toBufferWriter=function(t){return t||(t=new o),t.writeUInt8(2|this.y_lsb),t.write(this.x),t},a.fromObject=function(t){return n.checkArgument(_.isObject(t)),(new a)._fromObject(t)},a.prototype._fromObject=function(t){return this.y_gt=t.y_gt,this.x=new i.Buffer(t.x,\"hex\"),this},a.prototype.toObject=a.prototype.toJSON=function(){return{y_gt:this.y_gt,x:this.x.toString(\"hex\")}},a.fromBufferReader=function(t){var e=new a,r=t.readUInt8();return e.y_gt=1&r,e.x=t.read(64),e},a.prototype.toBufferWriter=function(t){return t||(t=new o),t.writeUInt8(10|this.y_gt),t.write(this.x),t},u.fromObject=function(t){return n.checkArgument(_.isObject(t)),(new u)._fromObject(t)},u.prototype._fromObject=function(t){return this.g_A=s.fromObject(t.g_A),this.g_A_prime=s.fromObject(t.g_A_prime),this.g_B=a.fromObject(t.g_B),this.g_B_prime=s.fromObject(t.g_B_prime),this.g_C=s.fromObject(t.g_C),this.g_C_prime=s.fromObject(t.g_C_prime),this.g_K=s.fromObject(t.g_K),this.g_H=s.fromObject(t.g_H),this},u.prototype.toObject=u.prototype.toJSON=function(){return{g_A:this.g_A.toObject(),g_A_prime:this.g_A_prime.toObject(),g_B:this.g_B.toObject(),g_B_prime:this.g_B_prime.toObject(),g_C:this.g_C.toObject(),g_C_prime:this.g_C_prime.toObject(),g_K:this.g_K.toObject(),g_H:this.g_H.toObject()}},u.fromBufferReader=function(t){var e=new u;return e.g_A=s.fromBufferReader(t),e.g_A_prime=s.fromBufferReader(t),e.g_B=a.fromBufferReader(t),e.g_B_prime=s.fromBufferReader(t),e.g_C=s.fromBufferReader(t),e.g_C_prime=s.fromBufferReader(t),e.g_K=s.fromBufferReader(t),e.g_H=s.fromBufferReader(t),e},u.prototype.toBufferWriter=function(t){return t||(t=new o),this.g_A.toBufferWriter(t),this.g_A_prime.toBufferWriter(t),this.g_B.toBufferWriter(t),this.g_B_prime.toBufferWriter(t),this.g_C.toBufferWriter(t),this.g_C_prime.toBufferWriter(t),this.g_K.toBufferWriter(t),this.g_H.toBufferWriter(t),t},t.exports=u},function(t,e,r){\"use strict\";(function(e){var n=r(59),i=r(89),o=r(30),s=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r))this.buf=r;else if(\"number\"==typeof r){var n=r;this.fromNumber(n)}else if(r instanceof o){var i=r;this.fromBN(i)}else if(r){var s=r;this.set(s)}};s.prototype.set=function(t){return this.buf=t.buf||this.buf,this},s.prototype.fromString=function(t){return this.set({buf:new e(t,\"hex\")}),this},s.prototype.toString=function(){return this.buf.toString(\"hex\")},s.prototype.fromBuffer=function(t){return this.buf=t,this},s.prototype.fromBufferReader=function(t){return this.buf=t.readVarintBuf(),this},s.prototype.fromBN=function(t){return this.buf=n().writeVarintBN(t).concat(),this},s.prototype.fromNumber=function(t){return this.buf=n().writeVarintNum(t).concat(),this},s.prototype.toBuffer=function(){return this.buf},s.prototype.toBN=function(){return i(this.buf).readVarintBN()},s.prototype.toNumber=function(){return i(this.buf).readVarintNum()},t.exports=s}).call(this,r(0).Buffer)},function(t,e,r){t.exports=r(1101),t.exports.BlockHeader=r(211),t.exports.MerkleBlock=r(498)},function(t,e,r){\"use strict\";(function(e){var n=r(17),i=r(211),o=r(30),s=r(23),a=r(89),u=r(59),c=r(45),f=r(209),h=r(21);function l(t){return this instanceof l?(n.extend(this,l._from(t)),this):new l(t)}l.MAX_BLOCK_SIZE=1e6,l._from=function(t){var e={};if(s.isBuffer(t))e=l._fromBufferReader(a(t));else{if(!n.isObject(t))throw new TypeError(\"Unrecognized argument for Block\");e=l._fromObject(t)}return e},l._fromObject=function(t){var e=[];return t.transactions.forEach(function(t){t instanceof f?e.push(t):e.push(f().fromObject(t))}),{header:i.fromObject(t.header),transactions:e}},l.fromObject=function(t){return new l(l._fromObject(t))},l._fromBufferReader=function(t){var e={};h.checkState(!t.finished(),\"No block data received\"),e.header=i.fromBufferReader(t);var r=t.readVarintNum();e.transactions=[];for(var n=0;n<r;n++)e.transactions.push(f().fromBufferReader(t));return e},l.fromBufferReader=function(t){return h.checkArgument(t,\"br is required\"),new l(l._fromBufferReader(t))},l.fromBuffer=function(t){return l.fromBufferReader(new a(t))},l.fromString=function(t){var r=new e(t,\"hex\");return l.fromBuffer(r)},l.fromRawBlock=function(t){s.isBuffer(t)||(t=new e(t,\"binary\"));var r=a(t);return r.pos=l.Values.START_OF_BLOCK,new l(l._fromBufferReader(r))},l.prototype.toObject=l.prototype.toJSON=function(){var t=[];return this.transactions.forEach(function(e){t.push(e.toObject())}),{header:this.header.toObject(),transactions:t}},l.prototype.toBuffer=function(){return this.toBufferWriter().concat()},l.prototype.toString=function(){return this.toBuffer().toString(\"hex\")},l.prototype.toBufferWriter=function(t){t||(t=new u),t.write(this.header.toBuffer()),t.writeVarintNum(this.transactions.length);for(var e=0;e<this.transactions.length;e++)this.transactions[e].toBufferWriter(t);return t},l.prototype.getTransactionHashes=function(){var t=[];if(0===this.transactions.length)return[l.Values.NULL_HASH];for(var e=0;e<this.transactions.length;e++)t.push(this.transactions[e]._getHash());return t},l.prototype.getMerkleTree=function(){for(var t=this.getTransactionHashes(),r=0,n=this.transactions.length;n>1;n=Math.floor((n+1)/2)){for(var i=0;i<n;i+=2){var o=Math.min(i+1,n-1),s=e.concat([t[r+i],t[r+o]]);t.push(c.sha256sha256(s))}r+=n}return t},l.prototype.getMerkleRoot=function(){var t=this.getMerkleTree();return t[t.length-1]},l.prototype.validMerkleRoot=function(){var t=new o(this.header.merkleRoot.toString(\"hex\"),\"hex\"),e=new o(this.getMerkleRoot().toString(\"hex\"),\"hex\");return 0===t.cmp(e)},l.prototype._getHash=function(){return this.header._getHash()};var p={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:n.noop};Object.defineProperty(l.prototype,\"id\",p),Object.defineProperty(l.prototype,\"hash\",p),l.prototype.inspect=function(){return\"<Block \"+this.id+\">\"},l.Values={START_OF_BLOCK:8,NULL_HASH:new e(\"0000000000000000000000000000000000000000000000000000000000000000\",\"hex\")},t.exports=l}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(17),i=r(79),o=r(105),s=r(283),a=function(t,e){if(!(this instanceof a))return new a(t,e);if(this.extras={},this.knownParams=e||[],this.address=this.network=this.amount=this.message=null,\"string\"==typeof t){var r=a.parse(t);r.amount&&(r.amount=this._parseAmount(r.amount)),this._fromObject(r)}else{if(\"object\"!=typeof t)throw new TypeError(\"Unrecognized data format.\");this._fromObject(t)}};a.fromString=function(t){if(\"string\"!=typeof t)throw new TypeError(\"Expected a string\");return new a(t)},a.fromObject=function(t){return new a(t)},a.isValid=function(t,e){try{new a(t,e)}catch(t){return!1}return!0},a.parse=function(t){var e=i.parse(t,!0);if(\"zcash:\"!==e.protocol)throw new TypeError(\"Invalid zcash URI\");var r=/[^:]*:\\/?\\/?([^?]*)/.exec(t);return e.query.address=r&&r[1]||void 0,e.query},a.Members=[\"address\",\"amount\",\"message\",\"label\",\"r\"],a.prototype._fromObject=function(t){if(!o.isValid(t.address))throw new TypeError(\"Invalid zcash address\");for(var e in this.address=new o(t.address),this.network=this.address.network,this.amount=t.amount,t)if(\"address\"!==e&&\"amount\"!==e){if(/^req-/.exec(e)&&-1===this.knownParams.indexOf(e))throw Error(\"Unknown required argument \"+e);(a.Members.indexOf(e)>-1?this:this.extras)[e]=t[e]}},a.prototype._parseAmount=function(t){if(t=Number(t),isNaN(t))throw new TypeError(\"Invalid amount\");return s.fromBTC(t).toSatoshis()},a.prototype.toObject=a.prototype.toJSON=function(){for(var t={},e=0;e<a.Members.length;e++){var r=a.Members[e];this.hasOwnProperty(r)&&void 0!==this[r]&&(t[r]=this[r].toString())}return n.extend(t,this.extras),t},a.prototype.toString=function(){var t={};return this.amount&&(t.amount=s.fromSatoshis(this.amount).toBTC()),this.message&&(t.message=this.message),this.label&&(t.label=this.label),this.r&&(t.r=this.r),n.extend(t,this.extras),i.format({protocol:\"zcash:\",host:this.address,query:t})},a.prototype.inspect=function(){return\"<URI: \"+this.toString()+\">\"},t.exports=a},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1105),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(287)),o=r(14);e=t.exports;const s={rsa:r(1116),ed25519:r(1129),secp256k1:r(62)(i,r(530))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1142),e.generateEphemeralKeyPair=r(1143),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var r={};t.exports=r;var n={};r.encode=function(t,e,r){if(\"string\"!=typeof e)throw new TypeError('\"alphabet\" must be a string.');if(void 0!==r&&\"number\"!=typeof r)throw new TypeError('\"maxline\" must be a number.');var n=\"\";if(t instanceof Uint8Array){var i=0,o=e.length,s=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var u=0,c=t[i];u<a.length;++u)c+=a[u]<<8,a[u]=c%o,c=c/o|0;for(;c>0;)a.push(c%o),c=c/o|0}for(i=0;0===t[i]&&i<t.length-1;++i)n+=s;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}else n=function(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var s=0,a=t.at(r);s<o.length;++s)a+=o[s]<<8,o[s]=a%n,a=a/n|0;for(;a>0;)o.push(a%n),a=a/n|0}var u=\"\";for(r=0;0===t.at(r)&&r<t.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=e[o[r]];return u}(t,e);if(r){var f=new RegExp(\".{1,\"+r+\"}\",\"g\");n=n.match(f).join(\"\\r\\n\")}return n},r.decode=function(t,r){if(\"string\"!=typeof t)throw new TypeError('\"input\" must be a string.');if(\"string\"!=typeof r)throw new TypeError('\"alphabet\" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var o=0;o<r.length;++o)i[r.charCodeAt(o)]=o}t=t.replace(/\\s/g,\"\");var s=r.length,a=r.charAt(0),u=[0];for(o=0;o<t.length;o++){var c=i[t.charCodeAt(o)];if(void 0===c)return;for(var f=0,h=c;f<u.length;++f)h+=u[f]*s,u[f]=255&h,h>>=8;for(;h>0;)u.push(255&h),h>>=8}for(var l=0;t[l]===a&&l<t.length-1;++l)u.push(0);return void 0!==e?e.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(12);r(106),r(503);var i=t.exports=n.tls;function o(t,e,r){var o=e.entity===n.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:n.cipher.createDecipher(\"AES-CBC\",o?r.keys.server_write_key:r.keys.client_write_key),iv:o?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:n.cipher.createCipher(\"AES-CBC\",o?r.keys.client_write_key:r.keys.server_write_key),iv:o?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=c,t.write.cipherFunction=s,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=i.hmac_sha1}function s(t,e){var r,o=!1,s=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(s),e.updateSequenceNumber(),r=t.version.minor===i.Versions.TLS_1_0.minor?e.cipherState.init?null:e.cipherState.iv:n.random.getBytesSync(16),e.cipherState.init=!0;var u=e.cipherState.cipher;return u.start({iv:r}),t.version.minor>=i.Versions.TLS_1_1.minor&&u.output.putBytes(r),u.update(t.fragment),u.finish(a)&&(t.fragment=u.output,t.length=t.fragment.length(),o=!0),o}function a(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}function u(t,e,r){var n=!0;if(r){for(var i=e.length(),o=e.last(),s=i-1-o;s<i-1;++s)n=n&&e.at(s)==o;n&&e.truncate(o+1)}return n}i.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:\"TLS_RSA_WITH_AES_128_CBC_SHA\",initSecurityParameters:function(t){t.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,t.cipher_type=i.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=i.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:o},i.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:\"TLS_RSA_WITH_AES_256_CBC_SHA\",initSecurityParameters:function(t){t.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,t.cipher_type=i.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=i.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:o};function c(t,e){var r,o=!1;0,r=t.version.minor===i.Versions.TLS_1_0.minor?e.cipherState.init?null:e.cipherState.iv:t.fragment.getBytes(16),e.cipherState.init=!0;var s=e.cipherState.cipher;s.start({iv:r}),s.update(t.fragment),o=s.finish(u);var a=e.macLength,c=n.random.getBytesSync(a),f=s.output.length();f>=a?(t.fragment=s.output.getBytes(f-a),c=s.output.getBytes(a)):t.fragment=s.output.getBytes(),t.fragment=n.util.createBuffer(t.fragment),t.length=t.fragment.length();var h=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),o=function(t,e,r){var i=n.hmac.create();return i.start(\"SHA1\",t),i.update(e),e=i.digest().getBytes(),i.start(null,null),i.update(r),r=i.digest().getBytes(),e===r}(e.macKey,c,h)&&o}},function(t,e,r){var n=r(12);r(514),t.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},function(t,e,r){(function(e){var n=r(12);if(r(214),r(71),r(516),r(18),void 0===i)var i=n.jsbn.BigInteger;var o=n.util.ByteBuffer,s=void 0===e?Uint8Array:e;n.pki=n.pki||{},t.exports=n.pki.ed25519=n.ed25519=n.ed25519||{};var a=n.ed25519;function u(t){var r=t.message;if(r instanceof Uint8Array)return r;var n=t.encoding;if(void 0===r){if(!t.md)throw new TypeError('\"options.message\" or \"options.md\" not specified.');r=t.md.digest().getBytes(),n=\"binary\"}if(\"string\"==typeof r&&!n)throw new TypeError('\"options.encoding\" must be \"binary\" or \"utf8\".');if(\"string\"==typeof r){if(void 0!==e)return new e(r,n);r=new o(r,n)}else if(!(r instanceof o))throw new TypeError('\"options.message\" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with \"options.encoding\" specifying its encoding.');for(var i=new s(r.length()),a=0;a<i.length;++a)i[a]=r.at(a);return i}a.constants={},a.constants.PUBLIC_KEY_BYTE_LENGTH=32,a.constants.PRIVATE_KEY_BYTE_LENGTH=64,a.constants.SEED_BYTE_LENGTH=32,a.constants.SIGN_BYTE_LENGTH=64,a.constants.HASH_BYTE_LENGTH=64,a.generateKeyPair=function(t){var e=(t=t||{}).seed;if(void 0===e)e=n.random.getBytesSync(a.constants.SEED_BYTE_LENGTH);else if(\"string\"==typeof e){if(e.length!==a.constants.SEED_BYTE_LENGTH)throw new TypeError('\"seed\" must be '+a.constants.SEED_BYTE_LENGTH+\" bytes in length.\")}else if(!(e instanceof Uint8Array))throw new TypeError('\"seed\" must be a node.js Buffer, Uint8Array, or a binary string.');e=u({message:e,encoding:\"binary\"});for(var r=new s(a.constants.PUBLIC_KEY_BYTE_LENGTH),i=new s(a.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)i[o]=e[o];return function(t,e){var r,n=[P(),P(),P(),P()],i=g(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,B(n,i),S(t,n),r=0;r<32;++r)e[r+32]=t[r]}(r,i),{publicKey:r,privateKey:i}},a.publicKeyFromPrivateKey=function(t){var e=u({message:(t=t||{}).privateKey,encoding:\"binary\"});if(e.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('\"options.privateKey\" must have a byte length of '+a.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new s(a.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r},a.sign=function(t){var e=u(t=t||{}),r=u({message:t.privateKey,encoding:\"binary\"});if(r.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('\"options.privateKey\" must have a byte length of '+a.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new s(a.constants.SIGN_BYTE_LENGTH+e.length);!function(t,e,r,n){var i,o,s=new Float64Array(64),a=[P(),P(),P(),P()],u=g(n,32);u[0]&=248,u[31]&=127,u[31]|=64;var c=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=u[32+i];var f=g(t.subarray(32),r+32);for(v(f),B(a,f),S(t,a),i=32;i<64;++i)t[i]=n[i];var h=g(t,r+64);for(v(h),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=f[i];for(i=0;i<32;++i)for(o=0;o<32;o++)s[i+o]+=h[i]*u[o];b(t.subarray(32),s)}(n,e,e.length,r);for(var i=new s(a.constants.SIGN_BYTE_LENGTH),o=0;o<i.length;++o)i[o]=n[o];return i},a.verify=function(t){var e=u(t=t||{});if(void 0===t.signature)throw new TypeError('\"options.signature\" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=u({message:t.signature,encoding:\"binary\"});if(r.length!==a.constants.SIGN_BYTE_LENGTH)throw new TypeError('\"options.signature\" must have a byte length of '+a.constants.SIGN_BYTE_LENGTH);var n=u({message:t.publicKey,encoding:\"binary\"});if(n.length!==a.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('\"options.publicKey\" must have a byte length of '+a.constants.PUBLIC_KEY_BYTE_LENGTH);var i,o=new s(a.constants.SIGN_BYTE_LENGTH+e.length),l=new s(a.constants.SIGN_BYTE_LENGTH+e.length);for(i=0;i<a.constants.SIGN_BYTE_LENGTH;++i)o[i]=r[i];for(i=0;i<e.length;++i)o[i+a.constants.SIGN_BYTE_LENGTH]=e[i];return function(t,e,r,n){var i,o=new s(32),a=[P(),P(),P(),P()],u=[P(),P(),P(),P()];if(-1,r<64)return-1;if(function(t,e){var r=P(),n=P(),i=P(),o=P(),s=P(),a=P(),u=P();I(t[2],f),function(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(t[1],e),j(i,t[1]),N(o,i,h),R(i,i,t[2]),O(o,t[2],o),j(s,o),j(a,s),N(u,a,s),N(r,u,i),N(r,r,o),function(t,e){var r,n=P();for(r=0;r<16;++r)n[r]=e[r];for(r=250;r>=0;--r)j(n,n),1!==r&&N(n,n,e);for(r=0;r<16;++r)t[r]=n[r]}(r,r),N(r,r,i),N(r,r,o),N(r,r,o),N(t[0],r,o),j(n,t[0]),N(n,n,o),E(n,i)&&N(t[0],t[0],m);if(j(n,t[0]),N(n,n,o),E(n,i))return-1;x(t[0])===e[31]>>7&&R(t[0],c,t[0]);return N(t[3],t[0],t[1]),0}(u,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var l=g(t,r);if(v(l),T(a,u,l),B(u,e.subarray(32)),_(a,u),S(o,a),r-=64,A(e,0,o,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return r}(l,o,o.length,n)>=0};var c=P(),f=P([1]),h=P([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=P([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=P([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=P([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),m=P([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(t,r){var i=n.md.sha512.create(),u=new o(t);i.update(u.getBytes(r),\"binary\");var c=i.digest().getBytes();if(void 0!==e)return new e(c,\"binary\");for(var f=new s(a.constants.HASH_BYTE_LENGTH),h=0;h<64;++h)f[h]=c.charCodeAt(h);return f}function b(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*y[i-(n-32)],r=e[i]+128>>8,e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*y[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*y[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function v(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;b(t,e)}function _(t,e){var r=P(),n=P(),i=P(),o=P(),s=P(),a=P(),u=P(),c=P(),f=P();R(r,t[1],t[0]),R(f,e[1],e[0]),N(r,r,f),O(n,t[0],t[1]),O(f,e[0],e[1]),N(n,n,f),N(i,t[3],e[3]),N(i,i,l),N(o,t[2],e[2]),O(o,o,o),R(s,n,r),R(a,o,i),O(u,o,i),O(c,n,r),N(t[0],s,a),N(t[1],c,u),N(t[2],u,a),N(t[3],s,c)}function w(t,e,r){for(var n=0;n<4;++n)M(t[n],e[n],r)}function S(t,e){var r=P(),n=P(),i=P();!function(t,e){var r,n=P();for(r=0;r<16;++r)n[r]=e[r];for(r=253;r>=0;--r)j(n,n),2!==r&&4!==r&&N(n,n,e);for(r=0;r<16;++r)t[r]=n[r]}(i,e[2]),N(r,e[0],i),N(n,e[1],i),k(t,n),t[31]^=x(r)<<7}function k(t,e){var r,n,i,o=P(),s=P();for(r=0;r<16;++r)s[r]=e[r];for(C(s),C(s),C(s),n=0;n<2;++n){for(o[0]=s[0]-65517,r=1;r<15;++r)o[r]=s[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,M(s,o,1-i)}for(r=0;r<16;r++)t[2*r]=255&s[r],t[2*r+1]=s[r]>>8}function E(t,e){var r=new s(32),n=new s(32);return k(r,t),k(n,e),A(r,0,n,0)}function A(t,e,r,n){return function(t,e,r,n,i){var o,s=0;for(o=0;o<i;++o)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}(t,e,r,n,32)}function x(t){var e=new s(32);return k(e,t),1&e[0]}function T(t,e,r){var n,i;for(I(t[0],c),I(t[1],f),I(t[2],f),I(t[3],c),i=255;i>=0;--i)w(t,e,n=r[i/8|0]>>(7&i)&1),_(e,t),_(t,t),w(t,e,n)}function B(t,e){var r=[P(),P(),P(),P()];I(r[0],p),I(r[1],d),I(r[2],f),N(r[3],p,d),T(t,r,e)}function I(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function C(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function M(t,e,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function P(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function O(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}function R(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}function j(t,e){N(t,e,e)}function N(t,e,r){var n,i,o=0,s=0,a=0,u=0,c=0,f=0,h=0,l=0,p=0,d=0,y=0,m=0,g=0,b=0,v=0,_=0,w=0,S=0,k=0,E=0,A=0,x=0,T=0,B=0,I=0,C=0,M=0,P=0,O=0,R=0,j=0,N=r[0],L=r[1],K=r[2],D=r[3],U=r[4],F=r[5],q=r[6],H=r[7],z=r[8],V=r[9],G=r[10],W=r[11],$=r[12],Y=r[13],J=r[14],Z=r[15];o+=(n=e[0])*N,s+=n*L,a+=n*K,u+=n*D,c+=n*U,f+=n*F,h+=n*q,l+=n*H,p+=n*z,d+=n*V,y+=n*G,m+=n*W,g+=n*$,b+=n*Y,v+=n*J,_+=n*Z,s+=(n=e[1])*N,a+=n*L,u+=n*K,c+=n*D,f+=n*U,h+=n*F,l+=n*q,p+=n*H,d+=n*z,y+=n*V,m+=n*G,g+=n*W,b+=n*$,v+=n*Y,_+=n*J,w+=n*Z,a+=(n=e[2])*N,u+=n*L,c+=n*K,f+=n*D,h+=n*U,l+=n*F,p+=n*q,d+=n*H,y+=n*z,m+=n*V,g+=n*G,b+=n*W,v+=n*$,_+=n*Y,w+=n*J,S+=n*Z,u+=(n=e[3])*N,c+=n*L,f+=n*K,h+=n*D,l+=n*U,p+=n*F,d+=n*q,y+=n*H,m+=n*z,g+=n*V,b+=n*G,v+=n*W,_+=n*$,w+=n*Y,S+=n*J,k+=n*Z,c+=(n=e[4])*N,f+=n*L,h+=n*K,l+=n*D,p+=n*U,d+=n*F,y+=n*q,m+=n*H,g+=n*z,b+=n*V,v+=n*G,_+=n*W,w+=n*$,S+=n*Y,k+=n*J,E+=n*Z,f+=(n=e[5])*N,h+=n*L,l+=n*K,p+=n*D,d+=n*U,y+=n*F,m+=n*q,g+=n*H,b+=n*z,v+=n*V,_+=n*G,w+=n*W,S+=n*$,k+=n*Y,E+=n*J,A+=n*Z,h+=(n=e[6])*N,l+=n*L,p+=n*K,d+=n*D,y+=n*U,m+=n*F,g+=n*q,b+=n*H,v+=n*z,_+=n*V,w+=n*G,S+=n*W,k+=n*$,E+=n*Y,A+=n*J,x+=n*Z,l+=(n=e[7])*N,p+=n*L,d+=n*K,y+=n*D,m+=n*U,g+=n*F,b+=n*q,v+=n*H,_+=n*z,w+=n*V,S+=n*G,k+=n*W,E+=n*$,A+=n*Y,x+=n*J,T+=n*Z,p+=(n=e[8])*N,d+=n*L,y+=n*K,m+=n*D,g+=n*U,b+=n*F,v+=n*q,_+=n*H,w+=n*z,S+=n*V,k+=n*G,E+=n*W,A+=n*$,x+=n*Y,T+=n*J,B+=n*Z,d+=(n=e[9])*N,y+=n*L,m+=n*K,g+=n*D,b+=n*U,v+=n*F,_+=n*q,w+=n*H,S+=n*z,k+=n*V,E+=n*G,A+=n*W,x+=n*$,T+=n*Y,B+=n*J,I+=n*Z,y+=(n=e[10])*N,m+=n*L,g+=n*K,b+=n*D,v+=n*U,_+=n*F,w+=n*q,S+=n*H,k+=n*z,E+=n*V,A+=n*G,x+=n*W,T+=n*$,B+=n*Y,I+=n*J,C+=n*Z,m+=(n=e[11])*N,g+=n*L,b+=n*K,v+=n*D,_+=n*U,w+=n*F,S+=n*q,k+=n*H,E+=n*z,A+=n*V,x+=n*G,T+=n*W,B+=n*$,I+=n*Y,C+=n*J,M+=n*Z,g+=(n=e[12])*N,b+=n*L,v+=n*K,_+=n*D,w+=n*U,S+=n*F,k+=n*q,E+=n*H,A+=n*z,x+=n*V,T+=n*G,B+=n*W,I+=n*$,C+=n*Y,M+=n*J,P+=n*Z,b+=(n=e[13])*N,v+=n*L,_+=n*K,w+=n*D,S+=n*U,k+=n*F,E+=n*q,A+=n*H,x+=n*z,T+=n*V,B+=n*G,I+=n*W,C+=n*$,M+=n*Y,P+=n*J,O+=n*Z,v+=(n=e[14])*N,_+=n*L,w+=n*K,S+=n*D,k+=n*U,E+=n*F,A+=n*q,x+=n*H,T+=n*z,B+=n*V,I+=n*G,C+=n*W,M+=n*$,P+=n*Y,O+=n*J,R+=n*Z,_+=(n=e[15])*N,s+=38*(S+=n*K),a+=38*(k+=n*D),u+=38*(E+=n*U),c+=38*(A+=n*F),f+=38*(x+=n*q),h+=38*(T+=n*H),l+=38*(B+=n*z),p+=38*(I+=n*V),d+=38*(C+=n*G),y+=38*(M+=n*W),m+=38*(P+=n*$),g+=38*(O+=n*Y),b+=38*(R+=n*J),v+=38*(j+=n*Z),o=(n=(o+=38*(w+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=u,t[4]=c,t[5]=f,t[6]=h,t[7]=l,t[8]=p,t[9]=d,t[10]=y,t[11]=m,t[12]=g,t[13]=b,t[14]=v,t[15]=_}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(12);r(18),r(71),r(214),t.exports=n.kem=n.kem||{};var i=n.jsbn.BigInteger;function o(t,e,r,i){t.generate=function(t,o){for(var s=new n.util.ByteBuffer,a=Math.ceil(o/i)+r,u=new n.util.ByteBuffer,c=r;c<a;++c){u.putInt32(c),e.start(),e.update(t+u.getBytes());var f=e.digest();s.putBytes(f.getBytes(i))}return s.truncate(s.length()-o),s.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(t,e){var r=(e=e||{}).prng||n.random,o={encrypt:function(e,o){var s,a=Math.ceil(e.n.bitLength()/8);do{s=new i(n.util.bytesToHex(r.getBytesSync(a)),16).mod(e.n)}while(s.equals(i.ZERO));var u=a-(s=n.util.hexToBytes(s.toString(16))).length;return u>0&&(s=n.util.fillString(String.fromCharCode(0),u)+s),{encapsulation:e.encrypt(s,\"NONE\"),key:t.generate(s,o)}},decrypt:function(e,r,n){var i=e.decrypt(r,\"NONE\");return t.generate(i,n)}};return o},n.kem.kdf1=function(t,e){o(this,t,0,e||t.digestLength)},n.kem.kdf2=function(t,e){o(this,t,1,e||t.digestLength)}},function(t,e,r){t.exports=r(83),r(289),r(153),r(507),r(516)},function(t,e,r){var n=r(12);r(106),r(82),r(212),r(107),r(118),r(513),r(71),r(18),r(291);var i=n.asn1,o=t.exports=n.pkcs7=n.pkcs7||{};function s(t){var e={},r=[];if(!i.validate(t,o.asn1.recipientInfoValidator,e,r)){var s=new Error(\"Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.\");throw s.errors=r,s}return{version:e.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(e.issuer),serialNumber:n.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:i.derToOid(e.encAlgorithm),parameter:e.encParameter.value,content:e.encKey}}}function a(t){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])}function u(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")])),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),o=0;o<t.unauthenticatedAttributes.length;++o){var s=t.unauthenticatedAttributes[o];r.values.push(c(s))}e.value.push(r)}return e}function c(t){var e;if(t.type===n.pki.oids.contentType)e=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.value).getBytes());else if(t.type===n.pki.oids.messageDigest)e=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===n.pki.oids.signingTime){var r=new Date(\"1950-01-01T00:00:00Z\"),o=new Date(\"2050-01-01T00:00:00Z\"),s=t.value;if(\"string\"==typeof s){var a=Date.parse(s);s=isNaN(a)?13===s.length?i.utcTimeToDate(s):i.generalizedTimeToDate(s):new Date(a)}e=s>=r&&s<o?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(s)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(s))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[e])])}function f(t,e,r){var o={};if(!i.validate(e,r,o,[])){var s=new Error(\"Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.\");throw s.errors=s,s}if(i.derToOid(o.contentType)!==n.pki.oids.data)throw new Error(\"Unsupported PKCS#7 message. Only wrapped ContentType Data supported.\");if(o.encryptedContent){var a=\"\";if(n.util.isArray(o.encryptedContent))for(var u=0;u<o.encryptedContent.length;++u){if(o.encryptedContent[u].type!==i.Type.OCTETSTRING)throw new Error(\"Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.\");a+=o.encryptedContent[u].value}else a=o.encryptedContent;t.encryptedContent={algorithm:i.derToOid(o.encAlgorithm),parameter:n.util.createBuffer(o.encParameter.value),content:n.util.createBuffer(a)}}if(o.content){a=\"\";if(n.util.isArray(o.content))for(u=0;u<o.content.length;++u){if(o.content[u].type!==i.Type.OCTETSTRING)throw new Error(\"Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.\");a+=o.content[u].value}else a=o.content;t.content=n.util.createBuffer(a)}return t.version=o.version.charCodeAt(0),t.rawCapture=o,o}function h(t){if(void 0===t.encryptedContent.key)throw new Error(\"Symmetric key not available.\");if(void 0===t.content){var e;switch(t.encryptedContent.algorithm){case n.pki.oids[\"aes128-CBC\"]:case n.pki.oids[\"aes192-CBC\"]:case n.pki.oids[\"aes256-CBC\"]:e=n.aes.createDecryptionCipher(t.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids[\"des-EDE3-CBC\"]:e=n.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error(\"Unsupported symmetric cipher, OID \"+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error(\"Symmetric decryption failed.\");t.content=e.output}}o.messageFromPem=function(t){var e=n.pem.decode(t)[0];if(\"PKCS7\"!==e.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not \"PKCS#7\".');throw r.headerType=e.type,r}if(e.procType&&\"ENCRYPTED\"===e.procType.type)throw new Error(\"Could not convert PKCS#7 message from PEM; PEM is encrypted.\");var s=i.fromDer(e.body);return o.messageFromAsn1(s)},o.messageToPem=function(t,e){var r={type:\"PKCS7\",body:i.toDer(t.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:e})},o.messageFromAsn1=function(t){var e={},r=[];if(!i.validate(t,o.asn1.contentInfoValidator,e,r)){var s=new Error(\"Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.\");throw s.errors=r,s}var a,u=i.derToOid(e.contentType);switch(u){case n.pki.oids.envelopedData:a=o.createEnvelopedData();break;case n.pki.oids.encryptedData:a=o.createEncryptedData();break;case n.pki.oids.signedData:a=o.createSignedData();break;default:throw new Error(\"Cannot read PKCS#7 message. ContentType with OID \"+u+\" is not (yet) supported.\")}return a.fromAsn1(e.content.value[0]),a},o.createSignedData=function(){var t=null;return t={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(e){if(f(t,e,o.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var r=t.rawCapture.certificates.value,i=0;i<r.length;++i)t.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){t.contentInfo||t.sign();for(var e=[],r=0;r<t.certificates.length;++r)e.push(n.pki.certificateToAsn1(t.certificates[r]));var o=[],s=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return e.length>0&&s.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,e)),o.length>0&&s.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,o)),s.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,t.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),s])},addSigner:function(e){var r=e.issuer,i=e.serialNumber;if(e.certificate){var o=e.certificate;\"string\"==typeof o&&(o=n.pki.certificateFromPem(o)),r=o.issuer.attributes,i=o.serialNumber}var s=e.key;if(!s)throw new Error(\"Could not add PKCS#7 signer; no private key specified.\");\"string\"==typeof s&&(s=n.pki.privateKeyFromPem(s));var a=e.digestAlgorithm||n.pki.oids.sha1;switch(a){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error(\"Could not add PKCS#7 signer; unknown message digest algorithm: \"+a)}var u=e.authenticatedAttributes||[];if(u.length>0){for(var c=!1,f=!1,h=0;h<u.length;++h){var l=u[h];if(c||l.type!==n.pki.oids.contentType){if(f||l.type!==n.pki.oids.messageDigest);else if(f=!0,c)break}else if(c=!0,f)break}if(!c||!f)throw new Error(\"Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.\")}t.signers.push({key:s,version:1,issuer:r,serialNumber:i,digestAlgorithm:a,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(){var e;\"object\"==typeof t.content&&null!==t.contentInfo||(t.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),\"content\"in t&&(t.content instanceof n.util.ByteBuffer?e=t.content.bytes():\"string\"==typeof t.content&&(e=n.util.encodeUtf8(t.content)),t.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e)]))));0!==t.signers.length&&function(e){if(t.contentInfo.value.length<2)throw new Error(\"Could not sign PKCS#7 message; there is no content to sign.\");var r=i.derToOid(t.contentInfo.value[0].value),o=t.contentInfo.value[1];o=o.value[0];var s=i.toDer(o);for(var a in s.getByte(),i.getBerValueLength(s),s=s.getBytes(),e)e[a].start().update(s);for(var f=new Date,h=0;h<t.signers.length;++h){var l=t.signers[h];if(0===l.authenticatedAttributes.length){if(r!==n.pki.oids.data)throw new Error(\"Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.\")}else{l.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),d=0;d<l.authenticatedAttributes.length;++d){var y=l.authenticatedAttributes[d];y.type===n.pki.oids.messageDigest?y.value=e[l.digestAlgorithm].digest():y.type===n.pki.oids.signingTime&&(y.value||(y.value=f)),p.value.push(c(y)),l.authenticatedAttributesAsn1.value.push(c(y))}s=i.toDer(p).getBytes(),l.md.start().update(s)}l.signature=l.key.sign(l.md,\"RSASSA-PKCS1-V1_5\")}t.signerInfos=function(t){for(var e=[],r=0;r<t.length;++r)e.push(u(t[r]));return e}(t.signers)}(function(){for(var e={},r=0;r<t.signers.length;++r){var o=t.signers[r],s=o.digestAlgorithm;s in e||(e[s]=n.md[n.pki.oids[s]].create()),0===o.authenticatedAttributes.length?o.md=e[s]:o.md=n.md[n.pki.oids[s]].create()}for(var s in t.digestAlgorithmIdentifiers=[],e)t.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,\"\")]));return e}())},verify:function(){throw new Error(\"PKCS#7 signature verification not yet implemented.\")},addCertificate:function(e){\"string\"==typeof e&&(e=n.pki.certificateFromPem(e)),t.certificates.push(e)},addCertificateRevokationList:function(t){throw new Error(\"PKCS#7 CRL support not yet implemented.\")}}},o.createEncryptedData=function(){var t=null;return t={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids[\"aes256-CBC\"]},fromAsn1:function(e){f(t,e,o.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),h(t)}}},o.createEnvelopedData=function(){var t=null;return t={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids[\"aes256-CBC\"]},fromAsn1:function(e){var r=f(t,e,o.asn1.envelopedDataValidator);t.recipients=function(t){for(var e=[],r=0;r<t.length;++r)e.push(s(t[r]));return e}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,function(t){for(var e=[],r=0;r<t.length;++r)e.push(a(t[r]));return e}(t.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,function(t){return[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]}(t.encryptedContent))])])])},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],o=i.issuer;if(i.serialNumber===e.serialNumber&&o.length===r.length){for(var s=!0,a=0;a<r.length;++a)if(o[a].type!==r[a].type||o[a].value!==r[a].value){s=!1;break}if(s)return i}}return null},decrypt:function(e,r){if(void 0===t.encryptedContent.key&&void 0!==e&&void 0!==r)switch(e.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error(\"Unsupported asymmetric cipher, OID \"+e.encryptedContent.algorithm)}h(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(void 0===t.encryptedContent.content){var i,o,s;switch(r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key,r){case n.pki.oids[\"aes128-CBC\"]:i=16,o=16,s=n.aes.createEncryptionCipher;break;case n.pki.oids[\"aes192-CBC\"]:i=24,o=16,s=n.aes.createEncryptionCipher;break;case n.pki.oids[\"aes256-CBC\"]:i=32,o=16,s=n.aes.createEncryptionCipher;break;case n.pki.oids[\"des-EDE3-CBC\"]:i=24,o=8,s=n.des.createEncryptionCipher;break;default:throw new Error(\"Unsupported symmetric cipher, OID \"+r)}if(void 0===e)e=n.util.createBuffer(n.random.getBytes(i));else if(e.length()!=i)throw new Error(\"Symmetric key has wrong length; got \"+e.length()+\" bytes, expected \"+i+\".\");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(o));var a=s(e);if(a.start(t.encryptedContent.parameter.copy()),a.update(t.content),!a.finish())throw new Error(\"Symmetric encryption failed.\");t.encryptedContent.content=a.output}for(var u=0;u<t.recipients.length;++u){var c=t.recipients[u];if(void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error(\"Unsupported asymmetric cipher, OID \"+c.encryptedContent.algorithm)}}}}}},function(t,e,r){var n=r(12);r(106),r(152),r(289),r(153),r(18);var i=t.exports=n.ssh=n.ssh||{};function o(t,e){var r=e.toString(16);r[0]>=\"8\"&&(r=\"00\"+r);var i=n.util.hexToBytes(r);t.putInt32(i.length),t.putBytes(i)}function s(t,e){t.putInt32(e.length),t.putString(e)}function a(){for(var t=n.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}i.privateKeyToPutty=function(t,e,r){r=r||\"\";var i=\"\"===(e=e||\"\")?\"none\":\"aes256-cbc\",u=\"PuTTY-User-Key-File-2: ssh-rsa\\r\\n\";u+=\"Encryption: \"+i+\"\\r\\n\",u+=\"Comment: \"+r+\"\\r\\n\";var c=n.util.createBuffer();s(c,\"ssh-rsa\"),o(c,t.e),o(c,t.n);var f=n.util.encode64(c.bytes(),64),h=Math.floor(f.length/66)+1;u+=\"Public-Lines: \"+h+\"\\r\\n\",u+=f;var l,p=n.util.createBuffer();if(o(p,t.d),o(p,t.p),o(p,t.q),o(p,t.qInv),e){var d=p.length()+16-1;d-=d%16;var y=a(p.bytes());y.truncate(y.length()-d+p.length()),p.putBuffer(y);var m=n.util.createBuffer();m.putBuffer(a(\"\\0\\0\\0\\0\",e)),m.putBuffer(a(\"\\0\\0\\0\u0001\",e));var g=n.aes.createEncryptionCipher(m.truncate(8),\"CBC\");g.start(n.util.createBuffer().fillWithByte(0,16)),g.update(p.copy()),g.finish();var b=g.output;b.truncate(16),l=n.util.encode64(b.bytes(),64)}else l=n.util.encode64(p.bytes(),64);u+=\"\\r\\nPrivate-Lines: \"+(h=Math.floor(l.length/66)+1)+\"\\r\\n\",u+=l;var v=a(\"putty-private-key-file-mac-key\",e),_=n.util.createBuffer();s(_,\"ssh-rsa\"),s(_,i),s(_,r),_.putInt32(c.length()),_.putBuffer(c),_.putInt32(p.length()),_.putBuffer(p);var w=n.hmac.create();return w.start(\"sha1\",v),w.update(_.bytes()),u+=\"\\r\\nPrivate-MAC: \"+w.digest().toHex()+\"\\r\\n\"},i.publicKeyToOpenSSH=function(t,e){e=e||\"\";var r=n.util.createBuffer();return s(r,\"ssh-rsa\"),o(r,t.e),o(r,t.n),\"ssh-rsa \"+n.util.encode64(r.bytes())+\" \"+e},i.privateKeyToOpenSSH=function(t,e){return e?n.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:\"aes128\"}):n.pki.privateKeyToPem(t)},i.getPublicKeyFingerprint=function(t,e){var r=(e=e||{}).md||n.md.md5.create(),i=n.util.createBuffer();s(i,\"ssh-rsa\"),o(i,t.e),o(i,t.n),r.start(),r.update(i.getBytes());var a=r.digest();if(\"hex\"===e.encoding){var u=a.toHex();return e.delimiter?u.match(/.{2}/g).join(e.delimiter):u}if(\"binary\"===e.encoding)return a.getBytes();if(e.encoding)throw new Error('Unknown encoding \"'+e.encoding+'\".');return a}},function(t,e,r){var n=r(12);r(515),r(517),r(18);var i=\"forge.task\",o={},s=0;n.debug.set(i,\"tasks\",o);var a={};n.debug.set(i,\"queues\",a);var u=\"ready\",c=\"running\",f=\"blocked\",h=\"sleeping\",l=\"done\",p=\"error\",d={ready:{}};d.ready.stop=u,d.ready.start=c,d.ready.cancel=l,d.ready.fail=p,d.running={},d.running.stop=u,d.running.start=c,d.running.block=f,d.running.unblock=c,d.running.sleep=h,d.running.wakeup=c,d.running.cancel=l,d.running.fail=p,d.blocked={},d.blocked.stop=f,d.blocked.start=f,d.blocked.block=f,d.blocked.unblock=f,d.blocked.sleep=f,d.blocked.wakeup=f,d.blocked.cancel=l,d.blocked.fail=p,d.sleeping={},d.sleeping.stop=h,d.sleeping.start=h,d.sleeping.block=h,d.sleeping.unblock=h,d.sleeping.sleep=h,d.sleeping.wakeup=h,d.sleeping.cancel=l,d.sleeping.fail=p,d.done={},d.done.stop=l,d.done.start=l,d.done.block=l,d.done.unblock=l,d.done.sleep=l,d.done.wakeup=l,d.done.cancel=l,d.done.fail=p,d.error={},d.error.stop=p,d.error.start=p,d.error.block=p,d.error.unblock=p,d.error.sleep=p,d.error.wakeup=p,d.error.cancel=p,d.error.fail=p;var y=function(t){this.id=-1,this.name=t.name||\"?\",this.parent=t.parent||null,this.run=t.run,this.subtasks=[],this.error=!1,this.state=u,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=s++,o[this.id]=this};y.prototype.debug=function(t){t=t||\"\",n.log.debug(i,t,\"[%s][%s] task:\",this.id,this.name,this,\"subtasks:\",this.subtasks.length,\"queue:\",a)},y.prototype.next=function(t,e){\"function\"==typeof t&&(e=t,t=this.name);var r=new y({run:e,name:t,parent:this});return r.state=c,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},y.prototype.parallel=function(t,e){return n.util.isArray(t)&&(e=t,t=this.name),this.next(t,function(r){var i=r;i.block(e.length);for(var o=function(t,r){n.task.start({type:t,run:function(t){e[r](t)},success:function(t){i.unblock()},failure:function(t){i.unblock()}})},s=0;s<e.length;s++){o(t+\"__parallel-\"+r.id+\"-\"+s,s)}})},y.prototype.stop=function(){this.state=d[this.state].stop},y.prototype.start=function(){this.error=!1,this.state=d[this.state].start,this.state===c&&(this.start=new Date,this.run(this),m(this,0))},y.prototype.block=function(t){t=void 0===t?1:t,this.blocks+=t,this.blocks>0&&(this.state=d[this.state].block)},y.prototype.unblock=function(t){return t=void 0===t?1:t,this.blocks-=t,0===this.blocks&&this.state!==l&&(this.state=c,m(this,0)),this.blocks},y.prototype.sleep=function(t){t=void 0===t?0:t,this.state=d[this.state].sleep;var e=this;this.timeoutId=setTimeout(function(){e.timeoutId=null,e.state=c,m(e,0)},t)},y.prototype.wait=function(t){t.wait(this)},y.prototype.wakeup=function(){this.state===h&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=c,m(this,0))},y.prototype.cancel=function(){this.state=d[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},y.prototype.fail=function(t){if(this.error=!0,g(this,!0),t)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,m(t,0);else{if(null!==this.parent){for(var e=this.parent;null!==e.parent;)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,e=e.parent;g(e,!0)}this.failureCallback&&this.failureCallback(this)}};var m=function(t,e){var r=e>30||+new Date-t.swapTime>20,n=function(e){if(e++,t.state===c)if(r&&(t.swapTime=+new Date),t.subtasks.length>0){var n=t.subtasks.shift();n.error=t.error,n.swapTime=t.swapTime,n.userData=t.userData,n.run(n),n.error||m(n,e)}else g(t),t.error||null!==t.parent&&(t.parent.error=t.error,t.parent.swapTime=t.swapTime,t.parent.userData=t.userData,m(t.parent,e))};r?setTimeout(n,0):n(e)},g=function(t,e){t.state=l,delete o[t.id],null===t.parent&&(t.type in a?0===a[t.type].length?n.log.error(i,\"[%s][%s] task queue empty [%s]\",t.id,t.name,t.type):a[t.type][0]!==t?n.log.error(i,\"[%s][%s] task not first in queue [%s]\",t.id,t.name,t.type):(a[t.type].shift(),0===a[t.type].length?delete a[t.type]:a[t.type][0].start()):n.log.error(i,\"[%s][%s] task queue missing [%s]\",t.id,t.name,t.type),e||(t.error&&t.failureCallback?t.failureCallback(t):!t.error&&t.successCallback&&t.successCallback(t)))};t.exports=n.task=n.task||{},n.task.start=function(t){var e=new y({run:t.run,name:t.name||\"?\"});e.type=t.type,e.successCallback=t.success||null,e.failureCallback=t.failure||null,e.type in a?a[t.type].push(e):(a[e.type]=[e],function(t){t.error=!1,t.state=d[t.state].start,setTimeout(function(){t.state===c&&(t.swapTime=+new Date,t.run(t),m(t,0))},0)}(e))},n.task.cancel=function(t){t in a&&(a[t]=[a[t][0]])},n.task.createCondition=function(){var t={tasks:{},wait:function(e){e.id in t.tasks||(e.block(),t.tasks[e.id]=e)},notify:function(){var e=t.tasks;for(var r in t.tasks={},e)e[r].unblock()}};return t}},function(t,e,r){\"use strict\";const n=r(518),i=r(11),o=r(8),s=r(520),a=i(r(287)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(519),s=r(1118),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1119),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(519).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(119),i=r(525),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(119),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(154).Reporter,i=r(154).EncoderBuffer,o=r(154).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(522);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(523),n.pem=r(1126)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(523);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(524),n.pem=r(1128)},function(t,e,r){\"use strict\";const n=r(1),i=r(524);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(518),i=r(11),o=r(8),s=r(1130),a=i(r(287));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e){},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(527),s=r(1133),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1134),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(527).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1136),i=r(526),o=r(2),s=\"sha2-256\";t.exports=(t=>{function e(t){if(!n.privateKeyVerify(t))throw new Error(\"Invalid private key\")}return{generateKey:function(e){let r;do{r=t(32)}while(!n.privateKeyVerify(r));((t,r)=>o(()=>e(t,r)))(null,r)},privateKeyLength:32,hashAndSign:function(t,e,r){const a=(t,e)=>o(()=>r(t,e));i.digest(e,s,(e,r)=>{if(e)return a(e);try{const i=n.sign(r,t),o=n.signatureExport(i.signature);return a(null,o)}catch(e){a(e)}})},hashAndVerify:function(t,e,r,a){const u=(t,e)=>o(()=>a(t,e));i.digest(r,s,(r,i)=>{if(r)return u(r);try{e=n.signatureImport(e);const o=n.verify(i,e,t);return u(null,o)}catch(r){u(r)}})},compressPublicKey:function(t){if(!n.publicKeyVerify(t))throw new Error(\"Invalid public key\");return n.publicKeyConvert(t,!0)},decompressPublicKey:function(t){return n.publicKeyConvert(t,!1)},validatePrivateKey:e,validatePublicKey:function(t){if(!n.publicKeyVerify(t))throw new Error(\"Invalid public key\")},computePublicKey:function(t){return e(t),n.publicKeyCreate(t)}}})},function(t,e,r){\"use strict\";t.exports=r(485)(r(1137))},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(74),o=r(1138),s=r(277),a=r(215),u=r(528),c=r(1141);e.privateKeyVerify=function(t){var e=a.fromBuffer(t);return!(e.isOverflow()||e.isZero())},e.privateKeyExport=function(t,e){var r=a.fromBuffer(t);if(r.isOverflow()||r.isZero())throw new Error(s.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return c.mul(r).toPublicKey(e)},e.privateKeyNegate=function(t){var e=a.fromBuffer(t);return e.isZero()?n.alloc(32):(e.ucmp(a.n)>0&&e.isub(a.n),a.n.sub(e).toBuffer())},e.privateKeyModInverse=function(t){var e=a.fromBuffer(t);if(e.isOverflow()||e.isZero())throw new Error(s.EC_PRIVATE_KEY_RANGE_INVALID);return e.uinvm().toBuffer()},e.privateKeyTweakAdd=function(t,e){var r=a.fromBuffer(e);if(r.isOverflow())throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(a.fromBuffer(t)),r.isOverflow()&&r.isub(a.n),r.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toBuffer()},e.privateKeyTweakMul=function(t,e){var r=a.fromBuffer(e);if(r.isOverflow()||r.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);var n=a.fromBuffer(t);return r.umul(n).ureduce().toBuffer()},e.publicKeyCreate=function(t,e){var r=a.fromBuffer(t);if(r.isOverflow()||r.isZero())throw new Error(s.EC_PUBLIC_KEY_CREATE_FAIL);return c.mul(r).toPublicKey(e)},e.publicKeyConvert=function(t,e){var r=u.fromPublicKey(t);if(null===r)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return r.toPublicKey(e)},e.publicKeyVerify=function(t){return null!==u.fromPublicKey(t)},e.publicKeyTweakAdd=function(t,e,r){var n=u.fromPublicKey(t);if(null===n)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((e=a.fromBuffer(e)).isOverflow())throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return c.mul(e).add(n).toPublicKey(r)},e.publicKeyTweakMul=function(t,e,r){var n=u.fromPublicKey(t);if(null===n)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((e=a.fromBuffer(e)).isOverflow()||e.isZero())throw new Error(s.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.mul(e).toPublicKey(r)},e.publicKeyCombine=function(t,e){for(var r=new Array(t.length),n=0;n<t.length;++n)if(r[n]=u.fromPublicKey(t[n]),null===r[n])throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);for(var i=r[0],o=1;o<r.length;++o)i=i.add(r[o]);if(i.inf)throw new Error(s.EC_PUBLIC_KEY_COMBINE_FAIL);return i.toPublicKey(e)},e.signatureNormalize=function(t){var e=a.fromBuffer(t.slice(0,32)),r=a.fromBuffer(t.slice(32,64));if(e.isOverflow()||r.isOverflow())throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(t);return r.isHigh()&&a.n.sub(r).toBuffer().copy(i,32),i},e.signatureExport=function(t){var e=t.slice(0,32),r=t.slice(32,64);if(a.fromBuffer(e).isOverflow()||a.fromBuffer(r).isOverflow())throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);return{r:e,s:r}},e.signatureImport=function(t){var e=a.fromBuffer(t.r);e.isOverflow()&&(e=a.fromNumber(0));var r=a.fromBuffer(t.s);return r.isOverflow()&&(r=a.fromNumber(0)),n.concat([e.toBuffer(),r.toBuffer()])},e.sign=function(t,e,r,i){var u=a.fromBuffer(e);if(u.isOverflow()||u.isZero())throw new Error(s.ECDSA_SIGN_FAIL);if(null===r){var f=new o(\"sha256\",e,t,i);r=function(){return f.generate(32)}}for(var h=a.fromBuffer(t),l=0;;++l){var p=r(t,e,null,i,l);if(!n.isBuffer(p)||32!==p.length)throw new Error(s.ECDSA_SIGN_FAIL);var d=a.fromBuffer(p);if(!d.isOverflow()&&!d.isZero()){var y=c.mul(d),m=y.x.fireduce();if(!m.isZero()){var g=d.uinvm().umul(m.umul(u).ureduce().iadd(h).fireduce()).ureduce();if(!g.isZero()){var b=(0!==y.x.ucmp(m)?2:0)|(y.y.isOdd()?1:0);return g.isHigh()&&(g=a.n.sub(g),b^=1),{signature:n.concat([m.toBuffer(),g.toBuffer()]),recovery:b}}}}}},e.verify=function(t,e,r){var n=a.fromBuffer(e.slice(0,32)),i=a.fromBuffer(e.slice(32,64));if(n.isOverflow()||i.isOverflow())throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);if(i.isHigh()||n.isZero()||i.isZero())return!1;var o=u.fromPublicKey(r);if(null===o)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);var f=i.uinvm(),h=f.umul(a.fromBuffer(t)).ureduce(),l=f.umul(n).ureduce(),p=c.mulAdd(h,o,l);if(p.inf)return!1;var d=p.z.redSqr();return 0===n.redMul(d).ucmp(p.x)||!(n.ucmp(a.psn)>=0)&&0===n.iadd(a.psn).redMul(d).ucmp(p.x)},e.recover=function(t,e,r,i){var o=a.fromBuffer(e.slice(0,32)),f=a.fromBuffer(e.slice(32,64));if(o.isOverflow()||f.isOverflow())throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);do{if(o.isZero()||f.isZero())break;var h=o;if(r>>1){if(h.ucmp(a.psn)>=0)break;h=o.add(a.n)}var l=n.concat([n.from([2+(1&r)]),h.toBuffer()]),p=u.fromPublicKey(l);if(null===p)break;var d=o.uinvm(),y=a.n.sub(a.fromBuffer(t)).umul(d).ureduce(),m=f.umul(d).ureduce();return u.fromECJPoint(c.mulAdd(y,p,m)).toPublicKey(i)}while(0);throw new Error(s.ECDSA_RECOVER_FAIL)},e.ecdh=function(t,r){var n=e.ecdhUnsafe(t,r,!0);return i(\"sha256\").update(n).digest()},e.ecdhUnsafe=function(t,e,r){var n=u.fromPublicKey(t);if(null===n)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);var i=a.fromBuffer(e);if(i.isOverflow()||i.isZero())throw new Error(s.ECDH_FAIL);return n.mul(i).toPublicKey(r)}},function(t,e,r){\"use strict\";(function(e){var n=r(135),i=r(1139),o=new e(0),s=new e([0]),a=new e([1]);function u(t,e,r,n){var o=i[t];if(void 0===o)throw new Error(\"hash \"+t+\" is not supported\");this._algo=t,this._securityStrength=o.securityStrength/8,this._outlen=o.outlen/8,this._reseedInterval=281474976710656,this._init(e,r,n)}u.prototype._update=function(t){var e=n(this._algo,this._K).update(this._V).update(s);t&&e.update(t),this._K=e.digest(),this._V=n(this._algo,this._K).update(this._V).digest(),t&&(this._K=n(this._algo,this._K).update(this._V).update(a).update(t).digest(),this._V=n(this._algo,this._K).update(this._V).digest())},u.prototype._init=function(t,r,n){if(t.length<this._securityStrength)throw new Error(\"Not enough entropy\");this._K=new e(this._outlen),this._V=new e(this._outlen);for(var i=0;i<this._K.length;++i)this._K[i]=0,this._V[i]=1;this._update(e.concat([t,r,n||o])),this._reseed=1},u.prototype.reseed=function(t,r){if(t.length<this._securityStrength)throw new Error(\"Not enough entropy\");this._update(e.concat([t,r||o])),this._reseed=1},u.prototype.generate=function(t,r){if(this._reseed>this._reseedInterval)throw new Error(\"Reseed is required\");r&&0===r.length&&(r=void 0),r&&this._update(r);for(var i=new e(0);i.length<t;)this._V=n(this._algo,this._K).update(this._V).digest(),i=e.concat([i,this._V]);return this._update(r),this._reseed+=1,i.slice(0,t)},t.exports=u}).call(this,r(0).Buffer)},function(t){t.exports={sha1:{securityStrength:128,outlen:160,seedlen:440},sha224:{securityStrength:192,outlen:224,seedlen:440},sha256:{securityStrength:256,outlen:256,seedlen:440},sha384:{securityStrength:256,outlen:384,seedlen:888},sha512:{securityStrength:256,outlen:512,seedlen:888}}},function(t,e,r){\"use strict\";e.umulTo10x10=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],h=8191&f,l=f>>>13,p=0|s[1],d=8191&p,y=p>>>13,m=0|s[2],g=8191&m,b=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],k=8191&S,E=S>>>13,A=0|s[5],x=8191&A,T=A>>>13,B=0|s[6],I=8191&B,C=B>>>13,M=0|s[7],P=8191&M,O=M>>>13,R=0|s[8],j=8191&R,N=R>>>13,L=0|s[9],K=8191&L,D=L>>>13,U=0|a[0],F=8191&U,q=U>>>13,H=0|a[1],z=8191&H,V=H>>>13,G=0|a[2],W=8191&G,$=G>>>13,Y=0|a[3],J=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,tt=X>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],ht=8191&ft,lt=ft>>>13,pt=0|a[9],dt=8191&pt,yt=pt>>>13;r.length=19,n=Math.imul(h,F),i=Math.imul(h,q);var mt=c+n+((8191&(i+=Math.imul(l,F)))<<13);c=(o=Math.imul(l,q))+(i>>>13)+(mt>>>26),mt&=67108863,n=Math.imul(d,F),i=Math.imul(d,q),i+=Math.imul(y,F),o=Math.imul(y,q),n+=Math.imul(h,z),i+=Math.imul(h,V);var gt=c+n+((8191&(i+=Math.imul(l,z)))<<13);c=(o+=Math.imul(l,V))+(i>>>13)+(gt>>>26),gt&=67108863,n=Math.imul(g,F),i=Math.imul(g,q),i+=Math.imul(b,F),o=Math.imul(b,q),n+=Math.imul(d,z),i+=Math.imul(d,V),i+=Math.imul(y,z),o+=Math.imul(y,V),n+=Math.imul(h,W),i+=Math.imul(h,$);var bt=c+n+((8191&(i+=Math.imul(l,W)))<<13);c=(o+=Math.imul(l,$))+(i>>>13)+(bt>>>26),bt&=67108863,n=Math.imul(_,F),i=Math.imul(_,q),i+=Math.imul(w,F),o=Math.imul(w,q),n+=Math.imul(g,z),i+=Math.imul(g,V),i+=Math.imul(b,z),o+=Math.imul(b,V),n+=Math.imul(d,W),i+=Math.imul(d,$),i+=Math.imul(y,W),o+=Math.imul(y,$),n+=Math.imul(h,J),i+=Math.imul(h,Z);var vt=c+n+((8191&(i+=Math.imul(l,J)))<<13);c=(o+=Math.imul(l,Z))+(i>>>13)+(vt>>>26),vt&=67108863,n=Math.imul(k,F),i=Math.imul(k,q),i+=Math.imul(E,F),o=Math.imul(E,q),n+=Math.imul(_,z),i+=Math.imul(_,V),i+=Math.imul(w,z),o+=Math.imul(w,V),n+=Math.imul(g,W),i+=Math.imul(g,$),i+=Math.imul(b,W),o+=Math.imul(b,$),n+=Math.imul(d,J),i+=Math.imul(d,Z),i+=Math.imul(y,J),o+=Math.imul(y,Z),n+=Math.imul(h,Q),i+=Math.imul(h,tt);var _t=c+n+((8191&(i+=Math.imul(l,Q)))<<13);c=(o+=Math.imul(l,tt))+(i>>>13)+(_t>>>26),_t&=67108863,n=Math.imul(x,F),i=Math.imul(x,q),i+=Math.imul(T,F),o=Math.imul(T,q),n+=Math.imul(k,z),i+=Math.imul(k,V),i+=Math.imul(E,z),o+=Math.imul(E,V),n+=Math.imul(_,W),i+=Math.imul(_,$),i+=Math.imul(w,W),o+=Math.imul(w,$),n+=Math.imul(g,J),i+=Math.imul(g,Z),i+=Math.imul(b,J),o+=Math.imul(b,Z),n+=Math.imul(d,Q),i+=Math.imul(d,tt),i+=Math.imul(y,Q),o+=Math.imul(y,tt),n+=Math.imul(h,rt),i+=Math.imul(h,nt);var wt=c+n+((8191&(i+=Math.imul(l,rt)))<<13);c=(o+=Math.imul(l,nt))+(i>>>13)+(wt>>>26),wt&=67108863,n=Math.imul(I,F),i=Math.imul(I,q),i+=Math.imul(C,F),o=Math.imul(C,q),n+=Math.imul(x,z),i+=Math.imul(x,V),i+=Math.imul(T,z),o+=Math.imul(T,V),n+=Math.imul(k,W),i+=Math.imul(k,$),i+=Math.imul(E,W),o+=Math.imul(E,$),n+=Math.imul(_,J),i+=Math.imul(_,Z),i+=Math.imul(w,J),o+=Math.imul(w,Z),n+=Math.imul(g,Q),i+=Math.imul(g,tt),i+=Math.imul(b,Q),o+=Math.imul(b,tt),n+=Math.imul(d,rt),i+=Math.imul(d,nt),i+=Math.imul(y,rt),o+=Math.imul(y,nt),n+=Math.imul(h,ot),i+=Math.imul(h,st);var St=c+n+((8191&(i+=Math.imul(l,ot)))<<13);c=(o+=Math.imul(l,st))+(i>>>13)+(St>>>26),St&=67108863,n=Math.imul(P,F),i=Math.imul(P,q),i+=Math.imul(O,F),o=Math.imul(O,q),n+=Math.imul(I,z),i+=Math.imul(I,V),i+=Math.imul(C,z),o+=Math.imul(C,V),n+=Math.imul(x,W),i+=Math.imul(x,$),i+=Math.imul(T,W),o+=Math.imul(T,$),n+=Math.imul(k,J),i+=Math.imul(k,Z),i+=Math.imul(E,J),o+=Math.imul(E,Z),n+=Math.imul(_,Q),i+=Math.imul(_,tt),i+=Math.imul(w,Q),o+=Math.imul(w,tt),n+=Math.imul(g,rt),i+=Math.imul(g,nt),i+=Math.imul(b,rt),o+=Math.imul(b,nt),n+=Math.imul(d,ot),i+=Math.imul(d,st),i+=Math.imul(y,ot),o+=Math.imul(y,st),n+=Math.imul(h,ut),i+=Math.imul(h,ct);var kt=c+n+((8191&(i+=Math.imul(l,ut)))<<13);c=(o+=Math.imul(l,ct))+(i>>>13)+(kt>>>26),kt&=67108863,n=Math.imul(j,F),i=Math.imul(j,q),i+=Math.imul(N,F),o=Math.imul(N,q),n+=Math.imul(P,z),i+=Math.imul(P,V),i+=Math.imul(O,z),o+=Math.imul(O,V),n+=Math.imul(I,W),i+=Math.imul(I,$),i+=Math.imul(C,W),o+=Math.imul(C,$),n+=Math.imul(x,J),i+=Math.imul(x,Z),i+=Math.imul(T,J),o+=Math.imul(T,Z),n+=Math.imul(k,Q),i+=Math.imul(k,tt),i+=Math.imul(E,Q),o+=Math.imul(E,tt),n+=Math.imul(_,rt),i+=Math.imul(_,nt),i+=Math.imul(w,rt),o+=Math.imul(w,nt),n+=Math.imul(g,ot),i+=Math.imul(g,st),i+=Math.imul(b,ot),o+=Math.imul(b,st),n+=Math.imul(d,ut),i+=Math.imul(d,ct),i+=Math.imul(y,ut),o+=Math.imul(y,ct),n+=Math.imul(h,ht),i+=Math.imul(h,lt);var Et=c+n+((8191&(i+=Math.imul(l,ht)))<<13);c=(o+=Math.imul(l,lt))+(i>>>13)+(Et>>>26),Et&=67108863,n=Math.imul(K,F),i=Math.imul(K,q),i+=Math.imul(D,F),o=Math.imul(D,q),n+=Math.imul(j,z),i+=Math.imul(j,V),i+=Math.imul(N,z),o+=Math.imul(N,V),n+=Math.imul(P,W),i+=Math.imul(P,$),i+=Math.imul(O,W),o+=Math.imul(O,$),n+=Math.imul(I,J),i+=Math.imul(I,Z),i+=Math.imul(C,J),o+=Math.imul(C,Z),n+=Math.imul(x,Q),i+=Math.imul(x,tt),i+=Math.imul(T,Q),o+=Math.imul(T,tt),n+=Math.imul(k,rt),i+=Math.imul(k,nt),i+=Math.imul(E,rt),o+=Math.imul(E,nt),n+=Math.imul(_,ot),i+=Math.imul(_,st),i+=Math.imul(w,ot),o+=Math.imul(w,st),n+=Math.imul(g,ut),i+=Math.imul(g,ct),i+=Math.imul(b,ut),o+=Math.imul(b,ct),n+=Math.imul(d,ht),i+=Math.imul(d,lt),i+=Math.imul(y,ht),o+=Math.imul(y,lt),n+=Math.imul(h,dt),i+=Math.imul(h,yt);var At=c+n+((8191&(i+=Math.imul(l,dt)))<<13);c=(o+=Math.imul(l,yt))+(i>>>13)+(At>>>26),At&=67108863,n=Math.imul(K,z),i=Math.imul(K,V),i+=Math.imul(D,z),o=Math.imul(D,V),n+=Math.imul(j,W),i+=Math.imul(j,$),i+=Math.imul(N,W),o+=Math.imul(N,$),n+=Math.imul(P,J),i+=Math.imul(P,Z),i+=Math.imul(O,J),o+=Math.imul(O,Z),n+=Math.imul(I,Q),i+=Math.imul(I,tt),i+=Math.imul(C,Q),o+=Math.imul(C,tt),n+=Math.imul(x,rt),i+=Math.imul(x,nt),i+=Math.imul(T,rt),o+=Math.imul(T,nt),n+=Math.imul(k,ot),i+=Math.imul(k,st),i+=Math.imul(E,ot),o+=Math.imul(E,st),n+=Math.imul(_,ut),i+=Math.imul(_,ct),i+=Math.imul(w,ut),o+=Math.imul(w,ct),n+=Math.imul(g,ht),i+=Math.imul(g,lt),i+=Math.imul(b,ht),o+=Math.imul(b,lt),n+=Math.imul(d,dt),i+=Math.imul(d,yt);var xt=c+n+((8191&(i+=Math.imul(y,dt)))<<13);c=(o+=Math.imul(y,yt))+(i>>>13)+(xt>>>26),xt&=67108863,n=Math.imul(K,W),i=Math.imul(K,$),i+=Math.imul(D,W),o=Math.imul(D,$),n+=Math.imul(j,J),i+=Math.imul(j,Z),i+=Math.imul(N,J),o+=Math.imul(N,Z),n+=Math.imul(P,Q),i+=Math.imul(P,tt),i+=Math.imul(O,Q),o+=Math.imul(O,tt),n+=Math.imul(I,rt),i+=Math.imul(I,nt),i+=Math.imul(C,rt),o+=Math.imul(C,nt),n+=Math.imul(x,ot),i+=Math.imul(x,st),i+=Math.imul(T,ot),o+=Math.imul(T,st),n+=Math.imul(k,ut),i+=Math.imul(k,ct),i+=Math.imul(E,ut),o+=Math.imul(E,ct),n+=Math.imul(_,ht),i+=Math.imul(_,lt),i+=Math.imul(w,ht),o+=Math.imul(w,lt),n+=Math.imul(g,dt),i+=Math.imul(g,yt);var Tt=c+n+((8191&(i+=Math.imul(b,dt)))<<13);c=(o+=Math.imul(b,yt))+(i>>>13)+(Tt>>>26),Tt&=67108863,n=Math.imul(K,J),i=Math.imul(K,Z),i+=Math.imul(D,J),o=Math.imul(D,Z),n+=Math.imul(j,Q),i+=Math.imul(j,tt),i+=Math.imul(N,Q),o+=Math.imul(N,tt),n+=Math.imul(P,rt),i+=Math.imul(P,nt),i+=Math.imul(O,rt),o+=Math.imul(O,nt),n+=Math.imul(I,ot),i+=Math.imul(I,st),i+=Math.imul(C,ot),o+=Math.imul(C,st),n+=Math.imul(x,ut),i+=Math.imul(x,ct),i+=Math.imul(T,ut),o+=Math.imul(T,ct),n+=Math.imul(k,ht),i+=Math.imul(k,lt),i+=Math.imul(E,ht),o+=Math.imul(E,lt),n+=Math.imul(_,dt),i+=Math.imul(_,yt);var Bt=c+n+((8191&(i+=Math.imul(w,dt)))<<13);c=(o+=Math.imul(w,yt))+(i>>>13)+(Bt>>>26),Bt&=67108863,n=Math.imul(K,Q),i=Math.imul(K,tt),i+=Math.imul(D,Q),o=Math.imul(D,tt),n+=Math.imul(j,rt),i+=Math.imul(j,nt),i+=Math.imul(N,rt),o+=Math.imul(N,nt),n+=Math.imul(P,ot),i+=Math.imul(P,st),i+=Math.imul(O,ot),o+=Math.imul(O,st),n+=Math.imul(I,ut),i+=Math.imul(I,ct),i+=Math.imul(C,ut),o+=Math.imul(C,ct),n+=Math.imul(x,ht),i+=Math.imul(x,lt),i+=Math.imul(T,ht),o+=Math.imul(T,lt),n+=Math.imul(k,dt),i+=Math.imul(k,yt);var It=c+n+((8191&(i+=Math.imul(E,dt)))<<13);c=(o+=Math.imul(E,yt))+(i>>>13)+(It>>>26),It&=67108863,n=Math.imul(K,rt),i=Math.imul(K,nt),i+=Math.imul(D,rt),o=Math.imul(D,nt),n+=Math.imul(j,ot),i+=Math.imul(j,st),i+=Math.imul(N,ot),o+=Math.imul(N,st),n+=Math.imul(P,ut),i+=Math.imul(P,ct),i+=Math.imul(O,ut),o+=Math.imul(O,ct),n+=Math.imul(I,ht),i+=Math.imul(I,lt),i+=Math.imul(C,ht),o+=Math.imul(C,lt),n+=Math.imul(x,dt),i+=Math.imul(x,yt);var Ct=c+n+((8191&(i+=Math.imul(T,dt)))<<13);c=(o+=Math.imul(T,yt))+(i>>>13)+(Ct>>>26),Ct&=67108863,n=Math.imul(K,ot),i=Math.imul(K,st),i+=Math.imul(D,ot),o=Math.imul(D,st),n+=Math.imul(j,ut),i+=Math.imul(j,ct),i+=Math.imul(N,ut),o+=Math.imul(N,ct),n+=Math.imul(P,ht),i+=Math.imul(P,lt),i+=Math.imul(O,ht),o+=Math.imul(O,lt),n+=Math.imul(I,dt),i+=Math.imul(I,yt);var Mt=c+n+((8191&(i+=Math.imul(C,dt)))<<13);c=(o+=Math.imul(C,yt))+(i>>>13)+(Mt>>>26),Mt&=67108863,n=Math.imul(K,ut),i=Math.imul(K,ct),i+=Math.imul(D,ut),o=Math.imul(D,ct),n+=Math.imul(j,ht),i+=Math.imul(j,lt),i+=Math.imul(N,ht),o+=Math.imul(N,lt),n+=Math.imul(P,dt),i+=Math.imul(P,yt);var Pt=c+n+((8191&(i+=Math.imul(O,dt)))<<13);c=(o+=Math.imul(O,yt))+(i>>>13)+(Pt>>>26),Pt&=67108863,n=Math.imul(K,ht),i=Math.imul(K,lt),i+=Math.imul(D,ht),o=Math.imul(D,lt),n+=Math.imul(j,dt),i+=Math.imul(j,yt);var Ot=c+n+((8191&(i+=Math.imul(N,dt)))<<13);c=(o+=Math.imul(N,yt))+(i>>>13)+(Ot>>>26),Ot&=67108863,n=Math.imul(K,dt),i=Math.imul(K,yt);var Rt=c+n+((8191&(i+=Math.imul(D,dt)))<<13);return c=(o=Math.imul(D,yt))+(i>>>13)+(Rt>>>26),Rt&=67108863,u[0]=mt,u[1]=gt,u[2]=bt,u[3]=vt,u[4]=_t,u[5]=wt,u[6]=St,u[7]=kt,u[8]=Et,u[9]=At,u[10]=xt,u[11]=Tt,u[12]=Bt,u[13]=It,u[14]=Ct,u[15]=Mt,u[16]=Pt,u[17]=Ot,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r}},function(t,e,r){\"use strict\";var n=r(3).Buffer,i=r(215),o=r(528),s=r(529);function a(){this.x=i.fromBuffer(n.from(\"79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798\",\"hex\")),this.y=i.fromBuffer(n.from(\"483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8\",\"hex\")),this.inf=!1,this._precompute()}a.prototype._precompute=function(){for(var t=new o(this.x,this.y),e=new Array(1+Math.ceil(64.25)),r=e[0]=t,n=1;n<e.length;++n){for(var i=0;i<4;i++)r=r.dbl();e[n]=r}this.precomputed={naf:t._getNAFPoints(7),doubles:{step:4,points:e,negpoints:e.map(function(t){return t.neg()})}}},a.prototype.mul=function(t){for(var e=this.precomputed.doubles.step,r=this.precomputed.doubles.points,n=this.precomputed.doubles.negpoints,i=t.getNAF(1),a=((1<<e+1)-(e%2==0?2:1))/3,u=[],c=0;c<i.length;c+=e){for(var f=0,h=c+e-1;h>=c;h--)f=(f<<1)+i[h];u.push(f)}for(var l=new s(null,null,null),p=new s(null,null,null),d=a;d>0;d--){for(var y=0;y<u.length;y++)u[y]===d?p=p.mixedAdd(r[y]):u[y]===-d&&(p=p.mixedAdd(n[y]));l=l.add(p)}return o.fromECJPoint(l)},a.prototype.mulAdd=function(t,e,r){for(var n=this.precomputed.naf,i=e._getNAFPoints1(),o=[n.points,i.points],a=[t.getNAF(n.wnd),r.getNAF(i.wnd)],u=new s(null,null,null),c=[null,null],f=Math.max(a[0].length,a[1].length);f>=0;f--){for(var h=0;f>=0&&(c[0]=0|a[0][f],c[1]=0|a[1][f],0===c[0]&&0===c[1]);++h,--f);if(f>=0&&(h+=1),u=u.dblp(h),f<0)break;for(var l=0;l<2;l++){var p,d=c[l];0!==d&&(d>0?p=o[l][d>>1]:d<0&&(p=o[l][-d>>1].neg()),u=void 0===p.z?u.mixedAdd(p):u.add(p))}}return u},t.exports=new a},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(501),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1144);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(286)(),i=r(285),o=r(119).bignum,s=r(525),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(1147),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(531),i=r(1149),o=r(1151);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(540),e.pbkdf2=r(1170)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1150),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(295)),o=r(14);e=t.exports;const s={rsa:r(1152),ed25519:r(1165),secp256k1:r(62)(i,r(540))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1167),e.generateEphemeralKeyPair=r(1168),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(532),i=r(11),o=r(8),s=r(534),a=i(r(295)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(533),s=r(1154),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1155),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(533).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(120),i=r(539),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(120),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(155).Reporter,i=r(155).EncoderBuffer,o=r(155).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(536);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(537),n.pem=r(1162)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(537);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(538),n.pem=r(1164)},function(t,e,r){\"use strict\";const n=r(1),i=r(538);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(532),i=r(11),o=r(8),s=r(1166),a=i(r(295));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(531),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1169);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(294)(),i=r(293),o=r(120).bignum,s=r(539),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(33),o=r(1172),s=r(298),a=r(20),u=r(8),c=r(64),f=new Error(\"Sorry, Not Implemented Yet.\"),h=c.proto(function(t){if(!(this instanceof h))return new h(t);if(null==t&&(t=\"\"),t instanceof e)this.buffer=o.fromBuffer(t);else if(\"string\"==typeof t||t instanceof String)this.buffer=o.fromString(t);else{if(!(t.buffer&&t.protos&&t.protoCodes))throw new Error(\"addr must be a string, Buffer, or another Multiaddr\");this.buffer=o.fromBuffer(t.buffer)}},{className:\"Multiaddr\",symbolName:\"@multiformats/js-multiaddr/multiaddr\"});h.prototype.toString=function(){return o.bufferToString(this.buffer)},h.prototype.toOptions=function(){const t={},e=this.toString().split(\"/\");return t.family=\"ip4\"===e[1]?\"ipv4\":\"ipv6\",t.host=e[2],t.transport=e[3],t.port=e[4],t},h.prototype.inspect=function(){return\"<Multiaddr \"+this.buffer.toString(\"hex\")+\" - \"+o.bufferToString(this.buffer)+\">\"},h.prototype.protos=function(){return n(this.protoCodes(),function(t){return i(s(t))})},h.prototype.protoCodes=function(){const t=[],e=this.buffer;let r=0;for(;r<e.length;){const n=a.decode(e,r),i=a.decode.bytes,u=s(n);r+=o.sizeForAddr(u,e.slice(r+i))+i,t.push(n)}return t},h.prototype.protoNames=function(){return n(this.protos(),function(t){return t.name})},h.prototype.tuples=function(){return o.bufferToTuples(this.buffer)},h.prototype.stringTuples=function(){const t=o.bufferToTuples(this.buffer);return o.tuplesToStringTuples(t)},h.prototype.encapsulate=function(t){return t=h(t),h(this.toString()+t.toString())},h.prototype.decapsulate=function(t){t=t.toString();const e=this.toString(),r=e.lastIndexOf(t);if(r<0)throw new Error(\"Address \"+this+\" does not contain subaddress: \"+t);return h(e.slice(0,r))},h.prototype.getPeerId=function(){let t=null;try{t=this.stringTuples().filter(t=>{if(t[0]===s.names.ipfs.code)return!0})[0][1],u.decode(t)}catch(e){t=null}return t},h.prototype.equals=function(t){return this.buffer.equals(t.buffer)},h.prototype.nodeAddress=function(){if(!this.isThinWaistAddress())throw new Error('Multiaddr must be \"thin waist\" address for nodeAddress.');const t=this.protoCodes(),e=this.toString().split(\"/\").slice(1);return{family:41===t[0]?\"IPv6\":\"IPv4\",address:e[1],port:e[3]}},h.fromNodeAddress=function(t,e){if(!t)throw new Error(\"requires node address object\");if(!e)throw new Error(\"requires transport protocol\");const r=\"IPv6\"===t.family?\"ip6\":\"ip4\";return h(\"/\"+[r,t.address,e,t.port].join(\"/\"))},h.prototype.isThinWaistAddress=function(t){const e=(t||this).protos();return 2===e.length&&((4===e[0].code||41===e[0].code)&&(6===e[1].code||17===e[1].code))},h.prototype.fromStupidString=function(t){throw f},h.protocols=s,h.isName=function(t){return!!h.isMultiaddr(t)&&t.protos().some(t=>t.resolvable)},h.resolve=function(t,e){return h.isMultiaddr(t)&&h.isName(t)?e(new Error(\"not implemented yet\")):e(new Error(\"not a valid name\"))},t.exports=h}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(156),o=r(1173),s=r(298),a=r(20);function u(t){const e=[],r=t.split(\"/\").slice(1);if(1===r.length&&\"\"===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n];if(0!==s(i).size){if(++n>=r.length)throw v(\"invalid address: \"+t);e.push([i,r[n]])}else e.push([i])}return e}function c(t){const e=[];return n(t,function(t){const r=_(t);e.push(r.name),t.length>1&&e.push(t[1])}),\"/\"+e.join(\"/\")}function f(t){return n(t,function(t){Array.isArray(t)||(t=[t]);const e=_(t);return t.length>1?[e.code,o.toBuffer(e.code,t[1])]:[e.code]})}function h(t){return n(t,function(t){const e=_(t);return t.length>1?[e.code,o.toString(e.code,t[1])]:[e.code]})}function l(t){return m(e.concat(n(t,function(t){const r=_(t);let n=e.from(a.encode(r.code));return t.length>1&&(n=e.concat([n,t[1]])),n})))}function p(t,e){if(t.size>0)return t.size/8;if(0===t.size)return 0;return a.decode(e)+a.decode.bytes}function d(t){const e=[];let r=0;for(;r<t.length;){const n=a.decode(t,r),i=a.decode.bytes,o=p(s(n),t.slice(r+i));if(0===o){e.push([n]),r+=i;continue}const u=t.slice(r+i,r+i+o);if((r+=o+i)>t.length)throw v(\"Invalid address buffer: \"+t.toString(\"hex\"));e.push([n,u])}return e}function y(t){return l(f(u(t=b(t))))}function m(t){const r=g(t);if(r)throw r;return e.from(t)}function g(t){try{d(t)}catch(t){return t}}function b(t){return\"/\"+i(t.trim().split(\"/\")).join(\"/\")}function v(t){return new Error(\"Error parsing address: \"+t)}function _(t){return s(t[0])}t.exports={stringToStringTuples:u,stringTuplesToString:c,tuplesToStringTuples:h,stringTuplesToTuples:f,bufferToTuples:d,tuplesToBuffer:l,bufferToString:function(t){return c(h(d(t)))},stringToBuffer:y,fromString:function(t){return y(t)},fromBuffer:m,validateBuffer:g,isValidBuffer:function(t){return void 0===g(t)},cleanPath:b,ParseError:v,protoFromTuple:_,sizeForAddr:p}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(157),i=r(158),o=r(298),s=r(8),a=r(20);function u(t,r){return r instanceof e?u.toString(t,r):u.toBuffer(t,r)}function c(t){if(!t.isValid())throw new Error(\"invalid ip address\");return n.toBuffer(t.address)}t.exports=u,u.toString=function(t,e){switch((t=o(t)).code){case 4:case 41:return n.toString(e);case 6:case 17:case 33:case 132:return function(t){return t.readUInt16BE(0)}(e);case 54:case 55:case 56:return function(t){const e=a.decode(t);if((t=t.slice(a.decode.bytes)).length!==e)throw new Error(\"inconsistent lengths\");return t.toString()}(e);case 421:return function(t){const e=a.decode(t),r=t.slice(a.decode.bytes);if(r.length!==e)throw new Error(\"inconsistent lengths\");return s.encode(r)}(e);default:return e.toString(\"hex\")}},u.toBuffer=function(t,r){switch((t=o(t)).code){case 4:return c(new i.Address4(r));case 41:return c(new i.Address6(r));case 6:case 17:case 33:case 132:return function(t){const r=e.alloc(2);return r.writeUInt16BE(t,0),r}(parseInt(r,10));case 54:case 55:case 56:return function(t){const r=e.from(t),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);case 421:return function(t){const r=e.from(s.decode(t)),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);default:return e.from(r,\"hex\")}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";var n=r(543).BigInteger,i=r(547),o=r(1175),s=r(1176),a=r(545),u=r(546),c=r(159).sprintf,f=r(296),h=r(297),l=r(542);function p(t){return t=(t=t.replace(/^(0{1,})([1-9]+)$/,'<span class=\"parse-error\">$1</span>$2')).replace(/^(0{1,})(0)$/,'<span class=\"parse-error\">$1</span>$2')}function d(t,e){this.groups=void 0===e?h.GROUPS:e,this.v4=!1,this.subnet=\"/128\",this.subnetMask=128,this.zone=\"\",this.address=t;var r=h.RE_SUBNET_STRING.exec(t);if(r){if(this.parsedSubnet=r[0].replace(\"/\",\"\"),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=\"/\"+this.subnetMask,isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>h.BITS)return this.valid=!1,void(this.error=\"Invalid subnet mask.\");t=t.replace(h.RE_SUBNET_STRING,\"\")}else if(/\\//.test(t))return this.valid=!1,void(this.error=\"Invalid subnet mask.\");var n=h.RE_ZONE_STRING.exec(t);n&&(this.zone=n[0],t=t.replace(h.RE_ZONE_STRING,\"\")),this.addressMinusSuffix=t,this.parsedAddress=this.parse(this.addressMinusSuffix)}function y(t){return c(\"%04x\",parseInt(t,16))}function m(t){return 255&t}s(d.prototype,r(1177)),s(d.prototype,r(1178)),s(d.prototype,r(1179)),d.fromBigInteger=function(t){var e,r=a(t.toString(16),32,\"0\"),n=[];for(e=0;e<h.GROUPS;e++)n.push(r.slice(4*e,4*(e+1)));return new d(n.join(\":\"))},d.fromURL=function(t){var e,r,n;if(-1!==t.indexOf(\"[\")&&-1!==t.indexOf(\"]:\")){if(null===(n=h.RE_URL_WITH_PORT.exec(t)))return{error:\"failed to parse address with port\",address:null,port:null};e=n[1],r=n[2]}else if(-1!==t.indexOf(\"/\")){if(t=t.replace(/^[a-z0-9]+:\\/\\//,\"\"),null===(n=h.RE_URL.exec(t)))return{error:\"failed to parse address from URL\",address:null,port:null};e=n[1]}else e=t;return r?((r=parseInt(r,10))<0||r>65536)&&(r=null):r=null,{address:new d(e),port:r}},d.fromAddress4=function(t){t=new l(t);var e=h.BITS-(f.BITS-t.subnetMask);return new d(\"::ffff:\"+t.correctForm()+\"/\"+e)},d.fromArpa=function(t){var e=t.replace(/(\\.ip6\\.arpa)?\\.$/,\"\");if(63!==e.length)return e={error:\"Not Valid 'ip6.arpa' form\",address:null};e=e.split(\".\").reverse();for(var r=7;r>0;r--){var n=4*r;e.splice(n,0,\":\")}return new d(e=e.join(\"\"))},d.prototype.microsoftTranscription=function(){return c(\"%s.ipv6-literal.net\",this.correctForm().replace(/:/g,\"-\"))},d.prototype.mask=function(t){return void 0===t&&(t=this.subnetMask),this.getBitsBase2(0,t)},d.prototype.possibleSubnets=function(t){void 0===t&&(t=128);var e=h.BITS-this.subnetMask-Math.abs(t-h.BITS);return e<0?\"0\":function(t){for(var e=/(\\d+)(\\d{3})/;e.test(t);)t=t.replace(e,\"$1,$2\");return t}(new n(\"2\",10).pow(e).toString(10))},d.prototype.startAddress=function(){var t=new n(this.mask()+u(0,h.BITS-this.subnetMask),2);return d.fromBigInteger(t)},d.prototype.endAddress=function(){var t=new n(this.mask()+u(1,h.BITS-this.subnetMask),2);return d.fromBigInteger(t)},d.prototype.getScope=function(){var t=h.SCOPES[this.getBits(12,16)];return\"Global unicast\"===this.getType()&&\"Link local\"!==t&&(t=\"Global\"),t},d.prototype.getType=function(){var t=this;return i(h.TYPES,function(e,r){return t.isInSubnet(new d(r))})||\"Global unicast\"},d.prototype.getBits=function(t,e){return new n(this.getBitsBase2(t,e),2)},d.prototype.getBitsBase2=function(t,e){return this.binaryZeroPad().slice(t,e)},d.prototype.getBitsBase16=function(t,e){var r=e-t;return r%4!=0?null:a(this.getBits(t,e).toString(16),r/4,\"0\")},d.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,h.BITS)},d.prototype.reverseForm=function(t){t||(t={});var e=Math.floor(this.subnetMask/4),r=this.canonicalForm().replace(/:/g,\"\").split(\"\").slice(0,e).reverse().join(\".\");return e>0?t.omitSuffix?r:c(\"%s.ip6.arpa.\",r):t.omitSuffix?\"\":\"ip6.arpa.\"},d.prototype.correctForm=function(){if(!this.parsedAddress)return null;var t,e=[],r=0,n=[];for(t=0;t<this.parsedAddress.length;t++){var i=parseInt(this.parsedAddress[t],16);0===i&&r++,0!==i&&r>0&&(r>1&&n.push([t-r,t-1]),r=0)}r>1&&n.push([this.parsedAddress.length-r,this.parsedAddress.length-1]);var s=n.map(function(t){return t[1]-t[0]+1});if(n.length>0){var a=s.indexOf(o(s));e=function(t,e){var r,n=[],i=[];for(r=0;r<t.length;r++)r<e[0]?n.push(t[r]):r>e[1]&&i.push(t[r]);return n.concat([\"compact\"]).concat(i)}(this.parsedAddress,n[a])}else e=this.parsedAddress;for(t=0;t<e.length;t++)\"compact\"!==e[t]&&(e[t]=parseInt(e[t],16).toString(16));var u=e.join(\":\");return u=(u=(u=u.replace(/^compact$/,\"::\")).replace(/^compact|compact$/,\":\")).replace(/compact/,\"\")},d.prototype.binaryZeroPad=function(){return a(this.bigInteger().toString(2),h.BITS,\"0\")},d.prototype.parse4in6=function(t){var e=t.split(\":\"),r=e.slice(-1)[0].match(f.RE_ADDRESS);if(r){for(var n=new l(r[0]),i=0;i<n.groups;i++)if(/^0[0-9]+/.test(n.parsedAddress[i]))return this.valid=!1,this.error=\"IPv4 addresses can not have leading zeroes.\",this.parseError=t.replace(f.RE_ADDRESS,n.parsedAddress.map(p).join(\".\")),null;this.v4=!0,e[e.length-1]=n.toGroup6(),t=e.join(\":\")}return t},d.prototype.parse=function(t){if(t=this.parse4in6(t),this.error)return null;var e=t.match(h.RE_BAD_CHARACTERS);if(e)return this.valid=!1,this.error=c(\"Bad character%s detected in address: %s\",e.length>1?\"s\":\"\",e.join(\"\")),this.parseError=t.replace(h.RE_BAD_CHARACTERS,'<span class=\"parse-error\">$1</span>'),null;var r=t.match(h.RE_BAD_ADDRESS);if(r)return this.valid=!1,this.error=c(\"Address failed regex: %s\",r.join(\"\")),this.parseError=t.replace(h.RE_BAD_ADDRESS,'<span class=\"parse-error\">$1</span>'),null;var n=[],i=t.split(\"::\");if(2===i.length){var o=i[0].split(\":\"),s=i[1].split(\":\");1===o.length&&\"\"===o[0]&&(o=[]),1===s.length&&\"\"===s[0]&&(s=[]);var a=this.groups-(o.length+s.length);if(!a)return this.valid=!1,this.error=\"Error parsing groups\",null;this.elidedGroups=a,this.elisionBegin=o.length,this.elisionEnd=o.length+this.elidedGroups,o.forEach(function(t){n.push(t)});for(var u=0;u<a;u++)n.push(0);s.forEach(function(t){n.push(t)})}else{if(1!==i.length)return this.valid=!1,this.error=\"Too many :: groups found\",null;n=t.split(\":\"),this.elidedGroups=0}return(n=n.map(function(t){return c(\"%x\",parseInt(t,16))})).length!==this.groups?(this.valid=!1,this.error=\"Incorrect number of groups found\",null):(this.valid=!0,n)},d.prototype.canonicalForm=function(){return this.valid?this.parsedAddress.map(y).join(\":\"):null},d.prototype.decimal=function(){return this.valid?this.parsedAddress.map(function(t){return c(\"%05d\",parseInt(t,16))}).join(\":\"):null},d.prototype.bigInteger=function(){return this.valid?new n(this.parsedAddress.map(y).join(\"\"),16):null},d.prototype.to4=function(){var t=this.binaryZeroPad().split(\"\");return l.fromHex(new n(t.slice(96,128).join(\"\"),2).toString(16))},d.prototype.to4in6=function(){var t=this.to4(),e=new d(this.parsedAddress.slice(0,6).join(\":\"),6),r=e.correctForm(),n=\"\";return/:$/.test(r)||(n=\":\"),e.correctForm()+n+t.address},d.prototype.inspectTeredo=function(){var t=this.getBitsBase16(0,32),e=this.getBits(80,96).xor(new n(\"ffff\",16)).toString(),r=l.fromHex(this.getBitsBase16(32,64)),i=l.fromHex(this.getBits(96,128).xor(new n(\"ffffffff\",16)).toString(16)),o=this.getBits(64,80),s=this.getBitsBase2(64,80),a=o.testBit(15),u=o.testBit(14),f=o.testBit(8),h=o.testBit(9),p=new n(s.slice(2,6)+s.slice(8,16),2).toString(10);return{prefix:c(\"%s:%s\",t.slice(0,4),t.slice(4,8)),server4:r.address,client4:i.address,flags:s,coneNat:a,microsoft:{reserved:u,universalLocal:h,groupIndividual:f,nonce:p},udpPort:e}},d.prototype.inspect6to4=function(){var t=this.getBitsBase16(0,16),e=l.fromHex(this.getBitsBase16(16,48));return{prefix:c(\"%s\",t.slice(0,4)),gateway:e.address}},d.prototype.to6to4=function(){return this.is4()?new d([\"2002\",this.getBitsBase16(96,112),this.getBitsBase16(112,128),\"\",\"/16\"].join(\":\")):null},d.prototype.toByteArray=function(){var t=this.bigInteger().toByteArray();return 17===t.length&&0===t[0]?t.slice(1):t},d.prototype.toUnsignedByteArray=function(){return this.toByteArray().map(m)},d.fromByteArray=function(t){return this.fromUnsignedByteArray(t.map(m))},d.fromUnsignedByteArray=function(t){for(var e=new n(\"256\",10),r=new n(\"0\",10),i=new n(\"1\",10),o=t.length-1;o>=0;o--)r=r.add(i.multiply(new n(t[o].toString(10),10))),i=i.multiply(e);return d.fromBigInteger(r)},t.exports=d},function(t,e){var r=\"[object Symbol]\",n=Object.prototype.toString;function i(t,e){return t>e}function o(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&n.call(t)==r}function s(t){return t}t.exports=function(t){return t&&t.length?function(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(null!=a&&(void 0===u?a==a&&!o(a):r(a,u)))var u=a,c=s}return c}(t,s,i):void 0}},function(t,e,r){(function(t,r){var n=200,i=\"__lodash_hash_undefined__\",o=800,s=16,a=9007199254740991,u=\"[object Arguments]\",c=\"[object AsyncFunction]\",f=\"[object Function]\",h=\"[object GeneratorFunction]\",l=\"[object Null]\",p=\"[object Object]\",d=\"[object Proxy]\",y=\"[object Undefined]\",m=/^\\[object .+?Constructor\\]$/,g=/^(?:0|[1-9]\\d*)$/,b={};b[\"[object Float32Array]\"]=b[\"[object Float64Array]\"]=b[\"[object Int8Array]\"]=b[\"[object Int16Array]\"]=b[\"[object Int32Array]\"]=b[\"[object Uint8Array]\"]=b[\"[object Uint8ClampedArray]\"]=b[\"[object Uint16Array]\"]=b[\"[object Uint32Array]\"]=!0,b[u]=b[\"[object Array]\"]=b[\"[object ArrayBuffer]\"]=b[\"[object Boolean]\"]=b[\"[object DataView]\"]=b[\"[object Date]\"]=b[\"[object Error]\"]=b[f]=b[\"[object Map]\"]=b[\"[object Number]\"]=b[p]=b[\"[object RegExp]\"]=b[\"[object Set]\"]=b[\"[object String]\"]=b[\"[object WeakMap]\"]=!1;var v=\"object\"==typeof t&&t&&t.Object===Object&&t,_=\"object\"==typeof self&&self&&self.Object===Object&&self,w=v||_||Function(\"return this\")(),S=\"object\"==typeof e&&e&&!e.nodeType&&e,k=S&&\"object\"==typeof r&&r&&!r.nodeType&&r,E=k&&k.exports===S,A=E&&v.process,x=function(){try{return A&&A.binding&&A.binding(\"util\")}catch(t){}}(),T=x&&x.isTypedArray;function B(t,e){return\"__proto__\"==e?void 0:t[e]}var I=Array.prototype,C=Function.prototype,M=Object.prototype,P=w[\"__core-js_shared__\"],O=C.toString,R=M.hasOwnProperty,j=function(){var t=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),N=M.toString,L=O.call(Object),K=RegExp(\"^\"+O.call(R).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),D=E?w.Buffer:void 0,U=w.Symbol,F=w.Uint8Array,q=D?D.allocUnsafe:void 0,H=function(t,e){return function(r){return t(e(r))}}(Object.getPrototypeOf,Object),z=Object.create,V=M.propertyIsEnumerable,G=I.splice,W=U?U.toStringTag:void 0,$=function(){try{var t=bt(Object,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}(),Y=D?D.isBuffer:void 0,J=Math.max,Z=Date.now,X=bt(w,\"Map\"),Q=bt(Object,\"create\"),tt=function(){function t(){}return function(e){if(!It(e))return{};if(z)return z(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function et(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function rt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function it(t){var e=this.__data__=new rt(t);this.size=e.size}function ot(t,e){var r=Et(t),n=!r&&kt(t),i=!r&&!n&&xt(t),o=!r&&!n&&!i&&Mt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var c in t)!e&&!R.call(t,c)||s&&(\"length\"==c||i&&(\"offset\"==c||\"parent\"==c)||o&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||vt(c,u))||a.push(c);return a}function st(t,e,r){(void 0===r||St(t[e],r))&&(void 0!==r||e in t)||ct(t,e,r)}function at(t,e,r){var n=t[e];R.call(t,e)&&St(n,r)&&(void 0!==r||e in t)||ct(t,e,r)}function ut(t,e){for(var r=t.length;r--;)if(St(t[r][0],e))return r;return-1}function ct(t,e,r){\"__proto__\"==e&&$?$(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}et.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},et.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},et.prototype.get=function(t){var e=this.__data__;if(Q){var r=e[t];return r===i?void 0:r}return R.call(e,t)?e[t]:void 0},et.prototype.has=function(t){var e=this.__data__;return Q?void 0!==e[t]:R.call(e,t)},et.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Q&&void 0===e?i:e,this},rt.prototype.clear=function(){this.__data__=[],this.size=0},rt.prototype.delete=function(t){var e=this.__data__,r=ut(e,t);return!(r<0||(r==e.length-1?e.pop():G.call(e,r,1),--this.size,0))},rt.prototype.get=function(t){var e=this.__data__,r=ut(e,t);return r<0?void 0:e[r][1]},rt.prototype.has=function(t){return ut(this.__data__,t)>-1},rt.prototype.set=function(t,e){var r=this.__data__,n=ut(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},nt.prototype.clear=function(){this.size=0,this.__data__={hash:new et,map:new(X||rt),string:new et}},nt.prototype.delete=function(t){var e=gt(this,t).delete(t);return this.size-=e?1:0,e},nt.prototype.get=function(t){return gt(this,t).get(t)},nt.prototype.has=function(t){return gt(this,t).has(t)},nt.prototype.set=function(t,e){var r=gt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},it.prototype.clear=function(){this.__data__=new rt,this.size=0},it.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},it.prototype.get=function(t){return this.__data__.get(t)},it.prototype.has=function(t){return this.__data__.has(t)},it.prototype.set=function(t,e){var r=this.__data__;if(r instanceof rt){var i=r.__data__;if(!X||i.length<n-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new nt(i)}return r.set(t,e),this.size=r.size,this};var ft=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function ht(t){return null==t?void 0===t?y:l:W&&W in Object(t)?function(t){var e=R.call(t,W),r=t[W];try{t[W]=void 0;var n=!0}catch(t){}var i=N.call(t);n&&(e?t[W]=r:delete t[W]);return i}(t):function(t){return N.call(t)}(t)}function lt(t){return Ct(t)&&ht(t)==u}function pt(t){return!(!It(t)||function(t){return!!j&&j in t}(t))&&(Tt(t)?K:m).test(function(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}(t))}function dt(t){if(!It(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=_t(t),r=[];for(var n in t)(\"constructor\"!=n||!e&&R.call(t,n))&&r.push(n);return r}function yt(t,e,r,n,i){t!==e&&ft(e,function(o,s){if(It(o))i||(i=new it),function(t,e,r,n,i,o,s){var a=B(t,r),u=B(e,r),c=s.get(u);if(c)return void st(t,r,c);var f=o?o(a,u,r+\"\",t,e,s):void 0,h=void 0===f;if(h){var l=Et(u),d=!l&&xt(u),y=!l&&!d&&Mt(u);f=u,l||d||y?Et(a)?f=a:!function(t){return Ct(t)&&At(t)}(a)?d?(h=!1,f=function(t,e){if(e)return t.slice();var r=t.length,n=q?q(r):new t.constructor(r);return t.copy(n),n}(u,!0)):y?(h=!1,f=function(t,e){var r=e?function(t){var e=new t.constructor(t.byteLength);return new F(e).set(new F(t)),e}(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(u,!0)):f=[]:f=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(a):function(t){if(!Ct(t)||ht(t)!=p)return!1;var e=H(t);if(null===e)return!0;var r=R.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof r&&r instanceof r&&O.call(r)==L}(u)||kt(u)?(f=a,kt(a)?f=function(t){return function(t,e,r,n){var i=!r;r||(r={});var o=-1,s=e.length;for(;++o<s;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;void 0===u&&(u=t[a]),i?ct(r,a,u):at(r,a,u)}return r}(t,Pt(t))}(a):(!It(a)||n&&Tt(a))&&(f=function(t){return\"function\"!=typeof t.constructor||_t(t)?{}:tt(H(t))}(u))):h=!1}h&&(s.set(u,f),i(f,u,n,o,s),s.delete(u));st(t,r,f)}(t,e,s,r,yt,n,i);else{var a=n?n(B(t,s),o,s+\"\",t,e,i):void 0;void 0===a&&(a=o),st(t,s,a)}},Pt)}function mt(t,e){return wt(function(t,e,r){return e=J(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=J(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,a)}}(t,e,Rt),t+\"\")}function gt(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function bt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return pt(r)?r:void 0}function vt(t,e){var r=typeof t;return!!(e=null==e?a:e)&&(\"number\"==r||\"symbol\"!=r&&g.test(t))&&t>-1&&t%1==0&&t<e}function _t(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||M)}var wt=function(t){var e=0,r=0;return function(){var n=Z(),i=s-(n-r);if(r=n,i>0){if(++e>=o)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}($?function(t,e){return $(t,\"toString\",{configurable:!0,enumerable:!1,value:function(t){return function(){return t}}(e),writable:!0})}:Rt);function St(t,e){return t===e||t!=t&&e!=e}var kt=lt(function(){return arguments}())?lt:function(t){return Ct(t)&&R.call(t,\"callee\")&&!V.call(t,\"callee\")},Et=Array.isArray;function At(t){return null!=t&&Bt(t.length)&&!Tt(t)}var xt=Y||function(){return!1};function Tt(t){if(!It(t))return!1;var e=ht(t);return e==f||e==h||e==c||e==d}function Bt(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=a}function It(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}function Ct(t){return null!=t&&\"object\"==typeof t}var Mt=T?function(t){return function(e){return t(e)}}(T):function(t){return Ct(t)&&Bt(t.length)&&!!b[ht(t)]};function Pt(t){return At(t)?ot(t,!0):dt(t)}var Ot=function(t){return mt(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=t.length>3&&\"function\"==typeof o?(i--,o):void 0,s&&function(t,e,r){if(!It(r))return!1;var n=typeof e;return!!(\"number\"==n?At(r)&&vt(e,r.length):\"string\"==n&&e in r)&&St(r[e],t)}(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e})}(function(t,e,r){yt(t,e,r)});function Rt(t){return t}r.exports=Ot}).call(this,r(5),r(26)(t))},function(t,e,r){\"use strict\";var n=r(544),i=r(297);e.isValid=function(){return this.valid},e.isInSubnet=n.isInSubnet,e.isCorrect=n.isCorrect(i.BITS),e.isCanonical=n.falseIfInvalid(function(){return this.addressMinusSuffix===this.canonicalForm()}),e.isLinkLocal=n.falseIfInvalid(function(){return\"1111111010000000000000000000000000000000000000000000000000000000\"===this.getBitsBase2(0,64)}),e.isMulticast=n.falseIfInvalid(function(){return\"Multicast\"===this.getType()}),e.is4=n.falseIfInvalid(function(){return this.v4}),e.isTeredo=n.falseIfInvalid(function(){return this.isInSubnet(new this.constructor(\"2001::/32\"))}),e.is6to4=n.falseIfInvalid(function(){return this.isInSubnet(new this.constructor(\"2002::/16\"))}),e.isLoopback=n.falseIfInvalid(function(){return\"Loopback\"===this.getType()})},function(t,e,r){\"use strict\";var n=r(296),i=r(548),o=r(159).sprintf;e.href=function(t){return t=void 0===t?\"\":o(\":%s\",t),o(\"http://[%s]%s/\",this.correctForm(),t)},e.link=function(t){t||(t={}),void 0===t.className&&(t.className=\"\"),void 0===t.prefix&&(t.prefix=\"/#address=\"),void 0===t.v4&&(t.v4=!1);var e=this.correctForm;return t.v4&&(e=this.to4in6),t.className?o('<a href=\"%1$s%2$s\" class=\"%3$s\">%2$s</a>',t.prefix,e.call(this),t.className):o('<a href=\"%1$s%2$s\">%2$s</a>',t.prefix,e.call(this))},e.group=function(){var t,e=this.address.match(n.RE_ADDRESS);if(e){var r=e[0].split(\".\");this.address=this.address.replace(n.RE_ADDRESS,o('<span class=\"hover-group group-v4 group-6\">%s</span>.<span class=\"hover-group group-v4 group-7\">%s</span>',r.slice(0,2).join(\".\"),r.slice(2,4).join(\".\")))}if(0===this.elidedGroups)return i.simpleGroup(this.address);var s=[],a=this.address.split(\"::\");a[0].length?s.push(i.simpleGroup(a[0])):s.push(\"\");var u=[\"hover-group\"];for(t=this.elisionBegin;t<this.elisionBegin+this.elidedGroups;t++)u.push(o(\"group-%d\",t));return s.push(o('<span class=\"%s\"></span>',u.join(\" \"))),a[1].length?s.push(i.simpleGroup(a[1],this.elisionEnd)):s.push(\"\"),s.join(\":\")}},function(t,e,r){\"use strict\";var n=r(159).sprintf,i=r(297);function o(t){return n(\"(%s)\",t.join(\"|\"))}function s(t){return t.length<4?n(\"0{0,%d}%s\",4-t.length,t):t}function a(t){var e=[];t.forEach(function(t,r){0===parseInt(t,16)&&e.push(r)});var r=e.map(function(e){return t.map(function(t,r){if(r===e){var n=0===r||r===i.GROUPS-1?\":\":\"\";return o([s(t),n])}return s(t)}).join(\":\")});return r.push(t.map(s).join(\":\")),o(r)}function u(t,e,r){var i=e?\"\":\":\",s=r?\"\":\":\",a=[];e||r||a.push(\"::\"),e&&r&&a.push(\"\"),(r&&!e||!r&&e)&&a.push(\":\"),a.push(n(\"%s(:0{1,4}){1,%d}\",i,t-1)),a.push(n(\"(0{1,4}:){1,%d}%s\",t-1,s)),a.push(n(\"(0{1,4}:){%d}0{1,4}\",t-1));for(var u=1;u<t-1;u++)for(var c=1;c<t-u;c++)a.push(n(\"(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}\",c,t-c-u-1));return o(a)}e.regularExpressionString=function(t){void 0===t&&(t=!1);var e=[],r=new this.constructor(this.correctForm());if(0===r.elidedGroups)e.push(a(r.parsedAddress));else if(r.elidedGroups===i.GROUPS)e.push(u(i.GROUPS));else{var n=r.address.split(\"::\");n[0].length&&e.push(a(n[0].split(\":\"))),e.push(u(r.elidedGroups,0!==n[0].length,0!==n[1].length)),n[1].length&&e.push(a(n[1].split(\":\"))),e=[e.join(\":\")]}return t||(e=[].concat(\"(?=^|\\\\b|[^\\\\w\\\\:])(\",e,\")(?=[^\\\\w\\\\:]|\\\\b|$)\")),e.join(\"\")},e.regularExpression=function(t){return new RegExp(this.regularExpressionString(t),\"i\")}},function(t,e,r){\"use strict\";const n=r(541).ensureMultiaddr,i=r(1181);t.exports=class{constructor(t){this._multiaddrs=t||[],this._observedMultiaddrs=[]}add(t){t=n(t),this.has(t)||this._multiaddrs.push(t)}addSafe(t){t=n(t),this._observedMultiaddrs.some((e,r)=>{if(e.equals(t))return this.add(t),this._observedMultiaddrs.splice(r,1),!0})||this._observedMultiaddrs.push(t)}toArray(){return this._multiaddrs.slice()}get size(){return this._multiaddrs.length}forEach(t){return this._multiaddrs.forEach(t)}filterBy(t){return\"object\"!=typeof t||\"function\"!=typeof t.matches||\"function\"!=typeof t.partialMatch||\"function\"!=typeof t.toString?[]:this._multiaddrs.filter(e=>t.matches(e))}has(t){return t=n(t),this._multiaddrs.some(e=>e.equals(t))}delete(t){t=n(t),this._multiaddrs.some((e,r)=>{if(e.equals(t))return this._multiaddrs.splice(r,1),!0})}replace(t,e){Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]),t.forEach(t=>this.delete(t)),e.forEach(t=>this.add(t))}clear(){this._multiaddrs=[]}distinct(){return i(this._multiaddrs,t=>[t.toOptions().port,t.toOptions().transport].join())}}},function(t,e,r){(function(t,r){var n=200,i=\"Expected a function\",o=\"__lodash_hash_undefined__\",s=1,a=2,u=1/0,c=9007199254740991,f=\"[object Arguments]\",h=\"[object Array]\",l=\"[object Boolean]\",p=\"[object Date]\",d=\"[object Error]\",y=\"[object Function]\",m=\"[object GeneratorFunction]\",g=\"[object Map]\",b=\"[object Number]\",v=\"[object Object]\",_=\"[object RegExp]\",w=\"[object Set]\",S=\"[object String]\",k=\"[object Symbol]\",E=\"[object ArrayBuffer]\",A=\"[object DataView]\",x=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,T=/^\\w*$/,B=/^\\./,I=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,C=/\\\\(\\\\)?/g,M=/^\\[object .+?Constructor\\]$/,P=/^(?:0|[1-9]\\d*)$/,O={};O[\"[object Float32Array]\"]=O[\"[object Float64Array]\"]=O[\"[object Int8Array]\"]=O[\"[object Int16Array]\"]=O[\"[object Int32Array]\"]=O[\"[object Uint8Array]\"]=O[\"[object Uint8ClampedArray]\"]=O[\"[object Uint16Array]\"]=O[\"[object Uint32Array]\"]=!0,O[f]=O[h]=O[E]=O[l]=O[A]=O[p]=O[d]=O[y]=O[g]=O[b]=O[v]=O[_]=O[w]=O[S]=O[\"[object WeakMap]\"]=!1;var R=\"object\"==typeof t&&t&&t.Object===Object&&t,j=\"object\"==typeof self&&self&&self.Object===Object&&self,N=R||j||Function(\"return this\")(),L=\"object\"==typeof e&&e&&!e.nodeType&&e,K=L&&\"object\"==typeof r&&r&&!r.nodeType&&r,D=K&&K.exports===L&&R.process,U=function(){try{return D&&D.binding(\"util\")}catch(t){}}(),F=U&&U.isTypedArray;function q(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,V,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function H(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function z(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function V(t){return t!=t}function G(t,e){return t.has(e)}function W(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}function $(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function Y(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var J=Array.prototype,Z=Function.prototype,X=Object.prototype,Q=N[\"__core-js_shared__\"],tt=function(){var t=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),et=Z.toString,rt=X.hasOwnProperty,nt=X.toString,it=RegExp(\"^\"+et.call(rt).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),ot=N.Symbol,st=N.Uint8Array,at=X.propertyIsEnumerable,ut=J.splice,ct=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),ft=Ft(N,\"DataView\"),ht=Ft(N,\"Map\"),lt=Ft(N,\"Promise\"),pt=Ft(N,\"Set\"),dt=Ft(N,\"WeakMap\"),yt=Ft(Object,\"create\"),mt=Yt(ft),gt=Yt(ht),bt=Yt(lt),vt=Yt(pt),_t=Yt(dt),wt=ot?ot.prototype:void 0,St=wt?wt.valueOf:void 0,kt=wt?wt.toString:void 0;function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){var e=-1,r=t?t.length:0;for(this.__data__=new xt;++e<r;)this.add(t[e])}function Bt(t){this.__data__=new At(t)}function It(t,e){var r=Qt(t)||Xt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!rt.call(t,o)||i&&(\"length\"==o||Ht(o,n))||r.push(o);return r}function Ct(t,e){for(var r=t.length;r--;)if(Zt(t[r][0],e))return r;return-1}function Mt(t,e){for(var r=0,n=(e=zt(e,t)?[e]:Lt(e)).length;null!=t&&r<n;)t=t[$t(e[r++])];return r&&r==n?t:void 0}function Pt(t,e){return null!=t&&e in Object(t)}function Ot(t,e,r,n,i){return t===e||(null==t||null==e||!ne(t)&&!ie(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=Qt(t),c=Qt(e),y=h,m=h;u||(y=(y=qt(t))==f?v:y);c||(m=(m=qt(e))==f?v:m);var x=y==v&&!W(t),T=m==v&&!W(e),B=y==m;if(B&&!x)return o||(o=new Bt),u||se(t)?Dt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!n(new st(t),new st(e)));case l:case p:case b:return Zt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+\"\";case g:var c=$;case w:var f=o&a;if(c||(c=Y),t.size!=e.size&&!f)return!1;var h=u.get(t);if(h)return h==e;o|=s,u.set(t,e);var y=Dt(c(t),c(e),n,i,o,u);return u.delete(t),y;case k:if(St)return St.call(t)==St.call(e)}return!1}(t,e,y,r,n,i,o);if(!(i&a)){var I=x&&rt.call(t,\"__wrapped__\"),C=T&&rt.call(e,\"__wrapped__\");if(I||C){var M=I?t.value():t,P=C?e.value():e;return o||(o=new Bt),r(M,P,n,i,o)}}if(!B)return!1;return o||(o=new Bt),function(t,e,r,n,i,o){var s=i&a,u=ae(t),c=u.length,f=ae(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var l=u[h];if(!(s?l in e:rt.call(e,l)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var y=s;++h<c;){l=u[h];var m=t[l],g=e[l];if(n)var b=s?n(g,m,l,e,t,o):n(m,g,l,t,e,o);if(!(void 0===b?m===g||r(m,g,n,i,o):b)){d=!1;break}y||(y=\"constructor\"==l)}if(d&&!y){var v=t.constructor,_=e.constructor;v!=_&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof v&&v instanceof v&&\"function\"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Ot,r,n,i))}function Rt(t){return!(!ne(t)||function(t){return!!tt&&tt in t}(t))&&(ee(t)||W(t)?it:M).test(Yt(t))}function jt(t){return\"function\"==typeof t?t:null==t?ue:\"object\"==typeof t?Qt(t)?function(t,e){if(zt(t)&&Vt(e))return Gt($t(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Mt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=zt(e,t)?[e]:Lt(e)).length;for(;++i<o;){var s=$t(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&re(o)&&Ht(s,o)&&(Qt(t)||Xt(t))}(t,e,Pt)}(r,t):Ot(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=ae(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,Vt(i)]}return e}(t);if(1==e.length&&e[0][2])return Gt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],h=t[f],l=c[1];if(u&&c[2]){if(void 0===h&&!(f in t))return!1}else{var p=new Bt;if(n)var d=n(h,l,f,t,e,p);if(!(void 0===d?Ot(l,h,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):function(t){return zt(t)?function(t){return function(e){return null==e?void 0:e[t]}}($t(t)):function(t){return function(e){return Mt(e,t)}}(t)}(t)}function Nt(t){if(!function(t){var e=t&&t.constructor,r=\"function\"==typeof e&&e.prototype||X;return t===r}(t))return ct(t);var e=[];for(var r in Object(t))rt.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function Lt(t){return Qt(t)?t:Wt(t)}Et.prototype.clear=function(){this.__data__=yt?yt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(yt){var r=e[t];return r===o?void 0:r}return rt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:rt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?o:e,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(t){var e=this.__data__,r=Ct(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},At.prototype.get=function(t){var e=this.__data__,r=Ct(e,t);return r<0?void 0:e[r][1]},At.prototype.has=function(t){return Ct(this.__data__,t)>-1},At.prototype.set=function(t,e){var r=this.__data__,n=Ct(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},xt.prototype.clear=function(){this.__data__={hash:new Et,map:new(ht||At),string:new Et}},xt.prototype.delete=function(t){return Ut(this,t).delete(t)},xt.prototype.get=function(t){return Ut(this,t).get(t)},xt.prototype.has=function(t){return Ut(this,t).has(t)},xt.prototype.set=function(t,e){return Ut(this,t).set(t,e),this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,o),this},Tt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.clear=function(){this.__data__=new At},Bt.prototype.delete=function(t){return this.__data__.delete(t)},Bt.prototype.get=function(t){return this.__data__.get(t)},Bt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof At){var i=r.__data__;if(!ht||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new xt(i)}return r.set(t,e),this};var Kt=pt&&1/Y(new pt([,-0]))[1]==u?function(t){return new pt(t)}:function(){};function Dt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var l=-1,p=!0,d=i&s?new Tt:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var y=t[l],m=e[l];if(n)var g=u?n(m,y,l,e,t,o):n(y,m,l,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!z(e,function(t,e){if(!d.has(e)&&(y===t||r(y,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(y!==m&&!r(y,m,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Ut(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function Ft(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(r)?r:void 0}var qt=function(t){return nt.call(t)};function Ht(t,e){return!!(e=null==e?c:e)&&(\"number\"==typeof t||P.test(t))&&t>-1&&t%1==0&&t<e}function zt(t,e){if(Qt(t))return!1;var r=typeof t;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=t&&!oe(t))||(T.test(t)||!x.test(t)||null!=e&&t in Object(e))}function Vt(t){return t==t&&!ne(t)}function Gt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ft&&qt(new ft(new ArrayBuffer(1)))!=A||ht&&qt(new ht)!=g||lt&&\"[object Promise]\"!=qt(lt.resolve())||pt&&qt(new pt)!=w||dt&&\"[object WeakMap]\"!=qt(new dt))&&(qt=function(t){var e=nt.call(t),r=e==v?t.constructor:void 0,n=r?Yt(r):void 0;if(n)switch(n){case mt:return A;case gt:return g;case bt:return\"[object Promise]\";case vt:return w;case _t:return\"[object WeakMap]\"}return e});var Wt=Jt(function(t){t=function(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(oe(t))return kt?kt.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}(t)}(t);var e=[];return B.test(t)&&e.push(\"\"),t.replace(I,function(t,r,n,i){e.push(n?i.replace(C,\"$1\"):r||t)}),e});function $t(t){if(\"string\"==typeof t||oe(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}function Yt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}function Jt(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Jt.Cache||xt),r}function Zt(t,e){return t===e||t!=t&&e!=e}function Xt(t){return function(t){return ie(t)&&te(t)}(t)&&rt.call(t,\"callee\")&&(!at.call(t,\"callee\")||nt.call(t)==f)}Jt.Cache=xt;var Qt=Array.isArray;function te(t){return null!=t&&re(t.length)&&!ee(t)}function ee(t){var e=ne(t)?nt.call(t):\"\";return e==y||e==m}function re(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=c}function ne(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function ie(t){return!!t&&\"object\"==typeof t}function oe(t){return\"symbol\"==typeof t||ie(t)&&nt.call(t)==k}var se=F?function(t){return function(e){return t(e)}}(F):function(t){return ie(t)&&re(t.length)&&!!O[nt.call(t)]};function ae(t){return te(t)?It(t):Nt(t)}function ue(t){return t}r.exports=function(t,e){return t&&t.length?function(t,e,r){var i=-1,o=q,s=t.length,a=!0,u=[],c=u;if(r)a=!1,o=H;else if(s>=n){var f=e?null:Kt(t);if(f)return Y(f);a=!1,o=G,c=new Tt}else c=e?[]:u;t:for(;++i<s;){var h=t[i],l=e?e(h):h;if(h=r||0!==h?h:0,a&&l==l){for(var p=c.length;p--;)if(c[p]===l)continue t;e&&c.push(l),u.push(h)}else o(c,l,r)||(c!==u&&c.push(l),u.push(h))}return u}(t,jt(e)):[]}}).call(this,r(5),r(26)(t))},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(156),o=r(1183),s=r(299),a=r(20);function u(t){const e=[],r=t.split(\"/\").slice(1);if(1===r.length&&\"\"===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n];if(0!==s(i).size){if(++n>=r.length)throw v(\"invalid address: \"+t);e.push([i,r[n]])}else e.push([i])}return e}function c(t){const e=[];return n(t,function(t){const r=_(t);e.push(r.name),t.length>1&&e.push(t[1])}),\"/\"+e.join(\"/\")}function f(t){return n(t,function(t){Array.isArray(t)||(t=[t]);const e=_(t);return t.length>1?[e.code,o.toBuffer(e.code,t[1])]:[e.code]})}function h(t){return n(t,function(t){const e=_(t);return t.length>1?[e.code,o.toString(e.code,t[1])]:[e.code]})}function l(t){return m(e.concat(n(t,function(t){const r=_(t);let n=e.from(a.encode(r.code));return t.length>1&&(n=e.concat([n,t[1]])),n})))}function p(t,e){if(t.size>0)return t.size/8;if(0===t.size)return 0;return a.decode(e)+a.decode.bytes}function d(t){const e=[];let r=0;for(;r<t.length;){const n=a.decode(t,r),i=a.decode.bytes,o=p(s(n),t.slice(r+i));if(0===o){e.push([n]),r+=i;continue}const u=t.slice(r+i,r+i+o);if((r+=o+i)>t.length)throw v(\"Invalid address buffer: \"+t.toString(\"hex\"));e.push([n,u])}return e}function y(t){return l(f(u(t=b(t))))}function m(t){const r=g(t);if(r)throw r;return e.from(t)}function g(t){try{d(t)}catch(t){return t}}function b(t){return\"/\"+i(t.trim().split(\"/\")).join(\"/\")}function v(t){return new Error(\"Error parsing address: \"+t)}function _(t){return s(t[0])}t.exports={stringToStringTuples:u,stringTuplesToString:c,tuplesToStringTuples:h,stringTuplesToTuples:f,bufferToTuples:d,tuplesToBuffer:l,bufferToString:function(t){return c(h(d(t)))},stringToBuffer:y,fromString:function(t){return y(t)},fromBuffer:m,validateBuffer:g,isValidBuffer:function(t){return void 0===g(t)},cleanPath:b,ParseError:v,protoFromTuple:_,sizeForAddr:p}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(157),i=r(158),o=r(299),s=r(8),a=r(20);function u(t,r){return r instanceof e?u.toString(t,r):u.toBuffer(t,r)}function c(t){if(!t.isValid())throw new Error(\"invalid ip address\");return n.toBuffer(t.address)}t.exports=u,u.toString=function(t,e){switch((t=o(t)).code){case 4:case 41:return n.toString(e);case 6:case 17:case 33:case 132:return function(t){return t.readUInt16BE(0)}(e);case 54:case 55:case 56:return function(t){const e=a.decode(t);if((t=t.slice(a.decode.bytes)).length!==e)throw new Error(\"inconsistent lengths\");return t.toString()}(e);case 421:return function(t){const e=a.decode(t),r=t.slice(a.decode.bytes);if(r.length!==e)throw new Error(\"inconsistent lengths\");return s.encode(r)}(e);default:return e.toString(\"hex\")}},u.toBuffer=function(t,r){switch((t=o(t)).code){case 4:return c(new i.Address4(r));case 41:return c(new i.Address6(r));case 6:case 17:case 33:case 132:return function(t){const r=e.alloc(2);return r.writeUInt16BE(t,0),r}(parseInt(r,10));case 54:case 55:case 56:return function(t){const r=e.from(t),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);case 421:return function(t){const r=e.from(s.decode(t)),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);default:return e.from(r,\"hex\")}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(1185),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(551),i=r(1187),o=r(1189);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(560),e.pbkdf2=r(1208)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1188),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(302)),o=r(14);e=t.exports;const s={rsa:r(1190),ed25519:r(1203),secp256k1:r(62)(i,r(560))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1205),e.generateEphemeralKeyPair=r(1206),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(552),i=r(11),o=r(8),s=r(554),a=i(r(302)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(553),s=r(1192),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1193),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(553).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(121),i=r(559),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(121),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(160).Reporter,i=r(160).EncoderBuffer,o=r(160).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(556);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(557),n.pem=r(1200)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(557);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(558),n.pem=r(1202)},function(t,e,r){\"use strict\";const n=r(1),i=r(558);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(552),i=r(11),o=r(8),s=r(1204),a=i(r(302));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(551),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1207);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(301)(),i=r(300),o=r(121).bignum,s=r(559),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";const n=r(561).extend(r(1210)),i=n.object().keys({repo:n.alternatives().try(n.object(),n.string()).allow(null),repoOwner:n.boolean().default(!0),init:n.alternatives().try(n.boolean(),n.object().keys({bits:n.number().integer()})).allow(null),start:n.boolean(),pass:n.string().allow(\"\"),relay:n.object().keys({enabled:n.boolean(),hop:n.object().keys({enabled:n.boolean(),active:n.boolean()}).allow(null)}).allow(null),EXPERIMENTAL:n.object().keys({pubsub:n.boolean(),sharding:n.boolean(),dht:n.boolean()}).allow(null),connectionManager:n.object().allow(null),config:n.object().keys({Addresses:n.object().keys({Swarm:n.array().items(n.multiaddr().options({convert:!1})),API:n.multiaddr().options({convert:!1}),Gateway:n.multiaddr().options({convert:!1})}).allow(null),Discovery:n.object().keys({MDNS:n.object().keys({Enabled:n.boolean(),Interval:n.number().integer()}).allow(null),webRTCStar:n.object().keys({Enabled:n.boolean()}).allow(null)}).allow(null),Bootstrap:n.array().items(n.multiaddr().IPFS().options({convert:!1}))}).allow(null),libp2p:n.object().keys({modules:n.object().allow(null)}).allow(null)}).options({allowUnknown:!0});t.exports.validate=(t=>n.attempt(t,i))},function(t,e,r){const n=r(1211),i=r(84);t.exports={name:\"multiaddr\",language:{invalid:\"{{message}}\",fmt:\"must be in {{fmt}} format\"},pre(t,e,r){if(null==t)return this.createError(\"multiaddr.invalid\",{v:t,message:\"addr must be a string, Buffer, or another Multiaddr\"},e,r);let i;try{i=n(t)}catch(n){return this.createError(\"multiaddr.invalid\",{v:t,message:n.message},e,r)}return r.convert?i:t},rules:Object.keys(i).map(t=>({name:t,validate(e,r,n,o){return i[t].matches(r)?r:this.createError(\"multiaddr.fmt\",{v:r,fmt:t},n,o)}}))}},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(33),o=r(1212),s=r(304),a=r(20),u=r(8),c=r(64),f=new Error(\"Sorry, Not Implemented Yet.\"),h=c.proto(function(t){if(!(this instanceof h))return new h(t);if(null==t&&(t=\"\"),t instanceof e)this.buffer=o.fromBuffer(t);else if(\"string\"==typeof t||t instanceof String)this.buffer=o.fromString(t);else{if(!(t.buffer&&t.protos&&t.protoCodes))throw new Error(\"addr must be a string, Buffer, or another Multiaddr\");this.buffer=o.fromBuffer(t.buffer)}},{className:\"Multiaddr\",symbolName:\"@multiformats/js-multiaddr/multiaddr\"});h.prototype.toString=function(){return o.bufferToString(this.buffer)},h.prototype.toOptions=function(){const t={},e=this.toString().split(\"/\");return t.family=\"ip4\"===e[1]?\"ipv4\":\"ipv6\",t.host=e[2],t.transport=e[3],t.port=e[4],t},h.prototype.inspect=function(){return\"<Multiaddr \"+this.buffer.toString(\"hex\")+\" - \"+o.bufferToString(this.buffer)+\">\"},h.prototype.protos=function(){return n(this.protoCodes(),function(t){return i(s(t))})},h.prototype.protoCodes=function(){const t=[],e=this.buffer;let r=0;for(;r<e.length;){const n=a.decode(e,r),i=a.decode.bytes,u=s(n);r+=o.sizeForAddr(u,e.slice(r+i))+i,t.push(n)}return t},h.prototype.protoNames=function(){return n(this.protos(),function(t){return t.name})},h.prototype.tuples=function(){return o.bufferToTuples(this.buffer)},h.prototype.stringTuples=function(){const t=o.bufferToTuples(this.buffer);return o.tuplesToStringTuples(t)},h.prototype.encapsulate=function(t){return t=h(t),h(this.toString()+t.toString())},h.prototype.decapsulate=function(t){t=t.toString();const e=this.toString(),r=e.lastIndexOf(t);if(r<0)throw new Error(\"Address \"+this+\" does not contain subaddress: \"+t);return h(e.slice(0,r))},h.prototype.getPeerId=function(){let t=null;try{t=this.stringTuples().filter(t=>{if(t[0]===s.names.ipfs.code)return!0})[0][1],u.decode(t)}catch(e){t=null}return t},h.prototype.equals=function(t){return this.buffer.equals(t.buffer)},h.prototype.nodeAddress=function(){if(!this.isThinWaistAddress())throw new Error('Multiaddr must be \"thin waist\" address for nodeAddress.');const t=this.protoCodes(),e=this.toString().split(\"/\").slice(1);return{family:41===t[0]?\"IPv6\":\"IPv4\",address:e[1],port:e[3]}},h.fromNodeAddress=function(t,e){if(!t)throw new Error(\"requires node address object\");if(!e)throw new Error(\"requires transport protocol\");const r=\"IPv6\"===t.family?\"ip6\":\"ip4\";return h(\"/\"+[r,t.address,e,t.port].join(\"/\"))},h.prototype.isThinWaistAddress=function(t){const e=(t||this).protos();return 2===e.length&&((4===e[0].code||41===e[0].code)&&(6===e[1].code||17===e[1].code))},h.prototype.fromStupidString=function(t){throw f},h.protocols=s,h.isName=function(t){return!!h.isMultiaddr(t)&&t.protos().some(t=>t.resolvable)},h.resolve=function(t,e){return h.isMultiaddr(t)&&h.isName(t)?e(new Error(\"not implemented yet\")):e(new Error(\"not a valid name\"))},t.exports=h}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(156),o=r(1213),s=r(304),a=r(20);function u(t){const e=[],r=t.split(\"/\").slice(1);if(1===r.length&&\"\"===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n];if(0!==s(i).size){if(++n>=r.length)throw v(\"invalid address: \"+t);e.push([i,r[n]])}else e.push([i])}return e}function c(t){const e=[];return n(t,function(t){const r=_(t);e.push(r.name),t.length>1&&e.push(t[1])}),\"/\"+e.join(\"/\")}function f(t){return n(t,function(t){Array.isArray(t)||(t=[t]);const e=_(t);return t.length>1?[e.code,o.toBuffer(e.code,t[1])]:[e.code]})}function h(t){return n(t,function(t){const e=_(t);return t.length>1?[e.code,o.toString(e.code,t[1])]:[e.code]})}function l(t){return m(e.concat(n(t,function(t){const r=_(t);let n=e.from(a.encode(r.code));return t.length>1&&(n=e.concat([n,t[1]])),n})))}function p(t,e){if(t.size>0)return t.size/8;if(0===t.size)return 0;return a.decode(e)+a.decode.bytes}function d(t){const e=[];let r=0;for(;r<t.length;){const n=a.decode(t,r),i=a.decode.bytes,o=p(s(n),t.slice(r+i));if(0===o){e.push([n]),r+=i;continue}const u=t.slice(r+i,r+i+o);if((r+=o+i)>t.length)throw v(\"Invalid address buffer: \"+t.toString(\"hex\"));e.push([n,u])}return e}function y(t){return l(f(u(t=b(t))))}function m(t){const r=g(t);if(r)throw r;return e.from(t)}function g(t){try{d(t)}catch(t){return t}}function b(t){return\"/\"+i(t.trim().split(\"/\")).join(\"/\")}function v(t){return new Error(\"Error parsing address: \"+t)}function _(t){return s(t[0])}t.exports={stringToStringTuples:u,stringTuplesToString:c,tuplesToStringTuples:h,stringTuplesToTuples:f,bufferToTuples:d,tuplesToBuffer:l,bufferToString:function(t){return c(h(d(t)))},stringToBuffer:y,fromString:function(t){return y(t)},fromBuffer:m,validateBuffer:g,isValidBuffer:function(t){return void 0===g(t)},cleanPath:b,ParseError:v,protoFromTuple:_,sizeForAddr:p}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(157),i=r(158),o=r(304),s=r(8),a=r(20);function u(t,r){return r instanceof e?u.toString(t,r):u.toBuffer(t,r)}function c(t){if(!t.isValid())throw new Error(\"invalid ip address\");return n.toBuffer(t.address)}t.exports=u,u.toString=function(t,e){switch((t=o(t)).code){case 4:case 41:return n.toString(e);case 6:case 17:case 33:case 132:return function(t){return t.readUInt16BE(0)}(e);case 54:case 55:case 56:return function(t){const e=a.decode(t);if((t=t.slice(a.decode.bytes)).length!==e)throw new Error(\"inconsistent lengths\");return t.toString()}(e);case 421:return function(t){const e=a.decode(t),r=t.slice(a.decode.bytes);if(r.length!==e)throw new Error(\"inconsistent lengths\");return s.encode(r)}(e);default:return e.toString(\"hex\")}},u.toBuffer=function(t,r){switch((t=o(t)).code){case 4:return c(new i.Address4(r));case 41:return c(new i.Address6(r));case 6:case 17:case 33:case 132:return function(t){const r=e.alloc(2);return r.writeUInt16BE(t,0),r}(parseInt(r,10));case 54:case 55:case 56:return function(t){const r=e.from(t),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);case 421:return function(t){const r=e.from(s.decode(t)),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);default:return e.from(r,\"hex\")}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(33),o=r(1215),s=r(305),a=r(20),u=r(8),c=r(64),f=new Error(\"Sorry, Not Implemented Yet.\"),h=c.proto(function(t){if(!(this instanceof h))return new h(t);if(null==t&&(t=\"\"),t instanceof e)this.buffer=o.fromBuffer(t);else if(\"string\"==typeof t||t instanceof String)this.buffer=o.fromString(t);else{if(!(t.buffer&&t.protos&&t.protoCodes))throw new Error(\"addr must be a string, Buffer, or another Multiaddr\");this.buffer=o.fromBuffer(t.buffer)}},{className:\"Multiaddr\",symbolName:\"@multiformats/js-multiaddr/multiaddr\"});h.prototype.toString=function(){return o.bufferToString(this.buffer)},h.prototype.toOptions=function(){const t={},e=this.toString().split(\"/\");return t.family=\"ip4\"===e[1]?\"ipv4\":\"ipv6\",t.host=e[2],t.transport=e[3],t.port=e[4],t},h.prototype.inspect=function(){return\"<Multiaddr \"+this.buffer.toString(\"hex\")+\" - \"+o.bufferToString(this.buffer)+\">\"},h.prototype.protos=function(){return n(this.protoCodes(),function(t){return i(s(t))})},h.prototype.protoCodes=function(){const t=[],e=this.buffer;let r=0;for(;r<e.length;){const n=a.decode(e,r),i=a.decode.bytes,u=s(n);r+=o.sizeForAddr(u,e.slice(r+i))+i,t.push(n)}return t},h.prototype.protoNames=function(){return n(this.protos(),function(t){return t.name})},h.prototype.tuples=function(){return o.bufferToTuples(this.buffer)},h.prototype.stringTuples=function(){const t=o.bufferToTuples(this.buffer);return o.tuplesToStringTuples(t)},h.prototype.encapsulate=function(t){return t=h(t),h(this.toString()+t.toString())},h.prototype.decapsulate=function(t){t=t.toString();const e=this.toString(),r=e.lastIndexOf(t);if(r<0)throw new Error(\"Address \"+this+\" does not contain subaddress: \"+t);return h(e.slice(0,r))},h.prototype.getPeerId=function(){let t=null;try{t=this.stringTuples().filter(t=>{if(t[0]===s.names.ipfs.code)return!0})[0][1],u.decode(t)}catch(e){t=null}return t},h.prototype.equals=function(t){return this.buffer.equals(t.buffer)},h.prototype.nodeAddress=function(){if(!this.isThinWaistAddress())throw new Error('Multiaddr must be \"thin waist\" address for nodeAddress.');const t=this.protoCodes(),e=this.toString().split(\"/\").slice(1);return{family:41===t[0]?\"IPv6\":\"IPv4\",address:e[1],port:e[3]}},h.fromNodeAddress=function(t,e){if(!t)throw new Error(\"requires node address object\");if(!e)throw new Error(\"requires transport protocol\");const r=\"IPv6\"===t.family?\"ip6\":\"ip4\";return h(\"/\"+[r,t.address,e,t.port].join(\"/\"))},h.prototype.isThinWaistAddress=function(t){const e=(t||this).protos();return 2===e.length&&((4===e[0].code||41===e[0].code)&&(6===e[1].code||17===e[1].code))},h.prototype.fromStupidString=function(t){throw f},h.protocols=s,h.isName=function(t){return!!h.isMultiaddr(t)&&t.protos().some(t=>t.resolvable)},h.resolve=function(t,e){return h.isMultiaddr(t)&&h.isName(t)?e(new Error(\"not implemented yet\")):e(new Error(\"not a valid name\"))},t.exports=h}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(156),o=r(1216),s=r(305),a=r(20);function u(t){const e=[],r=t.split(\"/\").slice(1);if(1===r.length&&\"\"===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n];if(0!==s(i).size){if(++n>=r.length)throw v(\"invalid address: \"+t);e.push([i,r[n]])}else e.push([i])}return e}function c(t){const e=[];return n(t,function(t){const r=_(t);e.push(r.name),t.length>1&&e.push(t[1])}),\"/\"+e.join(\"/\")}function f(t){return n(t,function(t){Array.isArray(t)||(t=[t]);const e=_(t);return t.length>1?[e.code,o.toBuffer(e.code,t[1])]:[e.code]})}function h(t){return n(t,function(t){const e=_(t);return t.length>1?[e.code,o.toString(e.code,t[1])]:[e.code]})}function l(t){return m(e.concat(n(t,function(t){const r=_(t);let n=e.from(a.encode(r.code));return t.length>1&&(n=e.concat([n,t[1]])),n})))}function p(t,e){if(t.size>0)return t.size/8;if(0===t.size)return 0;return a.decode(e)+a.decode.bytes}function d(t){const e=[];let r=0;for(;r<t.length;){const n=a.decode(t,r),i=a.decode.bytes,o=p(s(n),t.slice(r+i));if(0===o){e.push([n]),r+=i;continue}const u=t.slice(r+i,r+i+o);if((r+=o+i)>t.length)throw v(\"Invalid address buffer: \"+t.toString(\"hex\"));e.push([n,u])}return e}function y(t){return l(f(u(t=b(t))))}function m(t){const r=g(t);if(r)throw r;return e.from(t)}function g(t){try{d(t)}catch(t){return t}}function b(t){return\"/\"+i(t.trim().split(\"/\")).join(\"/\")}function v(t){return new Error(\"Error parsing address: \"+t)}function _(t){return s(t[0])}t.exports={stringToStringTuples:u,stringTuplesToString:c,tuplesToStringTuples:h,stringTuplesToTuples:f,bufferToTuples:d,tuplesToBuffer:l,bufferToString:function(t){return c(h(d(t)))},stringToBuffer:y,fromString:function(t){return y(t)},fromBuffer:m,validateBuffer:g,isValidBuffer:function(t){return void 0===g(t)},cleanPath:b,ParseError:v,protoFromTuple:_,sizeForAddr:p}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(157),i=r(158),o=r(305),s=r(8),a=r(20);function u(t,r){return r instanceof e?u.toString(t,r):u.toBuffer(t,r)}function c(t){if(!t.isValid())throw new Error(\"invalid ip address\");return n.toBuffer(t.address)}t.exports=u,u.toString=function(t,e){switch((t=o(t)).code){case 4:case 41:return n.toString(e);case 6:case 17:case 33:case 132:return function(t){return t.readUInt16BE(0)}(e);case 54:case 55:case 56:return function(t){const e=a.decode(t);if((t=t.slice(a.decode.bytes)).length!==e)throw new Error(\"inconsistent lengths\");return t.toString()}(e);case 421:return function(t){const e=a.decode(t),r=t.slice(a.decode.bytes);if(r.length!==e)throw new Error(\"inconsistent lengths\");return s.encode(r)}(e);default:return e.toString(\"hex\")}},u.toBuffer=function(t,r){switch((t=o(t)).code){case 4:return c(new i.Address4(r));case 41:return c(new i.Address6(r));case 6:case 17:case 33:case 132:return function(t){const r=e.alloc(2);return r.writeUInt16BE(t,0),r}(parseInt(r,10));case 54:case 55:case 56:return function(t){const r=e.from(t),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);case 421:return function(t){const r=e.from(s.decode(t)),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);default:return e.from(r,\"hex\")}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(4),i=r(188).errors;t.exports=(t=>{t.log(\"booting\");const e=t._options,r=e.init,o=e.start;n([e=>{if(!t._repo.closed)return e(null,!0);t._repo.open((t,r)=>(function(t){if(!t)return!1;if(t.code===i.ERR_REPO_NOT_INITIALIZED)return!0;if(t.message.match(/not found/)||t.message.match(/ENOENT/)||t.message.match(/No value/))return!0;return!1})(t)?e(null,!1):t?e(t):void e(null,!0))},(n,i)=>{if(n)return t.init({repo:t._repo},t=>i(t));if(r){const r=Object.assign({bits:2048,pass:t._options.pass},\"object\"==typeof e.init?e.init:{});return t.init(r,t=>i(t))}i()},e=>{if(!o)return e();t.start(e)}],e=>{if(e)return t.emit(\"error\",e);t.log(\"booted\"),t.emit(\"ready\")})})},function(t,e,r){\"use strict\";e.preStart=r(1219),e.start=r(1253),e.stop=r(1277),e.isOnline=r(1278),e.version=r(1279),e.id=r(1280),e.repo=r(578),e.init=r(1281),e.bootstrap=r(1283),e.config=r(1284),e.block=r(1285),e.object=r(1286),e.dag=r(1288),e.libp2p=r(1293),e.swarm=r(1660),e.ping=r(1663),e.pingPullStream=r(1664),e.pingReadableStream=r(1665),e.pin=r(1666),e.files=r(1670),e.bitswap=r(696),e.pubsub=r(1702),e.dht=r(1703),e.dns=r(1706),e.key=r(1708),e.stats=r(1709),e.mfs=r(1711)},function(t,e,r){\"use strict\";const n=r(116),i=r(54),o=r(63),s=r(4),a=r(562),u=r(303),c=r(1252);t.exports=function(t){return e=>{t.log(\"pre-start\");const r=t._options.pass;s([e=>t._repo.config.get(e),(e,r)=>{if(!t._options.config)return r(null,e);u(e,t._options.config),t.config.replace(e,t=>{if(t)return r(t);r(null,e)})},(e,r)=>{if(e.Keychain)return r(null,e);e.Keychain=a.generateOptions(),t.config.set(\"Keychain\",e.Keychain,n=>{t.log(\"using default keychain options\"),r(n,e)})},(e,n)=>{if(t._keychain);else if(r){const n=Object.assign({passPhrase:r},e.Keychain);t._keychain=new a(t._repo.keys,n),t.log(\"keychain constructed\")}else t._keychain=new c,t.log(\"no keychain, use --pass\");n(null,e)},(t,e)=>{const r=t.Identity.PrivKey;n.createFromPrivKey(r,(r,n)=>{e(r,t,n)})},(e,n,i)=>{if(!r)return i(null,e,n);t._keychain.findKeyByName(\"self\",r=>{if(r)return t.log('Creating \"self\" key'),t._keychain.importPeer(\"self\",n,t=>i(t,e,n));i(null,e,n)})},(e,r,n)=>{t.log(\"peer created\"),t._peerInfo=new i(r),e.Addresses&&e.Addresses.Swarm&&e.Addresses.Swarm.forEach(e=>{let r=o(e);r.getPeerId()&&(r=r.encapsulate(\"/ipfs/\"+t._peerInfo.id.toB58String())),t._peerInfo.multiaddrs.add(r)}),n()},e=>t.pin._load(e)],e)}}},function(t,e,r){\"use strict\";const n=r(1221),i=r(1225),o=r(1226),s=r(35),a=r(9),u=r(1250),c=\"/pkcs8/\",f=\"/info/\",h={minKeyLength:14,minSaltLength:16,minIterationCount:1e3},l={dek:{keyLength:64,iterationCount:1e4,salt:\"you should override this value with a crypto secure random number\",hash:\"sha2-512\"}};function p(t){return!!t&&t===n(t.trim())}function d(t,e){const r=800*Math.random()+200;\"string\"==typeof e&&(e=new Error(e)),setTimeout(t,r,e,null)}function y(t){return new s.Key(c+t)}function m(t){return new s.Key(f+t)}t.exports=class{constructor(t,e){if(!t)throw new Error(\"store is required\");this.store=t;const r=i(l,e);if(!r.passPhrase||r.passPhrase.length<20)throw new Error(\"passPhrase must be least 20 characters\");if(r.dek.keyLength<h.minKeyLength)throw new Error(`dek.keyLength must be least ${h.minKeyLength} bytes`);if(r.dek.salt.length<h.minSaltLength)throw new Error(`dek.saltLength must be least ${h.minSaltLength} bytes`);if(r.dek.iterationCount<h.minIterationCount)throw new Error(`dek.iterationCount must be least ${h.minIterationCount}`);const n=o.pbkdf2(r.passPhrase,r.dek.salt,r.dek.iterationCount,r.dek.keyLength,r.dek.hash);Object.defineProperty(this,\"_\",{value:()=>n})}get cms(){return new u(this)}static generateOptions(){const t=Object.assign({},l),e=3*Math.ceil(h.minSaltLength/3);return t.dek.salt=o.randomBytes(e).toString(\"base64\"),t}static get options(){return l}createKey(t,e,r,n){const i=this;if(!p(t)||\"self\"===t)return d(n,`Invalid key name '${t}'`);const s=y(t);i.store.has(s,(a,u)=>{if(a)return d(n,a);if(u)return d(n,`Key '${t}' already exists`);switch(e.toLowerCase()){case\"rsa\":if(r<2048)return d(n,`Invalid RSA key size ${r}`)}o.keys.generateKeyPair(e,r,(e,r)=>{if(e)return d(n,e);r.id((e,o)=>{if(e)return d(n,e);r.export(this._(),(e,r)=>{if(e)return d(n,e);const a={name:t,id:o},u=i.store.batch();u.put(s,r),u.put(m(t),JSON.stringify(a)),u.commit(t=>{if(t)return d(n,t);n(null,a)})})})})})}listKeys(t){const e={prefix:f};a(this.store.query(e),a.collect((e,r)=>{if(e)return d(t,e);const n=r.map(t=>JSON.parse(t.value));t(null,n)}))}findKeyById(t,e){this.listKeys((r,n)=>{if(r)return d(e,r);const i=n.find(e=>e.id===t);e(null,i)})}findKeyByName(t,e){if(!p(t))return d(e,`Invalid key name '${t}'`);const r=m(t);this.store.get(r,(r,n)=>{if(r)return d(e,`Key '${t}' does not exist. ${r.message}`);e(null,JSON.parse(n.toString()))})}removeKey(t,e){const r=this;if(!p(t)||\"self\"===t)return d(e,`Invalid key name '${t}'`);const n=y(t);r.findKeyByName(t,(i,o)=>{if(i)return d(e,i);const s=r.store.batch();s.delete(n),s.delete(m(t)),s.commit(t=>{if(t)return d(e,t);e(null,o)})})}renameKey(t,e,r){const n=this;if(!p(t)||\"self\"===t)return d(r,`Invalid old key name '${t}'`);if(!p(e)||\"self\"===e)return d(r,`Invalid new key name '${e}'`);const i=y(t),o=y(e),s=m(t),a=m(e);this.store.get(i,(u,c)=>{if(u)return d(r,`Key '${t}' does not exist. ${u.message}`);const f=c.toString();n.store.has(o,(t,u)=>t?d(r,t):u?d(r,`Key '${e}' already exists`):void n.store.get(s,(t,u)=>{if(t)return d(r,t);const c=JSON.parse(u.toString());c.name=e;const h=n.store.batch();h.put(o,f),h.put(a,JSON.stringify(c)),h.delete(i),h.delete(s),h.commit(t=>{if(t)return d(r,t);r(null,c)})}))})}exportKey(t,e,r){if(!p(t))return d(r,`Invalid key name '${t}'`);if(!e)return d(r,\"Password is required\");const n=y(t);this.store.get(n,(n,i)=>{if(n)return d(r,`Key '${t}' does not exist. ${n.message}`);const s=i.toString();o.keys.import(s,this._(),(t,n)=>{if(t)return d(r,t);n.export(e,r)})})}importKey(t,e,r,n){const i=this;if(!p(t)||\"self\"===t)return d(n,`Invalid key name '${t}'`);if(!e)return d(n,\"PEM encoded key is required\");const s=y(t);i.store.has(s,(a,u)=>a?d(n,a):u?d(n,`Key '${t}' already exists`):void o.keys.import(e,r,(e,r)=>{if(e)return d(n,\"Cannot read the key, most likely the password is wrong\");r.id((e,o)=>{if(e)return d(n,e);r.export(this._(),(e,r)=>{if(e)return d(n,e);const a={name:t,id:o},u=i.store.batch();u.put(s,r),u.put(m(t),JSON.stringify(a)),u.commit(t=>{if(t)return d(n,t);n(null,a)})})})}))}importPeer(t,e,r){const n=this;if(!p(t))return d(r,`Invalid key name '${t}'`);if(!e||!e.privKey)return d(r,\"Peer.privKey is required\");const i=e.privKey,o=y(t);n.store.has(o,(e,s)=>e?d(r,e):s?d(r,`Key '${t}' already exists`):void i.id((e,s)=>{if(e)return d(r,e);i.export(this._(),(e,i)=>{if(e)return d(r,e);const a={name:t,id:s},u=n.store.batch();u.put(o,i),u.put(m(t),JSON.stringify(a)),u.commit(t=>{if(t)return d(r,t);r(null,a)})})}))}_getPrivateKey(t,e){if(!p(t))return d(e,`Invalid key name '${t}'`);this.store.get(y(t),(r,n)=>{if(r)return d(e,`Key '${t}' does not exist. ${r.message}`);e(null,n.toString())})}}},function(t,e,r){\"use strict\";var n=r(1222),i=/[\\/\\?<>\\\\:\\*\\|\":]/g,o=/[\\x00-\\x1f\\x80-\\x9f]/g,s=/^\\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\\..*)?$/i,u=/[\\. ]+$/;function c(t,e){var r=t.replace(i,e).replace(o,e).replace(s,e).replace(a,e).replace(u,e);return n(r,255)}t.exports=function(t,e){var r=e&&e.replacement||\"\",n=c(t,r);return\"\"===r?n:c(n,\"\")}},function(t,e,r){\"use strict\";var n=r(1223),i=r(1224);t.exports=n.bind(null,i)},function(t,e,r){\"use strict\";function n(t){return t>=55296&&t<=56319}function i(t){return t>=56320&&t<=57343}t.exports=function(t,e,r){if(\"string\"!=typeof e)throw new Error(\"Input must be string\");for(var o,s,a=e.length,u=0,c=0;c<a;c+=1){if(o=e.charCodeAt(c),s=e[c],n(o)&&i(e.charCodeAt(c+1))&&(s+=e[c+=1]),(u+=t(s))===r)return e.slice(0,c+1);if(u>r)return e.slice(0,c-s.length+1)}return e}},function(t,e,r){\"use strict\";function n(t){return t>=55296&&t<=56319}function i(t){return t>=56320&&t<=57343}t.exports=function(t){if(\"string\"!=typeof t)throw new Error(\"Input must be string\");for(var e=t.length,r=0,o=null,s=null,a=0;a<e;a++)i(o=t.charCodeAt(a))?null!=s&&n(s)?r+=1:r+=3:o<=127?r+=1:o>=128&&o<=2047?r+=2:o>=2048&&o<=65535&&(r+=3),s=o;return r}},function(t,e,r){\"use strict\";var n=function(t){return function(t){return!!t&&\"object\"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return\"[object RegExp]\"===e||\"[object Date]\"===e||function(t){return t.$$typeof===i}(t)}(t)};var i=\"function\"==typeof Symbol&&Symbol.for?Symbol.for(\"react.element\"):60103;function o(t,e){return e&&!0===e.clone&&n(t)?a(function(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function s(t,e,r){var i=t.slice();return e.forEach(function(e,s){void 0===i[s]?i[s]=o(e,r):n(e)?i[s]=a(t[s],e,r):-1===t.indexOf(e)&&i.push(o(e,r))}),i}function a(t,e,r){var i=Array.isArray(e);return i===Array.isArray(t)?i?((r||{arrayMerge:s}).arrayMerge||s)(t,e,r):function(t,e,r){var i={};return n(t)&&Object.keys(t).forEach(function(e){i[e]=o(t[e],r)}),Object.keys(e).forEach(function(s){n(e[s])&&t[s]?i[s]=a(t[s],e[s],r):i[s]=o(e[s],r)}),i}(t,e,r):o(e,r)}a.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error(\"first argument should be an array with at least two elements\");return t.reduce(function(t,r){return a(t,r,e)})};var u=a;t.exports=u},function(t,e,r){\"use strict\";const n=r(563),i=r(1228),o=r(1230);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(572),e.pbkdf2=r(1249)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1229),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(308)),o=r(14);e=t.exports;const s={rsa:r(1231),ed25519:r(1244),secp256k1:r(62)(i,r(572))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1246),e.generateEphemeralKeyPair=r(1247),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(564),i=r(11),o=r(8),s=r(566),a=i(r(308)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(565),s=r(1233),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1234),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(565).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(122),i=r(571),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(122),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(161).Reporter,i=r(161).EncoderBuffer,o=r(161).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(568);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(569),n.pem=r(1241)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(569);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(570),n.pem=r(1243)},function(t,e,r){\"use strict\";const n=r(1),i=r(570);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(564),i=r(11),o=r(8),s=r(1245),a=i(r(308));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(563),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1248);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(307)(),i=r(306),o=r(122).bignum,s=r(571),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";(function(e){const n=r(309),i=r(14),o=r(1251);t.exports=class{constructor(t){if(!t)throw new Error(\"keychain is required\");this.keychain=t}encrypt(t,r,s){const a=this,u=(t,e)=>n.setImmediate(()=>s(t,e));if(!e.isBuffer(r))return u(new Error(\"Plain data must be a Buffer\"));n.series([e=>a.keychain.findKeyByName(t,e),e=>a.keychain._getPrivateKey(t,e)],(t,n)=>{if(t)return u(t);let c=n[0],f=n[1];try{const n=i.pki.decryptRsaPrivateKey(f,a.keychain._());o.certificateForKey(c,n,(t,n)=>{if(t)return s(t);const o=i.pkcs7.createEnvelopedData();o.addRecipient(n),o.content=i.util.createBuffer(r),o.encrypt();const a=i.asn1.toDer(o.toAsn1()).getBytes();u(null,e.from(a,\"binary\"))})}catch(t){u(t)}})}decrypt(t,r){const o=(t,e)=>n.setImmediate(()=>r(t,e));if(!e.isBuffer(t))return o(new Error(\"CMS data is required\"));const s=this;let a;try{const e=i.util.createBuffer(t.toString(\"binary\")),r=i.asn1.fromDer(e);a=i.pkcs7.messageFromAsn1(r)}catch(t){return o(new Error(\"Invalid CMS: \"+t.message))}const u=a.recipients.filter(t=>t.issuer.find(t=>\"O\"===t.shortName&&\"ipfs\"===t.value)).filter(t=>t.issuer.find(t=>\"CN\"===t.shortName)).map(t=>({recipient:t,keyId:t.issuer.find(t=>\"CN\"===t.shortName).value}));n.detect(u,(t,e)=>s.keychain.findKeyById(t.keyId,(t,r)=>e(null,!t&&r)),(t,r)=>{if(t)return o(t);if(!r){const e=u.map(t=>t.keyId);return(t=new Error(\"Decryption needs one of the key(s): \"+e.join(\", \"))).missingKeys=e,o(t)}n.waterfall([t=>s.keychain.findKeyById(r.keyId,t),(t,e)=>s.keychain._getPrivateKey(t.name,e)],(t,n)=>{if(t)return o(t);const u=i.pki.decryptRsaPrivateKey(n,s.keychain._());a.decrypt(r.recipient,u),o(null,e.from(a.content.getBytes(),\"binary\"))})})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14).pki;t.exports.certificateForKey=((t,e,r)=>{const i=n.setRsaPublicKey(e.n,e.e),o=n.createCertificate();o.publicKey=i,o.serialNumber=\"01\",o.validity.notBefore=new Date,o.validity.notAfter=new Date,o.validity.notAfter.setFullYear(o.validity.notBefore.getFullYear()+10);const s=[{name:\"organizationName\",value:\"ipfs\"},{shortName:\"OU\",value:\"keystore\"},{name:\"commonName\",value:t.id}];return o.setSubject(s),o.setIssuer(s),o.setExtensions([{name:\"basicConstraints\",cA:!0},{name:\"keyUsage\",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:\"extKeyUsage\",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:\"nsCertType\",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),o.sign(e),r(null,o)})},function(t,e,r){\"use strict\";function n(){throw new Error(\"Key management requires '--pass ...' option\")}t.exports=class{static get options(){n()}static generateOptions(){n()}createKey(){n()}listKeys(){n()}findKeyById(){n()}findKeyByName(){n()}renameKey(){n()}removeKey(){n()}exportKey(){n()}importKey(){n()}importPeer(){n()}get cms(){n()}}},function(t,e,r){\"use strict\";const n=r(52),i=r(1254),o=r(2),s=r(22);t.exports=(t=>s(e=>{const r=r=>{if(r)return o(()=>t.emit(\"error\",r)),e(r);t.state.started(),o(()=>t.emit(\"start\")),e()};if(\"stopped\"!==t.state.state())return r(new Error(`Not able to start from state: ${t.state.state()}`));t.log(\"starting\"),t.state.start(),n([e=>{t._repo.closed?t._repo.open(e):e()},e=>t.libp2p.start(e),e=>{t._bitswap=new i(t._libp2pNode,t._repo.blocks,{statsEnabled:!0}),t._bitswap.start(),t._blockService.setExchange(t._bitswap),e()}],r)}))},function(t,e,r){\"use strict\";const n=r(4),i=r(445),o=r(53),s=r(52),a=r(88),u=r(1255),c=r(1263),f=r(1267),h=r(1273),l=r(123).logger,p=r(1274),d={statsEnabled:!1,statsComputeThrottleTimeout:1e3,statsComputeThrottleMaxQueueSize:1e3},y=[\"blocksReceived\",\"dataReceived\",\"dupBlksReceived\",\"dupDataReceived\",\"blocksSent\",\"dataSent\",\"providesBufferLength\",\"wantListLength\",\"peerCount\"];t.exports=class{constructor(t,e,r){this._libp2p=t,this._log=l(this.peerInfo.id),this._options=Object.assign({},d,r),this._stats=new p(y,{enabled:this._options.statsEnabled,computeThrottleTimeout:this._options.statsComputeThrottleTimeout,computeThrottleMaxQueueSize:this._options.statsComputeThrottleMaxQueueSize}),this.network=new c(t,this,{},this._stats),this.blockstore=e,this.engine=new f(this.peerInfo.id,e,this.network,this._stats),this.wm=new u(this.peerInfo.id,this.network,this._stats),this.notifications=new h(this.peerInfo.id)}get peerInfo(){return this._libp2p.peerInfo}_receiveMessage(t,e,r){this.engine.messageReceived(t,e,n=>{if(n&&this._log(\"failed to receive message\",e),0===e.blocks.size)return r();const i=Array.from(e.blocks.values()),s=i.filter(t=>this.wm.wantlist.contains(t.cid)).map(t=>t.cid);this.wm.cancelWants(s),o(i,(e,r)=>this._handleReceivedBlock(t,e,r),r)})}_handleReceivedBlock(t,e,r){this._log(\"received block\"),n([t=>this.blockstore.has(e.cid,t),(r,n)=>{if(this._updateReceiveCounters(t.toB58String(),e,r),r)return n();this._putBlock(e,n)}],r)}_updateReceiveCounters(t,e,r){this._stats.push(t,\"blocksReceived\",1),this._stats.push(t,\"dataReceived\",e.data.length),r&&(this._stats.push(t,\"dupBlksReceived\",1),this._stats.push(t,\"dupDataReceived\",e.data.length))}_receiveError(t){this._log.error(\"ReceiveError: %s\",t.message)}_onPeerConnected(t){this.wm.connected(t)}_onPeerDisconnected(t){this.wm.disconnected(t),this.engine.peerDisconnected(t),this._stats.disconnected(t)}_putBlock(t,e){this.blockstore.put(t,r=>{if(r)return e(r);this.notifications.hasBlock(t),this.network.provide(t.cid,t=>{t&&this._log.error(\"Failed to provide: %s\",t.message)}),this.engine.receivedBlocks([t.cid]),e()})}enableStats(){this._stats.enable()}disableStats(){this._stats.disable()}wantlistForPeer(t){return this.engine.wantlistForPeer(t)}ledgerForPeer(t){return this.engine.ledgerForPeer(t)}get(t,e){this.getMany([t],(t,r)=>{if(t)return e(t);r&&r.length>0?e(null,r[0]):e()})}getMany(t,e){let r=t.length;const i=[];let o=!1;const s=(t,e)=>{i.push(t),this.notifications.wantBlock(t,r=>{this.wm.cancelWants([t]),e(null,r)},()=>{this.wm.cancelWants([t]),e(null,void 0)}),r||this.wm.wantBlocks(i)};a(t,(e,a)=>{n([t=>this.blockstore.has(e,t),(n,a)=>{if(r--,n)return r||this.wm.wantBlocks(i),this.blockstore.get(e,a);o||(o=!0,this.network.findAndConnect(t[0],t=>{t&&this._log.error(t)})),s(e,a)}],a)},e)}unwant(t){Array.isArray(t)||(t=[t]),this.wm.unwantBlocks(t),t.forEach(t=>this.notifications.unwantBlock(t))}cancelWants(t){Array.isArray(t)||(t=[t]),this.wm.cancelWants(t)}put(t,e){this._log(\"putting block\"),n([e=>this.blockstore.has(t.cid,e),(e,r)=>{if(e)return r();this._putBlock(t,r)}],e)}putMany(t,e){n([e=>i(t,(t,e)=>{this.blockstore.has(t.cid,e)},e),(t,e)=>this.blockstore.putMany(t,r=>{if(r)return e(r);t.forEach(t=>{this.notifications.hasBlock(t),this.engine.receivedBlocks([t.cid]),this.network.provide(t.cid,t=>{t&&this._log.error(\"Failed to provide: %s\",t.message)})}),e()})],e)}getWantlist(){return this.wm.wantlist.entries()}peers(){return this.engine.peers()}stat(){return this._stats}start(t){s([t=>this.wm.start(t),t=>this.network.start(t),t=>this.engine.start(t)],t)}stop(t){this._stats.stop(),s([t=>this.wm.stop(t),t=>this.network.stop(t),t=>this.engine.stop(t)],t)}}},function(t,e,r){\"use strict\";const n=r(2),i=r(216),o=r(217),s=r(310),a=r(1262),u=r(123).logger;t.exports=class{constructor(t,e,r){this.peers=new Map,this.wantlist=new o(r),this.network=e,this._stats=r,this._peerId=t,this._log=u(t,\"want\")}_addEntries(t,e,r){const n=t.map((t,r)=>new i.Entry(t,s.kMaxPriority-r,e));n.forEach(t=>{t.cancel?r?this.wantlist.removeForce(t.cid):this.wantlist.remove(t.cid):(this._log(\"adding to wl\"),this.wantlist.add(t.cid,t.priority))});for(let t of this.peers.values())t.addEntries(n)}_startPeerHandler(t){let e=this.peers.get(t.toB58String());if(e)return void e.refcnt++;e=new a(this._peerId,t,this.network);const r=new i(!0);for(let t of this.wantlist.entries())r.addEntry(t[1].cid,t[1].priority);return e.addMessage(r),this.peers.set(t.toB58String(),e),e}_stopPeerHandler(t){const e=this.peers.get(t.toB58String());e&&(e.refcnt--,e.refcnt>0||this.peers.delete(t.toB58String()))}wantBlocks(t){this._addEntries(t,!1)}unwantBlocks(t){this._log(\"unwant blocks: %s\",t.length),this._addEntries(t,!0,!0)}cancelWants(t){this._log(\"cancel wants: %s\",t.length),this._addEntries(t,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(t){this._startPeerHandler(t)}disconnected(t){this._stopPeerHandler(t)}start(t){this.timer=setInterval(()=>{this._log(\"resend full-wantlist\");const t=new i(!0);this.wantlist.forEach(e=>{t.addEntry(e.cid,e.priority)}),this.peers.forEach(e=>e.addMessage(t))},6e4),n(()=>t())}stop(t){this.peers.forEach(t=>this.disconnected(t.peerId)),clearInterval(this.timer),n(()=>t())}}},function(t,e,r){(function(t,r){var n=200,i=\"__lodash_hash_undefined__\",o=1,s=2,a=9007199254740991,u=\"[object Arguments]\",c=\"[object Array]\",f=\"[object Boolean]\",h=\"[object Date]\",l=\"[object Error]\",p=\"[object Function]\",d=\"[object GeneratorFunction]\",y=\"[object Map]\",m=\"[object Number]\",g=\"[object Object]\",b=\"[object RegExp]\",v=\"[object Set]\",_=\"[object String]\",w=\"[object Symbol]\",S=\"[object ArrayBuffer]\",k=\"[object DataView]\",E=/^\\[object .+?Constructor\\]$/,A=/^(?:0|[1-9]\\d*)$/,x={};x[\"[object Float32Array]\"]=x[\"[object Float64Array]\"]=x[\"[object Int8Array]\"]=x[\"[object Int16Array]\"]=x[\"[object Int32Array]\"]=x[\"[object Uint8Array]\"]=x[\"[object Uint8ClampedArray]\"]=x[\"[object Uint16Array]\"]=x[\"[object Uint32Array]\"]=!0,x[u]=x[c]=x[S]=x[f]=x[k]=x[h]=x[l]=x[p]=x[y]=x[m]=x[g]=x[b]=x[v]=x[_]=x[\"[object WeakMap]\"]=!1;var T=\"object\"==typeof t&&t&&t.Object===Object&&t,B=\"object\"==typeof self&&self&&self.Object===Object&&self,I=T||B||Function(\"return this\")(),C=\"object\"==typeof e&&e&&!e.nodeType&&e,M=C&&\"object\"==typeof r&&r&&!r.nodeType&&r,P=M&&M.exports===C&&T.process,O=function(){try{return P&&P.binding(\"util\")}catch(t){}}(),R=O&&O.isTypedArray;function j(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function N(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}function L(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function K(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var D=Array.prototype,U=Function.prototype,F=Object.prototype,q=I[\"__core-js_shared__\"],H=function(){var t=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),z=U.toString,V=F.hasOwnProperty,G=F.toString,W=RegExp(\"^\"+z.call(V).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),$=I.Symbol,Y=I.Uint8Array,J=F.propertyIsEnumerable,Z=D.splice,X=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Q=Et(I,\"DataView\"),tt=Et(I,\"Map\"),et=Et(I,\"Promise\"),rt=Et(I,\"Set\"),nt=Et(I,\"WeakMap\"),it=Et(Object,\"create\"),ot=Tt(Q),st=Tt(tt),at=Tt(et),ut=Tt(rt),ct=Tt(nt),ft=$?$.prototype:void 0,ht=ft?ft.valueOf:void 0;function lt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function pt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function dt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yt(t){var e=-1,r=t?t.length:0;for(this.__data__=new dt;++e<r;)this.add(t[e])}function mt(t){this.__data__=new pt(t)}function gt(t,e){var r=It(t)||function(t){return function(t){return Rt(t)&&Ct(t)}(t)&&V.call(t,\"callee\")&&(!J.call(t,\"callee\")||G.call(t)==u)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!V.call(t,o)||i&&(\"length\"==o||xt(o,n))||r.push(o);return r}function bt(t,e){for(var r=t.length;r--;)if(Bt(t[r][0],e))return r;return-1}function vt(t,e,r,n,i){return t===e||(null==t||null==e||!Ot(t)&&!Rt(e)?t!=t&&e!=e:function(t,e,r,n,i,a){var p=It(t),d=It(e),E=c,A=c;p||(E=(E=At(t))==u?g:E);d||(A=(A=At(e))==u?g:A);var x=E==g&&!N(t),T=A==g&&!N(e),B=E==A;if(B&&!x)return a||(a=new mt),p||jt(t)?St(t,e,r,n,i,a):function(t,e,r,n,i,a,u){switch(r){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!n(new Y(t),new Y(e)));case f:case h:case m:return Bt(+t,+e);case l:return t.name==e.name&&t.message==e.message;case b:case _:return t==e+\"\";case y:var c=L;case v:var p=a&s;if(c||(c=K),t.size!=e.size&&!p)return!1;var d=u.get(t);if(d)return d==e;a|=o,u.set(t,e);var g=St(c(t),c(e),n,i,a,u);return u.delete(t),g;case w:if(ht)return ht.call(t)==ht.call(e)}return!1}(t,e,E,r,n,i,a);if(!(i&s)){var I=x&&V.call(t,\"__wrapped__\"),C=T&&V.call(e,\"__wrapped__\");if(I||C){var M=I?t.value():t,P=C?e.value():e;return a||(a=new mt),r(M,P,n,i,a)}}if(!B)return!1;return a||(a=new mt),function(t,e,r,n,i,o){var a=i&s,u=Nt(t),c=u.length,f=Nt(e).length;if(c!=f&&!a)return!1;for(var h=c;h--;){var l=u[h];if(!(a?l in e:V.call(e,l)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var y=a;++h<c;){l=u[h];var m=t[l],g=e[l];if(n)var b=a?n(g,m,l,e,t,o):n(m,g,l,t,e,o);if(!(void 0===b?m===g||r(m,g,n,i,o):b)){d=!1;break}y||(y=\"constructor\"==l)}if(d&&!y){var v=t.constructor,_=e.constructor;v!=_&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof v&&v instanceof v&&\"function\"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,a)}(t,e,vt,r,n,i))}function _t(t){return!(!Ot(t)||function(t){return!!H&&H in t}(t))&&(Mt(t)||N(t)?W:E).test(Tt(t))}function wt(t){if(!function(t){var e=t&&t.constructor,r=\"function\"==typeof e&&e.prototype||F;return t===r}(t))return X(t);var e=[];for(var r in Object(t))V.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function St(t,e,r,n,i,a){var u=i&s,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=a.get(t);if(h&&a.get(e))return h==e;var l=-1,p=!0,d=i&o?new yt:void 0;for(a.set(t,e),a.set(e,t);++l<c;){var y=t[l],m=e[l];if(n)var g=u?n(m,y,l,e,t,a):n(y,m,l,t,e,a);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!j(e,function(t,e){if(!d.has(e)&&(y===t||r(y,t,n,i,a)))return d.add(e)})){p=!1;break}}else if(y!==m&&!r(y,m,n,i,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function kt(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function Et(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return _t(r)?r:void 0}lt.prototype.clear=function(){this.__data__=it?it(null):{}},lt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},lt.prototype.get=function(t){var e=this.__data__;if(it){var r=e[t];return r===i?void 0:r}return V.call(e,t)?e[t]:void 0},lt.prototype.has=function(t){var e=this.__data__;return it?void 0!==e[t]:V.call(e,t)},lt.prototype.set=function(t,e){return this.__data__[t]=it&&void 0===e?i:e,this},pt.prototype.clear=function(){this.__data__=[]},pt.prototype.delete=function(t){var e=this.__data__,r=bt(e,t);return!(r<0||(r==e.length-1?e.pop():Z.call(e,r,1),0))},pt.prototype.get=function(t){var e=this.__data__,r=bt(e,t);return r<0?void 0:e[r][1]},pt.prototype.has=function(t){return bt(this.__data__,t)>-1},pt.prototype.set=function(t,e){var r=this.__data__,n=bt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},dt.prototype.clear=function(){this.__data__={hash:new lt,map:new(tt||pt),string:new lt}},dt.prototype.delete=function(t){return kt(this,t).delete(t)},dt.prototype.get=function(t){return kt(this,t).get(t)},dt.prototype.has=function(t){return kt(this,t).has(t)},dt.prototype.set=function(t,e){return kt(this,t).set(t,e),this},yt.prototype.add=yt.prototype.push=function(t){return this.__data__.set(t,i),this},yt.prototype.has=function(t){return this.__data__.has(t)},mt.prototype.clear=function(){this.__data__=new pt},mt.prototype.delete=function(t){return this.__data__.delete(t)},mt.prototype.get=function(t){return this.__data__.get(t)},mt.prototype.has=function(t){return this.__data__.has(t)},mt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof pt){var i=r.__data__;if(!tt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new dt(i)}return r.set(t,e),this};var At=function(t){return G.call(t)};function xt(t,e){return!!(e=null==e?a:e)&&(\"number\"==typeof t||A.test(t))&&t>-1&&t%1==0&&t<e}function Tt(t){if(null!=t){try{return z.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}function Bt(t,e){return t===e||t!=t&&e!=e}(Q&&At(new Q(new ArrayBuffer(1)))!=k||tt&&At(new tt)!=y||et&&\"[object Promise]\"!=At(et.resolve())||rt&&At(new rt)!=v||nt&&\"[object WeakMap]\"!=At(new nt))&&(At=function(t){var e=G.call(t),r=e==g?t.constructor:void 0,n=r?Tt(r):void 0;if(n)switch(n){case ot:return k;case st:return y;case at:return\"[object Promise]\";case ut:return v;case ct:return\"[object WeakMap]\"}return e});var It=Array.isArray;function Ct(t){return null!=t&&Pt(t.length)&&!Mt(t)}function Mt(t){var e=Ot(t)?G.call(t):\"\";return e==p||e==d}function Pt(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=a}function Ot(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function Rt(t){return!!t&&\"object\"==typeof t}var jt=R?function(t){return function(e){return t(e)}}(R):function(t){return Rt(t)&&Pt(t.length)&&!!x[G.call(t)]};function Nt(t){return Ct(t)?gt(t):wt(t)}r.exports=function(t,e,r){var n=(r=\"function\"==typeof r?r:void 0)?r(t,e):void 0;return void 0===n?vt(t,e,r):!!n}}).call(this,r(5),r(26)(t))},function(t,e,r){\"use strict\";(function(e){const n=r(20);t.exports=(t=>{if(!e.isBuffer(t))throw new Error(\"arg needs to be a buffer\");let r=[];for(;t.length>0;){const e=n.decode(t);r.push(e),t=t.slice(n.decode.bytes)}return r})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";t.exports=\"\\n  message Message {\\n    message Wantlist {\\n      message Entry {\\n        // changed from string to bytes, it makes a difference in JavaScript\\n        optional bytes block = 1;      // the block cid (cidV0 in bitswap 1.0.0, cidV1 in bitswap 1.1.0)\\n        optional int32 priority = 2;    // the priority (normalized). default to 1\\n        optional bool cancel = 3;       // whether this revokes an entry\\n      }\\n\\n      repeated Entry entries = 1;       // a list of wantlist entries\\n      optional bool full = 2;           // whether this is the full wantlist. default to false\\n    }\\n\\n    message Block {\\n      optional bytes prefix = 1;        // CID prefix (cid version, multicodec and multihash prefix (type + length)\\n      optional bytes data = 2;\\n    }\\n\\n    optional Wantlist wantlist = 1;\\n    repeated bytes blocks = 2;          // used to send Blocks in bitswap 1.0.0\\n    repeated Block payload = 3;         // used to send Blocks in bitswap 1.1.0\\n  }\\n\"},function(t,e,r){\"use strict\";const n=r(217).Entry,i=r(13),o=r(15);t.exports=class{constructor(t,e,r){o(i.isCID(t),\"needs valid cid\"),this.entry=new n(t,e),this.cancel=Boolean(r)}get cid(){return this.entry.cid}set cid(t){this.entry.cid=t}get priority(){return this.entry.priority}set priority(t){this.entry.priority=t}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toBaseEncodedString()} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(t){return this.cancel===t.cancel&&this.entry.equals(t.entry)}}},function(t,e,r){(function(t,r){var n=200,i=\"Expected a function\",o=\"__lodash_hash_undefined__\",s=1,a=2,u=1/0,c=9007199254740991,f=\"[object Arguments]\",h=\"[object Array]\",l=\"[object Boolean]\",p=\"[object Date]\",d=\"[object Error]\",y=\"[object Function]\",m=\"[object GeneratorFunction]\",g=\"[object Map]\",b=\"[object Number]\",v=\"[object Object]\",_=\"[object RegExp]\",w=\"[object Set]\",S=\"[object String]\",k=\"[object Symbol]\",E=\"[object ArrayBuffer]\",A=\"[object DataView]\",x=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,T=/^\\w*$/,B=/^\\./,I=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,C=/\\\\(\\\\)?/g,M=/^\\[object .+?Constructor\\]$/,P=/^(?:0|[1-9]\\d*)$/,O={};O[\"[object Float32Array]\"]=O[\"[object Float64Array]\"]=O[\"[object Int8Array]\"]=O[\"[object Int16Array]\"]=O[\"[object Int32Array]\"]=O[\"[object Uint8Array]\"]=O[\"[object Uint8ClampedArray]\"]=O[\"[object Uint16Array]\"]=O[\"[object Uint32Array]\"]=!0,O[f]=O[h]=O[E]=O[l]=O[A]=O[p]=O[d]=O[y]=O[g]=O[b]=O[v]=O[_]=O[w]=O[S]=O[\"[object WeakMap]\"]=!1;var R=\"object\"==typeof t&&t&&t.Object===Object&&t,j=\"object\"==typeof self&&self&&self.Object===Object&&self,N=R||j||Function(\"return this\")(),L=\"object\"==typeof e&&e&&!e.nodeType&&e,K=L&&\"object\"==typeof r&&r&&!r.nodeType&&r,D=K&&K.exports===L&&R.process,U=function(){try{return D&&D.binding(\"util\")}catch(t){}}(),F=U&&U.isTypedArray;function q(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function H(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function z(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function V(t){return function(e){return t(e)}}function G(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function $(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Y=Array.prototype,J=Function.prototype,Z=Object.prototype,X=N[\"__core-js_shared__\"],Q=function(){var t=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),tt=J.toString,et=Z.hasOwnProperty,rt=Z.toString,nt=RegExp(\"^\"+tt.call(et).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),it=N.Symbol,ot=N.Uint8Array,st=Z.propertyIsEnumerable,at=Y.splice,ut=it?it.isConcatSpreadable:void 0,ct=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),ft=Math.max,ht=Vt(N,\"DataView\"),lt=Vt(N,\"Map\"),pt=Vt(N,\"Promise\"),dt=Vt(N,\"Set\"),yt=Vt(N,\"WeakMap\"),mt=Vt(Object,\"create\"),gt=ee(ht),bt=ee(lt),vt=ee(pt),_t=ee(dt),wt=ee(yt),St=it?it.prototype:void 0,kt=St?St.valueOf:void 0,Et=St?St.toString:void 0;function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Bt(t){var e=-1,r=t?t.length:0;for(this.__data__=new Tt;++e<r;)this.add(t[e])}function It(t){this.__data__=new xt(t)}function Ct(t,e){var r=se(t)||oe(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!et.call(t,o)||i&&(\"length\"==o||$t(o,n))||r.push(o);return r}function Mt(t,e){for(var r=t.length;r--;)if(ie(t[r][0],e))return r;return-1}At.prototype.clear=function(){this.__data__=mt?mt(null):{}},At.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},At.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===o?void 0:r}return et.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:et.call(e,t)},At.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?o:e,this},xt.prototype.clear=function(){this.__data__=[]},xt.prototype.delete=function(t){var e=this.__data__,r=Mt(e,t);return!(r<0||(r==e.length-1?e.pop():at.call(e,r,1),0))},xt.prototype.get=function(t){var e=this.__data__,r=Mt(e,t);return r<0?void 0:e[r][1]},xt.prototype.has=function(t){return Mt(this.__data__,t)>-1},xt.prototype.set=function(t,e){var r=this.__data__,n=Mt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new At,map:new(lt||xt),string:new At}},Tt.prototype.delete=function(t){return zt(this,t).delete(t)},Tt.prototype.get=function(t){return zt(this,t).get(t)},Tt.prototype.has=function(t){return zt(this,t).has(t)},Tt.prototype.set=function(t,e){return zt(this,t).set(t,e),this},Bt.prototype.add=Bt.prototype.push=function(t){return this.__data__.set(t,o),this},Bt.prototype.has=function(t){return this.__data__.has(t)},It.prototype.clear=function(){this.__data__=new xt},It.prototype.delete=function(t){return this.__data__.delete(t)},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var r=this.__data__;if(r instanceof xt){var i=r.__data__;if(!lt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new Tt(i)}return r.set(t,e),this};var Pt=function(t,e){return function(r,n){if(null==r)return r;if(!ae(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Object(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}(function(t,e){return t&&Ot(t,e,de)});var Ot=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function Rt(t,e){for(var r=0,n=(e=Jt(e,t)?[e]:Ft(e)).length;null!=t&&r<n;)t=t[te(e[r++])];return r&&r==n?t:void 0}function jt(t,e){return null!=t&&e in Object(t)}function Nt(t,e,r,n,i){return t===e||(null==t||null==e||!fe(t)&&!he(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=se(t),c=se(e),y=h,m=h;u||(y=(y=Gt(t))==f?v:y);c||(m=(m=Gt(e))==f?v:m);var x=y==v&&!G(t),T=m==v&&!G(e),B=y==m;if(B&&!x)return o||(o=new It),u||pe(t)?Ht(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!n(new ot(t),new ot(e)));case l:case p:case b:return ie(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+\"\";case g:var c=W;case w:var f=o&a;if(c||(c=$),t.size!=e.size&&!f)return!1;var h=u.get(t);if(h)return h==e;o|=s,u.set(t,e);var y=Ht(c(t),c(e),n,i,o,u);return u.delete(t),y;case k:if(kt)return kt.call(t)==kt.call(e)}return!1}(t,e,y,r,n,i,o);if(!(i&a)){var I=x&&et.call(t,\"__wrapped__\"),C=T&&et.call(e,\"__wrapped__\");if(I||C){var M=I?t.value():t,P=C?e.value():e;return o||(o=new It),r(M,P,n,i,o)}}if(!B)return!1;return o||(o=new It),function(t,e,r,n,i,o){var s=i&a,u=de(t),c=u.length,f=de(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var l=u[h];if(!(s?l in e:et.call(e,l)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var y=s;++h<c;){l=u[h];var m=t[l],g=e[l];if(n)var b=s?n(g,m,l,e,t,o):n(m,g,l,t,e,o);if(!(void 0===b?m===g||r(m,g,n,i,o):b)){d=!1;break}y||(y=\"constructor\"==l)}if(d&&!y){var v=t.constructor,_=e.constructor;v!=_&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof v&&v instanceof v&&\"function\"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Nt,r,n,i))}function Lt(t){return!(!fe(t)||function(t){return!!Q&&Q in t}(t))&&(ue(t)||G(t)?nt:M).test(ee(t))}function Kt(t){return\"function\"==typeof t?t:null==t?ye:\"object\"==typeof t?se(t)?function(t,e){if(Jt(t)&&Zt(e))return Xt(te(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Rt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Jt(e,t)?[e]:Ft(e)).length;for(;++i<o;){var s=te(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&ce(o)&&$t(s,o)&&(se(t)||oe(t))}(t,e,jt)}(r,t):Nt(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=de(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,Zt(i)]}return e}(t);if(1==e.length&&e[0][2])return Xt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],h=t[f],l=c[1];if(u&&c[2]){if(void 0===h&&!(f in t))return!1}else{var p=new It;if(n)var d=n(h,l,f,t,e,p);if(!(void 0===d?Nt(l,h,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):function(t){return Jt(t)?function(t){return function(e){return null==e?void 0:e[t]}}(te(t)):function(t){return function(e){return Rt(e,t)}}(t)}(t)}function Dt(t){if(!function(t){var e=t&&t.constructor,r=\"function\"==typeof e&&e.prototype||Z;return t===r}(t))return ct(t);var e=[];for(var r in Object(t))et.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function Ut(t,e,r){var n=-1;return e=q(e.length?e:[ye],V(Kt)),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(function(t,e){var r=-1,n=ae(t)?Array(t.length):[];return Pt(t,function(t,i,o){n[++r]=e(t,i,o)}),n}(t,function(t,r,i){return{criteria:q(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;for(;++n<s;){var u=qt(i[n],o[n]);if(u){if(n>=a)return u;var c=r[n];return u*(\"desc\"==c?-1:1)}}return t.index-e.index}(t,e,r)})}function Ft(t){return se(t)?t:Qt(t)}function qt(t,e){if(t!==e){var r=void 0!==t,n=null===t,i=t==t,o=le(t),s=void 0!==e,a=null===e,u=e==e,c=le(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||n&&s&&u||!r&&u||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!u)return-1}return 0}function Ht(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var l=-1,p=!0,d=i&s?new Bt:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var y=t[l],m=e[l];if(n)var g=u?n(m,y,l,e,t,o):n(y,m,l,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!z(e,function(t,e){if(!d.has(e)&&(y===t||r(y,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(y!==m&&!r(y,m,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function zt(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function Vt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Lt(r)?r:void 0}var Gt=function(t){return rt.call(t)};function Wt(t){return se(t)||oe(t)||!!(ut&&t&&t[ut])}function $t(t,e){return!!(e=null==e?c:e)&&(\"number\"==typeof t||P.test(t))&&t>-1&&t%1==0&&t<e}function Yt(t,e,r){if(!fe(r))return!1;var n=typeof e;return!!(\"number\"==n?ae(r)&&$t(e,r.length):\"string\"==n&&e in r)&&ie(r[e],t)}function Jt(t,e){if(se(t))return!1;var r=typeof t;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=t&&!le(t))||(T.test(t)||!x.test(t)||null!=e&&t in Object(e))}function Zt(t){return t==t&&!fe(t)}function Xt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ht&&Gt(new ht(new ArrayBuffer(1)))!=A||lt&&Gt(new lt)!=g||pt&&\"[object Promise]\"!=Gt(pt.resolve())||dt&&Gt(new dt)!=w||yt&&\"[object WeakMap]\"!=Gt(new yt))&&(Gt=function(t){var e=rt.call(t),r=e==v?t.constructor:void 0,n=r?ee(r):void 0;if(n)switch(n){case gt:return A;case bt:return g;case vt:return\"[object Promise]\";case _t:return w;case wt:return\"[object WeakMap]\"}return e});var Qt=ne(function(t){t=function(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(le(t))return Et?Et.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}(t)}(t);var e=[];return B.test(t)&&e.push(\"\"),t.replace(I,function(t,r,n,i){e.push(n?i.replace(C,\"$1\"):r||t)}),e});function te(t){if(\"string\"==typeof t||le(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}function ee(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}var re=function(t,e){return e=ft(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=ft(r.length-e,0),o=Array(i);++n<i;)o[n]=r[e+n];n=-1;for(var s=Array(e+1);++n<e;)s[n]=r[n];return s[e]=o,function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,s)}}(function(t,e){if(null==t)return[];var r=e.length;return r>1&&Yt(t,e[0],e[1])?e=[]:r>2&&Yt(e[0],e[1],e[2])&&(e=[e[0]]),Ut(t,function t(e,r,n,i,o){var s=-1,a=e.length;for(n||(n=Wt),o||(o=[]);++s<a;){var u=e[s];r>0&&n(u)?r>1?t(u,r-1,n,i,o):H(o,u):i||(o[o.length]=u)}return o}(e,1),[])});function ne(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(ne.Cache||Tt),r}function ie(t,e){return t===e||t!=t&&e!=e}function oe(t){return function(t){return he(t)&&ae(t)}(t)&&et.call(t,\"callee\")&&(!st.call(t,\"callee\")||rt.call(t)==f)}ne.Cache=Tt;var se=Array.isArray;function ae(t){return null!=t&&ce(t.length)&&!ue(t)}function ue(t){var e=fe(t)?rt.call(t):\"\";return e==y||e==m}function ce(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=c}function fe(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function he(t){return!!t&&\"object\"==typeof t}function le(t){return\"symbol\"==typeof t||he(t)&&rt.call(t)==k}var pe=F?V(F):function(t){return he(t)&&ce(t.length)&&!!O[rt.call(t)]};function de(t){return ae(t)?Ct(t):Dt(t)}function ye(t){return t}r.exports=re}).call(this,r(5),r(26)(t))},function(t,e,r){\"use strict\";const n=r(15),i=r(13);t.exports=class{constructor(t,e){n(i.isCID(t),\"must be valid CID\"),this._refCounter=1,this.cid=t,this.priority=e||1}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toBaseEncodedString()}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(t){return this._refCounter===t._refCounter&&this.cid.equals(t.cid)&&this.priority===t.priority}}},function(t,e,r){\"use strict\";const n=r(573),i=r(216),o=r(123).logger;t.exports=class{constructor(t,e,r){this.peerId=e,this.network=r,this.refcnt=1,this._entries=[],this._log=o(t,\"msgqueue\",e.toB58String().slice(0,8)),this.sendEntries=n(this._sendEntries.bind(this),200)}addMessage(t){t.empty||this.send(t)}addEntries(t){this._entries=this._entries.concat(t),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;const t=new i(!1);this._entries.forEach(e=>{e.cancel?t.cancel(e.cid):t.addEntry(e.cid,e.priority)}),this._entries=[],this.addMessage(t)}send(t){this.network.connectTo(this.peerId,e=>{e?this._log.error(\"cant connect to peer %s: %s\",this.peerId.toB58String(),e.message):(this._log(\"sending message\"),this.network.sendMessage(this.peerId,t,t=>{t&&this._log.error(\"send error: %s\",t.message)}))})}}},function(t,e,r){\"use strict\";const n=r(55),i=r(9),o=r(4),s=r(53),a=r(2),u=r(216),c=r(310),f=r(123).logger,h=\"/ipfs/bitswap/1.0.0\",l=\"/ipfs/bitswap/1.1.0\";t.exports=class{constructor(t,e,r,n){this._log=f(t.peerInfo.id,\"network\"),r=r||{},this.libp2p=t,this.bitswap=e,this.b100Only=r.b100Only||!1,this._stats=n,this._running=!1}start(t){this._running=!0,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this),this.libp2p.handle(h,this._onConnection),this.b100Only||this.libp2p.handle(l,this._onConnection),this.libp2p.on(\"peer:connect\",this._onPeerConnect),this.libp2p.on(\"peer:disconnect\",this._onPeerDisconnect),this.libp2p.peerBook.getAllArray().filter(t=>t.isConnected()).forEach(t=>this._onPeerConnect(t)),a(()=>t())}stop(t){this._running=!1,this.libp2p.unhandle(h),this.b100Only||this.libp2p.unhandle(l),this.libp2p.removeListener(\"peer:connect\",this._onPeerConnect),this.libp2p.removeListener(\"peer:disconnect\",this._onPeerDisconnect),a(()=>t())}_onConnection(t,e){this._running&&(this._log(\"incomming new bitswap connection: %s\",t),i(e,n.decode(),i.asyncMap((t,e)=>u.deserialize(t,e)),i.asyncMap((t,r)=>{e.getPeerInfo((e,n)=>{if(e)return r(e);this.bitswap._receiveMessage(n.id,t,r)})}),i.onEnd(t=>{this._log(\"ending connection\"),t&&this.bitswap._receiveError(t)})))}_onPeerConnect(t){this._running&&this.bitswap._onPeerConnected(t.id)}_onPeerDisconnect(t){this._running&&this.bitswap._onPeerDisconnected(t.id)}findProviders(t,e,r){this.libp2p.contentRouting.findProviders(t,c.providerRequestTimeout,r)}findAndConnect(t,e){o([e=>this.findProviders(t,c.maxProvidersPerRequest,e),(t,e)=>{this._log(\"connecting to providers\",t.map(t=>t.id.toB58String())),s(t,(t,e)=>this.connectTo(t,e))}],e)}provide(t,e){this.libp2p.contentRouting.provide(t,e)}sendMessage(t,e,r){if(!this._running)return r(new Error(\"network isn't running\"));const o=t.toB58String()?t.toB58String():t.id.toB58String();this._log(\"sendMessage to %s\",o,e),this._dialPeer(t,(o,s,a)=>{if(o)return r(o);let u;switch(a){case h:u=e.serializeToBitswap100();break;case l:u=e.serializeToBitswap110();break;default:return r(new Error(\"Unkown protocol: \"+a))}!function(t,e,r){i(i.values([e]),n.encode(),t,i.onEnd(r))}(s,u,t=>{t&&this._log.error(t)}),r(),this._updateSentStats(t,e.blocks)})}connectTo(t,e){if(!this._running)return e(new Error(\"network isn't running\"));this.libp2p.dial(t,e)}_dialPeer(t,e){this.libp2p.dialProtocol(t,l,(r,n)=>{r?this.libp2p.dialProtocol(t,h,(t,r)=>{if(t)return e(t);e(null,r,h)}):e(null,n,l)})}_updateSentStats(t,e){const r=t.toB58String();this._stats&&(e.forEach(t=>this._stats.push(r,\"dataSent\",t.data.length)),this._stats.push(r,\"blocksSent\",e.size))}}},function(t,e,r){\"use strict\";const n=r(3).Buffer;t.exports=function(t){t=Object.assign({fixed:!1},t||{});const e=r(20);let i=t.fixed?null:o(),s=0,a=!1;return r=>(u,c)=>{if(u&&(a=u),a)return c(a);r(null,(r,u)=>{if(r&&(a=r),a)return c(a);if(!n.isBuffer(u))return a=new Error(\"data must be a buffer\"),c(a);let f;t.fixed?(f=n.alloc(4)).writeInt32BE(u.length,0):(e.encode(u.length,i,s),s+=e.encode.bytes,f=i.slice(s-e.encode.bytes,s),i.length-s<100&&(i=o(),s=0)),c(null,n.concat([f,u]))})}};const i=10240;function o(){return n.alloc(i)}},function(t,e,r){\"use strict\";const n=r(20),i=r(574),o=r(3).Buffer,s=r(56);e.decode=function(t){let e=new i,r=s(t=>{e.abort(t)});return n=>{return e(n),function n(){c(e,t,(t,e)=>{if(t)return r.end(t);r.push(e),n()})}(),r}},e.decodeFromReader=function(t,e,r){\"function\"==typeof e&&(r=e,e={});c(t,e,function(t,e){if(t)return r(!0===t?new Error(\"Unexpected end of input from reader.\"):t);r(null,e)})};const a=t=>!(128&t),u=4194304;function c(t,e,r){(e=Object.assign({fixed:!1,maxLength:u},e||{})).fixed?function(t,e,r){t.read(4,(n,i)=>{if(n)return r(n);const o=i.readInt32BE(0);if(o>e)return r(new Error(\"size longer than max permitted length of \"+e+\"!\"));f(t,o,r)})}(t,e.maxLength,r):function(t,e,r){let i=[];0===i.length&&function s(){t.read(1,(u,c)=>{if(u)return r(u);if(i.push(c),c&&!a(c[0]))return void s();const h=n.decode(o.concat(i));if(h>e)return r(new Error(\"size longer than max permitted length of \"+e+\"!\"));f(t,h,(t,e)=>t?r(t):(i=[],e.length<h?r(new Error(\"Message length does not match prefix specified length.\")):void r(null,e)))})}()}(t,e.maxLength,r)}function f(t,e,r){t.read(e,(t,e)=>{if(t)return r(t);r(null,e)})}},function(t,e,r){(function(e){t.exports=function(){var t=[],r=0;return{length:r,data:this,add:function(n){if(!e.isBuffer(n))throw new Error(\"data must be a buffer, was: \"+JSON.stringify(n));return this.length=r+=n.length,t.push(n),this},has:function(t){return null==t?r>0:r>=t},get:function(n){var i;if(null==n||n===r){r=0;var o=t;return t=[],1==o.length?o[0]:e.concat(o)}if(t.length>1&&n<=(i=t[0].length)){var s=t[0].slice(0,n);return n===i?t.shift():t[0]=t[0].slice(n,i),r-=n,s}if(n<r){for(var a=[],u=0;u+t[0].length<n;){var c=t.shift();u+=c.length,a.push(c)}return u<n&&(a.push(t[0].slice(0,n-u)),t[0]=t[0].slice(n-u,t[0].length),this.length=r-=n),e.concat(a)}throw new Error(\"could not get \"+n+\" bytes\")}}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(53),i=r(218),o=r(4),s=r(2),a=r(88),u=r(573),c=r(1269),f=r(547),h=r(575),l=r(1270),p=r(1271),d=r(216),y=r(217),m=r(1272),g=r(123).logger,b=524288;t.exports=class{constructor(t,e,r,n){this._log=g(t,\"engine\"),this.blockstore=e,this.network=r,this._stats=n,this.ledgerMap=new Map,this._running=!1,this._tasks=[],this._outbox=u(this._processTasks.bind(this),100)}_sendBlocks(t,e,r){if(e.reduce((t,e)=>t+e.data.byteLength,0)<b)return this._sendSafeBlocks(t,e,r);let n=0,o=[],s=e.length;i(e,(e,r)=>{if(s--,o.push(e),(n+=e.data.byteLength)>=b||0===s){n=0;const e=o.slice();o=[],this._sendSafeBlocks(t,e,t=>{t&&this._log(\"sendblock error: %s\",t.message),r()})}else r()},r)}_sendSafeBlocks(t,e,r){const n=new d(!1);e.forEach(t=>n.addBlock(t)),this.network.sendMessage(t,n,r)}_processTasks(){if(!this._running||!this._tasks.length)return;const t=this._tasks;this._tasks=[];const e=t.map(t=>t.entry).map(t=>t.cid),r=c(e,(t,e)=>t.equals(e)),i=l(t,t=>t.target.toB58String());o([t=>a(r,(t,e)=>{this.blockstore.get(t,e)},t),(t,r)=>n(h(i),(r,n)=>{const i=r[0].target,o=e.map(e=>f(t,t=>t.cid.equals(e)));this._sendBlocks(i,o,t=>{t?this._log.error(\"should never happen: \",t):o.forEach(t=>this.messageSent(i,t)),n()})})],t=>{this._tasks=[],t&&this._log.error(t)})}wantlistForPeer(t){const e=t.toB58String();return this.ledgerMap.has(e)?this.ledgerMap.get(e).wantlist.sortedEntries():new Map}ledgerForPeer(t){const e=t.toB58String(),r=this.ledgerMap.get(e);return r?{peer:r.partner.toB58String(),value:r.debtRatio(),sent:r.accounting.bytesSent,recv:r.accounting.bytesRecv,exchanged:r.exchangeCount}:null}peers(){return Array.from(this.ledgerMap.values()).map(t=>t.partner)}receivedBlocks(t){t.length&&(this.ledgerMap.forEach(e=>{t.map(t=>e.wantlistContains(t)).filter(Boolean).forEach(t=>{this._tasks.push({entry:t,target:e.partner})})}),this._outbox())}messageReceived(t,e,r){const n=this._findOrCreate(t);if(e.empty)return r();if(e.full&&(n.wantlist=new y),this._processBlocks(e.blocks,n),0===e.wantlist.size)return r();let i=[],o=[];e.wantlist.forEach(t=>{t.cancel?(n.cancelWant(t.cid),i.push(t)):(n.wants(t.cid,t.priority),o.push(t))}),this._cancelWants(n,t,i),this._addWants(n,t,o,r)}_cancelWants(t,e,r){const n=e.toB58String();p(this._tasks,r,(t,e)=>{const r=t.target.toB58String()===n,i=t.entry.cid.equals(e.cid);return r&&i})}_addWants(t,e,r,i){n(r,(t,r)=>{this.blockstore.has(t.cid,(n,i)=>{n?this._log.error(\"failed existence check\"):i&&this._tasks.push({entry:t.entry,target:e}),r()})},()=>{this._outbox(),i()})}_processBlocks(t,e,r){const n=[];t.forEach((t,r)=>{this._log(\"got block (%s bytes)\",t.data.length),e.receivedBytes(t.data.length),n.push(t.cid)}),this.receivedBlocks(n)}messageSent(t,e){const r=this._findOrCreate(t);r.sentBytes(e?e.data.length:0),e&&e.cid&&r.wantlist.remove(e.cid)}numBytesSentTo(t){return this._findOrCreate(t).accounting.bytesSent}numBytesReceivedFrom(t){return this._findOrCreate(t).accounting.bytesRecv}peerDisconnected(t){}_findOrCreate(t){const e=t.toB58String();if(this.ledgerMap.has(e))return this.ledgerMap.get(e);const r=new m(t);return this.ledgerMap.set(e,r),this._stats&&this._stats.push(e,\"peerCount\",1),r}start(t){this._running=!0,s(()=>t())}stop(t){this._running=!1,s(()=>t())}}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r,s){(0,n.default)(e)(t,(0,i.default)((0,o.default)(r)),s)};var n=s(r(432)),i=s(r(438)),o=s(r(38));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){(function(e){var r=200,n=\"__lodash_hash_undefined__\",i=\"[object Function]\",o=\"[object GeneratorFunction]\",s=/^\\[object .+?Constructor\\]$/,a=\"object\"==typeof e&&e&&e.Object===Object&&e,u=\"object\"==typeof self&&self&&self.Object===Object&&self,c=a||u||Function(\"return this\")();function f(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,l,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function h(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function l(t){return t!=t}function p(t,e){return t.has(e)}function d(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var y=Array.prototype,m=Function.prototype,g=Object.prototype,b=c[\"__core-js_shared__\"],v=function(){var t=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),_=m.toString,w=g.hasOwnProperty,S=g.toString,k=RegExp(\"^\"+_.call(w).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),E=y.splice,A=N(c,\"Map\"),x=N(c,\"Set\"),T=N(Object,\"create\");function B(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function I(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function M(t){var e=-1,r=t?t.length:0;for(this.__data__=new C;++e<r;)this.add(t[e])}function P(t,e){for(var r=t.length;r--;)if(L(t[r][0],e))return r;return-1}function O(t){return!(!K(t)||function(t){return!!v&&v in t}(t))&&(function(t){var e=K(t)?S.call(t):\"\";return e==i||e==o}(t)||function(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}(t)?k:s).test(function(t){if(null!=t){try{return _.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}(t))}B.prototype.clear=function(){this.__data__=T?T(null):{}},B.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},B.prototype.get=function(t){var e=this.__data__;if(T){var r=e[t];return r===n?void 0:r}return w.call(e,t)?e[t]:void 0},B.prototype.has=function(t){var e=this.__data__;return T?void 0!==e[t]:w.call(e,t)},B.prototype.set=function(t,e){return this.__data__[t]=T&&void 0===e?n:e,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(t){var e=this.__data__,r=P(e,t);return!(r<0||(r==e.length-1?e.pop():E.call(e,r,1),0))},I.prototype.get=function(t){var e=this.__data__,r=P(e,t);return r<0?void 0:e[r][1]},I.prototype.has=function(t){return P(this.__data__,t)>-1},I.prototype.set=function(t,e){var r=this.__data__,n=P(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},C.prototype.clear=function(){this.__data__={hash:new B,map:new(A||I),string:new B}},C.prototype.delete=function(t){return j(this,t).delete(t)},C.prototype.get=function(t){return j(this,t).get(t)},C.prototype.has=function(t){return j(this,t).has(t)},C.prototype.set=function(t,e){return j(this,t).set(t,e),this},M.prototype.add=M.prototype.push=function(t){return this.__data__.set(t,n),this},M.prototype.has=function(t){return this.__data__.has(t)};var R=x&&1/d(new x([,-0]))[1]==1/0?function(t){return new x(t)}:function(){};function j(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function N(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return O(r)?r:void 0}function L(t,e){return t===e||t!=t&&e!=e}function K(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}t.exports=function(t,e){return t&&t.length?function(t,e,n){var i=-1,o=f,s=t.length,a=!0,u=[],c=u;if(n)a=!1,o=h;else if(s>=r){var l=e?null:R(t);if(l)return d(l);a=!1,o=p,c=new M}else c=e?[]:u;t:for(;++i<s;){var y=t[i],m=e?e(y):y;if(y=n||0!==y?y:0,a&&m==m){for(var g=c.length;g--;)if(c[g]===m)continue t;e&&c.push(m),u.push(y)}else o(c,m,n)||(c!==u&&c.push(m),u.push(y))}return u}(t,void 0,e):[]}}).call(this,r(5))},function(t,e,r){(function(t,r){var n=200,i=\"Expected a function\",o=\"__lodash_hash_undefined__\",s=1,a=2,u=1/0,c=9007199254740991,f=\"[object Arguments]\",h=\"[object Array]\",l=\"[object Boolean]\",p=\"[object Date]\",d=\"[object Error]\",y=\"[object Function]\",m=\"[object GeneratorFunction]\",g=\"[object Map]\",b=\"[object Number]\",v=\"[object Object]\",_=\"[object RegExp]\",w=\"[object Set]\",S=\"[object String]\",k=\"[object Symbol]\",E=\"[object ArrayBuffer]\",A=\"[object DataView]\",x=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,T=/^\\w*$/,B=/^\\./,I=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,C=/\\\\(\\\\)?/g,M=/^\\[object .+?Constructor\\]$/,P=/^(?:0|[1-9]\\d*)$/,O={};O[\"[object Float32Array]\"]=O[\"[object Float64Array]\"]=O[\"[object Int8Array]\"]=O[\"[object Int16Array]\"]=O[\"[object Int32Array]\"]=O[\"[object Uint8Array]\"]=O[\"[object Uint8ClampedArray]\"]=O[\"[object Uint16Array]\"]=O[\"[object Uint32Array]\"]=!0,O[f]=O[h]=O[E]=O[l]=O[A]=O[p]=O[d]=O[y]=O[g]=O[b]=O[v]=O[_]=O[w]=O[S]=O[\"[object WeakMap]\"]=!1;var R=\"object\"==typeof t&&t&&t.Object===Object&&t,j=\"object\"==typeof self&&self&&self.Object===Object&&self,N=R||j||Function(\"return this\")(),L=\"object\"==typeof e&&e&&!e.nodeType&&e,K=L&&\"object\"==typeof r&&r&&!r.nodeType&&r,D=K&&K.exports===L&&R.process,U=function(){try{return D&&D.binding(\"util\")}catch(t){}}(),F=U&&U.isTypedArray;function q(t,e,r,n){for(var i=-1,o=t?t.length:0;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function H(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=!1;if(null!=t&&\"function\"!=typeof t.toString)try{e=!!(t+\"\")}catch(t){}return e}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function G(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var W=Array.prototype,$=Function.prototype,Y=Object.prototype,J=N[\"__core-js_shared__\"],Z=function(){var t=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),X=$.toString,Q=Y.hasOwnProperty,tt=Y.toString,et=RegExp(\"^\"+X.call(Q).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),rt=N.Symbol,nt=N.Uint8Array,it=Y.propertyIsEnumerable,ot=W.splice,st=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),at=Ut(N,\"DataView\"),ut=Ut(N,\"Map\"),ct=Ut(N,\"Promise\"),ft=Ut(N,\"Set\"),ht=Ut(N,\"WeakMap\"),lt=Ut(Object,\"create\"),pt=$t(at),dt=$t(ut),yt=$t(ct),mt=$t(ft),gt=$t(ht),bt=rt?rt.prototype:void 0,vt=bt?bt.valueOf:void 0,_t=bt?bt.toString:void 0;function wt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.__data__=new kt;++e<r;)this.add(t[e])}function At(t){this.__data__=new St(t)}function xt(t,e){var r=Qt(t)||Xt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!Q.call(t,o)||i&&(\"length\"==o||qt(o,n))||r.push(o);return r}function Tt(t,e){for(var r=t.length;r--;)if(Zt(t[r][0],e))return r;return-1}function Bt(t,e,r,n){return It(t,function(t,i,o){e(n,t,r(t),o)}),n}wt.prototype.clear=function(){this.__data__=lt?lt(null):{}},wt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},wt.prototype.get=function(t){var e=this.__data__;if(lt){var r=e[t];return r===o?void 0:r}return Q.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return lt?void 0!==e[t]:Q.call(e,t)},wt.prototype.set=function(t,e){return this.__data__[t]=lt&&void 0===e?o:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ot.call(e,r,1),0))},St.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return Tt(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new wt,map:new(ut||St),string:new wt}},kt.prototype.delete=function(t){return Dt(this,t).delete(t)},kt.prototype.get=function(t){return Dt(this,t).get(t)},kt.prototype.has=function(t){return Dt(this,t).has(t)},kt.prototype.set=function(t,e){return Dt(this,t).set(t,e),this},Et.prototype.add=Et.prototype.push=function(t){return this.__data__.set(t,o),this},Et.prototype.has=function(t){return this.__data__.has(t)},At.prototype.clear=function(){this.__data__=new St},At.prototype.delete=function(t){return this.__data__.delete(t)},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var i=r.__data__;if(!ut||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new kt(i)}return r.set(t,e),this};var It=function(t,e){return function(r,n){if(null==r)return r;if(!te(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Object(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}(function(t,e){return t&&Ct(t,e,ae)}),Ct=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function Mt(t,e){for(var r=0,n=(e=Ht(e,t)?[e]:Lt(e)).length;null!=t&&r<n;)t=t[Wt(e[r++])];return r&&r==n?t:void 0}function Pt(t,e){return null!=t&&e in Object(t)}function Ot(t,e,r,n,i){return t===e||(null==t||null==e||!ne(t)&&!ie(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=Qt(t),c=Qt(e),y=h,m=h;u||(y=(y=Ft(t))==f?v:y);c||(m=(m=Ft(e))==f?v:m);var x=y==v&&!z(t),T=m==v&&!z(e),B=y==m;if(B&&!x)return o||(o=new At),u||se(t)?Kt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!n(new nt(t),new nt(e)));case l:case p:case b:return Zt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+\"\";case g:var c=V;case w:var f=o&a;if(c||(c=G),t.size!=e.size&&!f)return!1;var h=u.get(t);if(h)return h==e;o|=s,u.set(t,e);var y=Kt(c(t),c(e),n,i,o,u);return u.delete(t),y;case k:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,y,r,n,i,o);if(!(i&a)){var I=x&&Q.call(t,\"__wrapped__\"),C=T&&Q.call(e,\"__wrapped__\");if(I||C){var M=I?t.value():t,P=C?e.value():e;return o||(o=new At),r(M,P,n,i,o)}}if(!B)return!1;return o||(o=new At),function(t,e,r,n,i,o){var s=i&a,u=ae(t),c=u.length,f=ae(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var l=u[h];if(!(s?l in e:Q.call(e,l)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var y=s;++h<c;){l=u[h];var m=t[l],g=e[l];if(n)var b=s?n(g,m,l,e,t,o):n(m,g,l,t,e,o);if(!(void 0===b?m===g||r(m,g,n,i,o):b)){d=!1;break}y||(y=\"constructor\"==l)}if(d&&!y){var v=t.constructor,_=e.constructor;v!=_&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof v&&v instanceof v&&\"function\"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Ot,r,n,i))}function Rt(t){return!(!ne(t)||function(t){return!!Z&&Z in t}(t))&&(ee(t)||z(t)?et:M).test($t(t))}function jt(t){return\"function\"==typeof t?t:null==t?ue:\"object\"==typeof t?Qt(t)?function(t,e){if(Ht(t)&&zt(e))return Vt(Wt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Mt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Ht(e,t)?[e]:Lt(e)).length;for(;++i<o;){var s=Wt(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&re(o)&&qt(s,o)&&(Qt(t)||Xt(t))}(t,e,Pt)}(r,t):Ot(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=ae(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,zt(i)]}return e}(t);if(1==e.length&&e[0][2])return Vt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],h=t[f],l=c[1];if(u&&c[2]){if(void 0===h&&!(f in t))return!1}else{var p=new At;if(n)var d=n(h,l,f,t,e,p);if(!(void 0===d?Ot(l,h,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):function(t){return Ht(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Wt(t)):function(t){return function(e){return Mt(e,t)}}(t)}(t)}function Nt(t){if(!function(t){var e=t&&t.constructor,r=\"function\"==typeof e&&e.prototype||Y;return t===r}(t))return st(t);var e=[];for(var r in Object(t))Q.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function Lt(t){return Qt(t)?t:Gt(t)}function Kt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var l=-1,p=!0,d=i&s?new Et:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var y=t[l],m=e[l];if(n)var g=u?n(m,y,l,e,t,o):n(y,m,l,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!H(e,function(t,e){if(!d.has(e)&&(y===t||r(y,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(y!==m&&!r(y,m,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Dt(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function Ut(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(r)?r:void 0}var Ft=function(t){return tt.call(t)};function qt(t,e){return!!(e=null==e?c:e)&&(\"number\"==typeof t||P.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t,e){if(Qt(t))return!1;var r=typeof t;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=t&&!oe(t))||(T.test(t)||!x.test(t)||null!=e&&t in Object(e))}function zt(t){return t==t&&!ne(t)}function Vt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(at&&Ft(new at(new ArrayBuffer(1)))!=A||ut&&Ft(new ut)!=g||ct&&\"[object Promise]\"!=Ft(ct.resolve())||ft&&Ft(new ft)!=w||ht&&\"[object WeakMap]\"!=Ft(new ht))&&(Ft=function(t){var e=tt.call(t),r=e==v?t.constructor:void 0,n=r?$t(r):void 0;if(n)switch(n){case pt:return A;case dt:return g;case yt:return\"[object Promise]\";case mt:return w;case gt:return\"[object WeakMap]\"}return e});var Gt=Jt(function(t){t=function(t){return null==t?\"\":function(t){if(\"string\"==typeof t)return t;if(oe(t))return _t?_t.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}(t)}(t);var e=[];return B.test(t)&&e.push(\"\"),t.replace(I,function(t,r,n,i){e.push(n?i.replace(C,\"$1\"):r||t)}),e});function Wt(t){if(\"string\"==typeof t||oe(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-u?\"-0\":e}function $t(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}var Yt=function(t,e){return function(r,n){var i=Qt(r)?q:Bt,o=e?e():{};return i(r,t,jt(n),o)}}(function(t,e,r){Q.call(t,r)?t[r].push(e):t[r]=[e]});function Jt(t,e){if(\"function\"!=typeof t||e&&\"function\"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Jt.Cache||kt),r}function Zt(t,e){return t===e||t!=t&&e!=e}function Xt(t){return function(t){return ie(t)&&te(t)}(t)&&Q.call(t,\"callee\")&&(!it.call(t,\"callee\")||tt.call(t)==f)}Jt.Cache=kt;var Qt=Array.isArray;function te(t){return null!=t&&re(t.length)&&!ee(t)}function ee(t){var e=ne(t)?tt.call(t):\"\";return e==y||e==m}function re(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=c}function ne(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function ie(t){return!!t&&\"object\"==typeof t}function oe(t){return\"symbol\"==typeof t||ie(t)&&tt.call(t)==k}var se=F?function(t){return function(e){return t(e)}}(F):function(t){return ie(t)&&re(t.length)&&!!O[tt.call(t)]};function ae(t){return te(t)?xt(t):Nt(t)}function ue(t){return t}r.exports=Yt}).call(this,r(5),r(26)(t))},function(t,e){function r(t,e,r){if(e!=e)return function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,i,r);for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}function n(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function i(t){return t!=t}var o=Array.prototype.splice;function s(t,e,i,s){var a=s?n:r,u=-1,c=e.length,f=t;for(t===e&&(e=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(e)),i&&(f=function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(t,function(t){return function(e){return t(e)}}(i)));++u<c;)for(var h=0,l=e[u],p=i?i(l):l;(h=a(f,p,h,s))>-1;)f!==t&&o.call(f,h,1),o.call(t,h,1);return t}t.exports=function(t,e,r){return t&&t.length&&e&&e.length?s(t,e,void 0,r):t}},function(t,e,r){\"use strict\";const n=r(217);t.exports=class{constructor(t){this.partner=t,this.wantlist=new n,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(t){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=t}receivedBytes(t){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=t}wants(t,e){this.wantlist.add(t,e)}cancelWant(t){this.wantlist.remove(t)}wantlistContains(t){return this.wantlist.contains(t)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}}},function(t,e,r){\"use strict\";const n=r(19).EventEmitter,i=r(310),o=r(123).logger,s=t=>`unwant:${t}`,a=t=>`block:${t}`;t.exports=class extends n{constructor(t){super(),this.setMaxListeners(i.maxListeners),this._log=o(t,\"notif\"),this._unwantListeners={},this._blockListeners={}}hasBlock(t){const e=`block:${t.cid.buffer.toString()}`;this._log(e),this.emit(e,t)}wantBlock(t,e,r){const n=t.buffer.toString();this._log(`wantBlock:${n}`),this._unwantListeners[n]=(()=>{this._log(`manual unwant: ${n}`),this._cleanup(n),r()}),this._blockListeners[n]=(t=>{this._cleanup(n),e(t)}),this.once(s(n),this._unwantListeners[n]),this.once(a(n),this._blockListeners[n])}unwantBlock(t){const e=`unwant:${t.buffer.toString()}`;this._log(e),this.emit(e)}_cleanup(t){this._unwantListeners[t]&&(this.removeListener(s(t),this._unwantListeners[t]),delete this._unwantListeners[t]),this._blockListeners[t]&&(this.removeListener(a(t),this._blockListeners[t]),delete this._blockListeners[t])}}},function(t,e,r){\"use strict\";const n=r(19),i=r(1275),o={movingAverageIntervals:[6e4,3e5,9e5]};t.exports=class extends n{constructor(t,e){super();const r=Object.assign({},o,e);if(\"number\"!=typeof r.computeThrottleTimeout)throw new Error(\"need computeThrottleTimeout\");if(\"number\"!=typeof r.computeThrottleMaxQueueSize)throw new Error(\"need computeThrottleMaxQueueSize\");this._initialCounters=t,this._options=r,this._enabled=this._options.enabled,this._global=new i(t,r),this._global.on(\"update\",t=>this.emit(\"update\",t)),this._peers=new Map}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(let t of this._peers)t[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(t){return t.toB58String&&(t=t.toB58String()),this._peers.get(t)}push(t,e,r){if(this._enabled&&(this._global.push(e,r),t)){let n=this._peers.get(t);n||(n=new i(this._initialCounters,this._options),this._peers.set(t,n)),n.push(e,r)}}disconnected(t){const e=t.toB58String(),r=this._peers.get(e);r&&(r.stop(),this._peers.delete(e))}}},function(t,e,r){\"use strict\";const n=r(19),i=r(1276),o=r(576);t.exports=class extends n{constructor(t,e){super(),this._options=e,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),t.forEach(t=>{this._stats[t]=i(0),this._movingAverages[t]={},this._options.movingAverageIntervals.forEach(e=>{(this._movingAverages[t][e]=o(e)).push(this._frequencyLastTime,0)})}),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(t,e){this._enabled&&(this._queue.push([t,e,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const t=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-t),0)}_update(){if(this._timeout=null,this._queue.length){let t;for(;this._queue.length;){const e=t=this._queue.shift();this._applyOp(e)}this._updateFrequency(t[2]),this.emit(\"update\",this._stats)}}_updateFrequency(t){const e=t-this._frequencyLastTime;Object.keys(this._stats).forEach(r=>{this._updateFrequencyFor(r,e,t)}),this._frequencyLastTime=t}_updateFrequencyFor(t,e,r){const n=this._frequencyAccumulators[t]||0;this._frequencyAccumulators[t]=0;const i=n/e*1e3;let s=this._movingAverages[t];s||(s=this._movingAverages[t]={}),this._options.movingAverageIntervals.forEach(t=>{let e=s[t];e||(e=s[t]=o(t)),e.push(r,i)})}_applyOp(t){const e=t[0],r=t[1];if(\"number\"!=typeof r)throw new Error(\"invalid increment number:\",r);let n;n=this._stats.hasOwnProperty(e)?this._stats[e]:this._stats[e]=i(0),this._stats[e]=n.plus(r),this._frequencyAccumulators[e]||(this._frequencyAccumulators[e]=0),this._frequencyAccumulators[e]+=r}}},function(t,e,r){var n;!function(i){\"use strict\";var o,s=20,a=1,u=1e6,c=-7,f=21,h=\"[big.js] \",l=h+\"Invalid \",p=l+\"decimal places\",d=l+\"rounding mode\",y={},m=void 0,g=/^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;function b(t,e,r,n){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===r)n=i[o]>=5;else if(2===r)n=i[o]>5||5==i[o]&&(n||o<0||i[o+1]!==m||1&i[o-1]);else if(3===r)n=n||i[o]!==m||o<0;else if(n=!1,0!==r)throw Error(d);if(o<1)i.length=1,n?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(r<0||r>3||r!==~~r)throw Error(d);return t}function v(t,e,r,n){var i,o,s=t.constructor,a=!t.c[0];if(r!==m){if(r!==~~r||r<(3==e)||r>u)throw Error(3==e?l+\"precision\":p);for(r=n-(t=new s(t)).e,t.c.length>++n&&b(t,r,s.RM),2==e&&(n=t.e+r+1);t.c.length<n;)t.c.push(0)}if(i=t.e,r=(o=t.c.join(\"\")).length,2!=e&&(1==e||3==e&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(r>1?\".\"+o.slice(1):\"\")+(i<0?\"e\":\"e+\")+i;else if(i<0){for(;++i;)o=\"0\"+o;o=\"0.\"+o}else if(i>0)if(++i>r)for(i-=r;i--;)o+=\"0\";else i<r&&(o=o.slice(0,i)+\".\"+o.slice(i));else r>1&&(o=o.charAt(0)+\".\"+o.slice(1));return t.s<0&&(!a||4==e)?\"-\"+o:o}y.abs=function(){var t=new this.constructor(this);return t.s=1,t},y.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,s=t.s,a=r.e,u=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(e=o<0,a!=u)return a>u^e?1:-1;for(s=(a=n.length)<(u=i.length)?a:u,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return a==u?0:a>u^e?1:-1},y.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,o=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>u)throw Error(p);if(!i[0])throw Error(\"[big.js] Division by zero\");if(!n[0])return new r(0*o);var a,c,f,h,l,d=i.slice(),y=a=i.length,g=n.length,v=n.slice(0,a),_=v.length,w=t,S=w.c=[],k=0,E=s+(w.e=e.e-t.e)+1;for(w.s=o,o=E<0?0:E,d.unshift(0);_++<a;)v.push(0);do{for(f=0;f<10;f++){if(a!=(_=v.length))h=a>_?1:-1;else for(l=-1,h=0;++l<a;)if(i[l]!=v[l]){h=i[l]>v[l]?1:-1;break}if(!(h<0))break;for(c=_==a?i:d;_;){if(v[--_]<c[_]){for(l=_;l&&!v[--l];)v[l]=9;--v[l],v[_]+=10}v[_]-=c[_]}for(;!v[0];)v.shift()}S[k++]=h?f:++f,v[0]&&h?v[_]=n[y]||0:v=[n[y]]}while((y++<g||v[0]!==m)&&o--);return S[0]||1==k||(S.shift(),w.e--),k>E&&b(w,s,r.RM,v[0]!==m),w},y.eq=function(t){return!this.cmp(t)},y.gt=function(t){return this.cmp(t)>0},y.gte=function(t){return this.cmp(t)>-1},y.lt=function(t){return this.cmp(t)<0},y.lte=function(t){return this.cmp(t)<1},y.minus=y.sub=function(t){var e,r,n,i,o=this,s=o.constructor,a=o.s,u=(t=new s(t)).s;if(a!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,h=t.c,l=t.e;if(!c[0]||!h[0])return h[0]?(t.s=-u,t):new s(c[0]?o:0);if(a=f-l){for((i=a<0)?(a=-a,n=c):(l=f,n=h),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(r=((i=c.length<h.length)?c:h).length,a=u=0;u<r;u++)if(c[u]!=h[u]){i=c[u]<h[u];break}if(i&&(n=c,c=h,h=n,t.s=-t.s),(u=(r=h.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;r>a;){if(c[--r]<h[r]){for(e=r;e&&!c[--e];)c[e]=9;--c[e],c[r]+=10}c[r]-=h[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--l;return c[0]||(t.s=1,c=[l=0]),t.c=c,t.e=l,t},y.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error(\"[big.js] Division by zero\");return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},y.plus=y.add=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,r.minus(t);var s=r.e,a=r.c,u=t.e,c=t.c;if(!a[0]||!c[0])return c[0]?t:new n(a[0]?r:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,e=c):(i=-i,e=a),e.reverse();i--;)e.push(0);e.reverse()}for(a.length-c.length<0&&(e=c,c=a,a=e),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];)a.pop();return t.c=a,t.e=u,t},y.pow=function(t){var e=this,r=new e.constructor(1),n=r,i=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(l+\"exponent\");for(i&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return i?r.div(n):n},y.round=function(t,e){var r=this.constructor;if(t===m)t=0;else if(t!==~~t||t<0||t>u)throw Error(p);return b(new r(this),t,e===m?r.RM:e)},y.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,s=n.e,a=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(h+\"No square root\");0===(o=Math.sqrt(n.toString()))||o===1/0?((e=n.c.join(\"\")).length+s&1||(e+=\"0\"),(t=new i(Math.sqrt(e).toString())).e=((s+1)/2|0)-(s<0||1&s)):t=new i(o.toString()),s=t.e+(i.DP+=4);do{r=t,t=a.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join(\"\")!==t.c.slice(0,s).join(\"\"));return b(t,i.DP-=4,i.RM)},y.times=y.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,s=i.length,a=o.length,u=r.e,c=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return new n(0*t.s);for(t.e=u+c,s<a&&(e=i,i=o,o=e,c=s,s=a,a=c),e=new Array(c=s+a);c--;)e[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=e[c]+o[u]*i[c-u-1]+a,e[c--]=a%10,a=a/10|0;e[c]=(e[c]+a)%10}for(a?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},y.toExponential=function(t){return v(this,1,t,t)},y.toFixed=function(t){return v(this,2,t,this.e+t)},y.toPrecision=function(t){return v(this,3,t,t-1)},y.toString=function(){return v(this)},y.valueOf=y.toJSON=function(){return v(this,4)},(o=function t(){function e(r){var n=this;if(!(n instanceof e))return r===m?t():new e(r);r instanceof e?(n.s=r.s,n.e=r.e,n.c=r.c.slice()):function(t,e){var r,n,i;if(0===e&&1/e<0)e=\"-0\";else if(!g.test(e+=\"\"))throw Error(l+\"number\");for(t.s=\"-\"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf(\".\"))>-1&&(e=e.replace(\".\",\"\")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&\"0\"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&\"0\"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(n,r),n.constructor=e}return e.prototype=y,e.DP=s,e.RM=a,e.NE=c,e.PE=f,e.version=\"5.0.2\",e}()).default=o.Big=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){\"use strict\";const n=r(52),i=r(22);t.exports=(t=>i(e=>{if(e=e||function(){},t.log(\"stop\"),\"stopped\"===t.state.state())return e(new Error(\"Already stopped\"));if(\"running\"!==t.state.state())return e(new Error(\"Not able to stop from state: \"+t.state.state()));t.state.stop(),t._blockService.unsetExchange(),t._bitswap.stop(),n([e=>t.libp2p.stop(e),e=>t._repo.close(e)],r=>{if(r)return t.emit(\"error\",r),e(r);t.state.stopped(),t.emit(\"stop\"),e()})}))},function(t,e,r){\"use strict\";t.exports=function(t){return()=>Boolean(t._bitswap&&t._libp2pNode&&t._libp2pNode.isStarted())}},function(t,e,r){\"use strict\";const n=r(577),i=r(22);t.exports=function(t){return i((e,r)=>{\"function\"==typeof e&&(r=e,e={}),t.repo.version((t,e)=>{t&&r(t),r(null,{version:n.version,repo:e,commit:\"\"})})})}},function(t,e,r){\"use strict\";const n=r(22),i=r(2),o=r(577).version;t.exports=function(t){return n((e,r)=>{\"function\"==typeof e&&(r=e,e={}),i(()=>r(null,{id:t._peerInfo.id.toB58String(),publicKey:t._peerInfo.id.pubKey.bytes.toString(\"base64\"),addresses:t._peerInfo.multiaddrs.toArray().map(t=>t.toString()).filter(t=>t.indexOf(\"ipfs\")>=0).sort(),agentVersion:`js-ipfs/${o}`,protocolVersion:\"9000\"}))})}},function(t,e,r){\"use strict\";const n=r(116),i=r(4),o=r(66),s=r(22),a=r(579),u=r(562),c=r(1282);t.exports=function(t){return s((e,r)=>{\"function\"==typeof e&&(r=e,e={});const s=(e,n)=>{if(e)return t.emit(\"error\",e),r(e);t.preStart(e=>{if(e)return t.emit(\"error\",e),r(e);t.state.initialized(),t.emit(\"init\"),r(null,n)})};if(\"uninitialized\"!==t.state.state())return s(new Error(\"Not able to init from state: \"+t.state.state()));if(t.state.init(),t.log(\"init\"),e.repo)return t._repo=e.repo,s(null,!0);e.emptyRepo=e.emptyRepo||!1,e.bits=Number(e.bits)||2048,e.log=e.log||function(){};const f=a();let h;i([e=>t._repo.exists(e),(r,i)=>{if(t.log(\"repo exists?\",r),!0===r)return i(new Error(\"repo already exists\"));e.log(`generating ${e.bits}-bit RSA keypair...`,!1),t.log(\"generating peer id: %s bits\",e.bits),n.create({bits:e.bits},i)},(r,n)=>{t.log(\"identity generated\"),f.Identity={PeerID:r.toB58String(),PrivKey:r.privKey.bytes.toString(\"base64\")},e.pass&&(h=r.privKey,f.Keychain=u.generateOptions()),e.log(\"done\"),e.log(\"peer identity: \"+f.Identity.PeerID),t._repo.init(f,n)},(e,r)=>t._repo.open(r),r=>{if(t.log(\"repo opened\"),e.pass){t.log(\"creating keychain\");const n=Object.assign({passPhrase:e.pass},f.Keychain);t._keychain=new u(t._repo.keys,n),t._keychain.importPeer(\"self\",{privKey:h},r)}else r(null,!0)},(r,n)=>{if(e.emptyRepo)return n(null,!0);const i=[e=>t.object.new(\"unixfs-dir\",e)];\"function\"==typeof c&&i.push(r=>c(t,e.log,r)),t.log(\"adding assets\"),o(i,t=>{t?n(t):n(null,!0)})}],s)})}},function(t,e){},function(t,e,r){\"use strict\";(function(e){const n=r(579),i=r(84).IPFS.matches,o=r(22);function s(t){try{return i(t)}catch(t){return!1}}function a(t){return new Error(`${t} is not a valid Multiaddr`)}t.exports=function(t){return{list:o(e=>{t._repo.config.get((t,r)=>{if(t)return e(t);e(null,{Peers:r.Bootstrap})})}),add:o((r,i,o)=>{if(\"function\"==typeof i&&(o=i,i={default:!1}),r&&!s(r))return e(()=>o(a(r)));t._repo.config.get((e,s)=>{if(e)return o(e);i.default?s.Bootstrap=n().Bootstrap:r&&-1===s.Bootstrap.indexOf(r)&&s.Bootstrap.push(r),t._repo.config.set(s,t=>{if(t)return o(t);o(null,{Peers:i.default?n().Bootstrap:[r]})})})}),rm:o((r,n,i)=>{if(\"function\"==typeof n&&(i=n,n={all:!1}),r&&!s(r))return e(()=>i(a(r)));t._repo.config.get((e,o)=>{if(e)return i(e);n.all?o.Bootstrap=[]:o.Bootstrap=o.Bootstrap.filter(t=>t!==r),t._repo.config.set(o,t=>{if(t)return i(t);const e=[];!n.all&&r&&e.push(r),i(null,{Peers:e})})})})}}}).call(this,r(32).setImmediate)},function(t,e,r){\"use strict\";const n=r(22);t.exports=function(t){return{get:n((e,r)=>(\"function\"==typeof e&&(r=e,e=void 0),t._repo.config.get(e,r))),set:n((e,r,n)=>{t._repo.config.set(e,r,n)}),replace:n((e,r)=>{t._repo.config.set(e,r)})}}},function(t,e,r){\"use strict\";const n=r(184),i=r(10),o=r(67),s=r(13),a=r(4),u=r(22);function c(t){return s.isCID(t)?t:new s(t)}t.exports=function(t){return{get:u((e,r)=>{e=c(e),t._blockService.get(e,r)}),put:u((e,r,i)=>{if(i=i||function(){},\"function\"==typeof r&&(i=r,r={}),Array.isArray(e))return i(new Error(\"Array is not supported\"));a([t=>{if(n.isBlock(e))return t(null,e);if(r.cid&&s.isCID(r.cid))return t(null,new n(e,r.cid));const i=r.mhtype||\"sha2-256\",a=r.format||\"dag-pb\",u=r.version||0;o(e,i,(r,i)=>{if(r)return t(r);t(null,new n(e,new s(u,a,i)))})},(e,r)=>t._blockService.put(e,t=>{if(t)return r(t);r(null,e)})],i)}),rm:u((e,r)=>{e=c(e),t._blockService.delete(e,r)}),stat:u((e,r)=>{e=c(e),t._blockService.get(e,(t,n)=>{if(t)return r(t);r(null,{key:i.toB58String(e.multihash),size:n.data.length})})})}}},function(t,e,r){\"use strict\";(function(e){const n=r(4),i=r(22),o=r(48),s=o.DAGNode,a=o.DAGLink,u=r(13),c=r(10),f=r(47),h=r(15);function l(t,r,n){switch(r){case\"json\":return function(t,r){let n,i;try{const o=JSON.parse(t.toString());i=(o.Links||[]).map(t=>new a(t.Name||t.name,t.Size||t.size,c.fromB58String(t.Hash||t.hash||t.multihash))),n=e.from(o.Data)}catch(t){return r(new Error(\"failed to parse JSON: \"+t))}s.create(n,i,r)}(t,n);case\"protobuf\":return function(t,e){o.util.deserialize(t,e)}(t,n);default:n(new Error(`unkown encoding: ${r}`))}}t.exports=function(t){function r(e){return(r,i,o)=>{\"function\"==typeof i&&(o=i,i={}),n([e=>{t.object.get(r,i,e)},(r,n)=>{e(r,(e,r)=>{if(e)return n(e);t._ipld.put(r,{cid:new u(r.multihash)},t=>{n(t,r)})})}],o)}}return{new:i((r,n)=>{let i;\"function\"==typeof r&&(n=r,r=void 0),r?(h(\"unixfs-dir\"===r,\"unkown template\"),i=new f(\"directory\").marshal()):i=e.alloc(0),s.create(i,(e,r)=>{if(e)return n(e);t._ipld.put(r,{cid:new u(r.multihash)},t=>{if(t)return n(t);n(null,r)})})}),put:i((r,n,i)=>{\"function\"==typeof n&&(i=n,n={});const o=n.enc;let a;if(e.isBuffer(r))o?l(r,o,(t,e)=>{if(t)return i(t);a=e,c()}):s.create(r,(t,e)=>{if(t)return i(t);a=e,c()});else if(r.multihash)a=r,c();else{if(\"object\"!=typeof r)return i(new Error(\"obj not recognized\"));s.create(r.Data,r.Links,(t,e)=>{if(t)return i(t);a=e,c()})}function c(){t._ipld.put(a,{cid:new u(a.multihash)},e=>{if(e)return i(e);t.object.get(a.multihash,i)})}}),get:i((r,n,i)=>{let o;\"function\"==typeof n&&(i=n,n={});try{o=function(t,r){if(\"string\"==typeof t)return\"base58\"!==r&&r?e.from(t,r):t;if(e.isBuffer(t))return t;throw new Error(\"unsupported multihash\")}(r,n.enc)}catch(t){return i(t)}let s=new u(o);1===n.cidVersion&&(s=s.toV1()),t._ipld.get(s,(t,e)=>{if(t)return i(t);const r=e.value;i(null,r)})}),data:i((e,r,n)=>{\"function\"==typeof r&&(n=r,r={}),t.object.get(e,r,(t,e)=>{if(t)return n(t);n(null,e.data)})}),links:i((e,r,n)=>{\"function\"==typeof r&&(n=r,r={}),t.object.get(e,r,(t,e)=>{if(t)return n(t);n(null,e.links)})}),stat:i((e,r,n)=>{\"function\"==typeof r&&(n=r,r={}),t.object.get(e,r,(t,e)=>{if(t)return n(t);o.util.serialize(e,(t,r)=>{if(t)return n(t);const i=r.length,o=e.links.reduce((t,e)=>t+e.size,0),s=e.toJSON();n(null,{Hash:s.multihash,NumLinks:e.links.length,BlockSize:i,LinksSize:i-e.data.length,DataSize:e.data.length,CumulativeSize:i+o})})})}),patch:i({addLink(t,e,n,i){r((t,r)=>{s.addLink(t,e,r)})(t,n,i)},rmLink(t,e,n,i){r((t,r)=>{a.isDAGLink(e)&&(e=e._name),s.rmLink(t,e,r)})(t,n,i)},appendData(t,n,i,o){r((t,r)=>{const i=e.concat([t.data,n]);s.create(i,t.links,r)})(t,i,o)},setData(t,e,n,i){r((t,r)=>{s.create(e,t.links,r)})(t,n,i)}})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";t.exports=\"message Data {\\n  enum DataType {\\n    Raw = 0;\\n    Directory = 1;\\n    File = 2;\\n    Metadata = 3;\\n    Symlink = 4;\\n    HAMTShard = 5;\\n  }\\n\\n  required DataType Type = 1;\\n  optional bytes Data = 2;\\n  optional uint64 filesize = 3;\\n  repeated uint64 blocksizes = 4;\\n\\n  optional uint64 hashType = 5;\\n  optional uint64 fanout = 6;\\n}\\n\\nmessage Metadata {\\n  optional string MimeType = 1;\\n}\"},function(t,e,r){\"use strict\";(function(e){const n=r(22),i=r(13),o=r(9),s=r(88),a=r(1289);t.exports=function(t){return{put:n((e,r,n)=>{if(\"function\"==typeof r)n=r;else{if(r.cid&&(r.format||r.hashAlg))return n(new Error(\"Can't put dag node. Please provide either `cid` OR `format` and `hashAlg` options.\"));if(r.format&&!r.hashAlg||!r.format&&r.hashAlg)return n(new Error(\"Can't put dag node. Please provide `format` AND `hashAlg` options.\"))}r=r.cid?r:Object.assign({},{format:\"dag-cbor\",hashAlg:\"sha2-256\"},r),t._ipld.put(e,r,n)}),get:n((r,n,o,s)=>{if(\"function\"==typeof n&&(s=n,n=void 0),\"function\"==typeof o&&(s=o,o={}),o=o||{},\"string\"==typeof r){const t=r.split(\"/\");r=new i(t[0]),t.shift(),n=t.length>0?t.join(\"/\"):\"/\"}else if(e.isBuffer(r))try{r=new i(r)}catch(t){return s(t)}t._ipld.get(r,n,o,s)}),tree:n((e,r,n,s)=>{if(\"object\"==typeof r&&(s=n,n=r,r=void 0),\"function\"==typeof r&&(s=r,r=void 0),\"function\"==typeof n&&(s=n,n={}),n=n||{},\"string\"==typeof e){const t=e.split(\"/\");e=new i(t[0]),t.shift(),r=t.length>0?t.join(\"/\"):void 0}o(t._ipld.treeStream(e,r,n),o.collect(s))}),_getRecursive:n((e,r)=>{t.dag.get(new i(e),(e,n)=>{if(e)return r(e);s(n.value.links,(e,r)=>{t.dag._getRecursive(e.multihash,r)},(t,e)=>{if(t)return r(t);r(null,a([n.value,e]))})})})}}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(1290),i=1/0;t.exports=function(t){return null!=t&&t.length?n(t,i):[]}},function(t,e,r){var n=r(1291),i=r(1292);t.exports=function t(e,r,o,s,a){var u=-1,c=e.length;for(o||(o=i),a||(a=[]);++u<c;){var f=e[u];r>0&&o(f)?r>1?t(f,r-1,o,s,a):n(a,f):s||(a[a.length]=f)}return a}},function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},function(t,e,r){var n=r(191),i=r(435),o=r(99),s=n?n.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},function(t,e,r){\"use strict\";const n=r(1294),i=r(22),o=r(679),s=r(692);t.exports=function(t){return{start:i(e=>{t.config.get(function(r,i){if(r)return e(r);const a={peerInfo:t._peerInfo,peerBook:t._peerInfoBook,config:{peerDiscovery:{mdns:{enabled:o(t._options,\"config.Discovery.MDNS.Enabled\",o(i,\"Discovery.MDNS.Enabled\",!0))},webRTCStar:{enabled:o(t._options,\"config.Discovery.webRTCStar.Enabled\",o(i,\"Discovery.webRTCStar.Enabled\",!0))},bootstrap:{list:o(t._options,\"config.Bootstrap\",o(i,\"Bootstrap\",[]))}},relay:{enabled:o(t._options,\"relay.enabled\",o(i,\"relay.enabled\",!1)),hop:{enabled:o(t._options,\"relay.hop.enabled\",o(i,\"relay.hop.enabled\",!1)),active:o(t._options,\"relay.hop.active\",o(i,\"relay.hop.active\",!1))}},EXPERIMENTAL:{dht:o(t._options,\"EXPERIMENTAL.dht\",!1),pubsub:o(t._options,\"EXPERIMENTAL.pubsub\",!1)}},connectionManager:o(t._options,\"connectionManager\",o(i,\"connectionManager\",{}))},u=s(o(t._options,\"libp2p\",{}),a);t._libp2pNode=new n(u),t._libp2pNode.on(\"peer:discovery\",e=>{const r=()=>{t._peerInfoBook.put(e),t._libp2pNode.dial(e,()=>{})};t.isOnline()?r():t._libp2pNode.once(\"start\",r)}),t._libp2pNode.on(\"peer:connect\",e=>{t._peerInfoBook.put(e)}),t._libp2pNode.start(r=>{if(r)return e(r);t._libp2pNode.peerInfo.multiaddrs.forEach(t=>{console.log(\"Swarm listening on\",t.toString())}),e()})})}),stop:i(e=>{t._libp2pNode.stop(e)})}}},function(t,e,r){\"use strict\";const n=r(580),i=r(1308),o=r(1357),s=r(1386),a=r(1395),u=r(1427),c=r(1453),f=r(692);t.exports=class extends c{constructor(t){const e=new i({id:t.peerInfo.id}),r=new o({id:t.peerInfo.id}),c={modules:{transport:[n,e,r],streamMuxer:[s],connEncryption:[a],peerDiscovery:[e.discovery,r.discovery,u]},config:{peerDiscovery:{bootstrap:{enabled:!0},webRTCStar:{enabled:!0},websocketStar:{enabled:!0}},EXPERIMENTAL:{dht:!1,pubsub:!1}}};super(f(t,c))}}},function(t,e,r){\"use strict\";var n=r(1296),i=r(1298),o=r(1302);function s(t){return\"function\"==typeof t}t.exports=function(t,e){s(e)&&(e={onConnect:e});var r=\"undefined\"==typeof window?{}:window.location,a=o(t,r),u=new n(a),c=i(u,e);return c.remoteAddress=a,c.close=function(t){s(t)&&u.addEventListener(\"close\",t),u.close()},u.addEventListener(\"open\",function(t){e&&s(e.onConnect)&&e.onConnect(null,c)}),c},t.exports.connect=t.exports},function(t,e,r){t.exports=\"undefined\"==typeof WebSocket?r(1297):WebSocket},function(t,e){},function(t,e,r){var n=r(1299),i=r(1300);t.exports=function(t,e){var r=t.upgradeReq||{};e&&e.binaryType?t.binaryType=e.binaryType:e&&e.binary&&(t.binaryType=\"arraybuffer\");return{source:n(t,e&&e.onConnect),sink:i(t,e),headers:r.headers,url:r.url,upgrade:r.upgrade,method:r.method}}},function(t,e,r){var n=r(3).Buffer;t.exports=function(t,e){var r,i,o=[],s=!1;return t.addEventListener(\"message\",function(t){var e=t.data;if(function(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&\"ArrayBuffer\"===t.constructor.name&&\"number\"==typeof t.byteLength}(e)&&(e=n.from(e)),r)return r(null,e);o.push(e)}),t.addEventListener(\"close\",function(t){i||r&&r(i=!0)}),t.addEventListener(\"error\",function(t){i||(i=t,s||(s=!0,e&&e(t)),r&&r(i))}),t.addEventListener(\"open\",function(t){s||i||(s=!0)}),function(e,n){if(r=null,i)return n(i);e?(r=n,t.close()):o.length>0?n(null,o.shift()):r=n}}},function(t,e,r){(function(e,n){var i=r(1301),o=void 0!==e?e:n.nextTick;t.exports=function(t,e){return function(r){var n=!1!==(e=e||{}).closeOnEnd,s=\"function\"==typeof e?e:e.onClose;r(null,function e(a,u){a?n&&t.readyState<=1&&(s&&t.addEventListener(\"close\",function(t){if(t.wasClean||1006===t.code)s();else{var e=new Error(\"ws error\");e.event=t,s(e)}}),t.close()):i(t,function(n){if(n)return r(n,function(){});t.send(u),o(function(){r(null,e)})})})}}}).call(this,r(32).setImmediate,r(7))},function(t,e){t.exports=function(t,e){var r=t&&(t.removeEventListener||t.removeListener);function n(){\"function\"==typeof r&&(r.call(t,\"open\",i),r.call(t,\"error\",o))}function i(t){n(),e()}function o(t){n(),e(t)}return t.readyState>=2?e(!0):1===t.readyState?e():(t.addEventListener(\"open\",i),void t.addEventListener(\"error\",o))}},function(t,e,r){var n=r(1303),i={http:\"ws\",https:\"wss\"};t.exports=function(t,e){return n(t,e,i,\"ws\")}},function(t,e,r){var n=r(79);t.exports=function(t,e,r,i){var o;return r=r||{},o=(t=n.parse(t,!1,!0)).protocol?t.protocol:(r[o=e.protocol?e.protocol.replace(/:$/,\"\"):\"http\"]||i||o)+\":\",t.host&&\":\"===t.host[0]&&(t.host=null),t.hostname?n.format({protocol:o,slashes:!0,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search}):(t.host=e.host,t.port?n.format({protocol:o,slashes:!0,host:e.hostname+\":\"+t.port,port:t.port,pathname:t.pathname,search:t.search}):t.pathname?n.format({protocol:o,slashes:!0,host:t.host,pathname:t.pathname,search:t.search}):(t.pathname=e.pathname,t.search?n.format({protocol:o,slashes:!0,host:t.host,pathname:t.pathname,search:t.search}):(t.search=e.search,t.format(t))))}},function(t,e){var r=1/0,n=9007199254740991,i=1.7976931348623157e308,o=NaN,s=\"[object Arguments]\",a=\"[object Function]\",u=\"[object GeneratorFunction]\",c=\"[object String]\",f=\"[object Symbol]\",h=/^\\s+|\\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,d=/^0o[0-7]+$/i,y=/^(?:0|[1-9]\\d*)$/,m=parseInt;function g(t){return t!=t}function b(t,e){return function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(e,function(e){return t[e]})}var v=Object.prototype,_=v.hasOwnProperty,w=v.toString,S=v.propertyIsEnumerable,k=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),E=Math.max;function A(t,e){var r=B(t)||function(t){return function(t){return M(t)&&I(t)}(t)&&_.call(t,\"callee\")&&(!S.call(t,\"callee\")||w.call(t)==s)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!_.call(t,o)||i&&(\"length\"==o||T(o,n))||r.push(o);return r}function x(t){if(!function(t){var e=t&&t.constructor,r=\"function\"==typeof e&&e.prototype||v;return t===r}(t))return k(t);var e=[];for(var r in Object(t))_.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function T(t,e){return!!(e=null==e?n:e)&&(\"number\"==typeof t||y.test(t))&&t>-1&&t%1==0&&t<e}var B=Array.isArray;function I(t){return null!=t&&function(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=C(t)?w.call(t):\"\";return e==a||e==u}(t)}function C(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function M(t){return!!t&&\"object\"==typeof t}t.exports=function(t,e,n,s){t=I(t)?t:function(t){return t?b(t,function(t){return I(t)?A(t):x(t)}(t)):[]}(t),n=n&&!s?function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if(\"number\"==typeof t)return t;if(function(t){return\"symbol\"==typeof t||M(t)&&w.call(t)==f}(t))return o;if(C(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=C(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(h,\"\");var r=p.test(t);return r||d.test(t)?m(t.slice(2),r?2:8):l.test(t)?o:+t}(t))===r||t===-r){var e=t<0?-1:1;return e*i}return t==t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(n):0;var a=t.length;return n<0&&(n=E(a+n,0)),function(t){return\"string\"==typeof t||!B(t)&&M(t)&&w.call(t)==c}(t)?n<=a&&t.indexOf(e,n)>-1:!!a&&function(t,e,r){if(e!=e)return function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,g,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,n)>-1}},function(t,e,r){\"use strict\";const n=r(460);t.exports=class{constructor(t,e){this.peerInfo=null,this.conn=n(),t?this.setInnerConn(t,e):e&&(this.info=e)}get source(){return this.conn.source}get sink(){return this.conn.sink}getPeerInfo(t){return this.info&&this.info.getPeerInfo?this.info.getPeerInfo(t):this.peerInfo?void t(null,this.peerInfo):t(new Error(\"Peer Info not set yet\"))}setPeerInfo(t){if(this.info&&this.info.setPeerInfo)return this.info.setPeerInfo(t);this.peerInfo=t}getObservedAddrs(t){if(this.info&&this.info.getObservedAddrs)return this.info.getObservedAddrs(t);t(null,[])}setInnerConn(t,e){this.conn.resolve(t),this.info=e||t}}},function(t,e,r){\"use strict\";const n=r(6)(\"libp2p:websockets:dialer\");t.exports=function(t){const e=t.toString().split(\"/\");let r,i;try{r=t.protoNames().filter(t=>\"ws\"===t||\"wss\"===t)[0]}catch(t){throw n(t),new Error(\"Not a valid websocket address\",t)}try{i=t.stringTuples().filter(e=>{if(e[0]===t.protos().filter(t=>\"tcp\"===t.name)[0].code)return!0})[0][1]}catch(t){n(\"No port, skipping\")}return`${r}://${e[2]}${!i||80===i&&443===i?\"\":`:${i}`}`}},function(t,e,r){\"use strict\";t.exports=function(){throw new Error(\"WebSocket Servers can not be created in the browser!\")}},function(t,e,r){\"use strict\";const n=r(6)(\"libp2p:webrtc-star\"),i=r(63),o=r(84),s=r(64),a=r(581),u=r(19).EventEmitter,c=r(1327),f=r(1329),h=r(54),l=r(49).Connection,p=r(221),d=r(72),y=r(2),m=r(1355),g=r(1356),b=g.cleanUrlSIO,v=g.cleanMultiaddr,_=d(()=>{}),w={transports:[\"websocket\"],\"force new connection\":!0};t.exports=s(class{constructor(t){t=t||{},this.maSelf=void 0,this.sioOptions={transports:[\"websocket\"],\"force new connection\":!0},t.wrtc&&(this.wrtc=t.wrtc),this.discovery=new u,this.discovery.tag=\"webRTCStar\",this.discovery.start=(t=>{y(t)}),this.discovery.stop=(t=>{y(t)}),this.listenersRefs={},this._peerDiscovered=this._peerDiscovered.bind(this)}dial(t,e,r){\"function\"==typeof e&&(r=e,e={}),r=r?d(r):_;const n=(~~(1e9*Math.random())).toString(36)+Date.now(),i=this.listenersRefs[Object.keys(this.listenersRefs)[0]].io,o={initiator:!0,trickle:!1};this.wrtc&&(o.wrtc=this.wrtc);const s=new c(o),a=new l(p.duplex(s));let u=!1;return s.on(\"signal\",e=>{i.emit(\"ss-handshake\",{intentId:n,srcMultiaddr:this.maSelf.toString(),dstMultiaddr:t.toString(),signal:e})}),s.once(\"timeout\",()=>r(new Error(\"timeout\"))),s.once(\"error\",t=>{u||r(t)}),i.on(\"ws-handshake\",e=>{if(e.intentId===n&&e.err)return r(new Error(e.err));e.intentId===n&&e.answer&&(s.once(\"connect\",()=>{u=!0,a.destroy=s.destroy.bind(s),s.once(\"close\",()=>a.destroy()),a.getObservedAddrs=(e=>e(null,[t])),r(null,a)}),s.signal(e.signal))}),a}createListener(t,e){\"function\"==typeof t&&(e=t,t={});const r=new u;return r.listen=((t,i)=>{if(i=i?d(i):_,!m.support&&!this.wrtc)return y(()=>i(new Error(\"no WebRTC support\")));this.maSelf=t;const o=b(t);n(\"Dialing to Signalling Server on: \"+o),r.io=a.connect(o,w),r.io.once(\"connect_error\",i),r.io.once(\"error\",t=>{r.emit(\"error\",t),r.emit(\"close\")}),r.io.on(\"ws-handshake\",function(t){if(t.answer||t.err)return;const n={trickle:!1};s.wrtc&&(n.wrtc=s.wrtc);const i=new c(n),o=new l(p.duplex(i));i.once(\"connect\",()=>{o.getObservedAddrs=(e=>e(null,[t.srcMultiaddr])),r.emit(\"connection\",o),e(o)}),i.once(\"signal\",e=>{t.signal=e,t.answer=!0,r.io.emit(\"ss-handshake\",t)}),i.signal(t.signal)}),r.io.on(\"ws-peer\",this._peerDiscovered),r.io.on(\"connect\",()=>{r.io.emit(\"ss-join\",t.toString())}),r.io.once(\"connect\",()=>{r.emit(\"listening\"),i()});const s=this}),r.close=(t=>{t=t?d(t):_,r.io.emit(\"ss-leave\"),y(()=>{r.emit(\"close\"),t()})}),r.getAddrs=(t=>{y(()=>t(null,[this.maSelf]))}),this.listenersRefs[i.toString()]=r,r}filter(t){return Array.isArray(t)||(t=[t]),t.filter(t=>!(t.protoNames().indexOf(\"p2p-circuit\")>-1)&&o.WebRTCStar.matches(t))}_peerDiscovered(t){n(\"Peer Discovered:\",t);const e=(t=v(t)).split(\"/ipfs/\"),r=e[e.length-1],o=f.createFromB58String(r),s=new h(o);s.multiaddrs.add(i(t)),this.discovery.emit(\"peer\",s)}},{className:\"WebRTCStar\",symbolName:\"@libp2p/js-libp2p-webrtc-star/webrtcstar\"})},function(t,e,r){(function(e){var n=r(582),i=r(6)(\"socket.io-client:url\");t.exports=function(t,r){var o=t;r=r||e.location,null==t&&(t=r.protocol+\"//\"+r.host);\"string\"==typeof t&&(\"/\"===t.charAt(0)&&(t=\"/\"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\\/\\//.test(t)||(i(\"protocol-less url %s\",t),t=void 0!==r?r.protocol+\"//\"+t:\"https://\"+t),i(\"parse %s\",t),o=n(t));o.port||(/^(http|ws)$/.test(o.protocol)?o.port=\"80\":/^(http|ws)s$/.test(o.protocol)&&(o.port=\"443\"));o.path=o.path||\"/\";var s=-1!==o.host.indexOf(\":\")?\"[\"+o.host+\"]\":o.host;return o.id=o.protocol+\"://\"+s+\":\"+o.port,o.href=o.protocol+\"://\"+s+(r&&r.port===o.port?\"\":\":\"+o.port),o}}).call(this,r(5))},function(t,e,r){(function(t){var n=r(583),i=r(584),o=Object.prototype.toString,s=\"function\"==typeof t.Blob||\"[object BlobConstructor]\"===o.call(t.Blob),a=\"function\"==typeof t.File||\"[object FileConstructor]\"===o.call(t.File);e.deconstructPacket=function(t){var e=[],r=t.data,o=t;return o.data=function t(e,r){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:r.length};return r.push(e),o}if(n(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],r);return s}if(\"object\"==typeof e&&!(e instanceof Date)){var s={};for(var u in e)s[u]=t(e[u],r);return s}return e}(r,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,r){if(!e)return e;if(e&&e._placeholder)return r[e.num];if(n(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],r);else if(\"object\"==typeof e)for(var o in e)e[o]=t(e[o],r);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var r=0,o=t;!function t(u,c,f){if(!u)return u;if(s&&u instanceof Blob||a&&u instanceof File){r++;var h=new FileReader;h.onload=function(){f?f[c]=this.result:o=this.result,--r||e(o)},h.readAsArrayBuffer(u)}else if(n(u))for(var l=0;l<u.length;l++)t(u[l],l,u);else if(\"object\"==typeof u&&!i(u))for(var p in u)t(u[p],p,u)}(o),r||e(o)}}).call(this,r(5))},function(t,e,r){t.exports=r(1312),t.exports.parser=r(125)},function(t,e,r){(function(e){var n=r(586),i=r(124),o=r(6)(\"engine.io-client:socket\"),s=r(245),a=r(125),u=r(582),c=r(219);function f(t,r){if(!(this instanceof f))return new f(t,r);r=r||{},t&&\"object\"==typeof t&&(r=t,t=null),t?(t=u(t),r.hostname=t.host,r.secure=\"https\"===t.protocol||\"wss\"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=u(r.host).host),this.secure=null!=r.secure?r.secure:e.location&&\"https:\"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?\"443\":\"80\"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:\"localhost\"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},\"string\"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||\"/engine.io\").replace(/\\/$/,\"\")+\"/\",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||\"t\",this.timestampRequests=r.timestampRequests,this.transports=r.transports||[\"polling\",\"websocket\"],this.transportOptions=r.transportOptions||{},this.readyState=\"\",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized||r.rejectUnauthorized,this.forceNode=!!r.forceNode;var n=\"object\"==typeof e&&e;n.global===n&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=f,f.priorWebsocketSuccess=!1,i(f.prototype),f.protocol=a.protocol,f.Socket=f,f.Transport=r(313),f.transports=r(586),f.parser=r(125),f.prototype.createTransport=function(t){o('creating transport \"%s\"',t);var e=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var r=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new n[t]({query:e,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0})},f.prototype.open=function(){var t;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf(\"websocket\"))t=\"websocket\";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit(\"error\",\"No transports available\")},0)}t=this.transports[0]}this.readyState=\"opening\";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},f.prototype.setTransport=function(t){o(\"setting transport %s\",t.name);var e=this;this.transport&&(o(\"clearing existing transport %s\",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on(\"drain\",function(){e.onDrain()}).on(\"packet\",function(t){e.onPacket(t)}).on(\"error\",function(t){e.onError(t)}).on(\"close\",function(){e.onClose(\"transport close\")})},f.prototype.probe=function(t){o('probing transport \"%s\"',t);var e=this.createTransport(t,{probe:1}),r=!1,n=this;function i(){if(n.onlyBinaryUpgrades){var i=!this.supportsBinary&&n.transport.supportsBinary;r=r||i}r||(o('probe transport \"%s\" opened',t),e.send([{type:\"ping\",data:\"probe\"}]),e.once(\"packet\",function(i){if(!r)if(\"pong\"===i.type&&\"probe\"===i.data){if(o('probe transport \"%s\" pong',t),n.upgrading=!0,n.emit(\"upgrading\",e),!e)return;f.priorWebsocketSuccess=\"websocket\"===e.name,o('pausing current transport \"%s\"',n.transport.name),n.transport.pause(function(){r||\"closed\"!==n.readyState&&(o(\"changing transport and sending upgrade packet\"),l(),n.setTransport(e),e.send([{type:\"upgrade\"}]),n.emit(\"upgrade\",e),e=null,n.upgrading=!1,n.flush())})}else{o('probe transport \"%s\" failed',t);var s=new Error(\"probe error\");s.transport=e.name,n.emit(\"upgradeError\",s)}}))}function s(){r||(r=!0,l(),e.close(),e=null)}function a(r){var i=new Error(\"probe error: \"+r);i.transport=e.name,s(),o('probe transport \"%s\" failed because of error: %s',t,r),n.emit(\"upgradeError\",i)}function u(){a(\"transport closed\")}function c(){a(\"socket closed\")}function h(t){e&&t.name!==e.name&&(o('\"%s\" works - aborting \"%s\"',t.name,e.name),s())}function l(){e.removeListener(\"open\",i),e.removeListener(\"error\",a),e.removeListener(\"close\",u),n.removeListener(\"close\",c),n.removeListener(\"upgrading\",h)}f.priorWebsocketSuccess=!1,e.once(\"open\",i),e.once(\"error\",a),e.once(\"close\",u),this.once(\"close\",c),this.once(\"upgrading\",h),e.open()},f.prototype.onOpen=function(){if(o(\"socket open\"),this.readyState=\"open\",f.priorWebsocketSuccess=\"websocket\"===this.transport.name,this.emit(\"open\"),this.flush(),\"open\"===this.readyState&&this.upgrade&&this.transport.pause){o(\"starting upgrade probes\");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},f.prototype.onPacket=function(t){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState)switch(o('socket receive: type \"%s\", data \"%s\"',t.type,t.data),this.emit(\"packet\",t),this.emit(\"heartbeat\"),t.type){case\"open\":this.onHandshake(JSON.parse(t.data));break;case\"pong\":this.setPing(),this.emit(\"pong\");break;case\"error\":var e=new Error(\"server error\");e.code=t.data,this.onError(e);break;case\"message\":this.emit(\"data\",t.data),this.emit(\"message\",t.data)}else o('packet received with socket readyState \"%s\"',this.readyState)},f.prototype.onHandshake=function(t){this.emit(\"handshake\",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),\"closed\"!==this.readyState&&(this.setPing(),this.removeListener(\"heartbeat\",this.onHeartbeat),this.on(\"heartbeat\",this.onHeartbeat))},f.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){\"closed\"!==e.readyState&&e.onClose(\"ping timeout\")},t||e.pingInterval+e.pingTimeout)},f.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){o(\"writing ping packet - expecting pong within %sms\",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},f.prototype.ping=function(){var t=this;this.sendPacket(\"ping\",function(){t.emit(\"ping\")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit(\"drain\"):this.flush()},f.prototype.flush=function(){\"closed\"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o(\"flushing %d packets in socket\",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit(\"flush\"))},f.prototype.write=f.prototype.send=function(t,e,r){return this.sendPacket(\"message\",t,e,r),this},f.prototype.sendPacket=function(t,e,r,n){if(\"function\"==typeof e&&(n=e,e=void 0),\"function\"==typeof r&&(n=r,r=null),\"closing\"!==this.readyState&&\"closed\"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var i={type:t,data:e,options:r};this.emit(\"packetCreate\",i),this.writeBuffer.push(i),n&&this.once(\"flush\",n),this.flush()}},f.prototype.close=function(){if(\"opening\"===this.readyState||\"open\"===this.readyState){this.readyState=\"closing\";var t=this;this.writeBuffer.length?this.once(\"drain\",function(){this.upgrading?n():e()}):this.upgrading?n():e()}function e(){t.onClose(\"forced close\"),o(\"socket closing - telling transport to close\"),t.transport.close()}function r(){t.removeListener(\"upgrade\",r),t.removeListener(\"upgradeError\",r),e()}function n(){t.once(\"upgrade\",r),t.once(\"upgradeError\",r)}return this},f.prototype.onError=function(t){o(\"socket error %j\",t),f.priorWebsocketSuccess=!1,this.emit(\"error\",t),this.onClose(\"transport error\",t)},f.prototype.onClose=function(t,e){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState){o('socket close with reason: \"%s\"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),this.readyState=\"closed\",this.id=null,this.emit(\"close\",t,e),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~s(this.transports,t[r])&&e.push(t[r]);return e}}).call(this,r(5))},function(t,e){try{t.exports=\"undefined\"!=typeof XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,r){(function(e){var n=r(312),i=r(587),o=r(124),s=r(220),a=r(6)(\"engine.io-client:polling-xhr\");function u(){}function c(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var r=\"https:\"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}}function f(t){this.method=t.method||\"GET\",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function h(){for(var t in f.requests)f.requests.hasOwnProperty(t)&&f.requests[t].abort()}t.exports=c,t.exports.Request=f,s(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new f(t)},c.prototype.doWrite=function(t,e){var r=\"string\"!=typeof t&&void 0!==t,n=this.request({method:\"POST\",data:t,isBinary:r}),i=this;n.on(\"success\",e),n.on(\"error\",function(t){i.onError(\"xhr post error\",t)}),this.sendXhr=n},c.prototype.doPoll=function(){a(\"xhr poll\");var t=this.request(),e=this;t.on(\"data\",function(t){e.onData(t)}),t.on(\"error\",function(t){e.onError(\"xhr poll error\",t)}),this.pollXhr=t},o(f.prototype),f.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new n(t),i=this;try{a(\"xhr open %s: %s\",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if(\"POST\"===this.method)try{this.isBinary?r.setRequestHeader(\"Content-type\",\"application/octet-stream\"):r.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\")}catch(t){}try{r.setRequestHeader(\"Accept\",\"*/*\")}catch(t){}\"withCredentials\"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){i.onLoad()},r.onerror=function(){i.onError(r.responseText)}):r.onreadystatechange=function(){if(2===r.readyState)try{var t=r.getResponseHeader(\"Content-Type\");i.supportsBinary&&\"application/octet-stream\"===t&&(r.responseType=\"arraybuffer\")}catch(t){}4===r.readyState&&(200===r.status||1223===r.status?i.onLoad():setTimeout(function(){i.onError(r.status)},0))},a(\"xhr data %s\",this.data),r.send(this.data)}catch(t){return void setTimeout(function(){i.onError(t)},0)}e.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit(\"success\"),this.cleanup()},f.prototype.onData=function(t){this.emit(\"data\",t),this.onSuccess()},f.prototype.onError=function(t){this.emit(\"error\",t),this.cleanup(!0)},f.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(t){}e.document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader(\"Content-Type\")}catch(t){}t=\"application/octet-stream\"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},f.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},f.requestsCount=0,f.requests={},e.document&&(e.attachEvent?e.attachEvent(\"onunload\",h):e.addEventListener&&e.addEventListener(\"beforeunload\",h,!1))}).call(this,r(5))},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==r.call(t)}},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(r-e),s=e,a=0;s<r;s++,a++)o[a]=i[s];return o.buffer}},function(t,e){function r(){}t.exports=function(t,e,n){var i=!1;return n=n||r,o.count=t,0===t?e():o;function o(t,r){if(o.count<=0)throw new Error(\"after called too many times\");--o.count,t?(i=!0,e(t),e=n):0!==o.count||i||e(null,r)}}},function(t,e,r){(function(t,n){var i;/*! https://mths.be/utf8js v2.1.2 by @mathias */!function(o){var s=\"object\"==typeof e&&e,a=(\"object\"==typeof t&&t&&t.exports,\"object\"==typeof n&&n);a.global!==a&&a.window;var u,c,f,h=String.fromCharCode;function l(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function p(t,e){if(t>=55296&&t<=57343){if(e)throw Error(\"Lone surrogate U+\"+t.toString(16).toUpperCase()+\" is not a scalar value\");return!1}return!0}function d(t,e){return h(t>>e&63|128)}function y(t,e){if(0==(4294967168&t))return h(t);var r=\"\";return 0==(4294965248&t)?r=h(t>>6&31|192):0==(4294901760&t)?(p(t,e)||(t=65533),r=h(t>>12&15|224),r+=d(t,6)):0==(4292870144&t)&&(r=h(t>>18&7|240),r+=d(t,12),r+=d(t,6)),r+=h(63&t|128)}function m(){if(f>=c)throw Error(\"Invalid byte index\");var t=255&u[f];if(f++,128==(192&t))return 63&t;throw Error(\"Invalid continuation byte\")}function g(t){var e,r;if(f>c)throw Error(\"Invalid byte index\");if(f==c)return!1;if(e=255&u[f],f++,0==(128&e))return e;if(192==(224&e)){if((r=(31&e)<<6|m())>=128)return r;throw Error(\"Invalid continuation byte\")}if(224==(240&e)){if((r=(15&e)<<12|m()<<6|m())>=2048)return p(r,t)?r:65533;throw Error(\"Invalid continuation byte\")}if(240==(248&e)&&(r=(7&e)<<18|m()<<12|m()<<6|m())>=65536&&r<=1114111)return r;throw Error(\"Invalid UTF-8 detected\")}var b={version:\"2.1.2\",encode:function(t,e){for(var r=!1!==(e=e||{}).strict,n=l(t),i=n.length,o=-1,s=\"\";++o<i;)s+=y(n[o],r);return s},decode:function(t,e){var r=!1!==(e=e||{}).strict;u=l(t),c=u.length,f=0;for(var n,i=[];!1!==(n=g(r));)i.push(n);return function(t){for(var e,r=t.length,n=-1,i=\"\";++n<r;)(e=t[n])>65535&&(i+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=h(e);return i}(i)}};void 0===(i=function(){return b}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(26)(t),r(5))},function(t,e){!function(){\"use strict\";for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.encode=function(e){var r,n=new Uint8Array(e),i=n.length,o=\"\";for(r=0;r<i;r+=3)o+=t[n[r]>>2],o+=t[(3&n[r])<<4|n[r+1]>>4],o+=t[(15&n[r+1])<<2|n[r+2]>>6],o+=t[63&n[r+2]];return i%3==2?o=o.substring(0,o.length-1)+\"=\":i%3==1&&(o=o.substring(0,o.length-2)+\"==\"),o},e.decode=function(t){var e,n,i,o,s,a=.75*t.length,u=t.length,c=0;\"=\"===t[t.length-1]&&(a--,\"=\"===t[t.length-2]&&a--);var f=new ArrayBuffer(a),h=new Uint8Array(f);for(e=0;e<u;e+=4)n=r[t.charCodeAt(e)],i=r[t.charCodeAt(e+1)],o=r[t.charCodeAt(e+2)],s=r[t.charCodeAt(e+3)],h[c++]=n<<2|i>>4,h[c++]=(15&i)<<4|o>>2,h[c++]=(3&o)<<6|63&s;return f}}()},function(t,e,r){(function(e){var r=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,n=function(){try{return 2===new Blob([\"hi\"]).size}catch(t){return!1}}(),i=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob;function s(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var i=new Uint8Array(r.byteLength);i.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=i.buffer}t[e]=n}}}function a(t,e){e=e||{};var n=new r;s(t);for(var i=0;i<t.length;i++)n.append(t[i]);return e.type?n.getBlob(e.type):n.getBlob()}function u(t,e){return s(t),new Blob(t,e||{})}t.exports=n?i?e.Blob:u:o?a:void 0}).call(this,r(5))},function(t,e,r){(function(e){var n=r(587),i=r(220);t.exports=c;var o,s=/\\n/g,a=/\\\\n/g;function u(){}function c(t){n.call(this,t),this.query=this.query||{},o||(e.___eio||(e.___eio=[]),o=e.___eio),this.index=o.length;var r=this;o.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener(\"beforeunload\",function(){r.script&&(r.script.onerror=u)},!1)}i(c,n),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},c.prototype.doPoll=function(){var t=this,e=document.createElement(\"script\");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError(\"jsonp poll error\",e)};var r=document.getElementsByTagName(\"script\")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e,\"undefined\"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement(\"iframe\");document.body.appendChild(t),document.body.removeChild(t)},100)},c.prototype.doWrite=function(t,e){var r=this;if(!this.form){var n,i=document.createElement(\"form\"),o=document.createElement(\"textarea\"),u=this.iframeId=\"eio_iframe_\"+this.index;i.className=\"socketio\",i.style.position=\"absolute\",i.style.top=\"-1000px\",i.style.left=\"-1000px\",i.target=u,i.method=\"POST\",i.setAttribute(\"accept-charset\",\"utf-8\"),o.name=\"d\",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){f(),e()}function f(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError(\"jsonp polling iframe removal error\",t)}try{var t='<iframe src=\"javascript:0\" name=\"'+r.iframeId+'\">';n=document.createElement(t)}catch(t){(n=document.createElement(\"iframe\")).name=r.iframeId,n.src=\"javascript:0\"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),f(),t=t.replace(a,\"\\\\\\n\"),this.area.value=t.replace(s,\"\\\\n\");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){\"complete\"===r.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,r(5))},function(t,e,r){(function(e){var n,i=r(313),o=r(125),s=r(219),a=r(220),u=r(589),c=r(6)(\"engine.io-client:websocket\"),f=e.WebSocket||e.MozWebSocket;if(\"undefined\"==typeof window)try{n=r(1324)}catch(t){}var h=f;function l(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=f&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=n),i.call(this,t)}h||\"undefined\"!=typeof window||(h=n),t.exports=l,a(l,i),l.prototype.name=\"websocket\",l.prototype.supportsBinary=!0,l.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new h(t,e):new h(t):new h(t,e,r)}catch(t){return this.emit(\"error\",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=\"nodebuffer\"):this.ws.binaryType=\"arraybuffer\",this.addEventListeners()}},l.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError(\"websocket error\",e)}},l.prototype.write=function(t){var r=this;this.writable=!1;for(var n=t.length,i=0,s=n;i<s;i++)!function(t){o.encodePacket(t,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),r.perMessageDeflate)(\"string\"==typeof i?e.Buffer.byteLength(i):i.length)<r.perMessageDeflate.threshold&&(o.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,o)}catch(t){c(\"websocket closed before onclose event\")}--n||a()})}(t[i]);function a(){r.emit(\"flush\"),setTimeout(function(){r.writable=!0,r.emit(\"drain\")},0)}},l.prototype.onClose=function(){i.prototype.onClose.call(this)},l.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},l.prototype.uri=function(){var t=this.query||{},e=this.secure?\"wss\":\"ws\",r=\"\";return this.port&&(\"wss\"===e&&443!==Number(this.port)||\"ws\"===e&&80!==Number(this.port))&&(r=\":\"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t=\"?\"+t),e+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+r+this.path+t},l.prototype.check=function(){return!(!h||\"__initialize\"in h&&this.name===l.prototype.name)}}).call(this,r(5))},function(t,e){},function(t,e){t.exports=function(t,e){for(var r=[],n=(e=e||0)||0;n<t.length;n++)r[n-e]=t[n];return r}},function(t,e){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},function(t,e,r){(function(e){t.exports=u;var n=r(6)(\"simple-peer\"),i=r(1328),o=r(1),s=r(85),a=r(58);function u(t){var e=this;if(!(e instanceof u))return new u(t);if(e._id=s(4).toString(\"hex\").slice(0,7),e._debug(\"new peer %o\",t),t=Object.assign({allowHalfOpen:!1},t),a.Duplex.call(e,t),e.channelName=t.initiator?t.channelName||s(20).toString(\"hex\"):null,e._isChromium=\"undefined\"!=typeof window&&!!window.webkitRTCPeerConnection,e.initiator=t.initiator||!1,e.channelConfig=t.channelConfig||u.channelConfig,e.config=t.config||u.config,e.constraints=e._transformConstraints(t.constraints||u.constraints),e.offerConstraints=e._transformConstraints(t.offerConstraints||{}),e.answerConstraints=e._transformConstraints(t.answerConstraints||{}),e.sdpTransform=t.sdpTransform||function(t){return t},e.streams=t.streams||(t.stream?[t.stream]:[]),e.trickle=void 0===t.trickle||t.trickle,e.destroyed=!1,e.connected=!1,e.remoteAddress=void 0,e.remoteFamily=void 0,e.remotePort=void 0,e.localAddress=void 0,e.localPort=void 0,e._wrtc=t.wrtc&&\"object\"==typeof t.wrtc?t.wrtc:i(),!e._wrtc)throw\"undefined\"==typeof window?c(\"No WebRTC support: Specify `opts.wrtc` option in this environment\",\"ERR_WEBRTC_SUPPORT\"):c(\"No WebRTC support: Not a supported browser\",\"ERR_WEBRTC_SUPPORT\");e._pcReady=!1,e._channelReady=!1,e._iceComplete=!1,e._channel=null,e._pendingCandidates=[],e._isNegotiating=!1,e._batchedNegotiation=!1,e._queuedNegotiation=!1,e._sendersAwaitingStable=[],e._senderMap=new WeakMap,e._remoteTracks=[],e._remoteStreams=[],e._chunk=null,e._cb=null,e._interval=null,e._pc=new e._wrtc.RTCPeerConnection(e.config,e.constraints),e._isReactNativeWebrtc=\"number\"==typeof e._pc._peerConnectionId,e._pc.oniceconnectionstatechange=function(){e._onIceStateChange()},e._pc.onicegatheringstatechange=function(){e._onIceStateChange()},e._pc.onsignalingstatechange=function(){e._onSignalingStateChange()},e._pc.onicecandidate=function(t){e._onIceCandidate(t)},e.initiator?e._setupData({channel:e._pc.createDataChannel(e.channelName,e.channelConfig)}):e._pc.ondatachannel=function(t){e._setupData(t)},\"addTrack\"in e._pc&&(e.streams&&e.streams.forEach(function(t){e.addStream(t)}),e._pc.ontrack=function(t){e._onTrack(t)}),e.initiator&&e._needsNegotiation(),e._onFinishBound=function(){e._onFinish()},e.once(\"finish\",e._onFinishBound)}function c(t,e){var r=new Error(t);return r.code=e,r}function f(){}o(u,a.Duplex),u.WEBRTC_SUPPORT=!!i(),u.config={iceServers:[{urls:\"stun:stun.l.google.com:19302\"},{urls:\"stun:global.stun.twilio.com:3478?transport=udp\"}]},u.constraints={},u.channelConfig={},Object.defineProperty(u.prototype,\"bufferSize\",{get:function(){return this._channel&&this._channel.bufferedAmount||0}}),u.prototype.address=function(){return{port:this.localPort,family:\"IPv4\",address:this.localAddress}},u.prototype.signal=function(t){var e=this;if(e.destroyed)throw c(\"cannot signal after peer is destroyed\",\"ERR_SIGNALING\");if(\"string\"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}e._debug(\"signal()\"),t.renegotiate&&(e._debug(\"got request to renegotiate\"),e._needsNegotiation()),t.candidate&&(e._pc.remoteDescription&&e._pc.remoteDescription.type?e._addIceCandidate(t.candidate):e._pendingCandidates.push(t.candidate)),t.sdp&&e._pc.setRemoteDescription(new e._wrtc.RTCSessionDescription(t),function(){e.destroyed||(e._pendingCandidates.forEach(function(t){e._addIceCandidate(t)}),e._pendingCandidates=[],\"offer\"===e._pc.remoteDescription.type&&e._createAnswer())},function(t){e.destroy(c(t,\"ERR_SET_REMOTE_DESCRIPTION\"))}),t.sdp||t.candidate||t.renegotiate||e.destroy(c(\"signal() called with invalid signal data\",\"ERR_SIGNALING\"))},u.prototype._addIceCandidate=function(t){var e=this;try{e._pc.addIceCandidate(new e._wrtc.RTCIceCandidate(t),f,function(t){e.destroy(c(t,\"ERR_ADD_ICE_CANDIDATE\"))})}catch(t){e.destroy(c(\"error adding candidate: \"+t.message,\"ERR_ADD_ICE_CANDIDATE\"))}},u.prototype.send=function(t){this._channel.send(t)},u.prototype.addStream=function(t){var e=this;e._debug(\"addStream()\"),t.getTracks().forEach(function(r){e.addTrack(r,t)})},u.prototype.addTrack=function(t,e){this._debug(\"addTrack()\");var r=this._pc.addTrack(t,e),n=this._senderMap.get(t)||new WeakMap;n.set(e,r),this._senderMap.set(t,n),this._needsNegotiation()},u.prototype.removeTrack=function(t,e){this._debug(\"removeSender()\");var r=this._senderMap.get(t),n=r?r.get(e):null;n||this.destroy(new Error(\"Cannot remove track that was never added.\"));try{this._pc.removeTrack(n)}catch(t){\"NS_ERROR_UNEXPECTED\"===t.name?this._sendersAwaitingStable.push(n):this.destroy(t)}},u.prototype.removeStream=function(t){var e=this;e._debug(\"removeSenders()\"),t.getTracks().forEach(function(r){e.removeTrack(r,t)})},u.prototype._needsNegotiation=function(){var t=this;t._debug(\"_needsNegotiation\"),t._batchedNegotiation||(t._batchedNegotiation=!0,setTimeout(function(){t._batchedNegotiation=!1,t._debug(\"starting batched negotiation\"),t.negotiate()},0))},u.prototype.negotiate=function(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug(\"already negotiating, queueing\")):(this._debug(\"start negotiation\"),this._createOffer()):(this._debug(\"requesting negotiation from initiator\"),this.emit(\"signal\",{renegotiate:!0})),this._isNegotiating=!0},u.prototype.destroy=function(t){this._destroy(t,function(){})},u.prototype._destroy=function(t,e){if(!this.destroyed){if(this._debug(\"destroy (error: %s)\",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this.connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener(\"finish\",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(t){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(t){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,\"addTrack\"in this._pc&&(this._pc.ontrack=null),this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit(\"error\",t),this.emit(\"close\"),e()}},u.prototype._setupData=function(t){var e=this;if(!t.channel)return e.destroy(c(\"Data channel event is missing `channel` property\",\"ERR_DATA_CHANNEL\"));e._channel=t.channel,e._channel.binaryType=\"arraybuffer\",\"number\"==typeof e._channel.bufferedAmountLowThreshold&&(e._channel.bufferedAmountLowThreshold=65536),e.channelName=e._channel.label,e._channel.onmessage=function(t){e._onChannelMessage(t)},e._channel.onbufferedamountlow=function(){e._onChannelBufferedAmountLow()},e._channel.onopen=function(){e._onChannelOpen()},e._channel.onclose=function(){e._onChannelClose()},e._channel.onerror=function(t){e.destroy(c(t,\"ERR_DATA_CHANNEL\"))}},u.prototype._read=function(){},u.prototype._write=function(t,e,r){if(this.destroyed)return r(c(\"cannot write after peer is destroyed\",\"ERR_DATA_CHANNEL\"));if(this.connected){try{this.send(t)}catch(t){return this.destroy(c(t,\"ERR_DATA_CHANNEL\"))}this._channel.bufferedAmount>65536?(this._debug(\"start backpressure: bufferedAmount %d\",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug(\"write before connect\"),this._chunk=t,this._cb=r},u.prototype._onFinish=function(){var t=this;function e(){setTimeout(function(){t.destroy()},1e3)}t.destroyed||(t.connected?e():t.once(\"connect\",e))},u.prototype._createOffer=function(){var t=this;t.destroyed||t._pc.createOffer(function(e){function r(){var r=t._pc.localDescription||e;t._debug(\"signal\"),t.emit(\"signal\",{type:r.type,sdp:r.sdp})}t.destroyed||(e.sdp=t.sdpTransform(e.sdp),t._pc.setLocalDescription(e,function(){if(t._debug(\"createOffer success\"),t.destroyed)return;t.trickle||t._iceComplete?r():t.once(\"_iceComplete\",r)},function(e){t.destroy(c(e,\"ERR_SET_LOCAL_DESCRIPTION\"))}))},function(e){t.destroy(c(e,\"ERR_CREATE_OFFER\"))},t.offerConstraints)},u.prototype._createAnswer=function(){var t=this;t.destroyed||t._pc.createAnswer(function(e){function r(){var r=t._pc.localDescription||e;t._debug(\"signal\"),t.emit(\"signal\",{type:r.type,sdp:r.sdp})}t.destroyed||(e.sdp=t.sdpTransform(e.sdp),t._pc.setLocalDescription(e,function(){if(t.destroyed)return;t.trickle||t._iceComplete?r():t.once(\"_iceComplete\",r)},function(e){t.destroy(c(e,\"ERR_SET_LOCAL_DESCRIPTION\"))}))},function(e){t.destroy(c(e,\"ERR_CREATE_ANSWER\"))},t.answerConstraints)},u.prototype._onIceStateChange=function(){if(!this.destroyed){var t=this._pc.iceConnectionState,e=this._pc.iceGatheringState;this._debug(\"iceStateChange (connection: %s) (gathering: %s)\",t,e),this.emit(\"iceStateChange\",t,e),\"connected\"!==t&&\"completed\"!==t||(this._pcReady=!0,this._maybeReady()),\"failed\"===t&&this.destroy(c(\"Ice connection failed.\",\"ERR_ICE_CONNECTION_FAILURE\")),\"closed\"===t&&this.destroy(new Error(\"Ice connection closed.\"))}},u.prototype.getStats=function(t){var e=this;0===e._pc.getStats.length?e._pc.getStats().then(function(e){var r=[];e.forEach(function(t){r.push(t)}),t(null,r)},function(e){t(e)}):e._isReactNativeWebrtc?e._pc.getStats(null,function(e){var r=[];e.forEach(function(t){r.push(t)}),t(null,r)},function(e){t(e)}):e._pc.getStats.length>0?e._pc.getStats(function(r){if(!e.destroyed){var n=[];r.result().forEach(function(t){var e={};t.names().forEach(function(r){e[r]=t.stat(r)}),e.id=t.id,e.type=t.type,e.timestamp=t.timestamp,n.push(e)}),t(null,n)}},function(e){t(e)}):t(null,[])},u.prototype._maybeReady=function(){var t=this;t._debug(\"maybeReady pc %s channel %s\",t._pcReady,t._channelReady),!t.connected&&!t._connecting&&t._pcReady&&t._channelReady&&(t._connecting=!0,function e(){t.destroyed||t.getStats(function(r,n){if(!t.destroyed){r&&(n=[]);var i={},o={},s={},a=!1;if(n.forEach(function(t){\"remotecandidate\"!==t.type&&\"remote-candidate\"!==t.type||(i[t.id]=t),\"localcandidate\"!==t.type&&\"local-candidate\"!==t.type||(o[t.id]=t),\"candidatepair\"!==t.type&&\"candidate-pair\"!==t.type||(s[t.id]=t)}),n.forEach(function(t){\"transport\"===t.type&&t.selectedCandidatePairId&&f(s[t.selectedCandidatePairId]),(\"googCandidatePair\"===t.type&&\"true\"===t.googActiveConnection||(\"candidatepair\"===t.type||\"candidate-pair\"===t.type)&&t.selected)&&f(t)}),a||Object.keys(s).length&&!Object.keys(o).length){if(t._connecting=!1,t.connected=!0,t._chunk){try{t.send(t._chunk)}catch(r){return t.destroy(c(r,\"ERR_DATA_CHANNEL\"))}t._chunk=null,t._debug('sent chunk from \"write before connect\"');var u=t._cb;t._cb=null,u(null)}\"number\"!=typeof t._channel.bufferedAmountLowThreshold&&(t._interval=setInterval(function(){t._onInterval()},150),t._interval.unref&&t._interval.unref()),t._debug(\"connect\"),t.emit(\"connect\")}else setTimeout(e,100)}function f(e){a=!0;var r=o[e.localCandidateId];r&&r.ip?(t.localAddress=r.ip,t.localPort=Number(r.port)):r&&r.ipAddress?(t.localAddress=r.ipAddress,t.localPort=Number(r.portNumber)):\"string\"==typeof e.googLocalAddress&&(r=e.googLocalAddress.split(\":\"),t.localAddress=r[0],t.localPort=Number(r[1]));var n=i[e.remoteCandidateId];n&&n.ip?(t.remoteAddress=n.ip,t.remotePort=Number(n.port)):n&&n.ipAddress?(t.remoteAddress=n.ipAddress,t.remotePort=Number(n.portNumber)):\"string\"==typeof e.googRemoteAddress&&(n=e.googRemoteAddress.split(\":\"),t.remoteAddress=n[0],t.remotePort=Number(n[1])),t.remoteFamily=\"IPv4\",t._debug(\"connect local: %s:%s remote: %s:%s\",t.localAddress,t.localPort,t.remoteAddress,t.remotePort)}})}())},u.prototype._onInterval=function(){!this._cb||!this._channel||this._channel.bufferedAmount>65536||this._onChannelBufferedAmountLow()},u.prototype._onSignalingStateChange=function(){var t=this;t.destroyed||(\"stable\"===t._pc.signalingState&&(t._isNegotiating=!1,t._debug(\"flushing sender queue\",t._sendersAwaitingStable),t._sendersAwaitingStable.forEach(function(e){t.removeTrack(e),t._queuedNegotiation=!0}),t._sendersAwaitingStable=[],t._queuedNegotiation&&(t._debug(\"flushing negotiation queue\"),t._queuedNegotiation=!1,t._needsNegotiation()),t._debug(\"negotiate\"),t.emit(\"negotiate\")),t._debug(\"signalingStateChange %s\",t._pc.signalingState),t.emit(\"signalingStateChange\",t._pc.signalingState))},u.prototype._onIceCandidate=function(t){this.destroyed||(t.candidate&&this.trickle?this.emit(\"signal\",{candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):t.candidate||(this._iceComplete=!0,this.emit(\"_iceComplete\")))},u.prototype._onChannelMessage=function(t){if(!this.destroyed){var r=t.data;r instanceof ArrayBuffer&&(r=e.from(r)),this.push(r)}},u.prototype._onChannelBufferedAmountLow=function(){if(!this.destroyed&&this._cb){this._debug(\"ending backpressure: bufferedAmount %d\",this._channel.bufferedAmount);var t=this._cb;this._cb=null,t(null)}},u.prototype._onChannelOpen=function(){this.connected||this.destroyed||(this._debug(\"on channel open\"),this._channelReady=!0,this._maybeReady())},u.prototype._onChannelClose=function(){this.destroyed||(this._debug(\"on channel close\"),this.destroy())},u.prototype._onTrack=function(t){var e=this;e.destroyed||t.streams.forEach(function(r){e._debug(\"on track\"),e.emit(\"track\",t.track,r),e._remoteTracks.push({track:t.track,stream:r}),e._remoteStreams.some(function(t){return t.id===r.id})||(e._remoteStreams.push(r),setTimeout(function(){e.emit(\"stream\",r)},0))})},u.prototype._debug=function(){var t=[].slice.call(arguments);t[0]=\"[\"+this._id+\"] \"+t[0],n.apply(null,t)},u.prototype._transformConstraints=function(t){if(0===Object.keys(t).length)return t;if((t.mandatory||t.optional)&&!this._isChromium){var e=Object.assign({},t.optional,t.mandatory);return void 0!==e.OfferToReceiveVideo&&(e.offerToReceiveVideo=e.OfferToReceiveVideo,delete e.OfferToReceiveVideo),void 0!==e.OfferToReceiveAudio&&(e.offerToReceiveAudio=e.OfferToReceiveAudio,delete e.OfferToReceiveAudio),e}return t.mandatory||t.optional||!this._isChromium?t:(void 0!==t.offerToReceiveVideo&&(t.OfferToReceiveVideo=t.offerToReceiveVideo,delete t.offerToReceiveVideo),void 0!==t.offerToReceiveAudio&&(t.OfferToReceiveAudio=t.offerToReceiveAudio,delete t.offerToReceiveAudio),{mandatory:t})}}).call(this,r(0).Buffer)},function(t,e){t.exports=function(){if(\"undefined\"==typeof window)return null;var t={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null}},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(1330),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(593),i=r(1332),o=r(1334);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(602),e.pbkdf2=r(1353)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1333),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(316)),o=r(14);e=t.exports;const s={rsa:r(1335),ed25519:r(1348),secp256k1:r(62)(i,r(602))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1350),e.generateEphemeralKeyPair=r(1351),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(594),i=r(11),o=r(8),s=r(596),a=i(r(316)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(595),s=r(1337),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1338),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(595).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(126),i=r(601),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(126),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(162).Reporter,i=r(162).EncoderBuffer,o=r(162).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(598);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(599),n.pem=r(1345)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(599);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(600),n.pem=r(1347)},function(t,e,r){\"use strict\";const n=r(1),i=r(600);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(594),i=r(11),o=r(8),s=r(1349),a=i(r(316));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(593),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1352);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(315)(),i=r(314),o=r(126).bignum,s=r(601),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e){t.exports=function t(e,r){if(e&&r)return t(e)(r);if(\"function\"!=typeof e)throw new TypeError(\"need wrapper function\");Object.keys(e).forEach(function(t){n[t]=e[t]});return n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return\"function\"==typeof n&&n!==i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),n}}},function(t,e){var r,n;self.mozRTCPeerConnection||navigator.mozGetUserMedia?(r=\"moz\",n=parseInt(navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)[1],10)):(self.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(r=\"webkit\",n=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./)[2],10));var i=self.RTCPeerConnection||self.mozRTCPeerConnection||self.webkitRTCPeerConnection,o=self.mozRTCIceCandidate||self.RTCIceCandidate,s=self.mozRTCSessionDescription||self.RTCSessionDescription,a=self.webkitMediaStream||self.MediaStream,u=\"https:\"===self.location.protocol&&(\"webkit\"===r&&n>=26||\"moz\"===r&&n>=33),c=self.AudioContext||self.webkitAudioContext,f=self.document&&document.createElement(\"video\"),h=f&&f.canPlayType&&\"probably\"===f.canPlayType('video/webm; codecs=\"vp8\", vorbis'),l=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;t.exports={prefix:r,browserVersion:n,support:!!i&&!!l,supportRTCPeerConnection:!!i,supportVp8:h,supportGetUserMedia:!!l,supportDataChannel:!!(i&&i.prototype&&i.prototype.createDataChannel),supportWebAudio:!(!c||!c.prototype.createMediaStreamSource),supportMediaStream:!(!a||!a.prototype.removeTrack),supportScreenSharing:!!u,AudioContext:c,PeerConnection:i,SessionDescription:s,IceCandidate:o,MediaStream:a,getUserMedia:l}},function(t,e,r){\"use strict\";const n=r(63);(e=t.exports).cleanUrlSIO=function(t){const e=t.toString().split(\"/\"),r=t.protos()[1].name,i=t.protos()[2].name,o=t.stringTuples()[1][1];if(\"tcp\"!==r||\"ws\"!==i&&\"wss\"!==i)throw new Error(\"invalid multiaddr: \"+t.toString());return n.isName(t)?\"ws\"===i?\"http://\"+e[2]+(80===o?\"\":\":\"+o):\"wss\"===i?\"https://\"+e[2]+(443===o?\"\":\":\"+o):void 0:\"http://\"+e[2]+\":\"+e[4]},e.cleanMultiaddr=function(t){const e=\"/libp2p-webrtc-star\";if(-1!==t.indexOf(e)){t=t.substring(e.length,t.length);let r=n(t);const i=r.stringTuples().filter(t=>421===t[0])[0];t=(r=(r=(r=r.decapsulate(\"ipfs\")).encapsulate(\"/p2p-webrtc-star\")).encapsulate(`/ipfs/${i[1]}`)).toString()}return t}},function(t,e,r){\"use strict\";const n=r(6)(\"libp2p:websocket-star\"),i=r(63),o=r(19).EventEmitter,s=r(604),a=r(54),u=r(49).Connection,c=r(2),f=r(615),h=r(1382),l=f.cleanUrlSIO,p=r(84),d=r(64);t.exports=d(class{constructor(t){t=t||{},this.id=t.id,this.flag=t.allowJoinWithDisabledChallenge,this.discovery=new o,this.discovery.tag=\"websocketStar\",this.discovery.start=(t=>{c(t)}),this.discovery.stop=(t=>{c(t)}),this.listeners_list={},this._peerDiscovered=this._peerDiscovered.bind(this)}lazySetId(t){t&&(this.id=t,this.canCrypto=!0)}dial(t,e,r){let n;\"function\"==typeof e&&(r=e,e={});try{n=l(t)}catch(t){return r(t)}const i=this.listeners_list[n];return i?i.dial(t,e,r):(r(new Error(\"No listener for this server\")),new u)}createListener(t,e){\"function\"==typeof t&&(e=t,t={});const r=new h({id:this.id,handler:e,listeners:this.listeners_list,flag:this.flag});return r.on(\"peer\",this._peerDiscovered),r}filter(t){return Array.isArray(t)||(t=[t]),t.filter(t=>p.WebSocketStar.matches(t))}_peerDiscovered(t){n(\"Peer Discovered:\",t);const e=t.split(\"/ipfs/\").pop(),r=s.createFromB58String(e),o=new a(r);o.multiaddrs.add(i(t)),this.discovery.emit(\"peer\",o)}},{className:\"WebsocketStar\",symbolName:\"@libp2p/js-libp2p-websocket-star/websocketstar\"})},function(t,e,r){\"use strict\";const n=r(605),i=r(1360),o=r(1362);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(614),e.pbkdf2=r(1381)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1361),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(319)),o=r(14);e=t.exports;const s={rsa:r(1363),ed25519:r(1376),secp256k1:r(62)(i,r(614))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1378),e.generateEphemeralKeyPair=r(1379),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(606),i=r(11),o=r(8),s=r(608),a=i(r(319)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(607),s=r(1365),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1366),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(607).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(127),i=r(613),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(127),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(163).Reporter,i=r(163).EncoderBuffer,o=r(163).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(610);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(611),n.pem=r(1373)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(611);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(612),n.pem=r(1375)},function(t,e,r){\"use strict\";const n=r(1),i=r(612);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(606),i=r(11),o=r(8),s=r(1377),a=i(r(319));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(605),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1380);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(318)(),i=r(317),o=r(127).bignum,s=r(613),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";(function(e){const n=r(6)(\"libp2p:websocket-star:listener\"),i=r(63),o=r(581),s=r(1383),a=r(616),u=r(52),c=r(19).EventEmitter,f=r(49).Connection,h=r(72),l=r(2),p=r(615),d=p.cleanUrlSIO,y=r(117),m=h(()=>{}),g={transports:[\"websocket\"],\"force new connection\":!0};t.exports=class extends c{constructor(t){super(),this.id=t.id,this.log=n.bind(n,\"listener#offline\"),this.canCrypto=Boolean(t.id),this._handler=t.handler||m,this.listeners_list=t.listeners||{},this.flag=t.flag}_up(t){if(t=t?h(t):m,this.io)return t();this.log=n.bind(n,\"listener#\"+this.server),this.log(\"dialing to signalling server\");const e=this.io=o.connect(this.server,g);s(e,{codec:\"buffer\"}),e.once(\"error\",t),e.once(\"connect_error\",t),e.once(\"connect\",t);const r=new p.Protocol(this.log);r.addRequest(\"ws-peer\",[\"multiaddr\"],(t,e)=>this.emit(\"peer\",e)),r.addRequest(\"ss-incomming\",[\"string\",\"multiaddr\",\"function\"],this._incommingDial.bind(this)),r.handleSocket(e)}_down(){this.io&&(this.io.disconnect(),this.emit(\"close\"),delete this.io)}_cryptoChallenge(t){if(!this.io)return t(new Error(\"Not connected\"));const r=this.canCrypto?y.keys.marshalPublicKey(this.id.pubKey).toString(\"hex\"):\"\",n=this.ma.toString();this.io.emit(\"ss-join\",n,r,(r,n)=>{if(r)return t(r);if(n){if(!this.canCrypto)return this._down(),t(new Error(\"Can't sign cryptoChallenge: No id provided\"));this.log(\"performing cryptoChallenge\"),this.id.privKey.sign(e.from(n),(e,r)=>{if(e)return t(e);this.signature=r.toString(\"hex\"),this._join(t)})}else{if(!this.flag)return this._down(),t(new Error('Tried to listen on a server with crypto challenge disabled!\\n    This is prohibited by default and can lead to security issues!\\n    Please set \"allowJoinWithDisabledChallenge\" to true in the constructor options (but only if you know what you are doing)!'));this.signature=\"_\",t()}})}_crypto(t){if(t=t?h(t):m,this.log(\"joining\"),!this.io)return t(new Error(\"Not connected\"));this.signature?this._join((e,r)=>{if(r)return this.cryptoChallenge(t);t(e)}):this._cryptoChallenge(t)}_join(t){this.io.emit(\"ss-join\",this.ma.toString(),this.signature,t)}_incommingDial(t,e,r,n){this.log(\"dial#\"+e+\" incomming from\",r);const o=i(r),s=this.io.createSource(e+\".dialer\"),a=this.io.createSink(e+\".listener\");n();const u=new f({sink:a,source:s},{getObservedAddrs:t=>t(null,[o])});this.emit(\"connection\",u),this._handler(u)}listen(t,e){this.ma=t,this.server=d(t),this.listeners_list[this.server]=this,e=e?h(e):m,u([t=>this._up(t),t=>this._crypto(t)],t=>{if(t)return this.log(\"error\",t),t instanceof Error||(t=new Error(t)),this._down(),this.emit(\"error\",t),this.emit(\"close\"),e(t);this.log(\"success\"),this.io.on(\"reconnect\",()=>{this.signature=null,this._crypto(t=>{t?(this.log(\"reconnect error\",t),this.emit(\"error\",t)):this.log(\"reconnected\")})}),this.emit(\"listening\"),e()})}getAddrs(t){l(()=>t(null,this.ma?[this.ma]:[]))}close(t){t=t?h(t):m,this._down(),t()}dial(t,e,r){\"function\"==typeof e&&(r=e,e={});const o=i(t),s=new f(null),u=a(),c=this.log.bind(n,\"dial#\"+u);r=r?h(r):m;let l=this.io;if(!l)return r(new Error(\"Not listening\"));const p=l.createSink(u+\".dialer\");return c(\"dialing\",t.toString()),l.emit(\"ss-dial\",this.ma.toString(),t.toString(),u,t=>{if(t)return r(t instanceof Error?t:new Error(t));c(t?\"error: \"+t.toString():\"success\");const e=l.createSource(u+\".listener\");s.setInnerConn({sink:p,source:e},{getObservedAddrs:t=>t(null,[o])}),r(null,s)}),s}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(1384),i=r(616),o=r(9),s=(t,e)=>\"socket.io-pull-stream.\"+t+(e?\".\"+e:\"\"),a=r(6)(\"socket.io-pull-stream\");function u(t,e){if(null==e)return e;try{return t(e)}catch(t){return console.error(\"Codec Error\"),console.error(t),!1}}const c={hex:{encode:t=>t.toString(\"hex\"),decode:t=>e.from(t,\"hex\")},plain:{encode:t=>t,decode:t=>t},buffer:{encode:t=>e.from(t),decode:t=>e.from(t)}};function f(t){if(t||(t=\"plain\"),\"object\"==typeof t)return t;const e=c[t];if(!e)throw new Error(\"Invalid codec \"+t);return e}t.exports=function(t,e){t.createSink||(t.sioplog=t.id?a.bind(a,\"[\"+t.id+\"]\"):a,t.createSink=((r,o)=>{r||(r=i());const a=function(t,e,r){const i=n(),o=t.sioplog.bind(t.sioplog,\"  sink(\"+e+\")\"),a=f(r.codec).encode;let c;function h(t){i.append({err:t}),c=t}return o(\"create sink\"),t.once(s(\"accept\",e),()=>{o(\"start transmission\"),function r(){i.get((n,c)=>{let{data:f,err:h}=c||{};if(n&&(h=n),o(\"send\",h&&!0===h?\"finish\":h?\"error\":f?\"data\":\"<invalid>\"),h&&!n&&i.error(h),h)return t.emit(s(\"error\",e),h);f&&t.emit(s(\"queue\",e),u(a,f)),r()})}()}),t.once(\"disconnect\",()=>h(!0)),function(t){t(null,function e(r,n){return r?h(r):c?t(c,e):(i.append({data:n}),void t(null,e))})}}(t,r,e||o);return a.id=r,a}),t.createSource=((r,i)=>{const o=function(t,e,r){const i=n(),o=t.sioplog.bind(t.sioplog,\"source(\"+e+\")\"),a=f(r.codec).decode;function c(){t.removeAllListeners(s(\"error\",e)),t.removeAllListeners(s(\"queue\",e))}return o(\"create source\"),t.emit(s(\"accept\",e)),t.on(s(\"error\",e),t=>{o(!0===t?\"finish\":\"error\"),c(),i.append({end:t})}),t.on(s(\"queue\",e),t=>{o(\"queue data\"),i.append({data:u(a,t)})}),t.once(\"disconnect\",()=>{c(),i.append({end:!0})}),function(t,e){if(o(\"reading\"),t)return e(t);i.get((t,r)=>t?e(t):r.end?(i.error(r.end),e(r.end)):e(null,r.data))}}(t,r,e||i);return o.id=r,o}),t.createProxy=((e,r,n)=>{o(t.createSource(e,n),r.createSink(e,n))}))}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(19).EventEmitter;t.exports=function(){const t=new n;let e,r=[];function i(){t.removeAllListeners(\"err\"),t.removeAllListeners(\"data\")}return{append:n=>{if(e)return e;r.push(n),t.emit(\"data\")},prepend:t=>{if(e)return e;r.unshift(t)},error:r=>{e=r,t.emit(\"err\",r)},get:n=>(i(),e?n(e):r.length?n(null,r.shift()):(t.once(\"err\",t=>{i(),n(t)}),void t.once(\"data\",()=>(i(),n(null,r.shift()))))),height:()=>r.length}}},function(t,e,r){var n,i,o=r(441),s=r(442),a=0,u=0;t.exports=function(t,e,r){var c=e&&r||0,f=e||[],h=(t=t||{}).node||n,l=void 0!==t.clockseq?t.clockseq:i;if(null==h||null==l){var p=o();null==h&&(h=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==l&&(l=i=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:u+1,m=d-a+(y-u)/1e4;if(m<0&&void 0===t.clockseq&&(l=l+1&16383),(m<0||d>a)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");a=d,u=y,i=l;var g=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;f[c++]=g>>>24&255,f[c++]=g>>>16&255,f[c++]=g>>>8&255,f[c++]=255&g;var b=d/4294967296*1e4&268435455;f[c++]=b>>>8&255,f[c++]=255&b,f[c++]=b>>>24&15|16,f[c++]=b>>>16&255,f[c++]=l>>>8|128,f[c++]=255&l;for(var v=0;v<6;++v)f[c+v]=h[v];return e||s(f)}},function(t,e,r){\"use strict\";const n=r(164),i=r(1387),o=r(618),s=r(1391),a=r(1393);function u(t,e){const r=n(t);r.on(\"end\",()=>r.destroy());const o=new i({halfOpen:!0,initiator:!e});return a(r,o,r),new s(t,o)}(e=t.exports=u).multicodec=o,e.dialer=(t=>u(t,!1)),e.listener=(t=>u(t,!0))},function(t,e,r){\"use strict\";(function(e){const n=r(58),i=r(20),o=r(1388),s=r(6),a=r(1390),u=e.from([0]),c=e.alloc(0);let f=e.alloc(10240),h=0;t.exports=class extends n.Duplex{constructor(t,r){super(),\"function\"==typeof t&&(r=t,t={}),t||(t={}),r&&this.on(\"stream\",r),this.destroyed=!1,this.limit=t.limit||0,null==t.initiator&&(t.initiator=!0),this.initiator=t.initiator,this._corked=0,this._options=t,this._binaryName=Boolean(t.binaryName),this._local=[],this._remote=[],this._list=this._local,this._receiving=null,this._chunked=!1,this._state=0,this._type=0,this._channel=0,this._missing=0,this._message=null,this.log=s(\"mplex:main:\"+Math.floor(1e5*Math.random())),this.log(\"construction\");let n=100;this.limit&&(n=i.encodingLength(this.limit)),this._buf=e.alloc(n),this._ptr=0,this._awaitChannelDrains=0,this._onwritedrain=null,this._ondrain=[],this._finished=!1,this.once(\"finish\",this._clear),this._nextId=this.initiator?0:1}_nextStreamId(){let t=this._nextId;return this._nextId+=2,t}createStream(t,e){if(this.destroyed)throw new Error(\"Multiplexer is destroyed\");const r=this._nextStreamId();let n=this._name(t||r.toString());const i=Object.assign(this._options,e);this.log(\"createStream: %s\",r,n.toString(),i);const o=new a(n,this,i);return this._addChannel(o,r,this._local)}receiveStream(t,e){if(this.destroyed)throw new Error(\"Multiplexer is destroyed\");if(void 0===t||null===t)throw new Error(\"Name is needed when receiving a stream\");const r=this._name(t);this.log(\"receiveStream: \"+r.toString());const n=new a(r,this,Object.assign(this._options,e));if(this._receiving||(this._receiving={}),this._receiving[n.name])throw new Error(\"You are already receiving this stream\");return this._receiving[n.name]=n,n}createSharedStream(t,e){return this.log(\"createSharedStream\"),o(this.createStream(t,Object.assign(e,{lazy:!0})),this.receiveStream(t,e))}_name(t){return this._binaryName?e.isBuffer(t)?t:e.from(t):t.toString()}_send(t,r){const n=r?r.length:0,o=h;let s=!0;return this.log(\"_send\",t,n),i.encode(t,f,h),h+=i.encode.bytes,i.encode(n,f,h),h+=i.encode.bytes,s=this.push(f.slice(o,h)),f.length-h<100&&(f=e.alloc(10240),h=0),r&&(s=this.push(r)),s}_addChannel(t,e,r){return this.log(\"_addChannel\",e),r[e]=t,t.on(\"finalize\",()=>{this.log(\"_remove channel\",e),r[e]=null}),t.open(e,r===this._local),t}_writeVarint(t,e){for(;e<t.length;e++){if(this._ptr===this._buf.length)return this._lengthError(t);if(this._buf[this._ptr++]=t[e],!(128&t[e])){if(0===this._state){const t=i.decode(this._buf);this._type=7&t,this._channel=t>>3,this._list=1&this._type?this._local:this._remote;const e=this._list.length>this._channel&&this._list[this._channel]&&this._list[this._channel].chunked;this._chunked=Boolean(1===this._type||2===this._type)&&e}else if(this._missing=i.decode(this._buf),this.limit&&this._missing>this.limit)return this._lengthError(t);return this._state++,this._ptr=0,e+1}}return t.length}_lengthError(t){return this.destroy(new Error(\"Incoming message is too big\")),t.length}_writeMessage(t,r){const n=t.length-r,i=this._missing;if(!this._message){if(i<=n)return this._missing=0,this._push(t.slice(r,r+i)),r+i;if(this._chunked)return this._missing-=n,this._push(t.slice(r,t.length)),t.length;this._message=e.alloc(i)}return t.copy(this._message,this._ptr,r,r+i),i<=n?(this._missing=0,this._push(this._message),r+i):(this._missing-=n,this._ptr+=n,t.length)}_push(t){if(this.log(\"_push\",t.length),this._missing||(this._ptr=0,this._state=0,this._message=null),0===this._type){if(this.log(\"open\",this._channel),this.destroyed||this._finished)return;let e,r;return e=this._binaryName?t:t.toString()||this._channel.toString(),this.log(\"open name\",e),void(this._receiving&&this._receiving[e]?(r=this._receiving[e],delete this._receiving[e],this._addChannel(r,this._channel,this._list)):(r=new a(e,this,this._options),this.emit(\"stream\",this._addChannel(r,this._channel,this._list),r.name)))}const e=this._list[this._channel];if(e)switch(this._type){case 5:case 6:{const r=new Error(t.toString()||\"Channel destroyed\");return void e._destroy(r,!1)}case 3:case 4:return void e.push(null);case 1:case 2:e.push(t)||(this._awaitChannelDrains++,e._awaitDrain++)}}_onchanneldrain(t){if(this._awaitChannelDrains-=t,this._awaitChannelDrains)return;const e=this._onwritedrain;this._onwritedrain=null,e&&e()}_write(t,e,r){if(this.log(\"_write\",t.length),this._finished)return void r();if(this._corked)return void this._onuncork(this._write.bind(this,t,e,r));if(t===u)return void this._finish(r);let n=0;for(;n<t.length;)n=2===this._state?this._writeMessage(t,n):this._writeVarint(t,n);2!==this._state||this._missing||this._push(c),this._awaitChannelDrains?this._onwritedrain=r:r()}_finish(t){this._onuncork(()=>{!1===this._writableState.prefinished&&(this._writableState.prefinished=!0),this.emit(\"prefinish\"),this._onuncork(t)})}cork(){1==++this._corked&&this.emit(\"cork\")}uncork(){this._corked&&0==--this._corked&&this.emit(\"uncork\")}end(t,e,r){return this.log(\"end\"),\"function\"==typeof t&&(r=t,t=void 0),\"function\"==typeof e&&(r=e,e=void 0),t&&this.write(t),this._writableState.ending||this.write(u),n.Writable.prototype.end.call(this,r)}_onuncork(t){this._corked?this.once(\"uncork\",t):t()}_read(){for(;this._ondrain.length;)this._ondrain.shift()()}_clear(){if(this.log(\"_clear\"),this._finished)return;this._finished=!0;const t=this._local.concat(this._remote);this._local=[],this._remote=[],t.forEach(function(t){t&&t._destroy(null,!1)}),this.push(null)}finalize(){this._clear()}destroy(t){if(this.log(\"destroy\"),this.destroyed)this.log(\"already destroyed\");else{var e=this._local.concat(this._remote);this.destroyed=!0,t&&this.emit(\"error\",t),this.emit(\"close\"),e.forEach(function(e){e&&e.emit(\"error\",t||new Error(\"underlying socket has been closed\"))}),this._clear()}}}}).call(this,r(0).Buffer)},function(t,e,r){(function(e,n){var i=r(58),o=r(617),s=r(1),a=r(1389),u=e.from&&e.from!==Uint8Array.from?e.from([0]):new e([0]),c=function(t,e){t._corked?t.once(\"uncork\",e):e()},f=function(t,e){return function(r){r?function(t,e){t._autoDestroy&&t.destroy(e)}(t,\"premature close\"===r.message?null:r):e&&!t._ended&&t.end()}},h=function(t,e,r){if(!(this instanceof h))return new h(t,e,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};s(h,i.Duplex),h.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new h(t,e,r)},h.prototype.cork=function(){1==++this._corked&&this.emit(\"cork\")},h.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit(\"uncork\")},h.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var e=this,r=o(t,{writable:!0,readable:!1},f(this,this._forwardEnd)),i=function(){var t=e._ondrain;e._ondrain=null,t&&t()};this._unwrite&&n.nextTick(i),this._writable=t,this._writable.on(\"drain\",i),this._unwrite=function(){e._writable.removeListener(\"drain\",i),r()},this.uncork()}else this.end()},h.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var e=this,r=o(t,{writable:!1,readable:!0},f(this)),n=function(){e._forward()},s=function(){e.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:function(t){return new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)}(t),this._readable2.on(\"readable\",n),this._readable2.on(\"end\",s),this._unread=function(){e._readable2.removeListener(\"readable\",n),e._readable2.removeListener(\"end\",s),r()},this._forward()}},h.prototype._read=function(){this._drained=!0,this._forward()},h.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;for(this._forwarding=!0;this._drained&&null!==(t=a(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},h.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var e=this;n.nextTick(function(){e._destroy(t)})}},h.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit(\"error\",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit(\"close\")},h.prototype._write=function(t,e,r){return this.destroyed?r():this._corked?c(this,this._write.bind(this,t,e,r)):t===u?this._finish(r):this._writable?void(!1===this._writable.write(t)?this._ondrain=r:r()):r()},h.prototype._finish=function(t){var e=this;this.emit(\"preend\"),c(this,function(){!function(t,e){t?t._writableState&&t._writableState.finished?e():t._writableState?t.end(e):(t.end(),e()):e()}(e._forwardEnd&&e._writable,function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit(\"prefinish\"),c(e,t)})})},h.prototype.end=function(t,e,r){return\"function\"==typeof t?this.end(null,null,t):\"function\"==typeof e?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this.write(u),i.Writable.prototype.end.call(this,r))},t.exports=h}).call(this,r(0).Buffer,r(7))},function(t,e){t.exports=function(t){var e=t._readableState;return e?e.objectMode?t.read():t.read(function(t){return t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length}(e)):null}},function(t,e,r){\"use strict\";(function(e){const n=r(58),i=r(6);t.exports=class extends n.Duplex{constructor(t,e,r){const n=Boolean(r.halfOpen);super({allowHalfOpen:n}),this.name=t,this.log=i(\"mplex:channel:\"+this.name.toString()),this.channel=0,this.initiator=!1,this.chunked=Boolean(r.chunked),this.halfOpen=n,this.destroyed=!1,this.finalized=!1,this._multiplex=e,this._dataHeader=0,this._opened=!1,this._awaitDrain=0,this._lazy=Boolean(r.lazy);let o=!1,s=!1;this.log(\"open, halfOpen: \"+this.halfOpen),this.once(\"end\",()=>{this.log(\"end\"),this._read(),this.destroyed||(s=!0,o?this._finalize():this.halfOpen||this.end())}),this.once(\"finish\",function t(){if(!this.destroyed){if(!this._opened)return this.once(\"open\",t);this._lazy&&this.initiator&&this._open(),this._multiplex._send(this.channel<<3|(this.initiator?4:3),null),o=!0,s&&this._finalize()}})}destroy(t){this._destroy(t,!0)}_destroy(t,r){if(this.log(\"_destroy:\"+(r?\"local\":\"remote\")),this.destroyed)return void this.log(\"already destroyed\");this.destroyed=!0;const n=this.listenerCount(\"error\")>0;if(!t||r&&!n||this.emit(\"error\",t),this.emit(\"close\"),r&&this._opened){this._lazy&&this.initiator&&this._open();const r=t?e.from(t.message):null;try{this._multiplex._send(this.channel<<3|(this.initiator?6:5),r)}catch(t){}}this._finalize()}_finalize(){this.finalized||(this.finalized=!0,this.emit(\"finalize\"))}_write(t,e,r){this.log(\"write: \",t.length),this._opened?this.destroyed?r():(this._lazy&&this.initiator&&this._open(),this._multiplex._send(this._dataHeader,t)?r():this._multiplex._ondrain.push(r)):this.once(\"open\",()=>{this._write(t,e,r)})}_read(){if(this._awaitDrain){const t=this._awaitDrain;this._awaitDrain=0,this._multiplex._onchanneldrain(t)}}_open(){let t=null;e.isBuffer(this.name)?t=this.name:this.name!==this.channel.toString()&&(t=e.from(this.name)),this._lazy=!1,this._multiplex._send(this.channel<<3|0,t)}open(t,e){this.log(\"open: \"+t),this.channel=t,this.initiator=e,this._dataHeader=t<<3|(e?2:1),this._opened=!0,!this._lazy&&this.initiator&&this._open(),this.emit(\"open\")}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(19).EventEmitter,i=r(49).Connection,o=r(221),s=r(9),a=r(1392),u=r(2),c=r(618);function f(){}function h(t){return{source:s(t.source,a(t=>{if(\"Channel destroyed\"!==t.message)return!1})),sink:t.sink}}t.exports=class extends n{constructor(t,e){super(),this.multiplex=e,this.conn=t,this.multicodec=c,e.on(\"close\",()=>this.emit(\"close\")),e.on(\"error\",t=>this.emit(\"error\",t)),e.on(\"stream\",(t,e)=>{const r=new i(h(o.duplex(t)),this.conn);this.emit(\"stream\",r)})}newStream(t){let e;t=t||f;try{e=this.multiplex.createStream()}catch(e){return u(()=>t(e))}const r=new i(h(o.duplex(e)),this.conn);return u(()=>t(null,r)),r}end(t){t=t||f,this.multiplex.once(\"close\",t),this.multiplex.destroy()}}},function(t,e){t.exports=function(t){var e;return t=t||function(){},function(r){return function(n,i){r(n,function(r,n){if(e)return i(!0);if(r&&!0!==r){var o=t(r);return!1===o?i(r):o&&!0!==o?(e=!0,i(null,o)):i(!0)}i(r,n)})}}}},function(t,e,r){(function(e){var n=r(72),i=r(617),o=r(1394),s=function(){},a=/^v?\\.0/.test(e.version),u=function(t){return\"function\"==typeof t},c=function(t,e,r,c){c=n(c);var f=!1;t.on(\"close\",function(){f=!0}),i(t,{readable:e,writable:r},function(t){if(t)return c(t);f=!0,c()});var h=!1;return function(e){if(!f&&!h)return h=!0,function(t){return!!a&&!!o&&(t instanceof(o.ReadStream||s)||t instanceof(o.WriteStream||s))&&u(t.close)}(t)?t.close(s):function(t){return t.setHeader&&u(t.abort)}(t)?t.abort():u(t.destroy)?t.destroy():void c(e||new Error(\"stream was destroyed\"))}},f=function(t){t()},h=function(t,e){return t.pipe(e)};t.exports=function(){var t,e=Array.prototype.slice.call(arguments),r=u(e[e.length-1]||s)&&e.pop()||s;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error(\"pump requires two streams per minimum\");var n=e.map(function(i,o){var s=o<e.length-1;return c(i,s,o>0,function(e){t||(t=e),e&&n.forEach(f),s||(n.forEach(f),r(t))})});return e.reduce(h)}}).call(this,r(7))},function(t,e){},function(t,e,r){\"use strict\";const n=r(9),i=r(49).Connection,o=r(15),s=r(54),a=r(6),u=r(72),c=a(\"libp2p:secio\");c.error=a(\"libp2p:secio:error\");const f=r(1396),h=r(1426);t.exports={tag:\"/secio/1.0.0\",encrypt(t,e,r,a){o(t,\"no local private key provided\"),o(e,\"no connection for the handshake  provided\"),\"function\"==typeof r&&(a=r,r=void 0),a=u(a||function(t){t&&c.error(t)});const l=new h(t,r,3e5,a);const p=new i(void 0,e);return n(e,f(l,function(t){if(t)return a(t);e.getPeerInfo((t,r)=>{p.setInnerConn(new i(l.secure,e)),t&&p.setPeerInfo(new s(l.id.remote)),a()})}),e),p}}},function(t,e,r){\"use strict\";const n=r(52),i=r(1397),o=r(1423),s=r(1424);t.exports=function(t,e){return n([e=>i(t,e),e=>o(t,e),e=>s(t,e)],r=>{t.cleanSecrets(),r&&(!0===r&&(r=new Error(\"Stream ended prematurely\")),t.shake.abort(r)),e(r)}),t.stream}},function(t,e,r){\"use strict\";const n=r(6),i=r(4),o=r(320),s=r(326),a=n(\"libp2p:secio\");a.error=n(\"libp2p:secio:error\"),t.exports=function(t,e){a(\"1. propose - start\"),a(\"1. propose - writing proposal\"),o.write(t,s.createProposal(t)),i([e=>o.read(t.shake,e),(e,r)=>{a(\"1. propose - reading proposal\",e),s.identify(t,e,r)},e=>s.selectProtocols(t,e)],t=>{if(t)return e(t);a(\"1. propose - finish\"),e()})}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(619),s=r(1399),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1400),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(619).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1403),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(325)),o=r(14);e=t.exports;const s={rsa:r(1405),ed25519:r(1415),secp256k1:r(62)(i,r(627))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1417),e.generateEphemeralKeyPair=r(1418),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(321),i=r(11),o=r(8),s=r(621),a=i(r(325)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";const n=r(128),i=r(626),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(128),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(165).Reporter,i=r(165).EncoderBuffer,o=r(165).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(623);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(624),n.pem=r(1412)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(624);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(625),n.pem=r(1414)},function(t,e,r){\"use strict\";const n=r(1),i=r(625);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(321),i=r(11),o=r(8),s=r(1416),a=i(r(325));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(620),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1419);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(324)(),i=r(323),o=r(128).bignum,s=r(626),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(322),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";t.exports=\"message Propose {\\n  optional bytes rand = 1;\\n  optional bytes pubkey = 2;\\n  optional string exchanges = 3;\\n  optional string ciphers = 4;\\n  optional string hashes = 5;\\n}\\n\\nmessage Exchange {\\n  optional bytes epubkey = 1;\\n  optional bytes signature = 2;\\n}\"},function(t,e,r){\"use strict\";const n=r(6),i=r(4),o=r(320),s=r(326),a=n(\"libp2p:secio\");a.error=n(\"libp2p:secio:error\"),t.exports=function(t,e){a(\"2. exchange - start\"),a(\"2. exchange - writing exchange\"),i([e=>s.createExchange(t,e),(e,r)=>{o.write(t,e),o.read(t.shake,r)},(e,r)=>{a(\"2. exchange - reading exchange\"),s.verify(t,e,r)},e=>s.generateKeys(t,e)],t=>{if(t)return e(t);a(\"2. exchange - finish\"),e()})}},function(t,e,r){\"use strict\";const n=r(9),i=r(108),o=r(6),s=o(\"libp2p:secio\");s.error=o(\"libp2p:secio:error\");const a=r(1425),u=r(326);t.exports=function(t,e){s(\"3. finish - start\");const r=t.protocols,o=t.shake.rest(),c=i({timeout:t.timeout},t=>{if(t)throw t});n(o,a.createUnboxStream(r.remote.cipher,r.remote.mac),c,a.createBoxStream(r.local.cipher,r.local.mac),o),c.handshake.write(t.proposal.in.rand),c.handshake.read(t.proposal.in.rand.length,(r,i)=>{const o=r=>{s.error(r),t.secure.resolve({source:n.error(r),sink(t){}}),e(r)};if(r)return o(r);try{u.verifyNonce(t,i)}catch(r){return o(r)}s(\"3. finish - finish\"),t.secure.resolve(c.handshake.rest()),e()})}},function(t,e,r){\"use strict\";(function(t){const n=r(9),i=r(55),o={fixed:!0,bytes:4};function s(){return n.map(e=>\"string\"==typeof e?t.from(e,\"utf-8\"):e)}e.createBoxStream=((e,r)=>n(s(),n.asyncMap((n,i)=>{e.encrypt(n,(e,n)=>{if(e)return i(e);r.digest(n,(e,r)=>{if(e)return i(e);i(null,t.concat([n,r]))})})}),i.encode(o))),e.createUnboxStream=((t,e)=>n(s(),i.decode(o),n.asyncMap((r,n)=>{const i=r.length,o=e.length;if(i<o)return n(new Error(`buffer (${i}) shorter than MAC size (${o})`));const s=i-o,a=r.slice(0,s),u=r.slice(s);e.digest(a,(e,r)=>e?n(e):u.equals(r)?void t.decrypt(a,(t,e)=>{if(t)return n(t);n(null,e)}):n(new Error(`MAC Invalid: ${u.toString(\"hex\")} != ${r.toString(\"hex\")}`)))})))}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(108),i=r(258);t.exports=class{constructor(t,e,r,o){\"function\"==typeof r&&(o=r,r=void 0),this.setup(),this.id.local=t,this.id.remote=e,this.key.local=t.privKey,this.timeout=r||6e4,o=o||(()=>{}),this.secure=i.duplex(),this.stream=n({timeout:this.timeout},o),this.shake=this.stream.handshake,delete this.stream.handshake}setup(){this.id={local:null,remote:null},this.key={local:null,remote:null},this.shake=null,this.cleanSecrets()}cleanSecrets(){this.shared={},this.ephemeralKey={local:null,remote:null},this.proposal={in:null,out:null},this.proposalEncoded={in:null,out:null},this.protocols={local:null,remote:null},this.exchange={in:null,out:null}}}},function(t,e,r){\"use strict\";const n=r(1428),i=r(54),o=r(63),s=r(84),a=r(19).EventEmitter,u=r(6),c=r(2),f=u(\"libp2p:railing\");f.error=u(\"libp2p:railing:error\");(t.exports=class extends a{constructor(t){super(),this._list=t.list,this._interval=t.interval||1e4,this._timer=null}start(t){c(()=>t()),this._timer||(this._timer=setInterval(()=>{this._list.forEach(t=>{if(!function(t){try{return s.IPFS.matches(t)}catch(t){return!1}}(t))return f.error(\"Invalid multiaddr\");const e=o(t),r=n.createFromB58String(e.getPeerId());i.create(r,(t,r)=>{if(t)return f.error(\"Invalid bootstrap peer id\",t);r.multiaddrs.add(e),this.emit(\"peer\",r)})})},this._interval))}stop(t){c(t),this._timer&&(clearInterval(this._timer),this._timer=null)}}).tag=\"bootstrap\"},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(1429),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(628),i=r(1431),o=r(1433);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(637),e.pbkdf2=r(1452)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1432),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(329)),o=r(14);e=t.exports;const s={rsa:r(1434),ed25519:r(1447),secp256k1:r(62)(i,r(637))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1449),e.generateEphemeralKeyPair=r(1450),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(629),i=r(11),o=r(8),s=r(631),a=i(r(329)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(630),s=r(1436),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1437),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(630).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(129),i=r(636),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(129),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(167).Reporter,i=r(167).EncoderBuffer,o=r(167).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(633);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(634),n.pem=r(1444)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(634);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(635),n.pem=r(1446)},function(t,e,r){\"use strict\";const n=r(1),i=r(635);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(629),i=r(11),o=r(8),s=r(1448),a=i(r(329));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(628),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1451);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(328)(),i=r(327),o=r(129).bignum,s=r(636),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";const n=r(19).EventEmitter,i=r(15),o=r(53),s=r(52),a=r(66),u=r(550),c=r(1454),f=r(1581),h=r(580),l=r(1585),p=r(1619),d=r(1620),y=r(1621),m=r(1622),g=r(1632),b=r(1658).validate;t.exports;const v=\"The libp2p node is not started yet\";t.exports=class extends n{constructor(t){if(super(),t=b(t),this.peerInfo=t.peerInfo,this.peerBook=t.peerBook||new u,this._modules=t.modules,this._config=t.config,this._isStarted=!1,this._transport=[],this._discovery=[],this._switch=new c(this.peerInfo,this.peerBook,t.switch),this.stats=this._switch.stats,this.connectionManager=new l(this,t.connectionManager),this._modules.streamMuxer&&(this._modules.streamMuxer.forEach(t=>this._switch.connection.addStreamMuxer(t)),this._switch.connection.reuse(),this._switch.connection.enableCircuitRelay(this._config.relay),this._switch.on(\"peer-mux-established\",t=>{this.emit(\"peer:connect\",t),this.peerBook.put(t)}),this._switch.on(\"peer-mux-closed\",t=>{this.emit(\"peer:disconnect\",t)})),this._modules.connEncryption&&this._modules.connEncryption.forEach(t=>{this._switch.connection.crypto(t.tag,t.encrypt)}),this._config.EXPERIMENTAL.dht){const t=this._modules.dht;this._dht=new t(this._switch,{kBucketSize:this._config.dht.kBucketSize||20,datastore:y.datastore})}this._config.EXPERIMENTAL.pubsub&&(this.pubsub=m(this)),this.peerRouting=p(this),this.contentRouting=d(this),this.dht=y(this),this._getPeerInfo=g(this),f.mount(this._switch)}start(t){if(!this._modules.transport)return t(new Error(\"no transports were present\"));let e;const r=[],n=[];this.peerInfo.multiaddrs.toArray().forEach(t=>{t.getPeerId()||(r.push(t),n.push(t.encapsulate(\"/ipfs/\"+this.peerInfo.id.toB58String())))}),this.peerInfo.multiaddrs.replace(r,n);const i=this.peerInfo.multiaddrs.toArray();this._modules.transport.forEach(t=>{let r;(r=\"function\"==typeof t?new t:t).filter(i).length>0?this._switch.transport.add(r.tag||r.constructor.name,r):h.isWebSockets(r)&&(e=r),this._transport.push(r)}),s([t=>this._switch.start(t),t=>{e&&this._switch.transport.add(e.tag||e.constructor.name,e),this._modules.peerDiscovery?o(this._modules.peerDiscovery,(t,e)=>{let r={};if(t.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[t.tag]&&(r=this._config.peerDiscovery[t.tag]),null==r.enabled||r.enabled){let n;(n=\"function\"==typeof t?new t(Object.assign({},r,{peerInfo:this.peerInfo})):t).on(\"peer\",t=>this.emit(\"peer:discovery\",t)),this._discovery.push(n),n.start(e)}else e()},t):t()},t=>{this._isStarted=!0,this._dht?this._dht.start(t):t()},t=>{this._floodSub?this._floodSub.start(t):t()},t=>{this.peerInfo.multiaddrs.toArray().forEach(t=>{t.toString().match(/\\/p2p-circuit($|\\/)/)||this._transport.find(e=>e.filter(t).length>0)||this.peerInfo.multiaddrs.delete(t)}),t()},t=>{this.emit(\"start\"),t()}],t)}stop(t){s([t=>{if(this._modules.peerDiscovery)return a(this._discovery.map(t=>e=>t.stop(()=>{e()})),t);t()},t=>{if(this._floodSub)return this._floodSub.stop(t);t()},t=>{if(this._dht)return this._dht.stop(t);t()},t=>this._switch.stop(t),t=>{this.emit(\"stop\"),t()}],e=>{this._isStarted=!1,t(e)})}isStarted(){return this._isStarted}dial(t,e){i(this.isStarted(),v),this._getPeerInfo(t,(t,r)=>{if(t)return e(t);this._switch.dial(r,t=>{if(t)return e(t);this.peerBook.put(r),e()})})}dialProtocol(t,e,r){i(this.isStarted(),v),\"function\"==typeof e&&(r=e,e=void 0),this._getPeerInfo(t,(t,n)=>{if(t)return r(t);this._switch.dial(n,e,(t,e)=>{if(t)return r(t);this.peerBook.put(n),r(null,e)})})}hangUp(t,e){i(this.isStarted(),v),this._getPeerInfo(t,(t,r)=>{if(t)return e(t);this._switch.hangUp(r,e)})}ping(t,e){if(!this.isStarted())return e(new Error(v));this._getPeerInfo(t,(t,r)=>{if(t)return e(t);e(null,new f(this._switch,r))})}handle(t,e,r){this._switch.handle(t,e,r)}unhandle(t){this._switch.unhandle(t)}}},function(t,e,r){\"use strict\";const n=r(19).EventEmitter,i=r(53),o=r(52),s=r(1455),a=r(1459),u=r(667),c=r(1572),f=r(1573),h=r(666),l=r(1574),p=r(1575),d=r(15),y=r(1580);t.exports=class extends n{constructor(t,e,r){super(),d(t,\"You must provide a `peerInfo`\"),d(e,\"You must provide a `peerBook`\"),this._peerInfo=t,this._peerBook=e,this._options=r||{},this.setMaxListeners(1/0),this.transports={},this.conns={},this.muxedConns={},this.protocols={},this.muxers={},this.identify=!1,this.crypto=h,this.protector=this._options.protector||null,this.transport=new s(this),this.connection=new a(this),this.observer=l(this),this.stats=p(this.observer,this._options.stats),this.protocolMuxer=f(this.protocols,this.observer),this.handle(this.crypto.tag,(t,e)=>{const r=this._peerInfo.id,n=this.crypto.encrypt(r,e,void 0,()=>{});return this.protocolMuxer(null)(n)}),this.dial=c(this)}availableTransports(t){const e=t.multiaddrs.toArray();return Object.keys(this.transports).filter(t=>this.transports[t].filter(e).length>0).sort(t=>\"Circuit\"===t?1:0)}start(t){i(this.availableTransports(this._peerInfo),(t,e)=>{this.transport.listen(t,{},null,e)},t)}stop(t){this.stats.stop(),o([t=>i(this.muxedConns,(t,e)=>{if(!t)return e();t.muxer.end(t=>{if(t&&\"Fatal error: OK\"!==t.message)return e(t);e()})},t),t=>{i(this.transports,(t,e)=>{i(t.listeners,(t,e)=>{t.close(e)},e)},t)}],t)}handle(t,e,r){this.protocols[t]={handlerFunc:e,matchFunc:r}}unhandle(t){this.protocols[t]&&delete this.protocols[t]}hangUp(t,e){const r=u(t,this.peerBook).id.toB58String();if(this.muxedConns[r]){const t=this.muxedConns[r].muxer;t.once(\"close\",()=>{delete this.muxedConns[r],e()}),t.end()}else e()}hasTransports(){const t=Object.keys(this.transports).filter(t=>\"Circuit\"!==t);return t&&t.length>0}},t.exports.errors=y},function(t,e,r){\"use strict\";const n=r(66),i=r(72),o=r(6)(\"libp2p:switch:transport\"),s=r(1456),a=8,u=3e4;class c{constructor(t){this.switch=t,this.dialer=new s(a,u)}add(t,e){if(o(\"adding %s\",t),this.switch.transports[t])throw new Error(\"There is already a transport with this key\");this.switch.transports[t]=e,this.switch.transports[t].listeners||(this.switch.transports[t].listeners=[])}dial(t,e,r){const n=this.switch.transports[t];let i=e.multiaddrs.toArray();Array.isArray(i)||(i=[i]),i=c.dialables(n,i),o(\"dialing %s\",t,i.map(t=>t.toString())),this.dialer.dialMany(e.id,n,i,(t,n)=>{if(t)return r(t);e.connect(n.multiaddr),this.switch._peerBook.put(e),r(null,n.conn)})}listen(t,e,r,o){let s;r||(r=this.switch.protocolMuxer(t)),this.switch.protector&&(s=r,r=(t=>{const e=this.switch.protector.protect(t,()=>{s(e)})}));const a=this.switch.transports[t],u=c.dialables(a,this.switch._peerInfo.multiaddrs.distinct());a.listeners||(a.listeners=[]);let f=[];const h=u.map(t=>e=>{const n=i(e),o=a.createListener(r);o.once(\"error\",n),o.listen(t,t=>{if(t)return n(t);o.removeListener(\"error\",n),o.getAddrs((t,e)=>{if(t)return n(t);f=f.concat(e),a.listeners.push(o),n()})})});n(h,t=>{if(t)return o(t);this.switch._peerInfo.multiaddrs.replace(u,f),o()})}close(t,e){const r=this.switch.transports[t];if(!r)return e(new Error(`Trying to close non existing transport: ${t}`));n(r.listeners.map(t=>e=>{t.close(e)}),e)}static dialables(t,e){return t.filter(e)}}t.exports=c},function(t,e,r){\"use strict\";const n=r(88),i=r(6),o=r(72),s=i(\"libp2p:swarm:dialer\"),a=r(1457);t.exports=class{constructor(t,e){s(\"create: %s peer limit, %s dial timeout\",t,e),this.perPeerLimit=t,this.dialTimeout=e,this.queues=new Map}dialMany(t,e,r,i){s(\"dialMany:start\");const a={cancel:!1};i=o(i),n(r,(r,n)=>{this.dialSingle(t,e,r,a,n)},(t,e)=>{if(t)return i(t);const r=e.filter(t=>t.conn);if(r.length>0)return s(\"dialMany:success\"),i(null,r[0]);s(\"dialMany:error\");const n=new Error(\"Failed to dial any provided address\");return n.errors=e.filter(t=>t.error).map(t=>t.error),i(n)})}dialSingle(t,e,r,n,i){const o=t.toB58String();let u;s(\"dialSingle: %s:%s\",o,r.toString()),this.queues.has(o)?u=this.queues.get(o):(u=new a(this.perPeerLimit,this.dialTimeout),this.queues.set(o,u)),u.push(e,r,n,i)}}},function(t,e,r){\"use strict\";const n=r(49).Connection,i=r(9),o=r(1458),s=r(255),a=r(6)(\"libp2p:swarm:dialer:queue\");t.exports=class{constructor(t,e){this.dialTimeout=e,this.queue=s((t,e)=>{this._doWork(t.transport,t.addr,t.token,e)},t)}_doWork(t,e,r,o){a(\"work\"),this._dialWithTimeout(t,e,(t,s)=>t?(a(\"work:error\"),o(null,{error:t})):r.cancel?(a(\"work:cancel\"),i(i.empty(),s),o(null,{cancel:!0})):(r.cancel=!0,a(\"work:success\"),(new n).setInnerConn(s),void o(null,{multiaddr:e,conn:s})))}_dialWithTimeout(t,e,r){o(r=>{const n=t.dial(e,t=>{if(t)return r(t);r(null,n)})},this.dialTimeout)(r)}push(t,e,r,n){this.queue.push({transport:t,addr:e,token:r},n)}}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r){var o=(0,i.default)(t);return(0,n.default)(function(n,i){var s,a=!1;n.push(function(){a||(i.apply(null,arguments),clearTimeout(s))}),s=setTimeout(function(){var e=t.name||\"anonymous\",n=new Error('Callback function \"'+e+'\" timed out.');n.code=\"ETIMEDOUT\",r&&(n.info=r);a=!0,i(n)},e),o.apply(null,n)})};var n=o(r(427)),i=o(r(38));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";const n=r(1460),i=r(334),o=r(4),s=r(6)(\"libp2p:switch:connection\"),a=r(72),u=r(2),c=r(653),f=r(666);t.exports=class{constructor(t){this.switch=t}addStreamMuxer(t){this.switch.muxers[t.multicodec]=t,this.switch.handle(t.multicodec,(e,r)=>{const c=t.listener(r);return c.on(\"stream\",this.switch.protocolMuxer(null)),this.switch.identify&&r.getPeerInfo((t,e)=>{!t&&e||s(\"crypto peerInfo wasnt found\"),r.getPeerInfo=(t=>{const r=c.newStream(),s=new i.Dialer;t=a(t),o([t=>s.handle(r,t),t=>s.select(n.multicodec,t),(t,r)=>n.dialer(t,e,r),(t,e,r)=>{e.forEach(t=>{this.switch._peerInfo.multiaddrs.addSafe(t)}),r(null,t)}],(e,n)=>{if(e)return c.end(()=>{n&&u(()=>this.switch.emit(\"peer-mux-closed\",n)),t(e,null)});n&&r.setPeerInfo(n),t(e,n)})}),r.getPeerInfo((t,e)=>{if(t)return s(\"identify not successful\");const r=e.id.toB58String();this.switch.muxedConns[r]={muxer:c},e.multiaddrs.size>0?e.connect(e.multiaddrs.toArray()[0]):e.connect(`/ipfs/${r}`),e=this.switch._peerBook.put(e),c.on(\"close\",()=>{delete this.switch.muxedConns[r],e.disconnect(),e=this.switch._peerBook.put(e),s(`closed connection to ${r}`),u(()=>this.switch.emit(\"peer-mux-closed\",e))}),u(()=>this.switch.emit(\"peer-mux-established\",e))})}),r})}crypto(t,e){t||e||(t=f.tag,e=f.encrypt),this.switch.unhandle(this.switch.crypto.tag),this.switch.handle(t,(t,r)=>{const n=this.switch._peerInfo.id,i=e(n,r,void 0,()=>{this.switch.protocolMuxer(null)(i)})}),this.switch.crypto={tag:t,encrypt:e}}enableCircuitRelay(t){(t=t||{}).enabled&&(t.hop||Object.assign(t,{hop:{enabled:!1,active:!1}}),this.switch.transport.add(c.tag,new c(this.switch,t)))}reuse(){this.switch.identify=!0,this.switch.handle(n.multicodec,(t,e)=>{n.listener(e,this.switch._peerInfo)})}}},function(t,e,r){\"use strict\";(e=t.exports).multicodec=\"/ipfs/id/1.0.0\",e.listener=r(1461),e.dialer=r(1462),e.message=r(330)},function(t,e,r){\"use strict\";(function(e){const n=r(9),i=r(55),o=r(330);t.exports=((t,r)=>{t.getObservedAddrs((s,a)=>{if(s)return;a=a[0];let u=e.alloc(0);r.id.pubKey&&(u=r.id.pubKey.bytes);const c=o.encode({protocolVersion:\"ipfs/0.1.0\",agentVersion:\"na\",publicKey:u,listenAddrs:r.multiaddrs.toArray().map(t=>t.buffer),observedAddr:a?a.buffer:e.from(\"\")});n(n.values([c]),i.encode(),t)})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(54),i=r(1463),o=r(63),s=r(9),a=r(55),u=r(330);t.exports=((t,e,r)=>{\"function\"==typeof e&&(r=e,e=null,console.warn(\"WARNING: no expected peer info was given, identify will not be able to verify peer integrity\")),s(t,a.decode(),s.take(1),s.collect((t,s)=>{if(t)return r(t);if(0===s.length)return r(new Error(\"conn was closed, did not receive data\"));const a=u.decode(s[0]);i.createFromPubKey(a.publicKey,(t,i)=>{if(t)return r(t);const s=new n(i);if(e&&e.id.toB58String()!==i.toB58String())return r(new Error(\"invalid peer\"));try{a.listenAddrs.map(o).forEach(t=>s.multiaddrs.add(t))}catch(t){return r(t)}let u;try{u=function(t){if(!function(t){return t.observedAddr&&t.observedAddr.length>0}(t))return[];let e=t.observedAddr;Array.isArray(e)||(e=[e]);return e.map(t=>o(t))}(a)}catch(t){return r(t)}r(null,s,u)})}))})},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(1464),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(638),i=r(1466),o=r(1468);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(647),e.pbkdf2=r(1487)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1467),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(333)),o=r(14);e=t.exports;const s={rsa:r(1469),ed25519:r(1482),secp256k1:r(62)(i,r(647))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1484),e.generateEphemeralKeyPair=r(1485),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(639),i=r(11),o=r(8),s=r(641),a=i(r(333)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(640),s=r(1471),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1472),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(640).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(130),i=r(646),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(130),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(168).Reporter,i=r(168).EncoderBuffer,o=r(168).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(643);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(644),n.pem=r(1479)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(644);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(645),n.pem=r(1481)},function(t,e,r){\"use strict\";const n=r(1),i=r(645);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(639),i=r(11),o=r(8),s=r(1483),a=i(r(333));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(638),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1486);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(332)(),i=r(331),o=r(130).bignum,s=r(646),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";const n=r(9),i=r(648),o=r(15),s=r(649),a=r(1489),u=r(1491),c=r(651),f=r(223),h=r(49).Connection,l=r(652).PROTOCOL_ID;t.exports=class{constructor(){this.handlers={ls:{handlerFunc:(t,e)=>u(this,e),matchFunc:c}},this.log=f.log.listener()}handle(t,e){this.log(\"listener handle conn\");const r=s(l,(r,i)=>{if(r)return e(r);const o=new h(i,t),s=a(o,this.handlers,this.log);n(o,s,o),e()},this.log);n(t,r,t)}addHandler(t,e,r){this.log(\"adding handler: \"+t),o(i(e),\"handler must be a function\"),this.handlers[t]&&this.log(\"overwriting handler for \"+t),r||(r=c),this.handlers[t]={handlerFunc:e,matchFunc:r}}}},function(t,e,r){\"use strict\";(function(e){const n=r(108),i=r(55),o=r(49).Connection,s=r(223).writeEncoded,a=r(1490);t.exports=function(t,r,u){const c=t=>{u.error(t)},f=n({timeout:6e4},c),h=f.handshake;return function n(){i.decodeFromReader(h,(i,f)=>{if(i)return c(i);u(\"received:\",f.toString());const l=f.toString().slice(0,-1);!function(t,e,r){const n=Object.keys(e);let i=!1;a(n,(r,n)=>{e[r].matchFunc(r,t,(t,e)=>{if(t)return n(t);e&&(i=r),n()})},t=>{if(t)return r(t);r(null,i)})}(l,r,(i,a)=>{if(i)return c(i);const p=a;if(p){u(\"send ack back of: \"+l),s(h,f,c);const e=new o(h.rest(),t);r[p].handlerFunc(l,e)}else u(\"not supported protocol: \"+l),s(h,e.from(\"na\\n\")),n()})})}(),f}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=s(r(650)),i=s(r(196)),o=s(r(335));function s(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((0,n.default)(Boolean,o.default)),t.exports=e.default},function(t,e,r){\"use strict\";(function(e){const n=r(9),i=r(55),o=r(20);t.exports=function(t,r){const s=Object.keys(t.handlers).filter(t=>\"ls\"!==t),a=s.length,u=s.reduce((t,r)=>{const n=e.from(r+\"\\n\");return t+o.encodingLength(n.length)},0),c=e.concat([e.from(o.encode(a)),e.from(o.encode(u)),e.from(\"\\n\")]),f=s.map(t=>e.from(t+\"\\n\")),h=[c].concat(f);n(n.values(h),i.encode(),r)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(20),i=r(9),o=r(55),s=r(49).Connection,a=r(223),u=r(649),c=r(72),f=r(652).PROTOCOL_ID;function h(t){return t.toString().slice(0,-1)}t.exports=class{constructor(){this.conn=null,this.log=a.log.dialer()}handle(t,e){this.log(\"dialer handle conn\"),e=c(e);const r=u(f,(r,n)=>{if(r)return e(r);this.log(\"handshake success\"),this.conn=new s(n,t),e()},this.log);i(t,r,t)}select(t,e){if(this.log(\"dialer select \"+t),e=c(e),!this.conn)return e(new Error(\"multistream handshake has not finalized yet\"));const r=u(t,(t,r)=>{if(t)return this.conn=new s(r,this.conn),e(t);e(null,new s(r,this.conn))},this.log);i(this.conn,r,this.conn)}ls(t){t=c(t);const e=u(\"ls\",(e,r)=>{if(e)return t(e);i(r,o.decode(),function(t){let e=0;return i.take(t=>(n.decode(t),e=n.decode(t,n.decode.bytes),!0))}(),i.map(h),i.collect((e,r)=>{if(e)return t(e);t(null,r.slice(1))}))},this.log);i(this.conn,e,this.conn)}}},function(t,e,r){\"use strict\";const n=r(1494);t.exports=function(t,e,r){const i=t.split(\"/\"),o=e.split(\"/\"),s=i[1],a=i[2],u=o[1],c=o[2];if(s!==u)return r(null,!1);r(null,n.satisfies(a,\"~\"+c))}},function(t,e,r){(function(r){var n;e=t.exports=$,n=\"object\"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\\bsemver\\b/i.test(r.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(\"SEMVER\"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION=\"2.0.0\";var i=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,s=e.re=[],a=e.src=[],u=0,c=u++;a[c]=\"0|[1-9]\\\\d*\";var f=u++;a[f]=\"[0-9]+\";var h=u++;a[h]=\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\";var l=u++;a[l]=\"(\"+a[c]+\")\\\\.(\"+a[c]+\")\\\\.(\"+a[c]+\")\";var p=u++;a[p]=\"(\"+a[f]+\")\\\\.(\"+a[f]+\")\\\\.(\"+a[f]+\")\";var d=u++;a[d]=\"(?:\"+a[c]+\"|\"+a[h]+\")\";var y=u++;a[y]=\"(?:\"+a[f]+\"|\"+a[h]+\")\";var m=u++;a[m]=\"(?:-(\"+a[d]+\"(?:\\\\.\"+a[d]+\")*))\";var g=u++;a[g]=\"(?:-?(\"+a[y]+\"(?:\\\\.\"+a[y]+\")*))\";var b=u++;a[b]=\"[0-9A-Za-z-]+\";var v=u++;a[v]=\"(?:\\\\+(\"+a[b]+\"(?:\\\\.\"+a[b]+\")*))\";var _=u++,w=\"v?\"+a[l]+a[m]+\"?\"+a[v]+\"?\";a[_]=\"^\"+w+\"$\";var S=\"[v=\\\\s]*\"+a[p]+a[g]+\"?\"+a[v]+\"?\",k=u++;a[k]=\"^\"+S+\"$\";var E=u++;a[E]=\"((?:<|>)?=?)\";var A=u++;a[A]=a[f]+\"|x|X|\\\\*\";var x=u++;a[x]=a[c]+\"|x|X|\\\\*\";var T=u++;a[T]=\"[v=\\\\s]*(\"+a[x]+\")(?:\\\\.(\"+a[x]+\")(?:\\\\.(\"+a[x]+\")(?:\"+a[m]+\")?\"+a[v]+\"?)?)?\";var B=u++;a[B]=\"[v=\\\\s]*(\"+a[A]+\")(?:\\\\.(\"+a[A]+\")(?:\\\\.(\"+a[A]+\")(?:\"+a[g]+\")?\"+a[v]+\"?)?)?\";var I=u++;a[I]=\"^\"+a[E]+\"\\\\s*\"+a[T]+\"$\";var C=u++;a[C]=\"^\"+a[E]+\"\\\\s*\"+a[B]+\"$\";var M=u++;a[M]=\"(?:^|[^\\\\d])(\\\\d{1,16})(?:\\\\.(\\\\d{1,16}))?(?:\\\\.(\\\\d{1,16}))?(?:$|[^\\\\d])\";var P=u++;a[P]=\"(?:~>?)\";var O=u++;a[O]=\"(\\\\s*)\"+a[P]+\"\\\\s+\",s[O]=new RegExp(a[O],\"g\");var R=u++;a[R]=\"^\"+a[P]+a[T]+\"$\";var j=u++;a[j]=\"^\"+a[P]+a[B]+\"$\";var N=u++;a[N]=\"(?:\\\\^)\";var L=u++;a[L]=\"(\\\\s*)\"+a[N]+\"\\\\s+\",s[L]=new RegExp(a[L],\"g\");var K=u++;a[K]=\"^\"+a[N]+a[T]+\"$\";var D=u++;a[D]=\"^\"+a[N]+a[B]+\"$\";var U=u++;a[U]=\"^\"+a[E]+\"\\\\s*(\"+S+\")$|^$\";var F=u++;a[F]=\"^\"+a[E]+\"\\\\s*(\"+w+\")$|^$\";var q=u++;a[q]=\"(\\\\s*)\"+a[E]+\"\\\\s*(\"+S+\"|\"+a[T]+\")\",s[q]=new RegExp(a[q],\"g\");var H=u++;a[H]=\"^\\\\s*(\"+a[T]+\")\\\\s+-\\\\s+(\"+a[T]+\")\\\\s*$\";var z=u++;a[z]=\"^\\\\s*(\"+a[B]+\")\\\\s+-\\\\s+(\"+a[B]+\")\\\\s*$\";var V=u++;a[V]=\"(<|>)?=?\\\\s*\\\\*\";for(var G=0;G<u;G++)n(G,a[G]),s[G]||(s[G]=new RegExp(a[G]));function W(t,e){if(t instanceof $)return t;if(\"string\"!=typeof t)return null;if(t.length>i)return null;if(!(e?s[k]:s[_]).test(t))return null;try{return new $(t,e)}catch(t){return null}}function $(t,e){if(t instanceof $){if(t.loose===e)return t;t=t.version}else if(\"string\"!=typeof t)throw new TypeError(\"Invalid Version: \"+t);if(t.length>i)throw new TypeError(\"version is longer than \"+i+\" characters\");if(!(this instanceof $))return new $(t,e);n(\"SemVer\",t,e),this.loose=e;var r=t.trim().match(e?s[k]:s[_]);if(!r)throw new TypeError(\"Invalid Version: \"+t);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>o||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>o||this.patch<0)throw new TypeError(\"Invalid patch version\");r[4]?this.prerelease=r[4].split(\".\").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<o)return e}return t}):this.prerelease=[],this.build=r[5]?r[5].split(\".\"):[],this.format()}e.parse=W,e.valid=function(t,e){var r=W(t,e);return r?r.version:null},e.clean=function(t,e){var r=W(t.trim().replace(/^[=v]+/,\"\"),e);return r?r.version:null},e.SemVer=$,$.prototype.format=function(){return this.version=this.major+\".\"+this.minor+\".\"+this.patch,this.prerelease.length&&(this.version+=\"-\"+this.prerelease.join(\".\")),this.version},$.prototype.toString=function(){return this.version},$.prototype.compare=function(t){return n(\"SemVer.compare\",this.version,this.loose,t),t instanceof $||(t=new $(t,this.loose)),this.compareMain(t)||this.comparePre(t)},$.prototype.compareMain=function(t){return t instanceof $||(t=new $(t,this.loose)),J(this.major,t.major)||J(this.minor,t.minor)||J(this.patch,t.patch)},$.prototype.comparePre=function(t){if(t instanceof $||(t=new $(t,this.loose)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],i=t.prerelease[e];if(n(\"prerelease compare\",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return J(r,i)}while(++e)},$.prototype.inc=function(t,e){switch(t){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",e);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",e);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",e),this.inc(\"pre\",e);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",e),this.inc(\"pre\",e);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)\"number\"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(\"invalid increment argument: \"+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,r,n){\"string\"==typeof r&&(n=r,r=void 0);try{return new $(t,r).inc(e,n).version}catch(t){return null}},e.diff=function(t,e){if(tt(t,e))return null;var r=W(t),n=W(e);if(r.prerelease.length||n.prerelease.length){for(var i in r)if((\"major\"===i||\"minor\"===i||\"patch\"===i)&&r[i]!==n[i])return\"pre\"+i;return\"prerelease\"}for(var i in r)if((\"major\"===i||\"minor\"===i||\"patch\"===i)&&r[i]!==n[i])return i},e.compareIdentifiers=J;var Y=/^[0-9]+$/;function J(t,e){var r=Y.test(t),n=Y.test(e);return r&&n&&(t=+t,e=+e),r&&!n?-1:n&&!r?1:t<e?-1:t>e?1:0}function Z(t,e,r){return new $(t,r).compare(new $(e,r))}function X(t,e,r){return Z(t,e,r)>0}function Q(t,e,r){return Z(t,e,r)<0}function tt(t,e,r){return 0===Z(t,e,r)}function et(t,e,r){return 0!==Z(t,e,r)}function rt(t,e,r){return Z(t,e,r)>=0}function nt(t,e,r){return Z(t,e,r)<=0}function it(t,e,r,n){var i;switch(e){case\"===\":\"object\"==typeof t&&(t=t.version),\"object\"==typeof r&&(r=r.version),i=t===r;break;case\"!==\":\"object\"==typeof t&&(t=t.version),\"object\"==typeof r&&(r=r.version),i=t!==r;break;case\"\":case\"=\":case\"==\":i=tt(t,r,n);break;case\"!=\":i=et(t,r,n);break;case\">\":i=X(t,r,n);break;case\">=\":i=rt(t,r,n);break;case\"<\":i=Q(t,r,n);break;case\"<=\":i=nt(t,r,n);break;default:throw new TypeError(\"Invalid operator: \"+e)}return i}function ot(t,e){if(t instanceof ot){if(t.loose===e)return t;t=t.value}if(!(this instanceof ot))return new ot(t,e);n(\"comparator\",t,e),this.loose=e,this.parse(t),this.semver===st?this.value=\"\":this.value=this.operator+this.semver.version,n(\"comp\",this)}e.rcompareIdentifiers=function(t,e){return J(e,t)},e.major=function(t,e){return new $(t,e).major},e.minor=function(t,e){return new $(t,e).minor},e.patch=function(t,e){return new $(t,e).patch},e.compare=Z,e.compareLoose=function(t,e){return Z(t,e,!0)},e.rcompare=function(t,e,r){return Z(e,t,r)},e.sort=function(t,r){return t.sort(function(t,n){return e.compare(t,n,r)})},e.rsort=function(t,r){return t.sort(function(t,n){return e.rcompare(t,n,r)})},e.gt=X,e.lt=Q,e.eq=tt,e.neq=et,e.gte=rt,e.lte=nt,e.cmp=it,e.Comparator=ot;var st={};function at(t,e){if(t instanceof at)return t.loose===e?t:new at(t.raw,e);if(t instanceof ot)return new at(t.value,e);if(!(this instanceof at))return new at(t,e);if(this.loose=e,this.raw=t,this.set=t.split(/\\s*\\|\\|\\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError(\"Invalid SemVer Range: \"+t);this.format()}function ut(t){return!t||\"x\"===t.toLowerCase()||\"*\"===t}function ct(t,e,r,n,i,o,s,a,u,c,f,h,l){return((e=ut(r)?\"\":ut(n)?\">=\"+r+\".0.0\":ut(i)?\">=\"+r+\".\"+n+\".0\":\">=\"+e)+\" \"+(a=ut(u)?\"\":ut(c)?\"<\"+(+u+1)+\".0.0\":ut(f)?\"<\"+u+\".\"+(+c+1)+\".0\":h?\"<=\"+u+\".\"+c+\".\"+f+\"-\"+h:\"<=\"+a)).trim()}function ft(t,e){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length){for(r=0;r<t.length;r++)if(n(t[r].semver),t[r].semver!==st&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}function ht(t,e,r){try{e=new at(e,r)}catch(t){return!1}return e.test(t)}function lt(t,e,r,n){var i,o,s,a,u;switch(t=new $(t,n),e=new at(e,n),r){case\">\":i=X,o=nt,s=Q,a=\">\",u=\">=\";break;case\"<\":i=Q,o=rt,s=X,a=\"<\",u=\"<=\";break;default:throw new TypeError('Must provide a hilo val of \"<\" or \">\"')}if(ht(t,e,n))return!1;for(var c=0;c<e.set.length;++c){var f=null,h=null;if(e.set[c].forEach(function(t){t.semver===st&&(t=new ot(\">=0.0.0\")),f=f||t,h=h||t,i(t.semver,f.semver,n)?f=t:s(t.semver,h.semver,n)&&(h=t)}),f.operator===a||f.operator===u)return!1;if((!h.operator||h.operator===a)&&o(t,h.semver))return!1;if(h.operator===u&&s(t,h.semver))return!1}return!0}ot.prototype.parse=function(t){var e=this.loose?s[U]:s[F],r=t.match(e);if(!r)throw new TypeError(\"Invalid comparator: \"+t);this.operator=r[1],\"=\"===this.operator&&(this.operator=\"\"),r[2]?this.semver=new $(r[2],this.loose):this.semver=st},ot.prototype.toString=function(){return this.value},ot.prototype.test=function(t){return n(\"Comparator.test\",t,this.loose),this.semver===st||(\"string\"==typeof t&&(t=new $(t,this.loose)),it(t,this.operator,this.semver,this.loose))},ot.prototype.intersects=function(t,e){if(!(t instanceof ot))throw new TypeError(\"a Comparator is required\");var r;if(\"\"===this.operator)return r=new at(t.value,e),ht(this.value,r,e);if(\"\"===t.operator)return r=new at(this.value,e),ht(t.semver,r,e);var n=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==t.operator&&\">\"!==t.operator),i=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==t.operator&&\"<\"!==t.operator),o=this.semver.version===t.semver.version,s=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==t.operator&&\"<=\"!==t.operator),a=it(this.semver,\"<\",t.semver,e)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===t.operator||\"<\"===t.operator),u=it(this.semver,\">\",t.semver,e)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===t.operator||\">\"===t.operator);return n||i||o&&s||a||u},e.Range=at,at.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(\" \").trim()}).join(\"||\").trim(),this.range},at.prototype.toString=function(){return this.range},at.prototype.parseRange=function(t){var e=this.loose;t=t.trim(),n(\"range\",t,e);var r=e?s[z]:s[H];t=t.replace(r,ct),n(\"hyphen replace\",t),t=t.replace(s[q],\"$1$2$3\"),n(\"comparator trim\",t,s[q]),t=(t=(t=t.replace(s[O],\"$1~\")).replace(s[L],\"$1^\")).split(/\\s+/).join(\" \");var i=e?s[U]:s[F],o=t.split(\" \").map(function(t){return function(t,e){return n(\"comp\",t),t=function(t,e){return t.trim().split(/\\s+/).map(function(t){return function(t,e){n(\"caret\",t,e);var r=e?s[D]:s[K];return t.replace(r,function(e,r,i,o,s){var a;return n(\"caret\",t,e,r,i,o,s),ut(r)?a=\"\":ut(i)?a=\">=\"+r+\".0.0 <\"+(+r+1)+\".0.0\":ut(o)?a=\"0\"===r?\">=\"+r+\".\"+i+\".0 <\"+r+\".\"+(+i+1)+\".0\":\">=\"+r+\".\"+i+\".0 <\"+(+r+1)+\".0.0\":s?(n(\"replaceCaret pr\",s),\"-\"!==s.charAt(0)&&(s=\"-\"+s),a=\"0\"===r?\"0\"===i?\">=\"+r+\".\"+i+\".\"+o+s+\" <\"+r+\".\"+i+\".\"+(+o+1):\">=\"+r+\".\"+i+\".\"+o+s+\" <\"+r+\".\"+(+i+1)+\".0\":\">=\"+r+\".\"+i+\".\"+o+s+\" <\"+(+r+1)+\".0.0\"):(n(\"no pr\"),a=\"0\"===r?\"0\"===i?\">=\"+r+\".\"+i+\".\"+o+\" <\"+r+\".\"+i+\".\"+(+o+1):\">=\"+r+\".\"+i+\".\"+o+\" <\"+r+\".\"+(+i+1)+\".0\":\">=\"+r+\".\"+i+\".\"+o+\" <\"+(+r+1)+\".0.0\"),n(\"caret return\",a),a})}(t,e)}).join(\" \")}(t,e),n(\"caret\",t),t=function(t,e){return t.trim().split(/\\s+/).map(function(t){return function(t,e){var r=e?s[j]:s[R];return t.replace(r,function(e,r,i,o,s){var a;return n(\"tilde\",t,e,r,i,o,s),ut(r)?a=\"\":ut(i)?a=\">=\"+r+\".0.0 <\"+(+r+1)+\".0.0\":ut(o)?a=\">=\"+r+\".\"+i+\".0 <\"+r+\".\"+(+i+1)+\".0\":s?(n(\"replaceTilde pr\",s),\"-\"!==s.charAt(0)&&(s=\"-\"+s),a=\">=\"+r+\".\"+i+\".\"+o+s+\" <\"+r+\".\"+(+i+1)+\".0\"):a=\">=\"+r+\".\"+i+\".\"+o+\" <\"+r+\".\"+(+i+1)+\".0\",n(\"tilde return\",a),a})}(t,e)}).join(\" \")}(t,e),n(\"tildes\",t),t=function(t,e){return n(\"replaceXRanges\",t,e),t.split(/\\s+/).map(function(t){return function(t,e){t=t.trim();var r=e?s[C]:s[I];return t.replace(r,function(e,r,i,o,s,a){n(\"xRange\",t,e,r,i,o,s,a);var u=ut(i),c=u||ut(o),f=c||ut(s),h=f;return\"=\"===r&&h&&(r=\"\"),u?e=\">\"===r||\"<\"===r?\"<0.0.0\":\"*\":r&&h?(c&&(o=0),f&&(s=0),\">\"===r?(r=\">=\",c?(i=+i+1,o=0,s=0):f&&(o=+o+1,s=0)):\"<=\"===r&&(r=\"<\",c?i=+i+1:o=+o+1),e=r+i+\".\"+o+\".\"+s):c?e=\">=\"+i+\".0.0 <\"+(+i+1)+\".0.0\":f&&(e=\">=\"+i+\".\"+o+\".0 <\"+i+\".\"+(+o+1)+\".0\"),n(\"xRange return\",e),e})}(t,e)}).join(\" \")}(t,e),n(\"xrange\",t),t=function(t,e){return n(\"replaceStars\",t,e),t.trim().replace(s[V],\"\")}(t,e),n(\"stars\",t),t}(t,e)}).join(\" \").split(/\\s+/);return this.loose&&(o=o.filter(function(t){return!!t.match(i)})),o=o.map(function(t){return new ot(t,e)})},at.prototype.intersects=function(t,e){if(!(t instanceof at))throw new TypeError(\"a Range is required\");return this.set.some(function(r){return r.every(function(r){return t.set.some(function(t){return t.every(function(t){return r.intersects(t,e)})})})})},e.toComparators=function(t,e){return new at(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(\" \").trim().split(\" \")})},at.prototype.test=function(t){if(!t)return!1;\"string\"==typeof t&&(t=new $(t,this.loose));for(var e=0;e<this.set.length;e++)if(ft(this.set[e],t))return!0;return!1},e.satisfies=ht,e.maxSatisfying=function(t,e,r){var n=null,i=null;try{var o=new at(e,r)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(n&&-1!==i.compare(t)||(i=new $(n=t,r)))}),n},e.minSatisfying=function(t,e,r){var n=null,i=null;try{var o=new at(e,r)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(n&&1!==i.compare(t)||(i=new $(n=t,r)))}),n},e.validRange=function(t,e){try{return new at(t,e).range||\"*\"}catch(t){return null}},e.ltr=function(t,e,r){return lt(t,e,\"<\",r)},e.gtr=function(t,e,r){return lt(t,e,\">\",r)},e.outside=lt,e.prerelease=function(t,e){var r=W(t,e);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(t,e,r){return t=new at(t,r),e=new at(e,r),t.intersects(e)},e.coerce=function(t){if(t instanceof $)return t;if(\"string\"!=typeof t)return null;var e=t.match(s[M]);return null==e?null:W((e[1]||\"0\")+\".\"+(e[2]||\"0\")+\".\"+(e[3]||\"0\"))}}).call(this,r(7))},function(t,e,r){\"use strict\";const n=r(84),i=r(169),o=r(1498),s=r(170),a=r(6);a(\"libp2p:circuit:transportdialer\").err=a(\"libp2p:circuit:error:transportdialer\");const u=r(1524);t.exports=class{static get tag(){return\"Circuit\"}constructor(t,e){this.options=e||{},this.swarm=t,this.dialer=null,this.utils=s(t),this.peerInfo=this.swarm._peerInfo,this.relays=this.filter(this.peerInfo.multiaddrs.toArray()),0===this.relays.length&&this.peerInfo.multiaddrs.add(`/p2p-circuit/ipfs/${this.peerInfo.id.toB58String()}`),this.dialer=new o(t,e),this.swarm.on(\"peer-mux-established\",this.dialer.canHop.bind(this.dialer)),this.swarm.on(\"peer-mux-closed\",t=>{this.dialer.relayPeers.delete(t.id.toB58String())})}_dialSwarmRelays(){this.relays.forEach(t=>{t.toString().split(\"/p2p-circuit\").filter(t=>t.length).forEach(t=>{this.dialer._dialRelay(this.utils.peerInfoFromMa(i(t)))})})}dial(t,e,r){return this.dialer.dial(t,e,r)}createListener(t,e){\"function\"==typeof t&&(e=t,t=this.options||{});const r=u(this.swarm,t,e);return r.on(\"listen\",this._dialSwarmRelays.bind(this)),r}filter(t){return Array.isArray(t)||(t=[t]),t.filter(t=>n.Circuit.matches(t))}}},function(t,e,r){\"use strict\";(function(e){const n=r(46),i=r(156),o=r(1497),s=r(336),a=r(20);function u(t){const e=[],r=t.split(\"/\").slice(1);if(1===r.length&&\"\"===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n];if(0!==s(i).size){if(++n>=r.length)throw v(\"invalid address: \"+t);e.push([i,r[n]])}else e.push([i])}return e}function c(t){const e=[];return n(t,function(t){const r=_(t);e.push(r.name),t.length>1&&e.push(t[1])}),\"/\"+e.join(\"/\")}function f(t){return n(t,function(t){Array.isArray(t)||(t=[t]);const e=_(t);return t.length>1?[e.code,o.toBuffer(e.code,t[1])]:[e.code]})}function h(t){return n(t,function(t){const e=_(t);return t.length>1?[e.code,o.toString(e.code,t[1])]:[e.code]})}function l(t){return m(e.concat(n(t,function(t){const r=_(t);let n=e.from(a.encode(r.code));return t.length>1&&(n=e.concat([n,t[1]])),n})))}function p(t,e){if(t.size>0)return t.size/8;if(0===t.size)return 0;return a.decode(e)+a.decode.bytes}function d(t){const e=[];let r=0;for(;r<t.length;){const n=a.decode(t,r),i=a.decode.bytes,o=p(s(n),t.slice(r+i));if(0===o){e.push([n]),r+=i;continue}const u=t.slice(r+i,r+i+o);if((r+=o+i)>t.length)throw v(\"Invalid address buffer: \"+t.toString(\"hex\"));e.push([n,u])}return e}function y(t){return l(f(u(t=b(t))))}function m(t){const r=g(t);if(r)throw r;return e.from(t)}function g(t){try{d(t)}catch(t){return t}}function b(t){return\"/\"+i(t.trim().split(\"/\")).join(\"/\")}function v(t){return new Error(\"Error parsing address: \"+t)}function _(t){return s(t[0])}t.exports={stringToStringTuples:u,stringTuplesToString:c,tuplesToStringTuples:h,stringTuplesToTuples:f,bufferToTuples:d,tuplesToBuffer:l,bufferToString:function(t){return c(h(d(t)))},stringToBuffer:y,fromString:function(t){return y(t)},fromBuffer:m,validateBuffer:g,isValidBuffer:function(t){return void 0===g(t)},cleanPath:b,ParseError:v,protoFromTuple:_,sizeForAddr:p}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(157),i=r(158),o=r(336),s=r(8),a=r(20);function u(t,r){return r instanceof e?u.toString(t,r):u.toBuffer(t,r)}function c(t){if(!t.isValid())throw new Error(\"invalid ip address\");return n.toBuffer(t.address)}t.exports=u,u.toString=function(t,e){switch((t=o(t)).code){case 4:case 41:return n.toString(e);case 6:case 17:case 33:case 132:return function(t){return t.readUInt16BE(0)}(e);case 54:case 55:case 56:return function(t){const e=a.decode(t);if((t=t.slice(a.decode.bytes)).length!==e)throw new Error(\"inconsistent lengths\");return t.toString()}(e);case 421:return function(t){const e=a.decode(t),r=t.slice(a.decode.bytes);if(r.length!==e)throw new Error(\"inconsistent lengths\");return s.encode(r)}(e);default:return e.toString(\"hex\")}},u.toBuffer=function(t,r){switch((t=o(t)).code){case 4:return c(new i.Address4(r));case 41:return c(new i.Address6(r));case 6:case 17:case 33:case 132:return function(t){const r=e.alloc(2);return r.writeUInt16BE(t,0),r}(parseInt(r,10));case 54:case 55:case 56:return function(t){const r=e.from(t),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);case 421:return function(t){const r=e.from(s.decode(t)),n=e.from(a.encode(r.length));return e.concat([n,r])}(r);default:return e.from(r,\"hex\")}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(49).Connection,i=r(648),o=r(169),s=r(72),a=r(4),u=r(170),c=r(340),f=r(224),h=r(6),l=h(\"libp2p:circuit:dialer\");l.err=h(\"libp2p:circuit:error:dialer\");const p=r(341),d=r(172);t.exports=class{constructor(t,e){this.swarm=t,this.relayPeers=new Map,this.options=e,this.utils=u(t)}dial(t,r){r=r||(()=>{});const i=t.toString();if(!i.includes(\"/p2p-circuit\"))return l.err(\"invalid circuit address\"),r(new Error(\"invalid circuit address\"));const s=i.split(\"p2p-circuit\"),a=\"/\"===s[0]?null:o(s[0]),u=o(s[1]||s[0]),c=new n;return e(this._dialPeer.bind(this),u,a,(t,e)=>{if(t)return l.err(t),r(t);c.setInnerConn(e),r(null,c)}),c}canHop(t,e){if(e=s(e||(()=>{})),!this.relayPeers.get(this.utils.getB58String(t))){let r;a([e=>this._dialRelay(t,e),(t,e)=>{r=t,e()},t=>r.write(d.CircuitRelay.encode({type:d.CircuitRelay.Type.CAN_HOP}),t),t=>r.read(t),(e,r)=>{if(d.CircuitRelay.decode(e).code!==d.CircuitRelay.Status.SUCCESS)return l(`HOP not supported, skipping - ${this.utils.getB58String(t)}`);l(`HOP supported adding as relay - ${this.utils.getB58String(t)}`),this.relayPeers.set(this.utils.getB58String(t),t),r(null)}],e)}return e(null)}_dialPeer(t,e,r){if(i(e)&&(r=e,e=null),r||(r=(()=>{})),t=o(t),e)return this._negotiateRelay(e,t,(t,e)=>t?(l.err(\"An error has occurred negotiating the relay connection\",t),r(t)):r(null,e));{const e=Array.from(this.relayPeers.values());let n=i=>{if(!i){let t=\"no relay peers were found or all relays failed to dial\";return l.err(t),r(t)}return this._negotiateRelay(i,t,(t,i)=>{if(t)return l.err(t),n(e.shift());r(null,i)})};n(e.shift())}}_negotiateRelay(t,e,r){e=o(e);const i=this.swarm._peerInfo.multiaddrs.toArray();let s;a([e=>t instanceof n?e(null,new c(t)):this._dialRelay(this.utils.peerInfoFromMa(t),e),(t,e)=>{s=t,e(null)},t=>{l(`negotiating relay for peer ${e.getPeerId()}`),s.write(d.CircuitRelay.encode({type:d.CircuitRelay.Type.HOP,srcPeer:{id:this.swarm._peerInfo.id.id,addrs:i.map(t=>t.buffer)},dstPeer:{id:f.createFromB58String(e.getPeerId()).id,addrs:[e.buffer]}}),t)},t=>s.read(t),(t,e)=>{const r=d.CircuitRelay.decode(t);return r.type!==d.CircuitRelay.Type.STATUS?e(new Error(\"Got invalid message type - \"+`expected ${d.CircuitRelay.Type.STATUS} got ${r.type}`)):r.code!==d.CircuitRelay.Status.SUCCESS?e(new Error(`Got ${r.code} error code trying to dial over relay`)):void e(null,new n(s.rest()))}],r)}_dialRelay(t,e){e=s(e||(()=>{})),this.swarm.dial(t,p.relay,s((t,r)=>{if(t)return l.err(t),e(t);e(null,new c(r))}))}}}).call(this,r(32).setImmediate)},function(t,e,r){\"use strict\";const n=r(654),i=r(1501),o=r(1503);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(663),e.pbkdf2=r(1522)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1502),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(339)),o=r(14);e=t.exports;const s={rsa:r(1504),ed25519:r(1517),secp256k1:r(62)(i,r(663))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1519),e.generateEphemeralKeyPair=r(1520),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(655),i=r(11),o=r(8),s=r(657),a=i(r(339)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(656),s=r(1506),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1507),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(656).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(131),i=r(662),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(131),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(171).Reporter,i=r(171).EncoderBuffer,o=r(171).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(659);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(660),n.pem=r(1514)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(660);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(661),n.pem=r(1516)},function(t,e,r){\"use strict\";const n=r(1),i=r(661);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(655),i=r(11),o=r(8),s=r(1518),a=i(r(339));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(654),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1521);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(338)(),i=r(337),o=r(131).bignum,s=r(662),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";t.exports=\"\\nmessage CircuitRelay {\\n\\n  enum Status {\\n    SUCCESS                    = 100;\\n    HOP_SRC_ADDR_TOO_LONG      = 220;\\n    HOP_DST_ADDR_TOO_LONG      = 221;\\n    HOP_SRC_MULTIADDR_INVALID  = 250;\\n    HOP_DST_MULTIADDR_INVALID  = 251;\\n    HOP_NO_CONN_TO_DST         = 260;\\n    HOP_CANT_DIAL_DST          = 261;\\n    HOP_CANT_OPEN_DST_STREAM   = 262;\\n    HOP_CANT_SPEAK_RELAY       = 270;\\n    HOP_CANT_RELAY_TO_SELF     = 280;\\n    STOP_SRC_ADDR_TOO_LONG     = 320;\\n    STOP_DST_ADDR_TOO_LONG     = 321;\\n    STOP_SRC_MULTIADDR_INVALID = 350;\\n    STOP_DST_MULTIADDR_INVALID = 351;\\n    STOP_RELAY_REFUSED         = 390;\\n    MALFORMED_MESSAGE          = 400;\\n  }\\n\\n  enum Type { // RPC identifier, either HOP, STOP or STATUS\\n    HOP = 1;\\n    STOP = 2;\\n    STATUS = 3;\\n    CAN_HOP = 4;\\n  }\\n\\n  message Peer {\\n    required bytes id = 1;    // peer id\\n    repeated bytes addrs = 2; // peer's known addresses\\n  }\\n\\n  optional Type type = 1;     // Type of the message\\n\\n  optional Peer srcPeer = 2;  // srcPeer and dstPeer are used when Type is HOP or STATUS\\n  optional Peer dstPeer = 3;\\n\\n  optional Status code = 4;   // Status code, used when Type is STATUS\\n}\\n\"},function(t,e,r){\"use strict\";const n=r(2),i=r(341),o=r(19).EventEmitter,s=r(169),a=r(84),u=r(1525),c=r(1526),f=r(172),h=r(170),l=r(340),p=r(6),d=p(\"libp2p:circuit:listener\");d.err=p(\"libp2p:circuit:error:listener\"),t.exports=((t,e,r)=>{const p=new o,y=h(t);return p.stopHandler=new u(t),p.hopHandler=new c(t,e.hop),p.listen=((e,o)=>{o=o||(()=>{}),t.handle(i.relay,(t,e)=>{const n=new l(e);n.read((t,e)=>{if(t)return void d.err(t);let i=null;try{i=f.CircuitRelay.decode(e)}catch(t){return y.writeResponse(n,f.CircuitRelay.Status.MALFORMED_MESSAGE)}switch(i.type){case f.CircuitRelay.Type.CAN_HOP:case f.CircuitRelay.Type.HOP:return p.hopHandler.handle(i,n);case f.CircuitRelay.Type.STOP:return p.stopHandler.handle(i,n,r);default:return y.writeResponse(n,f.CircuitRelay.Status.INVALID_MSG_TYPE)}})}),n(()=>p.emit(\"listen\")),o()}),p.close=(e=>{t.unhandle(i.stop),n(()=>p.emit(\"close\")),e()}),p.getAddrs=(e=>{let r=t._peerInfo.multiaddrs.toArray(),n=r.filter(e=>a.Circuit.matches(e)&&!e.toString().includes(t._peerInfo.id.toB58String()));n.length&&(r=n);let i=[];r.forEach(e=>{const r=`/p2p-circuit/ipfs/${t._peerInfo.id.toB58String()}`;e.toString()!==r?a.Circuit.matches(e)?i.push(e.encapsulate(`/ipfs/${t._peerInfo.id.toB58String()}`)):e.getPeerId()?i.push(s(\"/p2p-circuit\").encapsulate(e)):i.push(s(\"/p2p-circuit\").encapsulate(`${e}/ipfs/${t._peerInfo.id.toB58String()}`)):i.push(s(r))}),e(null,i)}),p})},function(t,e,r){\"use strict\";const n=r(2),i=r(19).EventEmitter,o=r(49).Connection,s=r(170),a=r(54),u=r(224),c=r(172),f=r(52),h=r(6),l=h(\"libp2p:circuit:stop\");l.err=h(\"libp2p:circuit:error:stop\");t.exports=class extends i{constructor(t){super(),this.swarm=t,this.utils=s(t)}handle(t,e,r){r=r||(()=>{}),f([r=>this.utils.validateAddrs(t,e,c.CircuitRelay.Type.STOP,r),t=>this.utils.writeResponse(e,c.CircuitRelay.Status.Success,t)],i=>{if(i)return r(),l(i);const s=new a(function(t){return\"string\"==typeof t?u.createFromB58String(t):u.createFromBytes(t)}(t.srcPeer.id));t.srcPeer.addrs.forEach(t=>s.multiaddrs.add(t));const c=new o(e.rest());c.setPeerInfo(s),n(()=>this.emit(\"connection\",c)),r(c)})}}},function(t,e,r){\"use strict\";(function(e){r(373),r(3);const n=r(9),i=r(6),o=r(54),s=r(224),a=r(19).EventEmitter,u=r(72),c=r(170),f=r(340),h=r(1527),l=r(172),p=r(169),d=r(341),y=i(\"libp2p:swarm:circuit:relay\");y.err=i(\"libp2p:swarm:circuit:error:relay\");t.exports=class extends a{constructor(t,e){super(),this.swarm=t,this.peerInfo=this.swarm._peerInfo,this.utils=c(t),this.config=h({active:!1,enabled:!1},e,(t,e)=>void 0!==e&&e),this.active=this.config.active}handle(t,r){if(!this.config.enabled)return this.utils.writeResponse(r,l.CircuitRelay.Status.HOP_CANT_SPEAK_RELAY);if(t.type===l.CircuitRelay.Type.CAN_HOP)return this.utils.writeResponse(r,l.CircuitRelay.Status.SUCCESS);if(s.createFromBytes(t.dstPeer.id).toB58String()===this.peerInfo.id.toB58String())return this.utils.writeResponse(r,l.CircuitRelay.Status.HOP_CANT_RELAY_TO_SELF);const n=s.createFromBytes(t.dstPeer.id).toB58String();if(!t.dstPeer.addrs.length){const e=p(`/p2p-circuit/ipfs/${n}`).buffer;t.dstPeer.addrs.push(e)}this.utils.validateAddrs(t,r,l.CircuitRelay.Type.HOP,i=>{if(i)return y(i);let o;try{if(!(o=this.swarm._peerBook.get(n)).isConnected()&&!this.active)throw new Error(\"No Connection to peer\")}catch(i){if(!this.active)return y.err(i),e(()=>this.emit(\"circuit:error\",i)),this.utils.writeResponse(r,l.CircuitRelay.Status.HOP_NO_CONN_TO_DST)}return this._circuit(r.rest(),t,t=>{t&&(y.err(t),e(()=>this.emit(\"circuit:error\",t))),e(()=>this.emit(\"circuit:success\"))})})}_circuit(t,e,r){this._dialPeer(e.dstPeer,(i,o)=>{const s=new f(t);return i?(this.utils.writeResponse(s,l.CircuitRelay.Status.HOP_CANT_DIAL_DST),n(n.empty(),s.rest()),y.err(i),r(i)):this.utils.writeResponse(s,l.CircuitRelay.Status.SUCCESS,i=>{if(i)return y.err(i),r(i);const a=new f(o),u=Object.assign({},e,{type:l.CircuitRelay.Type.STOP});a.write(l.CircuitRelay.encode(u),e=>{if(e){const i=new f(t);return this.utils.writeResponse(i,l.CircuitRelay.Status.HOP_CANT_OPEN_DST_STREAM),n(n.empty(),i.rest()),y.err(e),r(e)}a.read((t,e)=>{if(t)return y.err(t),r(t);const i=l.CircuitRelay.decode(e),o=s.rest();i.code===l.CircuitRelay.Status.SUCCESS?(n(o,a.rest(),o),r()):n(n.empty(),o)})})})})}_dialPeer(t,e){const r=new o(s.createFromBytes(t.id));t.addrs.forEach(t=>r.multiaddrs.add(t)),this.swarm.dial(r,d.relay,u((t,r)=>{if(t)return y.err(t),e(t);e(null,r)}))}}}).call(this,r(32).setImmediate)},function(t,e,r){var n=r(1528),i=r(1535),o=r(1544),s=i(function(t,e,r,i){n(e,o(e),t,i)});t.exports=s},function(t,e,r){var n=r(1529),i=r(664);t.exports=function(t,e,r,o){var s=!r;r||(r={});for(var a=-1,u=e.length;++a<u;){var c=e[a],f=o?o(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),s?i(r,c,f):n(r,c,f)}return r}},function(t,e,r){var n=r(664),i=r(343),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var s=t[e];o.call(t,e)&&i(s,r)&&(void 0!==r||e in t)||n(t,e,r)}},function(t,e,r){var n=r(248),i=r(1531),o=r(143),s=r(1533),a=/^\\[object .+?Constructor\\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,h=c.hasOwnProperty,l=RegExp(\"^\"+f.call(h).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?l:a).test(s(t))}},function(t,e,r){var n=r(1532),i=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}();t.exports=function(t){return!!i&&i in t}},function(t,e,r){var n=r(192)[\"__core-js_shared__\"];t.exports=n},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,r){var n=r(1536),i=r(1543);t.exports=function(t){return n(function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=t.length>3&&\"function\"==typeof s?(o--,s):void 0,a&&i(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,s)}return e})}},function(t,e,r){var n=r(335),i=r(1537),o=r(1539);t.exports=function(t,e){return o(i(t,e,n),t+\"\")}},function(t,e,r){var n=r(1538),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),u=Array(a);++s<a;)u[s]=o[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=o[s];return c[e]=r(u),n(t,this,c)}}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(1540),i=r(1542)(n);t.exports=i},function(t,e,r){var n=r(1541),i=r(665),o=r(335),s=i?function(t,e){return i(t,\"toString\",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var r=800,n=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var s=i(),a=n-(s-o);if(o=s,a>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(343),i=r(100),o=r(436),s=r(143);t.exports=function(t,e,r){if(!s(r))return!1;var a=typeof e;return!!(\"number\"==a?i(r)&&o(e,r.length):\"string\"==a&&e in r)&&n(r[e],t)}},function(t,e,r){var n=r(434),i=r(1545),o=r(100);t.exports=function(t){return o(t)?n(t,!0):i(t)}},function(t,e,r){var n=r(143),i=r(437),o=r(1546),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var a in t)(\"constructor\"!=a||!e&&s.call(t,a))&&r.push(a);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(1548),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(668),i=r(1550),o=r(1552);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(677),e.pbkdf2=r(1571)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1551),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(346)),o=r(14);e=t.exports;const s={rsa:r(1553),ed25519:r(1566),secp256k1:r(62)(i,r(677))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1568),e.generateEphemeralKeyPair=r(1569),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(669),i=r(11),o=r(8),s=r(671),a=i(r(346)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(670),s=r(1555),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1556),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(670).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(132),i=r(676),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(132),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(173).Reporter,i=r(173).EncoderBuffer,o=r(173).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(673);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(674),n.pem=r(1563)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(674);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(675),n.pem=r(1565)},function(t,e,r){\"use strict\";const n=r(1),i=r(675);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(669),i=r(11),o=r(8),s=r(1567),a=i(r(346));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(668),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1570);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(345)(),i=r(344),o=r(132).bignum,s=r(676),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";const n=r(334),i=r(49).Connection,o=r(2),s=r(653),a=r(4),u=r(6)(\"libp2p:switch:dial\"),c=r(667),f=r(678),h=\"Unexpected end of input from reader.\";function l(t,e,r,n){t.select(e,(t,e)=>{if(!0===t)return n(new Error(h));r(t,e)})}function p(t,e,r,n){t.handle(e,t=>{if(!0===t)return n(new Error(h));r(t)})}class d{constructor(t,e,r,n,i){this.switch=t,this.peerInfo=e,this.ourPeerInfo=r,this.protocol=n,this.callback=i}dial(){const t=new i;return t.setPeerInfo(this.peerInfo),a([t=>{this._establishConnection(t)},(e,r)=>{if(e)return t.setPeerInfo(this.peerInfo),t.setInnerConn(e),r(null,t);r(null)}],(t,e)=>{if(t&&t.message===h||!0===t)return u(\"Connection dropped for %s\",this.peerInfo.id.toB58String()),this.callback(null,null);this.callback(t,e)}),t}_establishConnection(t){const e=this.peerInfo.id.toB58String();if(u(\"dialing %s\",e),e===this.ourPeerInfo.id.toB58String())return t(new Error(\"A node cannot dial itself\"));a([t=>{this._createBaseConnection(e,t)},(t,r)=>{this._createMuxedConnection(t,e,r)},(t,e)=>{if(!this.protocol)return e();t.newStream?t.newStream((t,r)=>{if(t)return e(t);this._performProtocolHandshake(r,e)}):this._performProtocolHandshake(t,e)}],(e,r)=>{t(e,r)})}_createBaseConnection(t,e){const r=this.switch.conns[t];return this.switch.muxedConns[t]?e(null,null):r?(this.switch.conns[t]=void 0,e(null,r)):void a([t=>{this._attemptDial(t)},(t,e)=>{this._createPrivateConnection(t,e)},(t,e)=>{this._encryptConnection(t,e)}],(t,r)=>{if(t)return e(t);e(null,r)})}_createPrivateConnection(t,e){if(null===this.switch.protector)return e(null,t);const r=this.switch.protector.protect(t,t=>{if(t)return e(t);r.setPeerInfo(this.peerInfo),e(null,r)})}_createMuxedConnection(t,e,r){const n=this.switch.muxedConns[e];if(n)return r(null,n.muxer);t.setPeerInfo(this.peerInfo),this._attemptMuxerUpgrade(t,e,(n,i)=>n&&!this.protocol?(this.switch.conns[e]=t,r(null,null)):n?(u(\"muxer upgrade failed with error\",n),r(null,t)):void r(null,i),r)}_attemptMuxerUpgrade(t,e,r,i){const s=Object.keys(this.switch.muxers);if(0===s.length)return r(new Error(\"no muxers available\"));const a=new n.Dialer;p(a,t,t=>{if(t)return r(new Error(\"multistream not supported\"));const n=t=>{u(\"selecting %s\",t),l(a,t,(i,a)=>{if(i)return 0===s.length?r(new Error(\"could not upgrade to stream muxing\")):n(s.shift());const c=f(null,t,a,this.switch.observer),h=this.switch.muxers[t].dialer(c);this.switch.muxedConns[e]={muxer:h},h.once(\"close\",()=>{delete this.switch.muxedConns[e],this.peerInfo.disconnect(),this.switch._peerInfo.disconnect(),u(`closed connection to ${e}`),o(()=>this.switch.emit(\"peer-mux-closed\",this.peerInfo))}),h.on(\"stream\",t=>{t.setPeerInfo(this.peerInfo),this.switch.protocolMuxer(null)(t)}),o(()=>this.switch.emit(\"peer-mux-established\",this.peerInfo)),r(null,h)},i)};n(s.shift())},i)}_attemptDial(t){if(!this.switch.hasTransports())return t(new Error(\"No transports registered, dial not possible\"));const e=this.switch.availableTransports(this.peerInfo),r=Boolean(this.switch.transports[s.tag]);let n=!1;const i=o=>{let a=o;const c=this.peerInfo.id.toB58String();if(!a){if(!r){const e=`Circuit not enabled and all transports failed to dial peer ${c}!`;return t(new Error(e))}if(n)return t(new Error(`No available transports to dial peer ${c}!`));u(\"Falling back to dialing over circuit\"),this.peerInfo.multiaddrs.add(`/p2p-circuit/ipfs/${c}`),n=!0,a=s.tag}u(`dialing transport ${a}`),this.switch.transport.dial(a,this.peerInfo,(r,n)=>{if(r)return u(r),i(e.shift());const o=f(a,null,n,this.switch.observer);t(null,o)})};i(e.shift())}_encryptConnection(t,e){const r=new n.Dialer;p(r,t,t=>{if(t)return e(t);const n=this.switch._peerInfo.id;u(\"selecting crypto: %s\",this.switch.crypto.tag),l(r,this.switch.crypto.tag,(t,r)=>{if(t)return e(t);const i=f(null,this.switch.crypto.tag,r,this.switch.observer),o=this.switch.crypto.encrypt(n,i,this.peerInfo.id,t=>{if(t)return e(t);o.setPeerInfo(this.peerInfo),e(null,o)})},e)},e)}_performProtocolHandshake(t,e){this.protocol||e();const r=new n.Dialer;p(r,t,t=>{if(t)return e(t);l(r,this.protocol,(t,r)=>{if(t)return u(\"could not perform protocol handshake: \",t),e(t);const n=f(null,this.protocol,r,this.switch.observer);e(null,n)},e)},e)}}t.exports=function(t){return(e,r,n)=>{\"function\"==typeof r&&(n=r,r=null),n=n||function(){};const i=c(e,t._peerBook);return new d(t,i,t._peerInfo,r,n).dial()}}},function(t,e,r){\"use strict\";const n=r(334),i=r(678),o=r(6)(\"libp2p:switch:protocol-muxer\");t.exports=function(t,e){return r=>s=>{const a=r?i(r,null,s,e):s,u=new n.Listener;Object.keys(t).forEach(r=>{if(!r)return;u.addHandler(r,(r,n)=>{o(`registering handler with protocol ${r}`);const s=t[r];if(s){const t=s&&s.handlerFunc;t&&t(s,i(null,r,n,e))}},t[r].matchFunc)}),u.handle(a,t=>{})}}},function(t,e,r){\"use strict\";(function(e){const n=r(9),i=r(19);t.exports=(t=>{const r=Object.assign(new i,{incoming:o(\"in\"),outgoing:o(\"out\")});return t.on(\"peer-mux-established\",t=>{r.emit(\"peer:connected\",t.id.toB58String())}),t.on(\"peer-mux-closed\",t=>{r.emit(\"peer:closed\",t.id.toB58String())}),r;function o(t){return(i,o,s)=>n.map(n=>((function(t,n,i,o,s){t.then(t=>{if(t){const a=t.id.toB58String();e(()=>r.emit(\"message\",a,n,i,o,s))}})})(s,i,o,t,n.length),n))}})}).call(this,r(32).setImmediate)},function(t,e,r){\"use strict\";const n=r(19),i=r(1576),o=r(1578),s={computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[6e4,3e5,9e5],maxOldPeersRetention:50},a=[\"dataReceived\",\"dataSent\"],u={in:\"dataReceived\",out:\"dataSent\"};t.exports=((t,e)=>{const r=Object.assign({},s,e),c=new i(a,r),f=Object.assign(new n,{stop:function(){c.stop();for(let t of l.values())t.stop();for(let t of p.values())t.stop()},global:c,peers:()=>Array.from(l.keys()),forPeer:t=>l.get(t)||h.get(t),transports:()=>Array.from(p.keys()),forTransport:t=>p.get(t),protocols:()=>Array.from(d.keys()),forProtocol:t=>d.get(t)});c.on(\"update\",y);const h=o(r.maxOldPeersRetention),l=new Map,p=new Map,d=new Map;return t.on(\"message\",(t,e,n,o,s)=>{const f=u[o];if(e){c.push(f,s);let e=l.get(t);e||((e=h.get(t))?h.delete(t):e=new i(a,r),e.on(\"update\",y),e.start(),l.set(t,e)),e.push(f,s)}if(e){let t=p.get(e);t||((t=new i(a,r)).on(\"update\",y),p.set(e,t)),t.push(f,s)}if(n){let t=d.get(n);t||((t=new i(a,r)).on(\"update\",y),d.set(n,t)),t.push(f,s)}}),t.on(\"peer:closed\",t=>{const e=l.get(t);e&&(e.removeListener(\"update\",y),e.stop(),l.delete(t),h.set(t,e))}),f;function y(){f.emit(\"update\")}})},function(t,e,r){\"use strict\";const n=r(19),i=r(1577).Big,o=r(576);t.exports=class extends n{constructor(t,e){super(),this._options=e,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),t.forEach(t=>{this._stats[t]=i(0),this._movingAverages[t]={},this._options.movingAverageIntervals.forEach(e=>{(this._movingAverages[t][e]=o(e)).push(this._frequencyLastTime,0)})})}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(t,e){this._queue.push([t,e,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const t=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-t),0)}_update(){if(this._timeout=null,this._queue.length){let t;for(;this._queue.length;){const e=t=this._queue.shift();this._applyOp(e)}this._updateFrequency(t[2]),this.emit(\"update\",this._stats)}}_updateFrequency(t){const e=t-this._frequencyLastTime;Object.keys(this._stats).forEach(r=>{this._updateFrequencyFor(r,e,t)}),this._frequencyLastTime=t}_updateFrequencyFor(t,e,r){const n=this._frequencyAccumulators[t]||0;this._frequencyAccumulators[t]=0;const i=n/e*1e3;let s=this._movingAverages[t];s||(s=this._movingAverages[t]={}),this._options.movingAverageIntervals.forEach(t=>{let e=s[t];e||(e=s[t]=o(t)),e.push(r,i)})}_applyOp(t){const e=t[0],r=t[1];if(\"number\"!=typeof r)throw new Error(\"invalid increment number:\",r);let n;n=this._stats.hasOwnProperty(e)?this._stats[e]:this._stats[e]=i(0),this._stats[e]=n.plus(r),this._frequencyAccumulators[e]||(this._frequencyAccumulators[e]=0),this._frequencyAccumulators[e]+=r}}},function(t,e,r){var n;!function(i){\"use strict\";var o,s=20,a=1,u=1e6,c=-7,f=21,h=\"[big.js] \",l=h+\"Invalid \",p=l+\"decimal places\",d=l+\"rounding mode\",y={},m=void 0,g=/^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;function b(t,e,r,n){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===r)n=i[o]>=5;else if(2===r)n=i[o]>5||5==i[o]&&(n||o<0||i[o+1]!==m||1&i[o-1]);else if(3===r)n=n||i[o]!==m||o<0;else if(n=!1,0!==r)throw Error(d);if(o<1)i.length=1,n?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(r<0||r>3||r!==~~r)throw Error(d);return t}function v(t,e,r,n){var i,o,s=t.constructor,a=!t.c[0];if(r!==m){if(r!==~~r||r<(3==e)||r>u)throw Error(3==e?l+\"precision\":p);for(r=n-(t=new s(t)).e,t.c.length>++n&&b(t,r,s.RM),2==e&&(n=t.e+r+1);t.c.length<n;)t.c.push(0)}if(i=t.e,r=(o=t.c.join(\"\")).length,2!=e&&(1==e||3==e&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(r>1?\".\"+o.slice(1):\"\")+(i<0?\"e\":\"e+\")+i;else if(i<0){for(;++i;)o=\"0\"+o;o=\"0.\"+o}else if(i>0)if(++i>r)for(i-=r;i--;)o+=\"0\";else i<r&&(o=o.slice(0,i)+\".\"+o.slice(i));else r>1&&(o=o.charAt(0)+\".\"+o.slice(1));return t.s<0&&(!a||4==e)?\"-\"+o:o}y.abs=function(){var t=new this.constructor(this);return t.s=1,t},y.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,s=t.s,a=r.e,u=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(e=o<0,a!=u)return a>u^e?1:-1;for(s=(a=n.length)<(u=i.length)?a:u,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return a==u?0:a>u^e?1:-1},y.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,o=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>u)throw Error(p);if(!i[0])throw Error(\"[big.js] Division by zero\");if(!n[0])return new r(0*o);var a,c,f,h,l,d=i.slice(),y=a=i.length,g=n.length,v=n.slice(0,a),_=v.length,w=t,S=w.c=[],k=0,E=s+(w.e=e.e-t.e)+1;for(w.s=o,o=E<0?0:E,d.unshift(0);_++<a;)v.push(0);do{for(f=0;f<10;f++){if(a!=(_=v.length))h=a>_?1:-1;else for(l=-1,h=0;++l<a;)if(i[l]!=v[l]){h=i[l]>v[l]?1:-1;break}if(!(h<0))break;for(c=_==a?i:d;_;){if(v[--_]<c[_]){for(l=_;l&&!v[--l];)v[l]=9;--v[l],v[_]+=10}v[_]-=c[_]}for(;!v[0];)v.shift()}S[k++]=h?f:++f,v[0]&&h?v[_]=n[y]||0:v=[n[y]]}while((y++<g||v[0]!==m)&&o--);return S[0]||1==k||(S.shift(),w.e--),k>E&&b(w,s,r.RM,v[0]!==m),w},y.eq=function(t){return!this.cmp(t)},y.gt=function(t){return this.cmp(t)>0},y.gte=function(t){return this.cmp(t)>-1},y.lt=function(t){return this.cmp(t)<0},y.lte=function(t){return this.cmp(t)<1},y.minus=y.sub=function(t){var e,r,n,i,o=this,s=o.constructor,a=o.s,u=(t=new s(t)).s;if(a!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,h=t.c,l=t.e;if(!c[0]||!h[0])return h[0]?(t.s=-u,t):new s(c[0]?o:0);if(a=f-l){for((i=a<0)?(a=-a,n=c):(l=f,n=h),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(r=((i=c.length<h.length)?c:h).length,a=u=0;u<r;u++)if(c[u]!=h[u]){i=c[u]<h[u];break}if(i&&(n=c,c=h,h=n,t.s=-t.s),(u=(r=h.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;r>a;){if(c[--r]<h[r]){for(e=r;e&&!c[--e];)c[e]=9;--c[e],c[r]+=10}c[r]-=h[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--l;return c[0]||(t.s=1,c=[l=0]),t.c=c,t.e=l,t},y.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error(\"[big.js] Division by zero\");return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},y.plus=y.add=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,r.minus(t);var s=r.e,a=r.c,u=t.e,c=t.c;if(!a[0]||!c[0])return c[0]?t:new n(a[0]?r:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,e=c):(i=-i,e=a),e.reverse();i--;)e.push(0);e.reverse()}for(a.length-c.length<0&&(e=c,c=a,a=e),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];)a.pop();return t.c=a,t.e=u,t},y.pow=function(t){var e=this,r=new e.constructor(1),n=r,i=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(l+\"exponent\");for(i&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return i?r.div(n):n},y.round=function(t,e){var r=this.constructor;if(t===m)t=0;else if(t!==~~t||t<0||t>u)throw Error(p);return b(new r(this),t,e===m?r.RM:e)},y.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,s=n.e,a=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(h+\"No square root\");0===(o=Math.sqrt(n.toString()))||o===1/0?((e=n.c.join(\"\")).length+s&1||(e+=\"0\"),(t=new i(Math.sqrt(e).toString())).e=((s+1)/2|0)-(s<0||1&s)):t=new i(o.toString()),s=t.e+(i.DP+=4);do{r=t,t=a.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join(\"\")!==t.c.slice(0,s).join(\"\"));return b(t,i.DP-=4,i.RM)},y.times=y.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,s=i.length,a=o.length,u=r.e,c=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return new n(0*t.s);for(t.e=u+c,s<a&&(e=i,i=o,o=e,c=s,s=a,a=c),e=new Array(c=s+a);c--;)e[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=e[c]+o[u]*i[c-u-1]+a,e[c--]=a%10,a=a/10|0;e[c]=(e[c]+a)%10}for(a?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},y.toExponential=function(t){return v(this,1,t,t)},y.toFixed=function(t){return v(this,2,t,this.e+t)},y.toPrecision=function(t){return v(this,3,t,t-1)},y.toString=function(){return v(this)},y.valueOf=y.toJSON=function(){return v(this,4)},(o=function t(){function e(r){var n=this;if(!(n instanceof e))return r===m?t():new e(r);r instanceof e?(n.s=r.s,n.e=r.e,n.c=r.c.slice()):function(t,e){var r,n,i;if(0===e&&1/e<0)e=\"-0\";else if(!g.test(e+=\"\"))throw Error(l+\"number\");for(t.s=\"-\"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf(\".\"))>-1&&(e=e.replace(\".\",\"\")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&\"0\"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&\"0\"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(n,r),n.constructor=e}return e.prototype=y,e.DP=s,e.RM=a,e.NE=c,e.PE=f,e.version=\"5.0.2\",e}()).default=o.Big=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){\"use strict\";const n=r(1579);t.exports=(t=>{const e=n(t);return e.delete=e.remove,e})},function(t,e){t.exports=function(t){if(!t)throw Error(\"hashlru must have a max value, of type number, greater than 0\");var e=0,r=Object.create(null),n=Object.create(null);function i(i,o){r[i]=o,++e>=t&&(e=0,n=r,r=Object.create(null))}return{has:function(t){return void 0!==r[t]||void 0!==n[t]},remove:function(t){void 0!==r[t]&&(r[t]=void 0),void 0!==n[t]&&(n[t]=void 0)},get:function(t){var e=r[t];return void 0!==e?e:void 0!==(e=n[t])?(i(t,e),e):void 0},set:function(t,e){void 0!==r[t]?r[t]=e:i(t,e)},clear:function(){r=Object.create(null),n=Object.create(null)}}}},function(t,e,r){\"use strict\";t.exports.PROTECTOR_REQUIRED=\"No protector provided with private network enforced\"},function(t,e,r){\"use strict\";const n=r(1582);(e=t.exports=r(1583)).mount=n.mount,e.unmount=n.unmount},function(t,e,r){\"use strict\";const n=r(9),i=r(108),o=r(347),s=o.PROTOCOL,a=o.PING_LENGTH,u=r(6),c=u(\"libp2p-ping\");c.error=u(\"libp2p-ping:error\"),(e=t.exports).mount=function(t){t.handle(s,(t,e)=>{const r=i({timeout:0}),o=r.handshake;n(e,r,e),function t(){o.read(a,(e,r)=>{if(!0!==e)return e?c.error(e):(o.write(r),t())})}()})},e.unmount=function(t){t.unhandle(s)}},function(t,e,r){\"use strict\";const n=r(19).EventEmitter,i=r(9),o=r(108),s=r(347),a=r(1584).rnd,u=r(6),c=u(\"libp2p-ping\");c.error=u(\"libp2p-ping:error\");const f=s.PROTOCOL,h=s.PING_LENGTH;t.exports=class extends n{constructor(t,e){super(),this._stopped=!1,this.peer=e,this.swarm=t}start(){c(\"dialing %s to %s\",f,this.peer.id.toB58String()),this.swarm.dial(this.peer,f,(t,e)=>{if(t)return this.emit(\"error\",t);const r=o({timeout:0});this.shake=r.handshake,i(r,e,r);const n=this;!function t(){let e=new Date,r=a(h);n.shake.write(r),n.shake.read(h,(i,o)=>{let s=new Date;if(i||!r.equals(o)){const t=new Error(\"Received wrong ping ack\");return n.emit(\"error\",t)}n.emit(\"ping\",s-e),n._stopped||t()})}()})}stop(){!this._stopped&&this.shake&&(this._stopped=!0,i(i.empty(),this.shake.rest()))}}},function(t,e,r){\"use strict\";const n=r(117),i=r(347);t.exports.rnd=(t=>(t||(t=i.PING_LENGTH),n.randomBytes(t)))},function(t,e,r){\"use strict\";const n=r(19),i=r(1586).default,o=r(6)(\"libp2p:connection-manager\"),s={maxPeers:1/0,minPeers:0,maxData:1/0,maxSentData:1/0,maxReceivedData:1/0,maxEventLoopDelay:1/0,pollInterval:2e3,movingAverageInterval:6e4,defaultPeerValue:1};function a(t,e){return t[1]-e[1]}function u(t){return t.name.toLowerCase()}t.exports=class extends n{constructor(t,e){if(super(),this._libp2p=t,this._options=Object.assign({},s,e),this._options.maxPeersPerProtocol=function(t){return t||(t={}),Object.keys(t).forEach(e=>{const r=t[e];delete t[e],t[e.toLowerCase()]=r}),t}(this._options.maxPeersPerProtocol),o(\"options: %j\",this._options),this._stats=t.stats,e&&!this._stats)throw new Error(\"No libp2p.stats\");this._peerValues=new Map,this._peers=new Map,this._peerProtocols=new Map,this._peerCountPerProtocol=new Map,this._onStatsUpdate=this._onStatsUpdate.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._libp2p.isStarted()?this._onceStarted():this._libp2p.once(\"start\",this._onceStarted.bind(this))}start(){this._stats.on(\"update\",this._onStatsUpdate),this._libp2p.on(\"peer:connect\",this._onPeerConnect),this._libp2p.on(\"peer:disconnect\",this._onPeerDisconnect),this._latencyMonitor=new i({dataEmitIntervalMs:this._options.pollInterval}),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on(\"data\",this._onLatencyMeasure)}stop(){this._stats.removeListener(\"update\",this._onStatsUpdate),this._libp2p.removeListener(\"peer:connect\",this._onPeerConnect),this._libp2p.removeListener(\"peer:disconnect\",this._onPeerDisconnect),this._latencyMonitor.removeListener(\"data\",this._onLatencyMeasure)}setPeerValue(t,e){if(e<0||e>1)throw new Error(\"value should be a number between 0 and 1\");t.toB58String&&(t=t.toB58String()),this._peerValues.set(t,e)}_onceStarted(){this._peerId=this._libp2p.peerInfo.id.toB58String()}_onStatsUpdate(){const t=this._stats.global.movingAverages,e=t.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkLimit(\"maxReceivedData\",e);const r=t.dataSent[this._options.movingAverageInterval].movingAverage();this._checkLimit(\"maxSentData\",r);const n=e+r;this._checkLimit(\"maxData\",n),o(\"stats update\",n)}_onPeerConnect(t){const e=t.id.toB58String();o(\"%s: connected to %s\",this._peerId,e),this._peerValues.set(e,this._options.defaultPeerValue),this._peers.set(e,t),this.emit(\"connected\",e),this._checkLimit(\"maxPeers\",this._peers.size),function(t){const e=new Set;return t.multiaddrs.forEach(t=>{t.protos().map(u).forEach(t=>{e.add(t)})}),Array.from(e)}(t).forEach(t=>{this._peerCountPerProtocol[t]||(this._peerCountPerProtocol[t]=0),this._peerCountPerProtocol[t]++;let r=this._peerProtocols[e];r||(r=this._peerProtocols[e]=new Set),r.add(t),this._checkProtocolMaxPeersLimit(t,this._peerCountPerProtocol[t])})}_onPeerDisconnect(t){const e=t.id.toB58String();o(\"%s: disconnected from %s\",this._peerId,e),this._peerValues.delete(e),this._peers.delete(e);const r=this._peerProtocols[e];r&&Array.from(r).forEach(t=>{this._peerCountPerProtocol[t]&&this._peerCountPerProtocol[t]--}),this.emit(\"disconnected\",e)}_onLatencyMeasure(t){this._checkLimit(\"maxEventLoopDelay\",t.avgMs)}_checkLimit(t,e){o(\"checking limit. current value of %s is %d\",t,e),e>this._options[t]&&(o(\"%s: limit exceeded: %s, %d\",this._peerId,t,e),this.emit(\"limit:exceeded\",t,e),this._maybeDisconnectOne())}_checkProtocolMaxPeersLimit(t,e){o(\"checking protocol limit. current value of %s is %d\",t,e),e>this._options.maxPeersPerProtocol[t]&&(o(\"%s: protocol max peers limit exceeded: %s, %d\",this._peerId,t,e),this.emit(\"limit:exceeded\",t,e),this._maybeDisconnectOne())}_maybeDisconnectOne(){if(this._options.minPeers<this._peerValues.size){const t=Array.from(this._peerValues).sort(a);o(\"%s: sorted peer values: %j\",this._peerId,t);const e=t[0];if(e){const t=e[0];o(\"%s: lowest value peer is %s\",this._peerId,t),o(\"%s: forcing disconnection from %j\",this._peerId,t),this._disconnectPeer(t)}}}_disconnectPeer(t){o(\"preemptively disconnecting peer\",t),this.emit(\"%s: disconnect:preemptive\",this._peerId,t);const e=this._peers.get(t);this._libp2p.hangUp(e,t=>{t&&this.emit(\"error\",t)})}}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=r(1587).default},function(t,e,r){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=u(r(19)),o=u(r(679)),s=u(r(248)),a=u(r(1617));function u(t){return t&&t.__esModule?t:{default:t}}var c=r(680)(\"latency-monitor:LatencyMonitor\"),f=function(e){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.latencyCheckIntervalMs,i=e.dataEmitIntervalMs,s=e.asyncTestFn,u=e.latencyRandomPercentage;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r);var f=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this)),h=f;return h.latencyCheckIntervalMs=n||500,h.latencyRandomPercentage=u||10,h._latecyCheckMultiply=h.latencyRandomPercentage/100*2*h.latencyCheckIntervalMs,h._latecyCheckSubtract=h._latecyCheckMultiply/2,h.dataEmitIntervalMs=null===i||0===i?void 0:i||5e3,c(\"latencyCheckIntervalMs: %s dataEmitIntervalMs: %s\",h.latencyCheckIntervalMs,h.dataEmitIntervalMs),h.dataEmitIntervalMs?c(\"Expecting ~%s events per summary\",h.latencyCheckIntervalMs/h.dataEmitIntervalMs):c(\"Not emitting summaries\"),h.asyncTestFn=s,t&&t.hrtime?(c(\"Using process.hrtime for timing\"),h.now=t.hrtime,h.getDeltaMS=function(t){var e=h.now(t);return 1e3*e[0]+e[1]/1e6}):\"undefined\"!=typeof window&&(0,o.default)(window,\"performance.now\")?(c(\"Using performance.now for timing\"),h.now=window.performance.now.bind(window.performance),h.getDeltaMS=function(t){return Math.round(h.now()-t)}):(c(\"Using Date.now for timing\"),h.now=Date.now,h.getDeltaMS=function(t){return h.now()-t}),h._latencyData=h._initLatencyData(),\"undefined\"!=typeof window&&(h._visibilityChangeEmitter=new a.default,h._visibilityChangeEmitter.on(\"visibilityChange\",function(t){t?h._startTimers():(h._emitSummary(),h._stopTimers())})),h._visibilityChangeEmitter&&!h._visibilityChangeEmitter.isVisible()||h._startTimers(),f}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i.default),n(r,[{key:\"_startTimers\",value:function(){var t=this;this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval(function(){return t._emitSummary()},this.dataEmitIntervalMs),(0,s.default)(this._emitIntervalID.unref)&&this._emitIntervalID.unref()))}},{key:\"_stopTimers\",value:function(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=void 0),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=void 0)}},{key:\"_emitSummary\",value:function(){var t=this.getSummary();t.events>0&&this.emit(\"data\",t)}},{key:\"getSummary\",value:function(){var t={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),c(\"Summary: %O\",t),t}},{key:\"_checkLatency\",value:function(){var t=this,e=this,r=Math.random()*e._latecyCheckMultiply-e._latecyCheckSubtract,n={deltaOffset:Math.ceil(e.latencyCheckIntervalMs+r),startTime:e.now()},i=function(){if(t._checkLatencyID){var r=e.getDeltaMS(n.startTime)-n.deltaOffset;e._checkLatency(),e._latencyData.events++,e._latencyData.minMs=Math.min(e._latencyData.minMs,r),e._latencyData.maxMs=Math.max(e._latencyData.maxMs,r),e._latencyData.totalMs+=r,c(\"MS: %s Data: %O\",r,e._latencyData)}};c(\"localData: %O\",n),this._checkLatencyID=setTimeout(function(){e.asyncTestFn?(n.deltaOffset=0,n.startTime=e.now(),e.asyncTestFn(i)):(n.deltaOffset-=1,i())},n.deltaOffset),(0,s.default)(this._checkLatencyID.unref)&&this._checkLatencyID.unref()}},{key:\"_initLatencyData\",value:function(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}}]),r}();e.default=f}).call(this,r(7))},function(t,e,r){var n=r(1589),i=r(1616);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},function(t,e,r){var n=r(99),i=r(1590),o=r(1591),s=r(1614);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(s(t))}},function(t,e,r){var n=r(99),i=r(348),o=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,s=/^\\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=t&&!i(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,r){var n=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,o=r(1592)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(\"\"),t.replace(n,function(t,r,n,o){e.push(n?o.replace(i,\"$1\"):r||t)}),e});t.exports=o},function(t,e,r){var n=r(1593),i=500;t.exports=function(t){var e=n(t,function(t){return r.size===i&&r.clear(),t}),r=e.cache;return e}},function(t,e,r){var n=r(1594),i=\"Expected a function\";function o(t,e){if(\"function\"!=typeof t||null!=e&&\"function\"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},function(t,e,r){var n=r(1595),i=r(1609),o=r(1611),s=r(1612),a=r(1613);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,r){var n=r(1596),i=r(1602),o=r(1608);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},function(t,e,r){var n=r(1597),i=r(1598),o=r(1599),s=r(1600),a=r(1601);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,r){var n=r(225);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var n=r(225),i=\"__lodash_hash_undefined__\",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return r===i?void 0:r}return o.call(e,t)?e[t]:void 0}},function(t,e,r){var n=r(225),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},function(t,e,r){var n=r(225),i=\"__lodash_hash_undefined__\";t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?i:e,this}},function(t,e,r){var n=r(1603),i=r(1604),o=r(1605),s=r(1606),a=r(1607);function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(226),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))}},function(t,e,r){var n=r(226);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},function(t,e,r){var n=r(226);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,r){var n=r(226);t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},function(t,e,r){var n=r(342)(r(192),\"Map\");t.exports=n},function(t,e,r){var n=r(227);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}},function(t,e,r){var n=r(227);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(227);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(227);t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},function(t,e,r){var n=r(1615);t.exports=function(t){return null==t?\"\":n(t)}},function(t,e,r){var n=r(191),i=r(256),o=r(99),s=r(348),a=1/0,u=n?n.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if(\"string\"==typeof e)return e;if(o(e))return i(e,t)+\"\";if(s(e))return c?c.call(e):\"\";var r=e+\"\";return\"0\"==r&&1/e==-a?\"-0\":r}},function(t,e,r){var n=r(348),i=1/0;t.exports=function(t){if(\"string\"==typeof t||n(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-i?\"-0\":e}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(r(19));function o(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}var s=r(680)(\"latency-monitor:VisibilityChangeEmitter\"),a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return\"undefined\"==typeof document?(s('This is not a browser, no \"document\" found. Stopping.'),o(t)):(t._initializeVisibilityVarNames(),t._addVisibilityChangeListener(),t)}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),n(e,[{key:\"_initializeVisibilityVarNames\",value:function(){var t=void 0,e=void 0;void 0!==document.hidden?(t=\"hidden\",e=\"visibilitychange\"):void 0!==document.mozHidden?(t=\"mozHidden\",e=\"mozvisibilitychange\"):void 0!==document.msHidden?(t=\"msHidden\",e=\"msvisibilitychange\"):void 0!==document.webkitHidden&&(t=\"webkitHidden\",e=\"webkitvisibilitychange\"),this._hidden=t,this._visibilityChange=e}},{key:\"_addVisibilityChangeListener\",value:function(){void 0===document.addEventListener||void 0===document[this._hidden]?s(\"Checking page visibility requires a browser that supports the Page Visibility API.\"):document.addEventListener(this._visibilityChange,this._handleVisibilityChange.bind(this),!1)}},{key:\"isVisible\",value:function(){if(void 0!==this._hidden&&void 0!==document[this._hidden])return!document[this._hidden]}},{key:\"_handleVisibilityChange\",value:function(){var t=!document[this._hidden];s(t?\"Page Visible\":\"Page Hidden\"),this.emit(\"visibilityChange\",t)}}]),e}();e.default=a},function(t,e,r){var n;function i(t){function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),\"string\"!=typeof s[0]&&s.unshift(\"%O\");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if(\"%%\"===r)return r;u++;var i=e.formatters[n];if(\"function\"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(r.log||e.log||console.log.bind(console)).apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),\"function\"==typeof e.init&&e.init(r),r}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable(\"\")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var r=(\"string\"==typeof t?t:\"\").split(/[\\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&(\"-\"===(t=r[i].replace(/\\*/g,\".*?\"))[0]?e.skips.push(new RegExp(\"^\"+t.substr(1)+\"$\")):e.names.push(new RegExp(\"^\"+t+\"$\")))},e.enabled=function(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(439),e.names=[],e.skips=[],e.formatters={}},function(t,e,r){\"use strict\";t.exports=(t=>({findPeer:(e,r)=>{if(!t._dht)return r(new Error(\"DHT is not available\"));t._dht.findPeer(e,r)}}))},function(t,e,r){\"use strict\";t.exports=(t=>({findProviders:(e,r,n)=>{if(!t._dht)return n(new Error(\"DHT is not available\"));t._dht.findProviders(e,r,n)},provide:(e,r)=>{if(!t._dht)return r(new Error(\"DHT is not available\"));t._dht.provide(e,r)}}))},function(t,e,r){\"use strict\";t.exports=(t=>({put:(e,r,n)=>{if(!t._dht)return n(new Error(\"DHT is not available\"));t._dht.put(e,r,n)},get:(e,r)=>{if(!t._dht)return r(new Error(\"DHT is not available\"));t._dht.get(e,r)},getMany(e,r,n){if(!t._dht)return n(new Error(\"DHT is not available\"));t._dht.getMany(e,r,n)}}))},function(t,e,r){\"use strict\";(function(e){const n=r(2),i=r(1623).NOT_STARTED_YET,o=r(1624);t.exports=(t=>{const r=new o(t);return t._floodSub=r,{subscribe:(e,o,s,a)=>{if(\"function\"==typeof o&&(a=s,s=o,o={}),!t.isStarted()&&!r.started)return n(()=>a(new Error(i)));!function(t){0===r.listenerCount(e)&&r.subscribe(e),r.on(e,s),n(t)}(a)},unsubscribe:(e,n)=>{if(!t.isStarted()&&!r.started)throw new Error(i);r.removeListener(e,n),0===r.listenerCount(e)&&r.unsubscribe(e)},publish:(o,s,a)=>t.isStarted()||r.started?e.isBuffer(s)?(r.publish(o,s),void n(()=>a())):n(()=>a(new Error(\"data must be a Buffer\"))):n(()=>a(new Error(i))),ls:e=>{if(!t.isStarted()&&!r.started)return n(()=>e(new Error(i)));const o=Array.from(r.subscriptions);n(()=>e(null,o))},peers:(e,o)=>{if(!t.isStarted()&&!r.started)return n(()=>o(new Error(i)));\"function\"==typeof e&&(o=e,e=null);const s=Array.from(r.peers.values()).filter(t=>!e||t.topics.has(e)).map(t=>t.info.id.toB58String());n(()=>o(null,s))},setMaxListeners:t=>r.setMaxListeners(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";e.NOT_STARTED_YET=\"The libp2p node is not started yet\"},function(t,e,r){\"use strict\";const n=r(19),i=r(1625),o=r(575),s=r(9),a=r(55),u=r(15),c=r(53),f=r(1627),h=r(1630),l=r(681),p=r(1631),d=r(3).Buffer,y=p.log,m=p.multicodec,g=h.ensureArray,b=r(2);t.exports=class extends n{constructor(t){super(),this.libp2p=t,this.started=!1,this.cache=new i,this.peers=new Map,this.subscriptions=new Set,this._onConnection=this._onConnection.bind(this),this._dialPeer=this._dialPeer.bind(this)}_addPeer(t){const e=t.info.id.toB58String();let r=this.peers.get(e);return r||(y(\"new peer\",e),this.peers.set(e,t),r=t,t.once(\"close\",()=>this._removePeer(t))),++r._references,r}_removePeer(t){const e=t.info.id.toB58String();return y(\"remove\",e,t._references),0==--t._references&&(y(\"delete peer\",e),this.peers.delete(e)),t}_dialPeer(t,e){e=e||function(){};const r=t.id.toB58String(),n=this.peers.get(r);if(n&&n.isConnected)return b(()=>e());y(\"dialing %s\",r),this.libp2p.dialProtocol(t,m,(r,n)=>{if(r)return y.err(r),e();this._onDial(t,n,e)})}_onDial(t,e,r){const n=t.id.toB58String();y(\"connected\",n);const i=this._addPeer(new f(t));i.attachConnection(e),i.sendSubscriptions(this.subscriptions),b(()=>r())}_onConnection(t,e){e.getPeerInfo((t,r)=>{if(t)return y.err(\"Failed to identify incomming conn\",t),s(s.empty(),e);const n=r.id.toB58String(),i=this._addPeer(new f(r));this._processConnection(n,e,i)})}_processConnection(t,e,r){s(e,a.decode(),s.map(t=>l.rpc.RPC.decode(t)),s.drain(e=>this._onRpc(t,e),e=>this._onConnectionEnd(t,r,e)))}_onRpc(t,e){if(!e)return;y(\"rpc from\",t);const r=e.subscriptions,n=e.msgs;if(n&&n.length&&this._processRpcMessages(h.normalizeInRpcMessages(e.msgs)),r&&r.length){const e=this.peers.get(t);e&&e.updateSubscriptions(r)}}_processRpcMessages(t){t.forEach(t=>{const e=h.msgId(t.from,t.seqno.toString());this.cache.has(e)||(this.cache.put(e),this._emitMessages(t.topicIDs,[t]),this._forwardMessages(t.topicIDs,[t]))})}_onConnectionEnd(t,e,r){r&&\"socket hang up\"!==r.message&&y.err(r),y(\"connection ended\",t,r?r.message:\"\"),this._removePeer(e)}_emitMessages(t,e){t.forEach(t=>{this.subscriptions.has(t)&&e.forEach(e=>{this.emit(t,e)})})}_forwardMessages(t,e){this.peers.forEach(r=>{r.isWritable&&h.anyMatch(r.topics,t)&&(r.sendMessages(h.normalizeOutRpcMessages(e)),y(\"publish msgs on topics\",t,r.info.id.toB58String()))})}start(t){if(this.started)return b(()=>t(new Error(\"already started\")));this.libp2p.handle(m,this._onConnection),this.libp2p.on(\"peer:connect\",this._dialPeer);const e=o(this.libp2p.peerBook.getAll());c(e,(t,e)=>this._dialPeer(t,e),e=>{b(()=>{this.started=!0,t(e)})})}stop(t){if(!this.started)return b(()=>t(new Error(\"not started yet\")));this.libp2p.unhandle(m),this.libp2p.removeListener(\"peer:connect\",this._dialPeer),y(\"stopping\"),c(this.peers.values(),(t,e)=>t.close(e),e=>{if(e)return t(e);y(\"stopped\"),this.peers=new Map,this.subscriptions=new Set,this.started=!1,t()})}publish(t,e){u(this.started,\"FloodSub is not started\"),y(\"publish\",t,e),t=g(t),e=g(e);const r=this.libp2p.peerInfo.id.toB58String(),n=e.map(e=>{const n=h.randomSeqno();return this.cache.put(h.msgId(r,n)),{from:r,data:e,seqno:new d(n),topicIDs:t}});this._emitMessages(t,n),this._forwardMessages(t,n)}subscribe(t){u(this.started,\"FloodSub is not started\"),(t=g(t)).forEach(t=>this.subscriptions.add(t)),this.peers.forEach(e=>(function e(r){if(r&&r.isWritable)return r.sendSubscriptions(t);const n=()=>{r.removeListener(\"connection\",n),e(r)};r.on(\"connection\",n),r.once(\"close\",()=>r.removeListener(\"connection\",n))})(e))}unsubscribe(t){this.started&&((t=g(t)).forEach(t=>this.subscriptions.delete(t)),this.peers.forEach(e=>(function e(r){r&&r.isWritable?r.sendUnsubscriptions(t):b(e.bind(r))})(e)))}}},function(t,e,r){\"use strict\";const n=r(1626);t.exports=function t(e){if(!(this instanceof t))return new t(e);e=e||{};const r=e.validity||30;const i=new Map;const o=n(()=>{i.forEach((t,e)=>{const n=t.validity||r,o=function(t){const e=(new Date).getTime()-t.getTime();return Math.floor(e/1e3)}(t.timestamp);o>n&&i.delete(e)})},200);this.put=((t,e,r)=>{this.has(t)||i.set(t,{value:e,timestamp:new Date,validity:r}),o()});this.get=(t=>{if(i.has(t))return i.get(t).value;throw new Error(\"key does not exist\")});this.has=(t=>i.has(t))}},function(t,e,r){(function(e){var r=\"Expected a function\",n=NaN,i=\"[object Symbol]\",o=/^\\s+|\\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,f=\"object\"==typeof e&&e&&e.Object===Object&&e,h=\"object\"==typeof self&&self&&self.Object===Object&&self,l=f||h||Function(\"return this\")(),p=Object.prototype.toString,d=Math.max,y=Math.min,m=function(){return l.Date.now()};function g(t,e,n){var i,o,s,a,u,c,f=0,h=!1,l=!1,p=!0;if(\"function\"!=typeof t)throw new TypeError(r);function g(e){var r=i,n=o;return i=o=void 0,f=e,a=t.apply(n,r)}function _(t){var r=t-c;return void 0===c||r>=e||r<0||l&&t-f>=s}function w(){var t=m();if(_(t))return S(t);u=setTimeout(w,function(t){var r=e-(t-c);return l?y(r,s-(t-f)):r}(t))}function S(t){return u=void 0,p&&i?g(t):(i=o=void 0,a)}function k(){var t=m(),r=_(t);if(i=arguments,o=this,c=t,r){if(void 0===u)return function(t){return f=t,u=setTimeout(w,e),h?g(t):a}(c);if(l)return u=setTimeout(w,e),g(c)}return void 0===u&&(u=setTimeout(w,e)),a}return e=v(e)||0,b(n)&&(h=!!n.leading,s=(l=\"maxWait\"in n)?d(v(n.maxWait)||0,e):s,p=\"trailing\"in n?!!n.trailing:p),k.cancel=function(){void 0!==u&&clearTimeout(u),f=0,i=c=o=u=void 0},k.flush=function(){return void 0===u?a:S(m())},k}function b(t){var e=typeof t;return!!t&&(\"object\"==e||\"function\"==e)}function v(t){if(\"number\"==typeof t)return t;if(function(t){return\"symbol\"==typeof t||function(t){return!!t&&\"object\"==typeof t}(t)&&p.call(t)==i}(t))return n;if(b(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(o,\"\");var r=a.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):s.test(t)?n:+t}t.exports=function(t,e,n){var i=!0,o=!0;if(\"function\"!=typeof t)throw new TypeError(r);return b(n)&&(i=\"leading\"in n?!!n.leading:i,o=\"trailing\"in n?!!n.trailing:o),g(t,e,{leading:i,maxWait:e,trailing:o})}}).call(this,r(5))},function(t,e,r){\"use strict\";const n=r(55),i=r(56),o=r(9),s=r(2),a=r(19),u=r(681).rpc.RPC;t.exports=class extends a{constructor(t){super(),this.info=t,this.conn=null,this.topics=new Set,this.stream=null,this._references=0}get isConnected(){return Boolean(this.conn)}get isWritable(){return Boolean(this.stream)}write(t){if(!this.isWritable){const t=this.info.id.toB58String();throw new Error(\"No writable connection to \"+t)}this.stream.push(t)}attachConnection(t){this.conn=t,this.stream=new i,o(this.stream,n.encode(),t,o.onEnd(()=>{this.conn=null,this.stream=null,this.emit(\"close\")})),this.emit(\"connection\")}_sendRawSubscriptions(t,e){if(0===t.size)return;const r=[];t.forEach(t=>{r.push({subscribe:e,topicCID:t})}),this.write(u.encode({subscriptions:r}))}sendSubscriptions(t){this._sendRawSubscriptions(t,!0)}sendUnsubscriptions(t){this._sendRawSubscriptions(t,!1)}sendMessages(t){this.write(u.encode({msgs:t}))}updateSubscriptions(t){t.forEach(t=>{t.subscribe?this.topics.add(t.topicCID):this.topics.delete(t.topicCID)})}close(t){this._references=1,this.stream&&this.stream.end(),s(()=>{this.conn=null,this.stream=null,this.emit(\"close\"),t()})}}},function(t,e,r){\"use strict\";t.exports=\"\\nmessage RPC {\\n  repeated SubOpts subscriptions = 1;\\n  repeated Message msgs = 2;\\n\\n  message SubOpts {\\n    optional bool subscribe = 1; // subscribe or unsubcribe\\n    optional string topicCID = 2;\\n  }\\n\\n  message Message {\\n    optional bytes from = 1;\\n    optional bytes data = 2;\\n    optional bytes seqno = 3;\\n    repeated string topicIDs = 4; \\n  }\\n}\"},function(t,e,r){\"use strict\";t.exports=\"\\n// topicCID = cid(merkledag_protobuf(topicDescriptor)); (not the topic.name)\\nmessage TopicDescriptor {\\n  optional string name = 1;\\n  optional AuthOpts auth = 2;\\n  optional EncOpts enc = 2;\\n\\n  message AuthOpts {\\n    optional AuthMode mode = 1;\\n    repeated bytes keys = 2; // root keys to trust\\n\\n    enum AuthMode {\\n      NONE = 0; // no authentication, anyone can publish\\n      KEY = 1; // only messages signed by keys in the topic descriptor are accepted\\n      WOT = 2; // web of trust, certificates can allow publisher set to grow\\n    }\\n  }\\n\\n  message EncOpts {\\n    optional EncMode mode = 1;\\n    repeated bytes keyHashes = 2; // the hashes of the shared keys used (salted)\\n\\n    enum EncMode {\\n      NONE = 0; // no encryption, anyone can read\\n      SHAREDKEY = 1; // messages are encrypted with shared key\\n      WOT = 2; // web of trust, certificates can allow publisher set to grow\\n    }\\n  }\\n}\"},function(t,e,r){\"use strict\";(function(n){const i=r(117),o=r(8);(e=t.exports).randomSeqno=(()=>i.randomBytes(20).toString(\"hex\")),e.msgId=((t,e)=>t+e),e.anyMatch=((t,e)=>{let r;r=Array.isArray(e)?t=>e.indexOf(t)>-1:t=>e.has(t);for(let e of t)if(r(e))return!0;return!1}),e.ensureArray=(t=>Array.isArray(t)?t:[t]),e.normalizeInRpcMessages=(t=>t?t.map(t=>{const e=Object.assign({},t);return n.isBuffer(t.from)&&(e.from=o.encode(t.from)),e}):t),e.normalizeOutRpcMessages=(t=>t?t.map(t=>{const e=Object.assign({},t);return(\"string\"==typeof t.from||t.from instanceof String)&&(e.from=o.decode(t.from)),e}):t)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(6),i=n(\"libp2p:floodsub\");i.err=n(\"libp2p:floodsub:error\"),t.exports={log:i,multicodec:\"/floodsub/1.0.0\"}},function(t,e,r){\"use strict\";(function(e){const n=r(1633),i=r(54),o=r(63);t.exports=(t=>(function(r,s){let a;if(i.isPeerInfo(r))a=r;else if(o.isMultiaddr(r)||\"string\"==typeof r){\"string\"==typeof r&&(r=o(r));const e=r.getPeerId();if(!e)throw new Error(\"peer multiaddr instance or string must include peerId\");try{a=t.peerBook.get(e)}catch(t){a=new i(n.createFromB58String(e))}a.multiaddrs.add(r)}else{if(!n.isPeerId(r))return e(()=>s(new Error(\"peer type not recognized\")));{const e=r.toB58String();try{a=t.peerBook.get(e)}catch(e){return t.peerRouting.findPeer(r,s)}}}e(()=>s(null,a))}))}).call(this,r(32).setImmediate)},function(t,e,r){\"use strict\";(function(n){const i=r(10),o=r(1634),s=r(15),a=r(4);class u{constructor(t,e,r){s(n.isBuffer(t),\"invalid id provided\"),e&&r&&s(e.public.bytes.equals(r.bytes),\"inconsistent arguments\"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error(\"Id is immutable\")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error(\"not valid Id\")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error(\"Keys not match\"))}}function c(t){if(t)return t.toString(\"base64\")}(e=t.exports=u).create=function(t,e){\"function\"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair(\"RSA\",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r;try{let i=t;if(\"string\"==typeof i&&(i=n.from(t,\"base64\")),!n.isBuffer(i))throw new Error(\"Supplied key is neither a base64 string nor a buffer\");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r=t;try{if(\"string\"==typeof r&&(r=n.from(t,\"base64\")),!n.isBuffer(r))throw new Error(\"Supplied key is neither a base64 string nor a buffer\")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if(\"function\"!=typeof e)throw new Error(\"callback is required\");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,\"base64\"),c=t.pubKey&&n.from(t.pubKey,\"base64\"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error(\"Public and private key do not match\")):r&&!n.equals(r)?e(new Error(\"Id and private key do not match\")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean(\"object\"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(682),i=r(1636),o=r(1638);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(691),e.pbkdf2=r(1657)},function(t,e,r){\"use strict\";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e,r){\"use strict\";const n=r(1637),i={16:\"aes-128-ctr\",32:\"aes-256-ctr\"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error(\"Invalid key length\"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){\"use strict\";const n=r(37);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){\"use strict\";(function(n){const i=r(11)(r(351)),o=r(14);e=t.exports;const s={rsa:r(1639),ed25519:r(1652),secp256k1:r(62)(i,r(691))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1654),e.generateEphemeralKeyPair=r(1655),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error(\"invalid or unsupported key type\"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?\"ed25519\"!==t.toLowerCase()?n(new Error(\"Seed key derivation is unimplemented for RSA or secp256k1\")):void i.generateKeyPairFromSeed(e,r,n):n(new Error(\"invalid or unsupported key type\"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\");default:throw new Error(\"invalid or unsupported key type\")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error(\"secp256k1 support requires libp2p-crypto-secp256k1 package\"));default:e(new Error(\"invalid or unsupported key type\"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||\"rsa\").toLowerCase()))throw new Error(\"invalid or unsupported key type\");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error(\"Cannot read the key, most likely the password is wrong or not a RSA key\");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),\"binary\"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(683),i=r(11),o=r(8),s=r(685),a=i(r(351)),u=r(14),c=r(2);class f{constructor(t){this._key=t}verify(t,e,r){l(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,\"RSAES-PKCS1-V1_5\")}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}}class h{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){l(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){l(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){\"function\"==typeof e&&(r=e,e=t,t=\"pkcs-8\"),l(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if(\"pkcs-8\"===t){const t={algorithm:\"aes256\",count:1e4,saltSize:16,prfAlgorithm:\"sha512\"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function l(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}t.exports={RsaPublicKey:f,RsaPrivateKey:h,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new h(r.privateKey,r.publicKey))})}}},function(t,e,r){\"use strict\";(function(e){const n=r(40),i=r(41),o=r(684),s=r(1641),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1642),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(42),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error(\"Please use a browser with webcrypto support\");return(r,o)=>{const s=i.digest({name:t},r);if(\"function\"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o(\"SHA-1\")(t,e)},sha2256:function(t,e){o(\"SHA-256\")(t,e)},sha2512:function(t,e){o(\"SHA-512\")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(43),i=r(684).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(133),i=r(690),o=i.toBase64,s=i.toBn,a=n.define(\"RSAPrivateKey\",function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}),u=n.define(\"AlgorithmIdentifier\",function(){this.seq().obj(this.key(\"algorithm\").objid({\"1.2.840.113549.1.1.1\":\"rsa\"}),this.key(\"none\").optional().null_(),this.key(\"curve\").optional().objid(),this.key(\"params\").optional().seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()))}),c=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"algorithm\").use(u),this.key(\"subjectPublicKey\").bitstr())}),f=n.define(\"RSAPublicKey\",function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,\"der\");return{kty:\"RSA\",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},\"der\")},e.pkixToJwk=function(t){const e=c.decode(t,\"der\"),r=f.decode(e.subjectPublicKey.data,\"der\");return{kty:\"RSA\",n:o(r.modulus),e:o(r.publicExponent),alg:\"RS256\",kid:\"2011-04-29\"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:\"rsa\",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},\"der\")}},\"der\")}},function(t,e,r){\"use strict\";const n=r(133),i=r(1);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(51).runInThisContext(\"(function \"+this.name+\"(entity) {\\n  this._initNamed(entity);\\n})\")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||\"der\",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||\"der\",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){\"use strict\";const n=r(1);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join(\"/\")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return\"[\"+JSON.stringify(t)+\"]\"}).join(\"\"),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+\" at: \"+(this.path||\"(shallow)\"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){\"use strict\";const n=r(174).Reporter,i=r(174).EncoderBuffer,o=r(174).DecoderBuffer,s=r(24),a=[\"seq\",\"seqof\",\"set\",\"setof\",\"objid\",\"bool\",\"gentime\",\"utctime\",\"null_\",\"enum\",\"int\",\"objDesc\",\"bitstr\",\"bmpstr\",\"charstr\",\"genstr\",\"graphstr\",\"ia5str\",\"iso646str\",\"numstr\",\"octstr\",\"printstr\",\"t61str\",\"unistr\",\"utf8str\",\"videostr\"],u=[\"key\",\"obj\",\"use\",\"optional\",\"explicit\",\"implicit\",\"def\",\"choice\",\"any\",\"contains\"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=[\"enc\",\"parent\",\"children\",\"tag\",\"args\",\"reverseArgs\",\"choice\",\"optional\",\"any\",\"obj\",\"use\",\"alteredUse\",\"key\",\"default\",\"explicit\",\"implicit\",\"contains\"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,\"Root node can have only one child\")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if(\"object\"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},[\"_peekTag\",\"_decodeTag\",\"_use\",\"_decodeStr\",\"_decodeObjid\",\"_decodeTime\",\"_decodeNull\",\"_decodeInt\",\"_decodeBool\",\"_decodeList\",\"_encodeComposite\",\"_encodeStr\",\"_encodeObjid\",\"_encodeTime\",\"_encodeNull\",\"_encodeInt\",\"_encodeBool\"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+\" not implemented for encoding: \"+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,\"tagged\"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,\"content\"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&(\"octstr\"===r.tag||\"bitstr\"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return\"seq\"===t||\"set\"===t?null:\"seqof\"===t||\"setof\"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):\"objid\"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):\"objid\"===t?this._decodeObjid(e,null,null,r):\"gentime\"===t||\"utctime\"===t?this._decodeTime(e,t,r):\"null_\"===t?this._decodeNull(e,r):\"bool\"===t?this._decodeBool(e,r):\"objDesc\"===t?this._decodeStr(e,t,r):\"int\"===t||\"enum\"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error(\"unknown tag: \"+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error(\"Choice not matched\")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if(\"null_\"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error(\"Child should have a key\");const n=e.enterKey(r._baseState.key);if(\"object\"!=typeof t)return e.error(\"Child expected, but input is not object\");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if(\"seqof\"===i.tag||\"setof\"===i.tag){if(!i.args||1!==i.args.length)return e.error(\"Too many args for : \"+i.tag);if(!Array.isArray(t))return e.error(\"seqof/setof, but data is not Array\");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?\"universal\":\"context\";null===t?null===i.use&&e.error(\"Tag could be omitted only for .use()\"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,\"context\",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+\" not found in \"+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if(\"objid\"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if(\"objid\"===t)return this._encodeObjid(e,null,null);if(\"gentime\"===t||\"utctime\"===t)return this._encodeTime(e,t);if(\"null_\"===t)return this._encodeNull();if(\"int\"===t||\"enum\"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if(\"bool\"===t)return this._encodeBool(e);if(\"objDesc\"===t)return this._encodeStr(e,t);throw new Error(\"Unsupported tag: \"+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){\"use strict\";const n=r(687);e.tagClass={0:\"universal\",1:\"application\",2:\"context\",3:\"private\"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:\"end\",1:\"bool\",2:\"int\",3:\"bitstr\",4:\"octstr\",5:\"null_\",6:\"objid\",7:\"objDesc\",8:\"external\",9:\"real\",10:\"enum\",11:\"embed\",12:\"utf8str\",13:\"relativeOid\",16:\"seq\",17:\"set\",18:\"numstr\",19:\"printstr\",20:\"t61str\",21:\"videostr\",22:\"ia5str\",23:\"utctime\",24:\"gentime\",25:\"graphstr\",26:\"iso646str\",27:\"genstr\",28:\"unistr\",29:\"charstr\",30:\"bmpstr\"},e.tagByName=n._reverse(e.tag)},function(t,e,r){\"use strict\";const n=e;n.der=r(688),n.pem=r(1649)},function(t,e,r){\"use strict\";const n=r(1),i=r(0).Buffer,o=r(688);function s(t){o.call(this,t),this.enc=\"pem\"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\\r\\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if(\"END\"!==e[1])break;u=t;break}if(\"BEGIN\"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(a+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=new i(c,\"base64\");return o.prototype.decode.call(this,f,e)}},function(t,e,r){\"use strict\";const n=e;n.der=r(689),n.pem=r(1651)},function(t,e,r){\"use strict\";const n=r(1),i=r(689);function o(t){i.call(this,t),this.enc=\"pem\"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString(\"base64\"),n=[\"-----BEGIN \"+e.label+\"-----\"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push(\"-----END \"+e.label+\"-----\"),n.join(\"\\n\")}},function(t,e,r){\"use strict\";(function(e){const n=r(683),i=r(11),o=r(8),s=r(1653),a=i(r(351));class u{constructor(t){this._key=h(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}}class c{constructor(t,e){this._key=h(t,s.privateKeyLength),this._publicKey=h(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error(\"public key not provided\");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,\"sha2-256\",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if(\"function\"!=typeof t)throw new Error(\"callback is required\")}function h(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error(\"Key must be a Uint8Array or Buffer of length \"+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=h(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=h(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&\"function\"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&\"function\"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(t){const n=r(61),i=r(2);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(39),i=r(682),o={\"AES-128\":{ivSize:16,keySize:16},\"AES-256\":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error(\"unkown cipherType passed\"));if(!r)return a(new Error(\"unkown hashType passed\"));const c=u.keySize,f=u.ivSize,h=e.from(\"key expansion\"),l=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(h,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<l,function(t){r.digest(e.concat([i,h]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>l&&(a=l-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=l/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,l),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1656);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){\"use strict\";(function(t){const n=r(350)(),i=r(349),o=r(133).bignum,s=r(690),a=s.toBase64,u=s.toBn,c={\"P-256\":256,\"P-384\":384,\"P-521\":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:\"ECDH\",namedCurve:e},!0,[\"deriveBits\"]).then(r=>{const s=(s,u,f)=>{let l;\"function\"==typeof u&&(f=u,u=void 0),l=u?n.subtle.importKey(\"jwk\",function(t,e){const r=h(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:\"ECDH\",namedCurve:e},!1,[\"deriveBits\"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey(\"jwk\",h(e,s),{name:\"ECDH\",namedCurve:e},!1,[]),l]);i(p.then(t=>n.subtle.deriveBits({name:\"ECDH\",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey(\"jwk\",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,\"be\",r),u(e.y).toArrayLike(t,\"be\",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={\"P-256\":32,\"P-384\":48,\"P-521\":66};function h(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error(\"Invalid key format\");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:\"EC\",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(14),i={sha1:\"sha1\",\"sha2-256\":\"sha256\",\"sha2-512\":\"sha512\"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){\"use strict\";const n=r(561),i=n.alternatives().try(n.func(),n.object()),o=n.object({connectionManager:n.object(),peerInfo:n.object().required(),peerBook:n.object(),modules:n.object().keys({transport:n.array().items(i).min(1).required(),streamMuxer:n.array().items(i).allow(null),connEncryption:n.array().items(i).allow(null),peerDiscovery:n.array().items(i).allow(null),dht:i.allow(null)}).required(),config:n.object().keys({peerDiscovery:n.object().allow(null),relay:n.object().keys({enabled:n.boolean().default(!1),hop:n.object().keys({enabled:n.boolean().default(!1),active:n.boolean().default(!1)})}).default(),dht:n.object().keys({kBucketSize:n.number().allow(null)}),EXPERIMENTAL:n.object().keys({dht:n.boolean().default(!1),pubsub:n.boolean().default(!1)}).default()}).default()});t.exports.validate=(t=>((t=n.attempt(t,o)).config.EXPERIMENTAL.dht&&n.assert(t.modules.dht,i.required()),t))},function(t,e,r){(function(t,n){var i;\n/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */(function(){var o,s=200,a=\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\",u=\"Expected a function\",c=\"__lodash_hash_undefined__\",f=500,h=\"__lodash_placeholder__\",l=1,p=2,d=4,y=1,m=2,g=1,b=2,v=4,_=8,w=16,S=32,k=64,E=128,A=256,x=512,T=30,B=\"...\",I=800,C=16,M=1,P=2,O=1/0,R=9007199254740991,j=1.7976931348623157e308,N=NaN,L=4294967295,K=L-1,D=L>>>1,U=[[\"ary\",E],[\"bind\",g],[\"bindKey\",b],[\"curry\",_],[\"curryRight\",w],[\"flip\",x],[\"partial\",S],[\"partialRight\",k],[\"rearg\",A]],F=\"[object Arguments]\",q=\"[object Array]\",H=\"[object AsyncFunction]\",z=\"[object Boolean]\",V=\"[object Date]\",G=\"[object DOMException]\",W=\"[object Error]\",$=\"[object Function]\",Y=\"[object GeneratorFunction]\",J=\"[object Map]\",Z=\"[object Number]\",X=\"[object Null]\",Q=\"[object Object]\",tt=\"[object Proxy]\",et=\"[object RegExp]\",rt=\"[object Set]\",nt=\"[object String]\",it=\"[object Symbol]\",ot=\"[object Undefined]\",st=\"[object WeakMap]\",at=\"[object WeakSet]\",ut=\"[object ArrayBuffer]\",ct=\"[object DataView]\",ft=\"[object Float32Array]\",ht=\"[object Float64Array]\",lt=\"[object Int8Array]\",pt=\"[object Int16Array]\",dt=\"[object Int32Array]\",yt=\"[object Uint8Array]\",mt=\"[object Uint8ClampedArray]\",gt=\"[object Uint16Array]\",bt=\"[object Uint32Array]\",vt=/\\b__p \\+= '';/g,_t=/\\b(__p \\+=) '' \\+/g,wt=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,kt=/[&<>\"']/g,Et=RegExp(St.source),At=RegExp(kt.source),xt=/<%-([\\s\\S]+?)%>/g,Tt=/<%([\\s\\S]+?)%>/g,Bt=/<%=([\\s\\S]+?)%>/g,It=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,Ct=/^\\w*$/,Mt=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Pt=/[\\\\^$.*+?()[\\]{}|]/g,Ot=RegExp(Pt.source),Rt=/^\\s+|\\s+$/g,jt=/^\\s+/,Nt=/\\s+$/,Lt=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,Kt=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,Dt=/,? & /,Ut=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,Ft=/\\\\(\\\\)?/g,qt=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,Ht=/\\w*$/,zt=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,Gt=/^\\[object .+?Constructor\\]$/,Wt=/^0o[0-7]+$/i,$t=/^(?:0|[1-9]\\d*)$/,Yt=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Jt=/($^)/,Zt=/['\\n\\r\\u2028\\u2029\\\\]/g,Xt=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",Qt=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",te=\"[\\\\ud800-\\\\udfff]\",ee=\"[\"+Qt+\"]\",re=\"[\"+Xt+\"]\",ne=\"\\\\d+\",ie=\"[\\\\u2700-\\\\u27bf]\",oe=\"[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]\",se=\"[^\\\\ud800-\\\\udfff\"+Qt+ne+\"\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",ae=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",ue=\"[^\\\\ud800-\\\\udfff]\",ce=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",fe=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",he=\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",le=\"(?:\"+oe+\"|\"+se+\")\",pe=\"(?:\"+he+\"|\"+se+\")\",de=\"(?:\"+re+\"|\"+ae+\")\"+\"?\",ye=\"[\\\\ufe0e\\\\ufe0f]?\"+de+(\"(?:\\\\u200d(?:\"+[ue,ce,fe].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+de+\")*\"),me=\"(?:\"+[ie,ce,fe].join(\"|\")+\")\"+ye,ge=\"(?:\"+[ue+re+\"?\",re,ce,fe,te].join(\"|\")+\")\",be=RegExp(\"['’]\",\"g\"),ve=RegExp(re,\"g\"),_e=RegExp(ae+\"(?=\"+ae+\")|\"+ge+ye,\"g\"),we=RegExp([he+\"?\"+oe+\"+(?:['’](?:d|ll|m|re|s|t|ve))?(?=\"+[ee,he,\"$\"].join(\"|\")+\")\",pe+\"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=\"+[ee,he+le,\"$\"].join(\"|\")+\")\",he+\"?\"+le+\"+(?:['’](?:d|ll|m|re|s|t|ve))?\",he+\"+(?:['’](?:D|LL|M|RE|S|T|VE))?\",\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",ne,me].join(\"|\"),\"g\"),Se=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\"+Xt+\"\\\\ufe0e\\\\ufe0f]\"),ke=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ee=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],Ae=-1,xe={};xe[ft]=xe[ht]=xe[lt]=xe[pt]=xe[dt]=xe[yt]=xe[mt]=xe[gt]=xe[bt]=!0,xe[F]=xe[q]=xe[ut]=xe[z]=xe[ct]=xe[V]=xe[W]=xe[$]=xe[J]=xe[Z]=xe[Q]=xe[et]=xe[rt]=xe[nt]=xe[st]=!1;var Te={};Te[F]=Te[q]=Te[ut]=Te[ct]=Te[z]=Te[V]=Te[ft]=Te[ht]=Te[lt]=Te[pt]=Te[dt]=Te[J]=Te[Z]=Te[Q]=Te[et]=Te[rt]=Te[nt]=Te[it]=Te[yt]=Te[mt]=Te[gt]=Te[bt]=!0,Te[W]=Te[$]=Te[st]=!1;var Be={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Ie=parseFloat,Ce=parseInt,Me=\"object\"==typeof t&&t&&t.Object===Object&&t,Pe=\"object\"==typeof self&&self&&self.Object===Object&&self,Oe=Me||Pe||Function(\"return this\")(),Re=\"object\"==typeof e&&e&&!e.nodeType&&e,je=Re&&\"object\"==typeof n&&n&&!n.nodeType&&n,Ne=je&&je.exports===Re,Le=Ne&&Me.process,Ke=function(){try{var t=je&&je.require&&je.require(\"util\").types;return t||Le&&Le.binding&&Le.binding(\"util\")}catch(t){}}(),De=Ke&&Ke.isArrayBuffer,Ue=Ke&&Ke.isDate,Fe=Ke&&Ke.isMap,qe=Ke&&Ke.isRegExp,He=Ke&&Ke.isSet,ze=Ke&&Ke.isTypedArray;function Ve(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ge(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function We(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function $e(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Ye(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Je(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function Ze(t,e){return!!(null==t?0:t.length)&&ar(t,e,0)>-1}function Xe(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Qe(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function tr(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function er(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function rr(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function nr(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var ir=hr(\"length\");function or(t,e,r){var n;return r(t,function(t,r,i){if(e(t,r,i))return n=r,!1}),n}function sr(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ar(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):sr(t,cr,r)}function ur(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function cr(t){return t!=t}function fr(t,e){var r=null==t?0:t.length;return r?dr(t,e)/r:N}function hr(t){return function(e){return null==e?o:e[t]}}function lr(t){return function(e){return null==t?o:t[e]}}function pr(t,e,r,n,i){return i(t,function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)}),r}function dr(t,e){for(var r,n=-1,i=t.length;++n<i;){var s=e(t[n]);s!==o&&(r=r===o?s:r+s)}return r}function yr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function mr(t){return function(e){return t(e)}}function gr(t,e){return Qe(e,function(e){return t[e]})}function br(t,e){return t.has(e)}function vr(t,e){for(var r=-1,n=t.length;++r<n&&ar(e,t[r],0)>-1;);return r}function _r(t,e){for(var r=t.length;r--&&ar(e,t[r],0)>-1;);return r}var wr=lr({\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"Ç\":\"C\",\"ç\":\"c\",\"Ð\":\"D\",\"ð\":\"d\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"Ñ\":\"N\",\"ñ\":\"n\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"Ý\":\"Y\",\"ý\":\"y\",\"ÿ\":\"y\",\"Æ\":\"Ae\",\"æ\":\"ae\",\"Þ\":\"Th\",\"þ\":\"th\",\"ß\":\"ss\",\"Ā\":\"A\",\"Ă\":\"A\",\"Ą\":\"A\",\"ā\":\"a\",\"ă\":\"a\",\"ą\":\"a\",\"Ć\":\"C\",\"Ĉ\":\"C\",\"Ċ\":\"C\",\"Č\":\"C\",\"ć\":\"c\",\"ĉ\":\"c\",\"ċ\":\"c\",\"č\":\"c\",\"Ď\":\"D\",\"Đ\":\"D\",\"ď\":\"d\",\"đ\":\"d\",\"Ē\":\"E\",\"Ĕ\":\"E\",\"Ė\":\"E\",\"Ę\":\"E\",\"Ě\":\"E\",\"ē\":\"e\",\"ĕ\":\"e\",\"ė\":\"e\",\"ę\":\"e\",\"ě\":\"e\",\"Ĝ\":\"G\",\"Ğ\":\"G\",\"Ġ\":\"G\",\"Ģ\":\"G\",\"ĝ\":\"g\",\"ğ\":\"g\",\"ġ\":\"g\",\"ģ\":\"g\",\"Ĥ\":\"H\",\"Ħ\":\"H\",\"ĥ\":\"h\",\"ħ\":\"h\",\"Ĩ\":\"I\",\"Ī\":\"I\",\"Ĭ\":\"I\",\"Į\":\"I\",\"İ\":\"I\",\"ĩ\":\"i\",\"ī\":\"i\",\"ĭ\":\"i\",\"į\":\"i\",\"ı\":\"i\",\"Ĵ\":\"J\",\"ĵ\":\"j\",\"Ķ\":\"K\",\"ķ\":\"k\",\"ĸ\":\"k\",\"Ĺ\":\"L\",\"Ļ\":\"L\",\"Ľ\":\"L\",\"Ŀ\":\"L\",\"Ł\":\"L\",\"ĺ\":\"l\",\"ļ\":\"l\",\"ľ\":\"l\",\"ŀ\":\"l\",\"ł\":\"l\",\"Ń\":\"N\",\"Ņ\":\"N\",\"Ň\":\"N\",\"Ŋ\":\"N\",\"ń\":\"n\",\"ņ\":\"n\",\"ň\":\"n\",\"ŋ\":\"n\",\"Ō\":\"O\",\"Ŏ\":\"O\",\"Ő\":\"O\",\"ō\":\"o\",\"ŏ\":\"o\",\"ő\":\"o\",\"Ŕ\":\"R\",\"Ŗ\":\"R\",\"Ř\":\"R\",\"ŕ\":\"r\",\"ŗ\":\"r\",\"ř\":\"r\",\"Ś\":\"S\",\"Ŝ\":\"S\",\"Ş\":\"S\",\"Š\":\"S\",\"ś\":\"s\",\"ŝ\":\"s\",\"ş\":\"s\",\"š\":\"s\",\"Ţ\":\"T\",\"Ť\":\"T\",\"Ŧ\":\"T\",\"ţ\":\"t\",\"ť\":\"t\",\"ŧ\":\"t\",\"Ũ\":\"U\",\"Ū\":\"U\",\"Ŭ\":\"U\",\"Ů\":\"U\",\"Ű\":\"U\",\"Ų\":\"U\",\"ũ\":\"u\",\"ū\":\"u\",\"ŭ\":\"u\",\"ů\":\"u\",\"ű\":\"u\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"Ż\":\"Z\",\"Ž\":\"Z\",\"ź\":\"z\",\"ż\":\"z\",\"ž\":\"z\",\"Ĳ\":\"IJ\",\"ĳ\":\"ij\",\"Œ\":\"Oe\",\"œ\":\"oe\",\"ŉ\":\"'n\",\"ſ\":\"s\"}),Sr=lr({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"});function kr(t){return\"\\\\\"+Be[t]}function Er(t){return Se.test(t)}function Ar(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function xr(t,e){return function(r){return t(e(r))}}function Tr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r];s!==e&&s!==h||(t[r]=h,o[i++]=r)}return o}function Br(t,e){return\"__proto__\"==e?o:t[e]}function Ir(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function Cr(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}function Mr(t){return Er(t)?function(t){var e=_e.lastIndex=0;for(;_e.test(t);)++e;return e}(t):ir(t)}function Pr(t){return Er(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.split(\"\")}(t)}var Or=lr({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"});var Rr=function t(e){var r=(e=null==e?Oe:Rr.defaults(Oe.Object(),e,Rr.pick(Oe,Ee))).Array,n=e.Date,i=e.Error,Xt=e.Function,Qt=e.Math,te=e.Object,ee=e.RegExp,re=e.String,ne=e.TypeError,ie=r.prototype,oe=Xt.prototype,se=te.prototype,ae=e[\"__core-js_shared__\"],ue=oe.toString,ce=se.hasOwnProperty,fe=0,he=function(){var t=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),le=se.toString,pe=ue.call(te),de=Oe._,ye=ee(\"^\"+ue.call(ce).replace(Pt,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),me=Ne?e.Buffer:o,ge=e.Symbol,_e=e.Uint8Array,Se=me?me.allocUnsafe:o,Be=xr(te.getPrototypeOf,te),Me=te.create,Pe=se.propertyIsEnumerable,Re=ie.splice,je=ge?ge.isConcatSpreadable:o,Le=ge?ge.iterator:o,Ke=ge?ge.toStringTag:o,ir=function(){try{var t=Do(te,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}(),lr=e.clearTimeout!==Oe.clearTimeout&&e.clearTimeout,jr=n&&n.now!==Oe.Date.now&&n.now,Nr=e.setTimeout!==Oe.setTimeout&&e.setTimeout,Lr=Qt.ceil,Kr=Qt.floor,Dr=te.getOwnPropertySymbols,Ur=me?me.isBuffer:o,Fr=e.isFinite,qr=ie.join,Hr=xr(te.keys,te),zr=Qt.max,Vr=Qt.min,Gr=n.now,Wr=e.parseInt,$r=Qt.random,Yr=ie.reverse,Jr=Do(e,\"DataView\"),Zr=Do(e,\"Map\"),Xr=Do(e,\"Promise\"),Qr=Do(e,\"Set\"),tn=Do(e,\"WeakMap\"),en=Do(te,\"create\"),rn=tn&&new tn,nn={},on=fs(Jr),sn=fs(Zr),an=fs(Xr),un=fs(Qr),cn=fs(tn),fn=ge?ge.prototype:o,hn=fn?fn.valueOf:o,ln=fn?fn.toString:o;function pn(t){if(Ta(t)&&!ma(t)&&!(t instanceof gn)){if(t instanceof mn)return t;if(ce.call(t,\"__wrapped__\"))return hs(t)}return new mn(t)}var dn=function(){function t(){}return function(e){if(!xa(e))return{};if(Me)return Me(e);t.prototype=e;var r=new t;return t.prototype=o,r}}();function yn(){}function mn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function gn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function bn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function vn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function wn(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new _n;++e<r;)this.add(t[e])}function Sn(t){var e=this.__data__=new vn(t);this.size=e.size}function kn(t,e){var r=ma(t),n=!r&&ya(t),i=!r&&!n&&_a(t),o=!r&&!n&&!i&&ja(t),s=r||n||i||o,a=s?yr(t.length,re):[],u=a.length;for(var c in t)!e&&!ce.call(t,c)||s&&(\"length\"==c||i&&(\"offset\"==c||\"parent\"==c)||o&&(\"buffer\"==c||\"byteLength\"==c||\"byteOffset\"==c)||Go(c,u))||a.push(c);return a}function En(t){var e=t.length;return e?t[wi(0,e-1)]:o}function An(t,e){return as(ro(t),Rn(e,0,t.length))}function xn(t){return as(ro(t))}function Tn(t,e,r){(r===o||la(t[e],r))&&(r!==o||e in t)||Pn(t,e,r)}function Bn(t,e,r){var n=t[e];ce.call(t,e)&&la(n,r)&&(r!==o||e in t)||Pn(t,e,r)}function In(t,e){for(var r=t.length;r--;)if(la(t[r][0],e))return r;return-1}function Cn(t,e,r,n){return Dn(t,function(t,i,o){e(n,t,r(t),o)}),n}function Mn(t,e){return t&&no(e,nu(e),t)}function Pn(t,e,r){\"__proto__\"==e&&ir?ir(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function On(t,e){for(var n=-1,i=e.length,s=r(i),a=null==t;++n<i;)s[n]=a?o:Xa(t,e[n]);return s}function Rn(t,e,r){return t==t&&(r!==o&&(t=t<=r?t:r),e!==o&&(t=t>=e?t:e)),t}function jn(t,e,r,n,i,s){var a,u=e&l,c=e&p,f=e&d;if(r&&(a=i?r(t,n,i,s):r(t)),a!==o)return a;if(!xa(t))return t;var h=ma(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&\"string\"==typeof t[0]&&ce.call(t,\"index\")&&(r.index=t.index,r.input=t.input),r}(t),!u)return ro(t,a)}else{var y=qo(t),m=y==$||y==Y;if(_a(t))return Ji(t,u);if(y==Q||y==F||m&&!i){if(a=c||m?{}:zo(t),!u)return c?function(t,e){return no(t,Fo(t),e)}(t,function(t,e){return t&&no(e,iu(e),t)}(a,t)):function(t,e){return no(t,Uo(t),e)}(t,Mn(a,t))}else{if(!Te[y])return i?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case ut:return Zi(t);case z:case V:return new n(+t);case ct:return function(t,e){var r=e?Zi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case ft:case ht:case lt:case pt:case dt:case yt:case mt:case gt:case bt:return Xi(t,r);case J:return new n;case Z:case nt:return new n(t);case et:return function(t){var e=new t.constructor(t.source,Ht.exec(t));return e.lastIndex=t.lastIndex,e}(t);case rt:return new n;case it:return function(t){return hn?te(hn.call(t)):{}}(t)}}(t,y,u)}}s||(s=new Sn);var g=s.get(t);if(g)return g;if(s.set(t,a),Pa(t))return t.forEach(function(n){a.add(jn(n,e,r,n,t,s))}),a;if(Ba(t))return t.forEach(function(n,i){a.set(i,jn(n,e,r,i,t,s))}),a;var b=h?o:(f?c?Po:Mo:c?iu:nu)(t);return We(b||t,function(n,i){b&&(n=t[i=n]),Bn(a,i,jn(n,e,r,i,t,s))}),a}function Nn(t,e,r){var n=r.length;if(null==t)return!n;for(t=te(t);n--;){var i=r[n],s=e[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function Ln(t,e,r){if(\"function\"!=typeof t)throw new ne(u);return ns(function(){t.apply(o,r)},e)}function Kn(t,e,r,n){var i=-1,o=Ze,a=!0,u=t.length,c=[],f=e.length;if(!u)return c;r&&(e=Qe(e,mr(r))),n?(o=Xe,a=!1):e.length>=s&&(o=br,a=!1,e=new wn(e));t:for(;++i<u;){var h=t[i],l=null==r?h:r(h);if(h=n||0!==h?h:0,a&&l==l){for(var p=f;p--;)if(e[p]===l)continue t;c.push(h)}else o(e,l,n)||c.push(h)}return c}pn.templateSettings={escape:xt,evaluate:Tt,interpolate:Bt,variable:\"\",imports:{_:pn}},pn.prototype=yn.prototype,pn.prototype.constructor=pn,mn.prototype=dn(yn.prototype),mn.prototype.constructor=mn,gn.prototype=dn(yn.prototype),gn.prototype.constructor=gn,bn.prototype.clear=function(){this.__data__=en?en(null):{},this.size=0},bn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bn.prototype.get=function(t){var e=this.__data__;if(en){var r=e[t];return r===c?o:r}return ce.call(e,t)?e[t]:o},bn.prototype.has=function(t){var e=this.__data__;return en?e[t]!==o:ce.call(e,t)},bn.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=en&&e===o?c:e,this},vn.prototype.clear=function(){this.__data__=[],this.size=0},vn.prototype.delete=function(t){var e=this.__data__,r=In(e,t);return!(r<0||(r==e.length-1?e.pop():Re.call(e,r,1),--this.size,0))},vn.prototype.get=function(t){var e=this.__data__,r=In(e,t);return r<0?o:e[r][1]},vn.prototype.has=function(t){return In(this.__data__,t)>-1},vn.prototype.set=function(t,e){var r=this.__data__,n=In(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},_n.prototype.clear=function(){this.size=0,this.__data__={hash:new bn,map:new(Zr||vn),string:new bn}},_n.prototype.delete=function(t){var e=Lo(this,t).delete(t);return this.size-=e?1:0,e},_n.prototype.get=function(t){return Lo(this,t).get(t)},_n.prototype.has=function(t){return Lo(this,t).has(t)},_n.prototype.set=function(t,e){var r=Lo(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},wn.prototype.add=wn.prototype.push=function(t){return this.__data__.set(t,c),this},wn.prototype.has=function(t){return this.__data__.has(t)},Sn.prototype.clear=function(){this.__data__=new vn,this.size=0},Sn.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Sn.prototype.get=function(t){return this.__data__.get(t)},Sn.prototype.has=function(t){return this.__data__.has(t)},Sn.prototype.set=function(t,e){var r=this.__data__;if(r instanceof vn){var n=r.__data__;if(!Zr||n.length<s-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new _n(n)}return r.set(t,e),this.size=r.size,this};var Dn=so(Wn),Un=so($n,!0);function Fn(t,e){var r=!0;return Dn(t,function(t,n,i){return r=!!e(t,n,i)}),r}function qn(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(null!=a&&(u===o?a==a&&!Ra(a):r(a,u)))var u=a,c=s}return c}function Hn(t,e){var r=[];return Dn(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function zn(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=Vo),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?zn(a,e-1,r,n,i):tr(i,a):n||(i[i.length]=a)}return i}var Vn=ao(),Gn=ao(!0);function Wn(t,e){return t&&Vn(t,e,nu)}function $n(t,e){return t&&Gn(t,e,nu)}function Yn(t,e){return Je(e,function(e){return ka(t[e])})}function Jn(t,e){for(var r=0,n=(e=Gi(e,t)).length;null!=t&&r<n;)t=t[cs(e[r++])];return r&&r==n?t:o}function Zn(t,e,r){var n=e(t);return ma(t)?n:tr(n,r(t))}function Xn(t){return null==t?t===o?ot:X:Ke&&Ke in te(t)?function(t){var e=ce.call(t,Ke),r=t[Ke];try{t[Ke]=o;var n=!0}catch(t){}var i=le.call(t);return n&&(e?t[Ke]=r:delete t[Ke]),i}(t):function(t){return le.call(t)}(t)}function Qn(t,e){return t>e}function ti(t,e){return null!=t&&ce.call(t,e)}function ei(t,e){return null!=t&&e in te(t)}function ri(t,e,n){for(var i=n?Xe:Ze,s=t[0].length,a=t.length,u=a,c=r(a),f=1/0,h=[];u--;){var l=t[u];u&&e&&(l=Qe(l,mr(e))),f=Vr(l.length,f),c[u]=!n&&(e||s>=120&&l.length>=120)?new wn(u&&l):o}l=t[0];var p=-1,d=c[0];t:for(;++p<s&&h.length<f;){var y=l[p],m=e?e(y):y;if(y=n||0!==y?y:0,!(d?br(d,m):i(h,m,n))){for(u=a;--u;){var g=c[u];if(!(g?br(g,m):i(t[u],m,n)))continue t}d&&d.push(m),h.push(y)}}return h}function ni(t,e,r){var n=null==(t=es(t,e=Gi(e,t)))?t:t[cs(Ss(e))];return null==n?o:Ve(n,t,r)}function ii(t){return Ta(t)&&Xn(t)==F}function oi(t,e,r,n,i){return t===e||(null==t||null==e||!Ta(t)&&!Ta(e)?t!=t&&e!=e:function(t,e,r,n,i,s){var a=ma(t),u=ma(e),c=a?q:qo(t),f=u?q:qo(e),h=(c=c==F?Q:c)==Q,l=(f=f==F?Q:f)==Q,p=c==f;if(p&&_a(t)){if(!_a(e))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new Sn),a||ja(t)?Io(t,e,r,n,i,s):function(t,e,r,n,i,o,s){switch(r){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new _e(t),new _e(e)));case z:case V:case Z:return la(+t,+e);case W:return t.name==e.name&&t.message==e.message;case et:case nt:return t==e+\"\";case J:var a=Ar;case rt:var u=n&y;if(a||(a=Ir),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;n|=m,s.set(t,e);var f=Io(a(t),a(e),n,i,o,s);return s.delete(t),f;case it:if(hn)return hn.call(t)==hn.call(e)}return!1}(t,e,c,r,n,i,s);if(!(r&y)){var d=h&&ce.call(t,\"__wrapped__\"),g=l&&ce.call(e,\"__wrapped__\");if(d||g){var b=d?t.value():t,v=g?e.value():e;return s||(s=new Sn),i(b,v,r,n,s)}}return!!p&&(s||(s=new Sn),function(t,e,r,n,i,s){var a=r&y,u=Mo(t),c=u.length,f=Mo(e).length;if(c!=f&&!a)return!1;for(var h=c;h--;){var l=u[h];if(!(a?l in e:ce.call(e,l)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var m=a;++h<c;){l=u[h];var g=t[l],b=e[l];if(n)var v=a?n(b,g,l,e,t,s):n(g,b,l,t,e,s);if(!(v===o?g===b||i(g,b,r,n,s):v)){d=!1;break}m||(m=\"constructor\"==l)}if(d&&!m){var _=t.constructor,w=e.constructor;_!=w&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof _&&_ instanceof _&&\"function\"==typeof w&&w instanceof w)&&(d=!1)}return s.delete(t),s.delete(e),d}(t,e,r,n,i,s))}(t,e,r,n,oi,i))}function si(t,e,r,n){var i=r.length,s=i,a=!n;if(null==t)return!s;for(t=te(t);i--;){var u=r[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var c=(u=r[i])[0],f=t[c],h=u[1];if(a&&u[2]){if(f===o&&!(c in t))return!1}else{var l=new Sn;if(n)var p=n(f,h,c,t,e,l);if(!(p===o?oi(h,f,y|m,n,l):p))return!1}}return!0}function ai(t){return!(!xa(t)||function(t){return!!he&&he in t}(t))&&(ka(t)?ye:Gt).test(fs(t))}function ui(t){return\"function\"==typeof t?t:null==t?Iu:\"object\"==typeof t?ma(t)?di(t[0],t[1]):pi(t):Ku(t)}function ci(t){if(!Zo(t))return Hr(t);var e=[];for(var r in te(t))ce.call(t,r)&&\"constructor\"!=r&&e.push(r);return e}function fi(t){if(!xa(t))return function(t){var e=[];if(null!=t)for(var r in te(t))e.push(r);return e}(t);var e=Zo(t),r=[];for(var n in t)(\"constructor\"!=n||!e&&ce.call(t,n))&&r.push(n);return r}function hi(t,e){return t<e}function li(t,e){var n=-1,i=ba(t)?r(t.length):[];return Dn(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function pi(t){var e=Ko(t);return 1==e.length&&e[0][2]?Qo(e[0][0],e[0][1]):function(r){return r===t||si(r,t,e)}}function di(t,e){return $o(t)&&Xo(e)?Qo(cs(t),e):function(r){var n=Xa(r,t);return n===o&&n===e?Qa(r,t):oi(e,n,y|m)}}function yi(t,e,r,n,i){t!==e&&Vn(e,function(s,a){if(xa(s))i||(i=new Sn),function(t,e,r,n,i,s,a){var u=Br(t,r),c=Br(e,r),f=a.get(c);if(f)Tn(t,r,f);else{var h=s?s(u,c,r+\"\",t,e,a):o,l=h===o;if(l){var p=ma(c),d=!p&&_a(c),y=!p&&!d&&ja(c);h=c,p||d||y?ma(u)?h=u:va(u)?h=ro(u):d?(l=!1,h=Ji(c,!0)):y?(l=!1,h=Xi(c,!0)):h=[]:Ca(c)||ya(c)?(h=u,ya(u)?h=Ha(u):(!xa(u)||n&&ka(u))&&(h=zo(c))):l=!1}l&&(a.set(c,h),i(h,c,n,s,a),a.delete(c)),Tn(t,r,h)}}(t,e,a,r,yi,n,i);else{var u=n?n(Br(t,a),s,a+\"\",t,e,i):o;u===o&&(u=s),Tn(t,a,u)}},iu)}function mi(t,e){var r=t.length;if(r)return Go(e+=e<0?r:0,r)?t[e]:o}function gi(t,e,r){var n=-1;return e=Qe(e.length?e:[Iu],mr(No())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(li(t,function(t,r,i){return{criteria:Qe(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var u=Qi(i[n],o[n]);if(u){if(n>=a)return u;var c=r[n];return u*(\"desc\"==c?-1:1)}}return t.index-e.index}(t,e,r)})}function bi(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var s=e[n],a=Jn(t,s);r(a,s)&&xi(o,Gi(s,t),a)}return o}function vi(t,e,r,n){var i=n?ur:ar,o=-1,s=e.length,a=t;for(t===e&&(e=ro(e)),r&&(a=Qe(t,mr(r)));++o<s;)for(var u=0,c=e[o],f=r?r(c):c;(u=i(a,f,u,n))>-1;)a!==t&&Re.call(a,u,1),Re.call(t,u,1);return t}function _i(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;Go(i)?Re.call(t,i,1):Ki(t,i)}}return t}function wi(t,e){return t+Kr($r()*(e-t+1))}function Si(t,e){var r=\"\";if(!t||e<1||e>R)return r;do{e%2&&(r+=t),(e=Kr(e/2))&&(t+=t)}while(e);return r}function ki(t,e){return is(ts(t,e,Iu),t+\"\")}function Ei(t){return En(lu(t))}function Ai(t,e){var r=lu(t);return as(r,Rn(e,0,r.length))}function xi(t,e,r,n){if(!xa(t))return t;for(var i=-1,s=(e=Gi(e,t)).length,a=s-1,u=t;null!=u&&++i<s;){var c=cs(e[i]),f=r;if(i!=a){var h=u[c];(f=n?n(h,c,u):o)===o&&(f=xa(h)?h:Go(e[i+1])?[]:{})}Bn(u,c,f),u=u[c]}return t}var Ti=rn?function(t,e){return rn.set(t,e),t}:Iu,Bi=ir?function(t,e){return ir(t,\"toString\",{configurable:!0,enumerable:!1,value:xu(e),writable:!0})}:Iu;function Ii(t){return as(lu(t))}function Ci(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function Mi(t,e){var r;return Dn(t,function(t,n,i){return!(r=e(t,n,i))}),!!r}function Pi(t,e,r){var n=0,i=null==t?n:t.length;if(\"number\"==typeof e&&e==e&&i<=D){for(;n<i;){var o=n+i>>>1,s=t[o];null!==s&&!Ra(s)&&(r?s<=e:s<e)?n=o+1:i=o}return i}return Oi(t,e,Iu,r)}function Oi(t,e,r,n){e=r(e);for(var i=0,s=null==t?0:t.length,a=e!=e,u=null===e,c=Ra(e),f=e===o;i<s;){var h=Kr((i+s)/2),l=r(t[h]),p=l!==o,d=null===l,y=l==l,m=Ra(l);if(a)var g=n||y;else g=f?y&&(n||p):u?y&&p&&(n||!d):c?y&&p&&!d&&(n||!m):!d&&!m&&(n?l<=e:l<e);g?i=h+1:s=h}return Vr(s,K)}function Ri(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var s=t[r],a=e?e(s):s;if(!r||!la(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ji(t){return\"number\"==typeof t?t:Ra(t)?N:+t}function Ni(t){if(\"string\"==typeof t)return t;if(ma(t))return Qe(t,Ni)+\"\";if(Ra(t))return ln?ln.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-O?\"-0\":e}function Li(t,e,r){var n=-1,i=Ze,o=t.length,a=!0,u=[],c=u;if(r)a=!1,i=Xe;else if(o>=s){var f=e?null:ko(t);if(f)return Ir(f);a=!1,i=br,c=new wn}else c=e?[]:u;t:for(;++n<o;){var h=t[n],l=e?e(h):h;if(h=r||0!==h?h:0,a&&l==l){for(var p=c.length;p--;)if(c[p]===l)continue t;e&&c.push(l),u.push(h)}else i(c,l,r)||(c!==u&&c.push(l),u.push(h))}return u}function Ki(t,e){return null==(t=es(t,e=Gi(e,t)))||delete t[cs(Ss(e))]}function Di(t,e,r,n){return xi(t,e,r(Jn(t,e)),n)}function Ui(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Ci(t,n?0:o,n?o+1:i):Ci(t,n?o+1:0,n?i:o)}function Fi(t,e){var r=t;return r instanceof gn&&(r=r.value()),er(e,function(t,e){return e.func.apply(e.thisArg,tr([t],e.args))},r)}function qi(t,e,n){var i=t.length;if(i<2)return i?Li(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Kn(s[o]||a,t[u],e,n));return Li(zn(s,1),e,n)}function Hi(t,e,r){for(var n=-1,i=t.length,s=e.length,a={};++n<i;){var u=n<s?e[n]:o;r(a,t[n],u)}return a}function zi(t){return va(t)?t:[]}function Vi(t){return\"function\"==typeof t?t:Iu}function Gi(t,e){return ma(t)?t:$o(t,e)?[t]:us(za(t))}var Wi=ki;function $i(t,e,r){var n=t.length;return r=r===o?n:r,!e&&r>=n?t:Ci(t,e,r)}var Yi=lr||function(t){return Oe.clearTimeout(t)};function Ji(t,e){if(e)return t.slice();var r=t.length,n=Se?Se(r):new t.constructor(r);return t.copy(n),n}function Zi(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e}function Xi(t,e){var r=e?Zi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Qi(t,e){if(t!==e){var r=t!==o,n=null===t,i=t==t,s=Ra(t),a=e!==o,u=null===e,c=e==e,f=Ra(e);if(!u&&!f&&!s&&t>e||s&&a&&c&&!u&&!f||n&&a&&c||!r&&c||!i)return 1;if(!n&&!s&&!f&&t<e||f&&r&&i&&!n&&!s||u&&r&&i||!a&&i||!c)return-1}return 0}function to(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,c=e.length,f=zr(s-a,0),h=r(c+f),l=!i;++u<c;)h[u]=e[u];for(;++o<a;)(l||o<s)&&(h[n[o]]=t[o]);for(;f--;)h[u++]=t[o++];return h}function eo(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,c=-1,f=e.length,h=zr(s-u,0),l=r(h+f),p=!i;++o<h;)l[o]=t[o];for(var d=o;++c<f;)l[d+c]=e[c];for(;++a<u;)(p||o<s)&&(l[d+n[a]]=t[o++]);return l}function ro(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function no(t,e,r,n){var i=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=n?n(r[u],t[u],u,r,t):o;c===o&&(c=t[u]),i?Pn(r,u,c):Bn(r,u,c)}return r}function io(t,e){return function(r,n){var i=ma(r)?Ge:Cn,o=e?e():{};return i(r,t,No(n,2),o)}}function oo(t){return ki(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:o,a=i>2?r[2]:o;for(s=t.length>3&&\"function\"==typeof s?(i--,s):o,a&&Wo(r[0],r[1],a)&&(s=i<3?o:s,i=1),e=te(e);++n<i;){var u=r[n];u&&t(e,u,n,s)}return e})}function so(t,e){return function(r,n){if(null==r)return r;if(!ba(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=te(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function ao(t){return function(e,r,n){for(var i=-1,o=te(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}function uo(t){return function(e){var r=Er(e=za(e))?Pr(e):o,n=r?r[0]:e.charAt(0),i=r?$i(r,1).join(\"\"):e.slice(1);return n[t]()+i}}function co(t){return function(e){return er(ku(yu(e).replace(be,\"\")),t,\"\")}}function fo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=dn(t.prototype),n=t.apply(r,e);return xa(n)?n:r}}function ho(t){return function(e,r,n){var i=te(e);if(!ba(e)){var s=No(r,3);e=nu(e),r=function(t){return s(i[t],t,i)}}var a=t(e,r,n);return a>-1?i[s?e[a]:a]:o}}function lo(t){return Co(function(e){var r=e.length,n=r,i=mn.prototype.thru;for(t&&e.reverse();n--;){var s=e[n];if(\"function\"!=typeof s)throw new ne(u);if(i&&!a&&\"wrapper\"==Ro(s))var a=new mn([],!0)}for(n=a?n:r;++n<r;){var c=Ro(s=e[n]),f=\"wrapper\"==c?Oo(s):o;a=f&&Yo(f[0])&&f[1]==(E|_|S|A)&&!f[4].length&&1==f[9]?a[Ro(f[0])].apply(a,f[3]):1==s.length&&Yo(s)?a[c]():a.thru(s)}return function(){var t=arguments,n=t[0];if(a&&1==t.length&&ma(n))return a.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}})}function po(t,e,n,i,s,a,u,c,f,h){var l=e&E,p=e&g,d=e&b,y=e&(_|w),m=e&x,v=d?o:fo(t);return function g(){for(var b=arguments.length,_=r(b),w=b;w--;)_[w]=arguments[w];if(y)var S=jo(g),k=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(_,S);if(i&&(_=to(_,i,s,y)),a&&(_=eo(_,a,u,y)),b-=k,y&&b<h){var E=Tr(_,S);return wo(t,e,po,g.placeholder,n,_,E,c,f,h-b)}var A=p?n:this,x=d?A[t]:t;return b=_.length,c?_=function(t,e){for(var r=t.length,n=Vr(e.length,r),i=ro(t);n--;){var s=e[n];t[n]=Go(s,r)?i[s]:o}return t}(_,c):m&&b>1&&_.reverse(),l&&f<b&&(_.length=f),this&&this!==Oe&&this instanceof g&&(x=v||fo(x)),x.apply(A,_)}}function yo(t,e){return function(r,n){return function(t,e,r,n){return Wn(t,function(t,i,o){e(n,r(t),i,o)}),n}(r,t,e(n),{})}}function mo(t,e){return function(r,n){var i;if(r===o&&n===o)return e;if(r!==o&&(i=r),n!==o){if(i===o)return n;\"string\"==typeof r||\"string\"==typeof n?(r=Ni(r),n=Ni(n)):(r=ji(r),n=ji(n)),i=t(r,n)}return i}}function go(t){return Co(function(e){return e=Qe(e,mr(No())),ki(function(r){var n=this;return t(e,function(t){return Ve(t,n,r)})})})}function bo(t,e){var r=(e=e===o?\" \":Ni(e)).length;if(r<2)return r?Si(e,t):e;var n=Si(e,Lr(t/Mr(e)));return Er(e)?$i(Pr(n),0,t).join(\"\"):n.slice(0,t)}function vo(t){return function(e,n,i){return i&&\"number\"!=typeof i&&Wo(e,n,i)&&(n=i=o),e=Da(e),n===o?(n=e,e=0):n=Da(n),function(t,e,n,i){for(var o=-1,s=zr(Lr((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,i=i===o?e<n?1:-1:Da(i),t)}}function _o(t){return function(e,r){return\"string\"==typeof e&&\"string\"==typeof r||(e=qa(e),r=qa(r)),t(e,r)}}function wo(t,e,r,n,i,s,a,u,c,f){var h=e&_;e|=h?S:k,(e&=~(h?k:S))&v||(e&=~(g|b));var l=[t,e,i,h?s:o,h?a:o,h?o:s,h?o:a,u,c,f],p=r.apply(o,l);return Yo(t)&&rs(p,l),p.placeholder=n,os(p,t,e)}function So(t){var e=Qt[t];return function(t,r){if(t=qa(t),r=null==r?0:Vr(Ua(r),292)){var n=(za(t)+\"e\").split(\"e\");return+((n=(za(e(n[0]+\"e\"+(+n[1]+r)))+\"e\").split(\"e\"))[0]+\"e\"+(+n[1]-r))}return e(t)}}var ko=Qr&&1/Ir(new Qr([,-0]))[1]==O?function(t){return new Qr(t)}:Ru;function Eo(t){return function(e){var r=qo(e);return r==J?Ar(e):r==rt?Cr(e):function(t,e){return Qe(e,function(e){return[e,t[e]]})}(e,t(e))}}function Ao(t,e,n,i,s,a,c,f){var l=e&b;if(!l&&\"function\"!=typeof t)throw new ne(u);var p=i?i.length:0;if(p||(e&=~(S|k),i=s=o),c=c===o?c:zr(Ua(c),0),f=f===o?f:Ua(f),p-=s?s.length:0,e&k){var d=i,y=s;i=s=o}var m=l?o:Oo(t),x=[t,e,n,i,s,d,y,a,c,f];if(m&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<(g|b|E),s=n==E&&r==_||n==E&&r==A&&t[7].length<=e[8]||n==(E|A)&&e[7].length<=e[8]&&r==_;if(!o&&!s)return t;n&g&&(t[2]=e[2],i|=r&g?0:v);var a=e[3];if(a){var u=t[3];t[3]=u?to(u,a,e[4]):a,t[4]=u?Tr(t[3],h):e[4]}(a=e[5])&&(u=t[5],t[5]=u?eo(u,a,e[6]):a,t[6]=u?Tr(t[5],h):e[6]),(a=e[7])&&(t[7]=a),n&E&&(t[8]=null==t[8]?e[8]:Vr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(x,m),t=x[0],e=x[1],n=x[2],i=x[3],s=x[4],!(f=x[9]=x[9]===o?l?0:t.length:zr(x[9]-p,0))&&e&(_|w)&&(e&=~(_|w)),e&&e!=g)T=e==_||e==w?function(t,e,n){var i=fo(t);return function s(){for(var a=arguments.length,u=r(a),c=a,f=jo(s);c--;)u[c]=arguments[c];var h=a<3&&u[0]!==f&&u[a-1]!==f?[]:Tr(u,f);return(a-=h.length)<n?wo(t,e,po,s.placeholder,o,u,h,o,o,n-a):Ve(this&&this!==Oe&&this instanceof s?i:t,this,u)}}(t,e,f):e!=S&&e!=(g|S)||s.length?po.apply(o,x):function(t,e,n,i){var o=e&g,s=fo(t);return function e(){for(var a=-1,u=arguments.length,c=-1,f=i.length,h=r(f+u),l=this&&this!==Oe&&this instanceof e?s:t;++c<f;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return Ve(l,o?n:this,h)}}(t,e,n,i);else var T=function(t,e,r){var n=e&g,i=fo(t);return function e(){return(this&&this!==Oe&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,n);return os((m?Ti:rs)(T,x),t,e)}function xo(t,e,r,n){return t===o||la(t,se[r])&&!ce.call(n,r)?e:t}function To(t,e,r,n,i,s){return xa(t)&&xa(e)&&(s.set(e,t),yi(t,e,o,To,s),s.delete(e)),t}function Bo(t){return Ca(t)?o:t}function Io(t,e,r,n,i,s){var a=r&y,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var f=s.get(t);if(f&&s.get(e))return f==e;var h=-1,l=!0,p=r&m?new wn:o;for(s.set(t,e),s.set(e,t);++h<u;){var d=t[h],g=e[h];if(n)var b=a?n(g,d,h,e,t,s):n(d,g,h,t,e,s);if(b!==o){if(b)continue;l=!1;break}if(p){if(!nr(e,function(t,e){if(!br(p,e)&&(d===t||i(d,t,r,n,s)))return p.push(e)})){l=!1;break}}else if(d!==g&&!i(d,g,r,n,s)){l=!1;break}}return s.delete(t),s.delete(e),l}function Co(t){return is(ts(t,o,gs),t+\"\")}function Mo(t){return Zn(t,nu,Uo)}function Po(t){return Zn(t,iu,Fo)}var Oo=rn?function(t){return rn.get(t)}:Ru;function Ro(t){for(var e=t.name+\"\",r=nn[e],n=ce.call(nn,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function jo(t){return(ce.call(pn,\"placeholder\")?pn:t).placeholder}function No(){var t=pn.iteratee||Cu;return t=t===Cu?ui:t,arguments.length?t(arguments[0],arguments[1]):t}function Lo(t,e){var r=t.__data__;return function(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}(e)?r[\"string\"==typeof e?\"string\":\"hash\"]:r.map}function Ko(t){for(var e=nu(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Xo(i)]}return e}function Do(t,e){var r=function(t,e){return null==t?o:t[e]}(t,e);return ai(r)?r:o}var Uo=Dr?function(t){return null==t?[]:(t=te(t),Je(Dr(t),function(e){return Pe.call(t,e)}))}:Fu,Fo=Dr?function(t){for(var e=[];t;)tr(e,Uo(t)),t=Be(t);return e}:Fu,qo=Xn;function Ho(t,e,r){for(var n=-1,i=(e=Gi(e,t)).length,o=!1;++n<i;){var s=cs(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&Aa(i)&&Go(s,i)&&(ma(t)||ya(t))}function zo(t){return\"function\"!=typeof t.constructor||Zo(t)?{}:dn(Be(t))}function Vo(t){return ma(t)||ya(t)||!!(je&&t&&t[je])}function Go(t,e){var r=typeof t;return!!(e=null==e?R:e)&&(\"number\"==r||\"symbol\"!=r&&$t.test(t))&&t>-1&&t%1==0&&t<e}function Wo(t,e,r){if(!xa(r))return!1;var n=typeof e;return!!(\"number\"==n?ba(r)&&Go(e,r.length):\"string\"==n&&e in r)&&la(r[e],t)}function $o(t,e){if(ma(t))return!1;var r=typeof t;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=t&&!Ra(t))||Ct.test(t)||!It.test(t)||null!=e&&t in te(e)}function Yo(t){var e=Ro(t),r=pn[e];if(\"function\"!=typeof r||!(e in gn.prototype))return!1;if(t===r)return!0;var n=Oo(r);return!!n&&t===n[0]}(Jr&&qo(new Jr(new ArrayBuffer(1)))!=ct||Zr&&qo(new Zr)!=J||Xr&&\"[object Promise]\"!=qo(Xr.resolve())||Qr&&qo(new Qr)!=rt||tn&&qo(new tn)!=st)&&(qo=function(t){var e=Xn(t),r=e==Q?t.constructor:o,n=r?fs(r):\"\";if(n)switch(n){case on:return ct;case sn:return J;case an:return\"[object Promise]\";case un:return rt;case cn:return st}return e});var Jo=ae?ka:qu;function Zo(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||se)}function Xo(t){return t==t&&!xa(t)}function Qo(t,e){return function(r){return null!=r&&r[t]===e&&(e!==o||t in te(r))}}function ts(t,e,n){return e=zr(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=zr(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),Ve(t,this,u)}}function es(t,e){return e.length<2?t:Jn(t,Ci(e,0,-1))}var rs=ss(Ti),ns=Nr||function(t,e){return Oe.setTimeout(t,e)},is=ss(Bi);function os(t,e,r){var n=e+\"\";return is(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?\"& \":\"\")+e[n],e=e.join(r>2?\", \":\" \"),t.replace(Lt,\"{\\n/* [wrapped with \"+e+\"] */\\n\")}(n,function(t,e){return We(U,function(r){var n=\"_.\"+r[0];e&r[1]&&!Ze(t,n)&&t.push(n)}),t.sort()}(function(t){var e=t.match(Kt);return e?e[1].split(Dt):[]}(n),r)))}function ss(t){var e=0,r=0;return function(){var n=Gr(),i=C-(n-r);if(r=n,i>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(o,arguments)}}function as(t,e){var r=-1,n=t.length,i=n-1;for(e=e===o?n:e;++r<e;){var s=wi(r,i),a=t[s];t[s]=t[r],t[r]=a}return t.length=e,t}var us=function(t){var e=sa(t,function(t){return r.size===f&&r.clear(),t}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(\"\"),t.replace(Mt,function(t,r,n,i){e.push(n?i.replace(Ft,\"$1\"):r||t)}),e});function cs(t){if(\"string\"==typeof t||Ra(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-O?\"-0\":e}function fs(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}function hs(t){if(t instanceof gn)return t.clone();var e=new mn(t.__wrapped__,t.__chain__);return e.__actions__=ro(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ls=ki(function(t,e){return va(t)?Kn(t,zn(e,1,va,!0)):[]}),ps=ki(function(t,e){var r=Ss(e);return va(r)&&(r=o),va(t)?Kn(t,zn(e,1,va,!0),No(r,2)):[]}),ds=ki(function(t,e){var r=Ss(e);return va(r)&&(r=o),va(t)?Kn(t,zn(e,1,va,!0),o,r):[]});function ys(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Ua(r);return i<0&&(i=zr(n+i,0)),sr(t,No(e,3),i)}function ms(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return r!==o&&(i=Ua(r),i=r<0?zr(n+i,0):Vr(i,n-1)),sr(t,No(e,3),i,!0)}function gs(t){return null!=t&&t.length?zn(t,1):[]}function bs(t){return t&&t.length?t[0]:o}var vs=ki(function(t){var e=Qe(t,zi);return e.length&&e[0]===t[0]?ri(e):[]}),_s=ki(function(t){var e=Ss(t),r=Qe(t,zi);return e===Ss(r)?e=o:r.pop(),r.length&&r[0]===t[0]?ri(r,No(e,2)):[]}),ws=ki(function(t){var e=Ss(t),r=Qe(t,zi);return(e=\"function\"==typeof e?e:o)&&r.pop(),r.length&&r[0]===t[0]?ri(r,o,e):[]});function Ss(t){var e=null==t?0:t.length;return e?t[e-1]:o}var ks=ki(Es);function Es(t,e){return t&&t.length&&e&&e.length?vi(t,e):t}var As=Co(function(t,e){var r=null==t?0:t.length,n=On(t,e);return _i(t,Qe(e,function(t){return Go(t,r)?+t:t}).sort(Qi)),n});function xs(t){return null==t?t:Yr.call(t)}var Ts=ki(function(t){return Li(zn(t,1,va,!0))}),Bs=ki(function(t){var e=Ss(t);return va(e)&&(e=o),Li(zn(t,1,va,!0),No(e,2))}),Is=ki(function(t){var e=Ss(t);return e=\"function\"==typeof e?e:o,Li(zn(t,1,va,!0),o,e)});function Cs(t){if(!t||!t.length)return[];var e=0;return t=Je(t,function(t){if(va(t))return e=zr(t.length,e),!0}),yr(e,function(e){return Qe(t,hr(e))})}function Ms(t,e){if(!t||!t.length)return[];var r=Cs(t);return null==e?r:Qe(r,function(t){return Ve(e,o,t)})}var Ps=ki(function(t,e){return va(t)?Kn(t,e):[]}),Os=ki(function(t){return qi(Je(t,va))}),Rs=ki(function(t){var e=Ss(t);return va(e)&&(e=o),qi(Je(t,va),No(e,2))}),js=ki(function(t){var e=Ss(t);return e=\"function\"==typeof e?e:o,qi(Je(t,va),o,e)}),Ns=ki(Cs);var Ls=ki(function(t){var e=t.length,r=e>1?t[e-1]:o;return Ms(t,r=\"function\"==typeof r?(t.pop(),r):o)});function Ks(t){var e=pn(t);return e.__chain__=!0,e}function Ds(t,e){return e(t)}var Us=Co(function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,i=function(e){return On(e,t)};return!(e>1||this.__actions__.length)&&n instanceof gn&&Go(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:Ds,args:[i],thisArg:o}),new mn(n,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Fs=io(function(t,e,r){ce.call(t,r)?++t[r]:Pn(t,r,1)});var qs=ho(ys),Hs=ho(ms);function zs(t,e){return(ma(t)?We:Dn)(t,No(e,3))}function Vs(t,e){return(ma(t)?$e:Un)(t,No(e,3))}var Gs=io(function(t,e,r){ce.call(t,r)?t[r].push(e):Pn(t,r,[e])});var Ws=ki(function(t,e,n){var i=-1,o=\"function\"==typeof e,s=ba(t)?r(t.length):[];return Dn(t,function(t){s[++i]=o?Ve(e,t,n):ni(t,e,n)}),s}),$s=io(function(t,e,r){Pn(t,r,e)});function Ys(t,e){return(ma(t)?Qe:li)(t,No(e,3))}var Js=io(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});var Zs=ki(function(t,e){if(null==t)return[];var r=e.length;return r>1&&Wo(t,e[0],e[1])?e=[]:r>2&&Wo(e[0],e[1],e[2])&&(e=[e[0]]),gi(t,zn(e,1),[])}),Xs=jr||function(){return Oe.Date.now()};function Qs(t,e,r){return e=r?o:e,e=t&&null==e?t.length:e,Ao(t,E,o,o,o,o,e)}function ta(t,e){var r;if(\"function\"!=typeof e)throw new ne(u);return t=Ua(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=o),r}}var ea=ki(function(t,e,r){var n=g;if(r.length){var i=Tr(r,jo(ea));n|=S}return Ao(t,n,e,r,i)}),ra=ki(function(t,e,r){var n=g|b;if(r.length){var i=Tr(r,jo(ra));n|=S}return Ao(e,n,t,r,i)});function na(t,e,r){var n,i,s,a,c,f,h=0,l=!1,p=!1,d=!0;if(\"function\"!=typeof t)throw new ne(u);function y(e){var r=n,s=i;return n=i=o,h=e,a=t.apply(s,r)}function m(t){var r=t-f;return f===o||r>=e||r<0||p&&t-h>=s}function g(){var t=Xs();if(m(t))return b(t);c=ns(g,function(t){var r=e-(t-f);return p?Vr(r,s-(t-h)):r}(t))}function b(t){return c=o,d&&n?y(t):(n=i=o,a)}function v(){var t=Xs(),r=m(t);if(n=arguments,i=this,f=t,r){if(c===o)return function(t){return h=t,c=ns(g,e),l?y(t):a}(f);if(p)return c=ns(g,e),y(f)}return c===o&&(c=ns(g,e)),a}return e=qa(e)||0,xa(r)&&(l=!!r.leading,s=(p=\"maxWait\"in r)?zr(qa(r.maxWait)||0,e):s,d=\"trailing\"in r?!!r.trailing:d),v.cancel=function(){c!==o&&Yi(c),h=0,n=f=i=c=o},v.flush=function(){return c===o?a:b(Xs())},v}var ia=ki(function(t,e){return Ln(t,1,e)}),oa=ki(function(t,e,r){return Ln(t,qa(e)||0,r)});function sa(t,e){if(\"function\"!=typeof t||null!=e&&\"function\"!=typeof e)throw new ne(u);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(sa.Cache||_n),r}function aa(t){if(\"function\"!=typeof t)throw new ne(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}sa.Cache=_n;var ua=Wi(function(t,e){var r=(e=1==e.length&&ma(e[0])?Qe(e[0],mr(No())):Qe(zn(e,1),mr(No()))).length;return ki(function(n){for(var i=-1,o=Vr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return Ve(t,this,n)})}),ca=ki(function(t,e){var r=Tr(e,jo(ca));return Ao(t,S,o,e,r)}),fa=ki(function(t,e){var r=Tr(e,jo(fa));return Ao(t,k,o,e,r)}),ha=Co(function(t,e){return Ao(t,A,o,o,o,e)});function la(t,e){return t===e||t!=t&&e!=e}var pa=_o(Qn),da=_o(function(t,e){return t>=e}),ya=ii(function(){return arguments}())?ii:function(t){return Ta(t)&&ce.call(t,\"callee\")&&!Pe.call(t,\"callee\")},ma=r.isArray,ga=De?mr(De):function(t){return Ta(t)&&Xn(t)==ut};function ba(t){return null!=t&&Aa(t.length)&&!ka(t)}function va(t){return Ta(t)&&ba(t)}var _a=Ur||qu,wa=Ue?mr(Ue):function(t){return Ta(t)&&Xn(t)==V};function Sa(t){if(!Ta(t))return!1;var e=Xn(t);return e==W||e==G||\"string\"==typeof t.message&&\"string\"==typeof t.name&&!Ca(t)}function ka(t){if(!xa(t))return!1;var e=Xn(t);return e==$||e==Y||e==H||e==tt}function Ea(t){return\"number\"==typeof t&&t==Ua(t)}function Aa(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=R}function xa(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}function Ta(t){return null!=t&&\"object\"==typeof t}var Ba=Fe?mr(Fe):function(t){return Ta(t)&&qo(t)==J};function Ia(t){return\"number\"==typeof t||Ta(t)&&Xn(t)==Z}function Ca(t){if(!Ta(t)||Xn(t)!=Q)return!1;var e=Be(t);if(null===e)return!0;var r=ce.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof r&&r instanceof r&&ue.call(r)==pe}var Ma=qe?mr(qe):function(t){return Ta(t)&&Xn(t)==et};var Pa=He?mr(He):function(t){return Ta(t)&&qo(t)==rt};function Oa(t){return\"string\"==typeof t||!ma(t)&&Ta(t)&&Xn(t)==nt}function Ra(t){return\"symbol\"==typeof t||Ta(t)&&Xn(t)==it}var ja=ze?mr(ze):function(t){return Ta(t)&&Aa(t.length)&&!!xe[Xn(t)]};var Na=_o(hi),La=_o(function(t,e){return t<=e});function Ka(t){if(!t)return[];if(ba(t))return Oa(t)?Pr(t):ro(t);if(Le&&t[Le])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Le]());var e=qo(t);return(e==J?Ar:e==rt?Ir:lu)(t)}function Da(t){return t?(t=qa(t))===O||t===-O?(t<0?-1:1)*j:t==t?t:0:0===t?t:0}function Ua(t){var e=Da(t),r=e%1;return e==e?r?e-r:e:0}function Fa(t){return t?Rn(Ua(t),0,L):0}function qa(t){if(\"number\"==typeof t)return t;if(Ra(t))return N;if(xa(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=xa(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(Rt,\"\");var r=Vt.test(t);return r||Wt.test(t)?Ce(t.slice(2),r?2:8):zt.test(t)?N:+t}function Ha(t){return no(t,iu(t))}function za(t){return null==t?\"\":Ni(t)}var Va=oo(function(t,e){if(Zo(e)||ba(e))no(e,nu(e),t);else for(var r in e)ce.call(e,r)&&Bn(t,r,e[r])}),Ga=oo(function(t,e){no(e,iu(e),t)}),Wa=oo(function(t,e,r,n){no(e,iu(e),t,n)}),$a=oo(function(t,e,r,n){no(e,nu(e),t,n)}),Ya=Co(On);var Ja=ki(function(t,e){t=te(t);var r=-1,n=e.length,i=n>2?e[2]:o;for(i&&Wo(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],a=iu(s),u=-1,c=a.length;++u<c;){var f=a[u],h=t[f];(h===o||la(h,se[f])&&!ce.call(t,f))&&(t[f]=s[f])}return t}),Za=ki(function(t){return t.push(o,To),Ve(su,o,t)});function Xa(t,e,r){var n=null==t?o:Jn(t,e);return n===o?r:n}function Qa(t,e){return null!=t&&Ho(t,e,ei)}var tu=yo(function(t,e,r){null!=e&&\"function\"!=typeof e.toString&&(e=le.call(e)),t[e]=r},xu(Iu)),eu=yo(function(t,e,r){null!=e&&\"function\"!=typeof e.toString&&(e=le.call(e)),ce.call(t,e)?t[e].push(r):t[e]=[r]},No),ru=ki(ni);function nu(t){return ba(t)?kn(t):ci(t)}function iu(t){return ba(t)?kn(t,!0):fi(t)}var ou=oo(function(t,e,r){yi(t,e,r)}),su=oo(function(t,e,r,n){yi(t,e,r,n)}),au=Co(function(t,e){var r={};if(null==t)return r;var n=!1;e=Qe(e,function(e){return e=Gi(e,t),n||(n=e.length>1),e}),no(t,Po(t),r),n&&(r=jn(r,l|p|d,Bo));for(var i=e.length;i--;)Ki(r,e[i]);return r});var uu=Co(function(t,e){return null==t?{}:function(t,e){return bi(t,e,function(e,r){return Qa(t,r)})}(t,e)});function cu(t,e){if(null==t)return{};var r=Qe(Po(t),function(t){return[t]});return e=No(e),bi(t,r,function(t,r){return e(t,r[0])})}var fu=Eo(nu),hu=Eo(iu);function lu(t){return null==t?[]:gr(t,nu(t))}var pu=co(function(t,e,r){return e=e.toLowerCase(),t+(r?du(e):e)});function du(t){return Su(za(t).toLowerCase())}function yu(t){return(t=za(t))&&t.replace(Yt,wr).replace(ve,\"\")}var mu=co(function(t,e,r){return t+(r?\"-\":\"\")+e.toLowerCase()}),gu=co(function(t,e,r){return t+(r?\" \":\"\")+e.toLowerCase()}),bu=uo(\"toLowerCase\");var vu=co(function(t,e,r){return t+(r?\"_\":\"\")+e.toLowerCase()});var _u=co(function(t,e,r){return t+(r?\" \":\"\")+Su(e)});var wu=co(function(t,e,r){return t+(r?\" \":\"\")+e.toUpperCase()}),Su=uo(\"toUpperCase\");function ku(t,e,r){return t=za(t),(e=r?o:e)===o?function(t){return ke.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(Ut)||[]}(t):t.match(e)||[]}var Eu=ki(function(t,e){try{return Ve(t,o,e)}catch(t){return Sa(t)?t:new i(t)}}),Au=Co(function(t,e){return We(e,function(e){e=cs(e),Pn(t,e,ea(t[e],t))}),t});function xu(t){return function(){return t}}var Tu=lo(),Bu=lo(!0);function Iu(t){return t}function Cu(t){return ui(\"function\"==typeof t?t:jn(t,l))}var Mu=ki(function(t,e){return function(r){return ni(r,t,e)}}),Pu=ki(function(t,e){return function(r){return ni(t,r,e)}});function Ou(t,e,r){var n=nu(e),i=Yn(e,n);null!=r||xa(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=Yn(e,nu(e)));var o=!(xa(r)&&\"chain\"in r&&!r.chain),s=ka(t);return We(i,function(r){var n=e[r];t[r]=n,s&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__);return(r.__actions__=ro(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,tr([this.value()],arguments))})}),t}function Ru(){}var ju=go(Qe),Nu=go(Ye),Lu=go(nr);function Ku(t){return $o(t)?hr(cs(t)):function(t){return function(e){return Jn(e,t)}}(t)}var Du=vo(),Uu=vo(!0);function Fu(){return[]}function qu(){return!1}var Hu=mo(function(t,e){return t+e},0),zu=So(\"ceil\"),Vu=mo(function(t,e){return t/e},1),Gu=So(\"floor\");var Wu=mo(function(t,e){return t*e},1),$u=So(\"round\"),Yu=mo(function(t,e){return t-e},0);return pn.after=function(t,e){if(\"function\"!=typeof e)throw new ne(u);return t=Ua(t),function(){if(--t<1)return e.apply(this,arguments)}},pn.ary=Qs,pn.assign=Va,pn.assignIn=Ga,pn.assignInWith=Wa,pn.assignWith=$a,pn.at=Ya,pn.before=ta,pn.bind=ea,pn.bindAll=Au,pn.bindKey=ra,pn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ma(t)?t:[t]},pn.chain=Ks,pn.chunk=function(t,e,n){e=(n?Wo(t,e,n):e===o)?1:zr(Ua(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,u=r(Lr(i/e));s<i;)u[a++]=Ci(t,s,s+=e);return u},pn.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},pn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tr(ma(n)?ro(n):[n],zn(e,1))},pn.cond=function(t){var e=null==t?0:t.length,r=No();return t=e?Qe(t,function(t){if(\"function\"!=typeof t[1])throw new ne(u);return[r(t[0]),t[1]]}):[],ki(function(r){for(var n=-1;++n<e;){var i=t[n];if(Ve(i[0],this,r))return Ve(i[1],this,r)}})},pn.conforms=function(t){return function(t){var e=nu(t);return function(r){return Nn(r,t,e)}}(jn(t,l))},pn.constant=xu,pn.countBy=Fs,pn.create=function(t,e){var r=dn(t);return null==e?r:Mn(r,e)},pn.curry=function t(e,r,n){var i=Ao(e,_,o,o,o,o,o,r=n?o:r);return i.placeholder=t.placeholder,i},pn.curryRight=function t(e,r,n){var i=Ao(e,w,o,o,o,o,o,r=n?o:r);return i.placeholder=t.placeholder,i},pn.debounce=na,pn.defaults=Ja,pn.defaultsDeep=Za,pn.defer=ia,pn.delay=oa,pn.difference=ls,pn.differenceBy=ps,pn.differenceWith=ds,pn.drop=function(t,e,r){var n=null==t?0:t.length;return n?Ci(t,(e=r||e===o?1:Ua(e))<0?0:e,n):[]},pn.dropRight=function(t,e,r){var n=null==t?0:t.length;return n?Ci(t,0,(e=n-(e=r||e===o?1:Ua(e)))<0?0:e):[]},pn.dropRightWhile=function(t,e){return t&&t.length?Ui(t,No(e,3),!0,!0):[]},pn.dropWhile=function(t,e){return t&&t.length?Ui(t,No(e,3),!0):[]},pn.fill=function(t,e,r,n){var i=null==t?0:t.length;return i?(r&&\"number\"!=typeof r&&Wo(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=Ua(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:Ua(n))<0&&(n+=i),n=r>n?0:Fa(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},pn.filter=function(t,e){return(ma(t)?Je:Hn)(t,No(e,3))},pn.flatMap=function(t,e){return zn(Ys(t,e),1)},pn.flatMapDeep=function(t,e){return zn(Ys(t,e),O)},pn.flatMapDepth=function(t,e,r){return r=r===o?1:Ua(r),zn(Ys(t,e),r)},pn.flatten=gs,pn.flattenDeep=function(t){return null!=t&&t.length?zn(t,O):[]},pn.flattenDepth=function(t,e){return null!=t&&t.length?zn(t,e=e===o?1:Ua(e)):[]},pn.flip=function(t){return Ao(t,x)},pn.flow=Tu,pn.flowRight=Bu,pn.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},pn.functions=function(t){return null==t?[]:Yn(t,nu(t))},pn.functionsIn=function(t){return null==t?[]:Yn(t,iu(t))},pn.groupBy=Gs,pn.initial=function(t){return null!=t&&t.length?Ci(t,0,-1):[]},pn.intersection=vs,pn.intersectionBy=_s,pn.intersectionWith=ws,pn.invert=tu,pn.invertBy=eu,pn.invokeMap=Ws,pn.iteratee=Cu,pn.keyBy=$s,pn.keys=nu,pn.keysIn=iu,pn.map=Ys,pn.mapKeys=function(t,e){var r={};return e=No(e,3),Wn(t,function(t,n,i){Pn(r,e(t,n,i),t)}),r},pn.mapValues=function(t,e){var r={};return e=No(e,3),Wn(t,function(t,n,i){Pn(r,n,e(t,n,i))}),r},pn.matches=function(t){return pi(jn(t,l))},pn.matchesProperty=function(t,e){return di(t,jn(e,l))},pn.memoize=sa,pn.merge=ou,pn.mergeWith=su,pn.method=Mu,pn.methodOf=Pu,pn.mixin=Ou,pn.negate=aa,pn.nthArg=function(t){return t=Ua(t),ki(function(e){return mi(e,t)})},pn.omit=au,pn.omitBy=function(t,e){return cu(t,aa(No(e)))},pn.once=function(t){return ta(2,t)},pn.orderBy=function(t,e,r,n){return null==t?[]:(ma(e)||(e=null==e?[]:[e]),ma(r=n?o:r)||(r=null==r?[]:[r]),gi(t,e,r))},pn.over=ju,pn.overArgs=ua,pn.overEvery=Nu,pn.overSome=Lu,pn.partial=ca,pn.partialRight=fa,pn.partition=Js,pn.pick=uu,pn.pickBy=cu,pn.property=Ku,pn.propertyOf=function(t){return function(e){return null==t?o:Jn(t,e)}},pn.pull=ks,pn.pullAll=Es,pn.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?vi(t,e,No(r,2)):t},pn.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?vi(t,e,o,r):t},pn.pullAt=As,pn.range=Du,pn.rangeRight=Uu,pn.rearg=ha,pn.reject=function(t,e){return(ma(t)?Je:Hn)(t,aa(No(e,3)))},pn.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=No(e,3);++n<o;){var s=t[n];e(s,n,t)&&(r.push(s),i.push(n))}return _i(t,i),r},pn.rest=function(t,e){if(\"function\"!=typeof t)throw new ne(u);return ki(t,e=e===o?e:Ua(e))},pn.reverse=xs,pn.sampleSize=function(t,e,r){return e=(r?Wo(t,e,r):e===o)?1:Ua(e),(ma(t)?An:Ai)(t,e)},pn.set=function(t,e,r){return null==t?t:xi(t,e,r)},pn.setWith=function(t,e,r,n){return n=\"function\"==typeof n?n:o,null==t?t:xi(t,e,r,n)},pn.shuffle=function(t){return(ma(t)?xn:Ii)(t)},pn.slice=function(t,e,r){var n=null==t?0:t.length;return n?(r&&\"number\"!=typeof r&&Wo(t,e,r)?(e=0,r=n):(e=null==e?0:Ua(e),r=r===o?n:Ua(r)),Ci(t,e,r)):[]},pn.sortBy=Zs,pn.sortedUniq=function(t){return t&&t.length?Ri(t):[]},pn.sortedUniqBy=function(t,e){return t&&t.length?Ri(t,No(e,2)):[]},pn.split=function(t,e,r){return r&&\"number\"!=typeof r&&Wo(t,e,r)&&(e=r=o),(r=r===o?L:r>>>0)?(t=za(t))&&(\"string\"==typeof e||null!=e&&!Ma(e))&&!(e=Ni(e))&&Er(t)?$i(Pr(t),0,r):t.split(e,r):[]},pn.spread=function(t,e){if(\"function\"!=typeof t)throw new ne(u);return e=null==e?0:zr(Ua(e),0),ki(function(r){var n=r[e],i=$i(r,0,e);return n&&tr(i,n),Ve(t,this,i)})},pn.tail=function(t){var e=null==t?0:t.length;return e?Ci(t,1,e):[]},pn.take=function(t,e,r){return t&&t.length?Ci(t,0,(e=r||e===o?1:Ua(e))<0?0:e):[]},pn.takeRight=function(t,e,r){var n=null==t?0:t.length;return n?Ci(t,(e=n-(e=r||e===o?1:Ua(e)))<0?0:e,n):[]},pn.takeRightWhile=function(t,e){return t&&t.length?Ui(t,No(e,3),!1,!0):[]},pn.takeWhile=function(t,e){return t&&t.length?Ui(t,No(e,3)):[]},pn.tap=function(t,e){return e(t),t},pn.throttle=function(t,e,r){var n=!0,i=!0;if(\"function\"!=typeof t)throw new ne(u);return xa(r)&&(n=\"leading\"in r?!!r.leading:n,i=\"trailing\"in r?!!r.trailing:i),na(t,e,{leading:n,maxWait:e,trailing:i})},pn.thru=Ds,pn.toArray=Ka,pn.toPairs=fu,pn.toPairsIn=hu,pn.toPath=function(t){return ma(t)?Qe(t,cs):Ra(t)?[t]:ro(us(za(t)))},pn.toPlainObject=Ha,pn.transform=function(t,e,r){var n=ma(t),i=n||_a(t)||ja(t);if(e=No(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:xa(t)&&ka(o)?dn(Be(t)):{}}return(i?We:Wn)(t,function(t,n,i){return e(r,t,n,i)}),r},pn.unary=function(t){return Qs(t,1)},pn.union=Ts,pn.unionBy=Bs,pn.unionWith=Is,pn.uniq=function(t){return t&&t.length?Li(t):[]},pn.uniqBy=function(t,e){return t&&t.length?Li(t,No(e,2)):[]},pn.uniqWith=function(t,e){return e=\"function\"==typeof e?e:o,t&&t.length?Li(t,o,e):[]},pn.unset=function(t,e){return null==t||Ki(t,e)},pn.unzip=Cs,pn.unzipWith=Ms,pn.update=function(t,e,r){return null==t?t:Di(t,e,Vi(r))},pn.updateWith=function(t,e,r,n){return n=\"function\"==typeof n?n:o,null==t?t:Di(t,e,Vi(r),n)},pn.values=lu,pn.valuesIn=function(t){return null==t?[]:gr(t,iu(t))},pn.without=Ps,pn.words=ku,pn.wrap=function(t,e){return ca(Vi(e),t)},pn.xor=Os,pn.xorBy=Rs,pn.xorWith=js,pn.zip=Ns,pn.zipObject=function(t,e){return Hi(t||[],e||[],Bn)},pn.zipObjectDeep=function(t,e){return Hi(t||[],e||[],xi)},pn.zipWith=Ls,pn.entries=fu,pn.entriesIn=hu,pn.extend=Ga,pn.extendWith=Wa,Ou(pn,pn),pn.add=Hu,pn.attempt=Eu,pn.camelCase=pu,pn.capitalize=du,pn.ceil=zu,pn.clamp=function(t,e,r){return r===o&&(r=e,e=o),r!==o&&(r=(r=qa(r))==r?r:0),e!==o&&(e=(e=qa(e))==e?e:0),Rn(qa(t),e,r)},pn.clone=function(t){return jn(t,d)},pn.cloneDeep=function(t){return jn(t,l|d)},pn.cloneDeepWith=function(t,e){return jn(t,l|d,e=\"function\"==typeof e?e:o)},pn.cloneWith=function(t,e){return jn(t,d,e=\"function\"==typeof e?e:o)},pn.conformsTo=function(t,e){return null==e||Nn(t,e,nu(e))},pn.deburr=yu,pn.defaultTo=function(t,e){return null==t||t!=t?e:t},pn.divide=Vu,pn.endsWith=function(t,e,r){t=za(t),e=Ni(e);var n=t.length,i=r=r===o?n:Rn(Ua(r),0,n);return(r-=e.length)>=0&&t.slice(r,i)==e},pn.eq=la,pn.escape=function(t){return(t=za(t))&&At.test(t)?t.replace(kt,Sr):t},pn.escapeRegExp=function(t){return(t=za(t))&&Ot.test(t)?t.replace(Pt,\"\\\\$&\"):t},pn.every=function(t,e,r){var n=ma(t)?Ye:Fn;return r&&Wo(t,e,r)&&(e=o),n(t,No(e,3))},pn.find=qs,pn.findIndex=ys,pn.findKey=function(t,e){return or(t,No(e,3),Wn)},pn.findLast=Hs,pn.findLastIndex=ms,pn.findLastKey=function(t,e){return or(t,No(e,3),$n)},pn.floor=Gu,pn.forEach=zs,pn.forEachRight=Vs,pn.forIn=function(t,e){return null==t?t:Vn(t,No(e,3),iu)},pn.forInRight=function(t,e){return null==t?t:Gn(t,No(e,3),iu)},pn.forOwn=function(t,e){return t&&Wn(t,No(e,3))},pn.forOwnRight=function(t,e){return t&&$n(t,No(e,3))},pn.get=Xa,pn.gt=pa,pn.gte=da,pn.has=function(t,e){return null!=t&&Ho(t,e,ti)},pn.hasIn=Qa,pn.head=bs,pn.identity=Iu,pn.includes=function(t,e,r,n){t=ba(t)?t:lu(t),r=r&&!n?Ua(r):0;var i=t.length;return r<0&&(r=zr(i+r,0)),Oa(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&ar(t,e,r)>-1},pn.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:Ua(r);return i<0&&(i=zr(n+i,0)),ar(t,e,i)},pn.inRange=function(t,e,r){return e=Da(e),r===o?(r=e,e=0):r=Da(r),function(t,e,r){return t>=Vr(e,r)&&t<zr(e,r)}(t=qa(t),e,r)},pn.invoke=ru,pn.isArguments=ya,pn.isArray=ma,pn.isArrayBuffer=ga,pn.isArrayLike=ba,pn.isArrayLikeObject=va,pn.isBoolean=function(t){return!0===t||!1===t||Ta(t)&&Xn(t)==z},pn.isBuffer=_a,pn.isDate=wa,pn.isElement=function(t){return Ta(t)&&1===t.nodeType&&!Ca(t)},pn.isEmpty=function(t){if(null==t)return!0;if(ba(t)&&(ma(t)||\"string\"==typeof t||\"function\"==typeof t.splice||_a(t)||ja(t)||ya(t)))return!t.length;var e=qo(t);if(e==J||e==rt)return!t.size;if(Zo(t))return!ci(t).length;for(var r in t)if(ce.call(t,r))return!1;return!0},pn.isEqual=function(t,e){return oi(t,e)},pn.isEqualWith=function(t,e,r){var n=(r=\"function\"==typeof r?r:o)?r(t,e):o;return n===o?oi(t,e,o,r):!!n},pn.isError=Sa,pn.isFinite=function(t){return\"number\"==typeof t&&Fr(t)},pn.isFunction=ka,pn.isInteger=Ea,pn.isLength=Aa,pn.isMap=Ba,pn.isMatch=function(t,e){return t===e||si(t,e,Ko(e))},pn.isMatchWith=function(t,e,r){return r=\"function\"==typeof r?r:o,si(t,e,Ko(e),r)},pn.isNaN=function(t){return Ia(t)&&t!=+t},pn.isNative=function(t){if(Jo(t))throw new i(a);return ai(t)},pn.isNil=function(t){return null==t},pn.isNull=function(t){return null===t},pn.isNumber=Ia,pn.isObject=xa,pn.isObjectLike=Ta,pn.isPlainObject=Ca,pn.isRegExp=Ma,pn.isSafeInteger=function(t){return Ea(t)&&t>=-R&&t<=R},pn.isSet=Pa,pn.isString=Oa,pn.isSymbol=Ra,pn.isTypedArray=ja,pn.isUndefined=function(t){return t===o},pn.isWeakMap=function(t){return Ta(t)&&qo(t)==st},pn.isWeakSet=function(t){return Ta(t)&&Xn(t)==at},pn.join=function(t,e){return null==t?\"\":qr.call(t,e)},pn.kebabCase=mu,pn.last=Ss,pn.lastIndexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=Ua(r))<0?zr(n+i,0):Vr(i,n-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,i):sr(t,cr,i,!0)},pn.lowerCase=gu,pn.lowerFirst=bu,pn.lt=Na,pn.lte=La,pn.max=function(t){return t&&t.length?qn(t,Iu,Qn):o},pn.maxBy=function(t,e){return t&&t.length?qn(t,No(e,2),Qn):o},pn.mean=function(t){return fr(t,Iu)},pn.meanBy=function(t,e){return fr(t,No(e,2))},pn.min=function(t){return t&&t.length?qn(t,Iu,hi):o},pn.minBy=function(t,e){return t&&t.length?qn(t,No(e,2),hi):o},pn.stubArray=Fu,pn.stubFalse=qu,pn.stubObject=function(){return{}},pn.stubString=function(){return\"\"},pn.stubTrue=function(){return!0},pn.multiply=Wu,pn.nth=function(t,e){return t&&t.length?mi(t,Ua(e)):o},pn.noConflict=function(){return Oe._===this&&(Oe._=de),this},pn.noop=Ru,pn.now=Xs,pn.pad=function(t,e,r){t=za(t);var n=(e=Ua(e))?Mr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return bo(Kr(i),r)+t+bo(Lr(i),r)},pn.padEnd=function(t,e,r){t=za(t);var n=(e=Ua(e))?Mr(t):0;return e&&n<e?t+bo(e-n,r):t},pn.padStart=function(t,e,r){t=za(t);var n=(e=Ua(e))?Mr(t):0;return e&&n<e?bo(e-n,r)+t:t},pn.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Wr(za(t).replace(jt,\"\"),e||0)},pn.random=function(t,e,r){if(r&&\"boolean\"!=typeof r&&Wo(t,e,r)&&(e=r=o),r===o&&(\"boolean\"==typeof e?(r=e,e=o):\"boolean\"==typeof t&&(r=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Da(t),e===o?(e=t,t=0):e=Da(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=$r();return Vr(t+i*(e-t+Ie(\"1e-\"+((i+\"\").length-1))),e)}return wi(t,e)},pn.reduce=function(t,e,r){var n=ma(t)?er:pr,i=arguments.length<3;return n(t,No(e,4),r,i,Dn)},pn.reduceRight=function(t,e,r){var n=ma(t)?rr:pr,i=arguments.length<3;return n(t,No(e,4),r,i,Un)},pn.repeat=function(t,e,r){return e=(r?Wo(t,e,r):e===o)?1:Ua(e),Si(za(t),e)},pn.replace=function(){var t=arguments,e=za(t[0]);return t.length<3?e:e.replace(t[1],t[2])},pn.result=function(t,e,r){var n=-1,i=(e=Gi(e,t)).length;for(i||(i=1,t=o);++n<i;){var s=null==t?o:t[cs(e[n])];s===o&&(n=i,s=r),t=ka(s)?s.call(t):s}return t},pn.round=$u,pn.runInContext=t,pn.sample=function(t){return(ma(t)?En:Ei)(t)},pn.size=function(t){if(null==t)return 0;if(ba(t))return Oa(t)?Mr(t):t.length;var e=qo(t);return e==J||e==rt?t.size:ci(t).length},pn.snakeCase=vu,pn.some=function(t,e,r){var n=ma(t)?nr:Mi;return r&&Wo(t,e,r)&&(e=o),n(t,No(e,3))},pn.sortedIndex=function(t,e){return Pi(t,e)},pn.sortedIndexBy=function(t,e,r){return Oi(t,e,No(r,2))},pn.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=Pi(t,e);if(n<r&&la(t[n],e))return n}return-1},pn.sortedLastIndex=function(t,e){return Pi(t,e,!0)},pn.sortedLastIndexBy=function(t,e,r){return Oi(t,e,No(r,2),!0)},pn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=Pi(t,e,!0)-1;if(la(t[r],e))return r}return-1},pn.startCase=_u,pn.startsWith=function(t,e,r){return t=za(t),r=null==r?0:Rn(Ua(r),0,t.length),e=Ni(e),t.slice(r,r+e.length)==e},pn.subtract=Yu,pn.sum=function(t){return t&&t.length?dr(t,Iu):0},pn.sumBy=function(t,e){return t&&t.length?dr(t,No(e,2)):0},pn.template=function(t,e,r){var n=pn.templateSettings;r&&Wo(t,e,r)&&(e=o),t=za(t),e=Wa({},e,n,xo);var i,s,a=Wa({},e.imports,n.imports,xo),u=nu(a),c=gr(a,u),f=0,h=e.interpolate||Jt,l=\"__p += '\",p=ee((e.escape||Jt).source+\"|\"+h.source+\"|\"+(h===Bt?qt:Jt).source+\"|\"+(e.evaluate||Jt).source+\"|$\",\"g\"),d=\"//# sourceURL=\"+(\"sourceURL\"in e?e.sourceURL:\"lodash.templateSources[\"+ ++Ae+\"]\")+\"\\n\";t.replace(p,function(e,r,n,o,a,u){return n||(n=o),l+=t.slice(f,u).replace(Zt,kr),r&&(i=!0,l+=\"' +\\n__e(\"+r+\") +\\n'\"),a&&(s=!0,l+=\"';\\n\"+a+\";\\n__p += '\"),n&&(l+=\"' +\\n((__t = (\"+n+\")) == null ? '' : __t) +\\n'\"),f=u+e.length,e}),l+=\"';\\n\";var y=e.variable;y||(l=\"with (obj) {\\n\"+l+\"\\n}\\n\"),l=(s?l.replace(vt,\"\"):l).replace(_t,\"$1\").replace(wt,\"$1;\"),l=\"function(\"+(y||\"obj\")+\") {\\n\"+(y?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(i?\", __e = _.escape\":\"\")+(s?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+l+\"return __p\\n}\";var m=Eu(function(){return Xt(u,d+\"return \"+l).apply(o,c)});if(m.source=l,Sa(m))throw m;return m},pn.times=function(t,e){if((t=Ua(t))<1||t>R)return[];var r=L,n=Vr(t,L);e=No(e),t-=L;for(var i=yr(n,e);++r<t;)e(r);return i},pn.toFinite=Da,pn.toInteger=Ua,pn.toLength=Fa,pn.toLower=function(t){return za(t).toLowerCase()},pn.toNumber=qa,pn.toSafeInteger=function(t){return t?Rn(Ua(t),-R,R):0===t?t:0},pn.toString=za,pn.toUpper=function(t){return za(t).toUpperCase()},pn.trim=function(t,e,r){if((t=za(t))&&(r||e===o))return t.replace(Rt,\"\");if(!t||!(e=Ni(e)))return t;var n=Pr(t),i=Pr(e);return $i(n,vr(n,i),_r(n,i)+1).join(\"\")},pn.trimEnd=function(t,e,r){if((t=za(t))&&(r||e===o))return t.replace(Nt,\"\");if(!t||!(e=Ni(e)))return t;var n=Pr(t);return $i(n,0,_r(n,Pr(e))+1).join(\"\")},pn.trimStart=function(t,e,r){if((t=za(t))&&(r||e===o))return t.replace(jt,\"\");if(!t||!(e=Ni(e)))return t;var n=Pr(t);return $i(n,vr(n,Pr(e))).join(\"\")},pn.truncate=function(t,e){var r=T,n=B;if(xa(e)){var i=\"separator\"in e?e.separator:i;r=\"length\"in e?Ua(e.length):r,n=\"omission\"in e?Ni(e.omission):n}var s=(t=za(t)).length;if(Er(t)){var a=Pr(t);s=a.length}if(r>=s)return t;var u=r-Mr(n);if(u<1)return n;var c=a?$i(a,0,u).join(\"\"):t.slice(0,u);if(i===o)return c+n;if(a&&(u+=c.length-u),Ma(i)){if(t.slice(u).search(i)){var f,h=c;for(i.global||(i=ee(i.source,za(Ht.exec(i))+\"g\")),i.lastIndex=0;f=i.exec(h);)var l=f.index;c=c.slice(0,l===o?u:l)}}else if(t.indexOf(Ni(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+n},pn.unescape=function(t){return(t=za(t))&&Et.test(t)?t.replace(St,Or):t},pn.uniqueId=function(t){var e=++fe;return za(t)+e},pn.upperCase=wu,pn.upperFirst=Su,pn.each=zs,pn.eachRight=Vs,pn.first=bs,Ou(pn,function(){var t={};return Wn(pn,function(e,r){ce.call(pn.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),pn.VERSION=\"4.17.10\",We([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],function(t){pn[t].placeholder=pn}),We([\"drop\",\"take\"],function(t,e){gn.prototype[t]=function(r){r=r===o?1:zr(Ua(r),0);var n=this.__filtered__&&!e?new gn(this):this.clone();return n.__filtered__?n.__takeCount__=Vr(r,n.__takeCount__):n.__views__.push({size:Vr(r,L),type:t+(n.__dir__<0?\"Right\":\"\")}),n},gn.prototype[t+\"Right\"]=function(e){return this.reverse()[t](e).reverse()}}),We([\"filter\",\"map\",\"takeWhile\"],function(t,e){var r=e+1,n=r==M||3==r;gn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:No(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),We([\"head\",\"last\"],function(t,e){var r=\"take\"+(e?\"Right\":\"\");gn.prototype[t]=function(){return this[r](1).value()[0]}}),We([\"initial\",\"tail\"],function(t,e){var r=\"drop\"+(e?\"\":\"Right\");gn.prototype[t]=function(){return this.__filtered__?new gn(this):this[r](1)}}),gn.prototype.compact=function(){return this.filter(Iu)},gn.prototype.find=function(t){return this.filter(t).head()},gn.prototype.findLast=function(t){return this.reverse().find(t)},gn.prototype.invokeMap=ki(function(t,e){return\"function\"==typeof t?new gn(this):this.map(function(r){return ni(r,t,e)})}),gn.prototype.reject=function(t){return this.filter(aa(No(t)))},gn.prototype.slice=function(t,e){t=Ua(t);var r=this;return r.__filtered__&&(t>0||e<0)?new gn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==o&&(r=(e=Ua(e))<0?r.dropRight(-e):r.take(e-t)),r)},gn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},gn.prototype.toArray=function(){return this.take(L)},Wn(gn.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=pn[n?\"take\"+(\"last\"==e?\"Right\":\"\"):e],s=n||/^find/.test(e);i&&(pn.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,u=e instanceof gn,c=a[0],f=u||ma(e),h=function(t){var e=i.apply(pn,tr([t],a));return n&&l?e[0]:e};f&&r&&\"function\"==typeof c&&1!=c.length&&(u=f=!1);var l=this.__chain__,p=!!this.__actions__.length,d=s&&!l,y=u&&!p;if(!s&&f){e=y?e:new gn(this);var m=t.apply(e,a);return m.__actions__.push({func:Ds,args:[h],thisArg:o}),new mn(m,l)}return d&&y?t.apply(this,a):(m=this.thru(h),d?n?m.value()[0]:m.value():m)})}),We([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(t){var e=ie[t],r=/^(?:push|sort|unshift)$/.test(t)?\"tap\":\"thru\",n=/^(?:pop|shift)$/.test(t);pn.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(ma(i)?i:[],t)}return this[r](function(r){return e.apply(ma(r)?r:[],t)})}}),Wn(gn.prototype,function(t,e){var r=pn[e];if(r){var n=r.name+\"\";(nn[n]||(nn[n]=[])).push({name:e,func:r})}}),nn[po(o,b).name]=[{name:\"wrapper\",func:o}],gn.prototype.clone=function(){var t=new gn(this.__wrapped__);return t.__actions__=ro(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ro(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ro(this.__views__),t},gn.prototype.reverse=function(){if(this.__filtered__){var t=new gn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},gn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=ma(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case\"drop\":t+=s;break;case\"dropRight\":e-=s;break;case\"take\":e=Vr(e,t+s);break;case\"takeRight\":t=zr(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,f=this.__iteratees__,h=f.length,l=0,p=Vr(u,this.__takeCount__);if(!r||!n&&i==u&&p==u)return Fi(t,this.__actions__);var d=[];t:for(;u--&&l<p;){for(var y=-1,m=t[c+=e];++y<h;){var g=f[y],b=g.iteratee,v=g.type,_=b(m);if(v==P)m=_;else if(!_){if(v==M)continue t;break t}}d[l++]=m}return d},pn.prototype.at=Us,pn.prototype.chain=function(){return Ks(this)},pn.prototype.commit=function(){return new mn(this.value(),this.__chain__)},pn.prototype.next=function(){this.__values__===o&&(this.__values__=Ka(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},pn.prototype.plant=function(t){for(var e,r=this;r instanceof yn;){var n=hs(r);n.__index__=0,n.__values__=o,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},pn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof gn){var e=t;return this.__actions__.length&&(e=new gn(this)),(e=e.reverse()).__actions__.push({func:Ds,args:[xs],thisArg:o}),new mn(e,this.__chain__)}return this.thru(xs)},pn.prototype.toJSON=pn.prototype.valueOf=pn.prototype.value=function(){return Fi(this.__wrapped__,this.__actions__)},pn.prototype.first=pn.prototype.head,Le&&(pn.prototype[Le]=function(){return this}),pn}();Oe._=Rr,(i=function(){return Rr}.call(e,r,e,n))===o||(n.exports=i)}).call(this)}).call(this,r(5),r(26)(t))},function(t,e,r){\"use strict\";const n=r(63),i=r(22),o=r(1661),s=r(228).OFFLINE_ERROR;t.exports=function(t){return{peers:i((e,r)=>{if(\"function\"==typeof e&&(r=e,e={}),!t.isOnline())return r(new Error(s));const n=e.v||e.verbose,i=[];o(t._peerInfoBook.getAll()).forEach(t=>{const e=t.isConnected();if(!e)return;const r={addr:e,peer:t.id};n&&(r.latency=\"unknown\"),i.push(r)}),r(null,i)}),addrs:i(e=>{if(!t.isOnline())return e(new Error(s));e(null,o(t._peerInfoBook.getAll()))}),localAddrs:i(e=>{if(!t.isOnline())return e(new Error(s));e(null,t._libp2pNode.peerInfo.multiaddrs.toArray())}),connect:i((e,r)=>{if(!t.isOnline())return r(new Error(s));\"string\"==typeof e&&(e=n(e)),t._libp2pNode.dial(e,r)}),disconnect:i((e,r)=>{if(!t.isOnline())return r(new Error(s));\"string\"==typeof e&&(e=n(e)),t._libp2pNode.hangUp(e,r)}),filters:i(t=>t(new Error(\"Not implemented\")))}}},function(t,e,r){var n=r(1662),i=r(433);t.exports=function(t){return null==t?[]:n(t,i(t))}},function(t,e,r){var n=r(256);t.exports=function(t,e){return n(e,function(e){return t[e]})}},function(t,e,r){\"use strict\";const n=r(22),i=r(76);t.exports=function(t){return n((e,r,n)=>{i(t.pingPullStream(e,r),i.collect(n))})}},function(t,e,r){\"use strict\";const n=r(6),i=r(228).OFFLINE_ERROR,o=r(116),s=r(9),a=r(56),u=r(4),c=n(\"jsipfs:pingPullStream\");function f(t){return Object.assign({success:!0,time:0,text:\"\"},t)}c.error=n(\"jsipfs:pingPullStream:error\"),t.exports=function(t){return(e,r)=>{if(!t.isOnline())return s.error(new Error(i));r=Object.assign({count:10},r);const n=a();return u([r=>(function(t,e,r,n){let i;try{i=t.peerBook.get(r)}catch(i){c(\"Peer not found in peer book, trying peer routing\"),e.push(f({text:`Looking up peer ${r}`}));try{r=o.createFromB58String(r)}catch(t){return n(Object.assign(t,{message:`failed to parse peer address '${r}': input isn't valid multihash`}))}return t.peerRouting.findPeer(r,n)}n(null,i)})(t._libp2pNode,n,e,r),(e,i)=>(function(t,e,r,n,i){t.ping(n,(t,o)=>{if(t)return i(t);c(\"Got peer\",n);let s=0,a=0;return e.push(f({text:`PING ${n.id.toB58String()}`})),o.on(\"ping\",t=>{if(e.push(f({time:t})),a+=t,++s>=r){const t=a/r;o.stop(),e.push(f({text:`Average latency: ${t}ms`})),e.end()}}),o.on(\"error\",t=>{c.error(t),o.stop(),e.push(f({success:!1,text:t.toString()})),e.end(t)}),o.start(),i()})})(t._libp2pNode,n,r.count,e,i)],t=>{t&&(c.error(t),n.push(f({success:!1,text:t.toString()})),n.end(t))}),n}}},function(t,e,r){\"use strict\";const n=r(164);t.exports=function(t){return(e,r)=>n.source(t.pingPullStream(e,r))}},function(t,e,r){\"use strict\";(function(e){const n=r(22),{DAGNode:i,DAGLink:o}=r(48),s=r(13),a=r(10),u=r(309),{Key:c}=r(35),f=r(1667),{resolvePath:h}=r(228),l=300,p=new c(\"/local/pins\");function d(t){return new s(t).toBaseEncodedString()}t.exports=(t=>{const r=t._repo,c=t.dag,y=f(c),m={direct:\"direct\",recursive:\"recursive\",indirect:\"indirect\",all:\"all\"};let g=new Set,b=new Set;const v=()=>Array.from(g).map(t=>a.fromB58String(t)),_=()=>Array.from(b).map(t=>a.fromB58String(t));function w(n){let a,f,h;u.series([t=>u.waterfall([t=>y.storeSet(v(),t),(t,e)=>o.create(m.direct,t.size,t.multihash,e),(t,e)=>{a=t,e(null)}],t),t=>u.waterfall([t=>y.storeSet(_(),t),(t,e)=>o.create(m.recursive,t.size,t.multihash,e),(t,e)=>{f=t,e(null)}],t),t=>i.create(e.alloc(0),(e,r)=>{if(e)return t(e);c.put(r,{cid:new s(r.multihash)},t)}),t=>i.create(e.alloc(0),[a,f],(e,r)=>{if(e)return t(e);h=r,c.put(h,{cid:new s(h.multihash)},t)}),t=>r.closed?r.open(t):t(null,null),t=>r.datastore.put(p,h.multihash,t)],(e,r)=>e?n(e):(t.log(`Flushed pins with root: ${h}`),n(null,h)))}const S={add:n((e,r,n)=>{\"function\"==typeof r&&(n=r,r=null);const i=!r||r.recursive;h(t.object,e,(t,e)=>{if(t)return n(t);u.map(e,(t,e)=>{const r=d(t);if(i){if(b.has(r))return e(null,r);c._getRecursive(r,t=>t?e(t):e(null,r))}else{if(b.has(r))return e(new Error(`${r} already pinned recursively`));if(g.has(r))return e(null,r);c.get(new s(t),t=>t?e(t):e(null,r))}},(t,e)=>{if(t)return n(t);const r=i?b:g;e.forEach(t=>r.add(t)),w((t,r)=>t?n(t):n(null,e.map(t=>({hash:t}))))})})}),rm:n((e,r,n)=>{let i=!0;\"function\"==typeof r?n=r:r&&!1===r.recursive&&(i=!1),h(t.object,e,(e,r)=>{if(e)return n(e);u.map(r,(t,e)=>{S._isPinnedWithType(t,m.all,(r,n)=>{if(r)return e(r);const{pinned:o,reason:s}=n,a=d(t);if(!o)return e(new Error(`${a} is not pinned`));switch(s){case m.recursive:return i?e(null,a):e(new Error(`${a} is pinned recursively`));case m.direct:return e(null,a);default:return e(new Error(`${a} is pinned indirectly under ${s}`))}})},(e,r)=>{if(e)return n(e);r.forEach(t=>{i&&b.has(t)?b.delete(t):g.delete(t)}),w((e,i)=>e?n(e):(t.log(`Removed pins: ${r}`),n(null,r.map(t=>({hash:t})))))})})}),ls:n((e,r,n)=>{let i=m.all;if(\"function\"==typeof e&&(n=e,r=null,e=null),\"function\"==typeof r&&(n=r),e&&e.type&&(r=e,e=null),r&&r.type&&(i=r.type.toLowerCase()),!m[i])return n(new Error(`Invalid type '${i}', must be one of {direct, indirect, recursive, all}`));if(e)h(t.object,e,(t,e)=>{if(t)return n(t);u.mapSeries(e,(t,e)=>{S._isPinnedWithType(t,m.all,(r,n)=>{if(r)return e(r);const{pinned:i,reason:o}=n,s=d(t);if(!i)return e(new Error(`Path ${s} is not pinned`));switch(o){case m.direct:case m.recursive:return e(null,{hash:s,type:o});default:return e(null,{hash:s,type:`${m.indirect} through ${o}`})}})},n)});else{let t=[];if(i!==m.direct&&i!==m.all||(t=t.concat(Array.from(g).map(t=>({type:m.direct,hash:t})))),i!==m.recursive&&i!==m.all||(t=t.concat(Array.from(b).map(t=>({type:m.recursive,hash:t})))),i!==m.indirect&&i!==m.all)return n(null,t);!function(t){const e=new Set;u.eachLimit(_(),l,(t,r)=>{c._getRecursive(t,(t,n)=>{if(t)return r(t);n.map(({multihash:t})=>d(t)).filter(t=>!b.has(t)).forEach(t=>e.add(t)),r()})},r=>{if(r)return t(r);t(null,Array.from(e))})}((e,r)=>e?n(e):(t=t.filter(({hash:t})=>!r.includes(t)||r.includes(t)&&!g.has(t)).concat(r.map(t=>({type:m.indirect,hash:t}))),n(null,t)))}}),_isPinnedWithType:n((t,e,r)=>{const n=d(t),{recursive:i,direct:o,all:a}=m;if((e===i||e===a)&&b.has(n))return r(null,{pinned:!0,reason:i});if(e===i)return r(null,{pinned:!1});if((e===o||e===a)&&g.has(n))return r(null,{pinned:!0,reason:o});if(e===o)return r(null,{pinned:!1});let f;u.someLimit(_(),l,(e,r)=>{c.get(new s(e),(e,n)=>{if(e)return r(e);y.hasDescendant(n.value,t,(t,e)=>{e&&(f=d(n.value.multihash)),r(t,e)})})},(t,e)=>t?r(t):r(null,{pinned:e,reason:f}))}),_load:n(e=>{u.waterfall([t=>r.closed?r.datastore.open(t):t(null,null),(t,e)=>r.datastore.has(p,e),(t,e)=>t?e():e(new Error(\"No pins to load\")),t=>r.datastore.get(p,t),(t,e)=>c.get(new s(t),e)],(r,n)=>{if(r)return\"No pins to load\"===r.message?(t.log(\"No pins to load\"),e()):e(r);u.parallel([t=>y.loadSet(n.value,m.recursive,t),t=>y.loadSet(n.value,m.direct,t)],(r,n)=>{if(r)return e(r);const[i,o]=n;return g=new Set(o.map(d)),b=new Set(i.map(d)),t.log(\"Loaded pins from the datastore\"),e(null)})})})};return S})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(10),i=r(13),o=r(11),s=r(1668),a=r(20),{DAGNode:u,DAGLink:c}=r(48),f=r(309),h=r(1669),l=n.fromB58String(\"QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n\"),p=256,d=8192,y=o(h);function m(t){return new i(t).toBaseEncodedString()}t.exports=function(t){const r={hasDescendant:(r,n,o)=>{const s={};return(i.isCID(n)||e.isBuffer(n))&&(n=m(n)),function e(r,i){f.some(r.links,({multihash:r},i)=>{const o=m(r);return o===n?i(null,!0):o in s?i(null,!1):(s[o]=!0,void t.get(r,(t,r)=>{if(t)return i(t);e(r.value,i)}))},i)}(r,o)},storeSet:(e,n)=>{const o=e.map(t=>({key:t,data:null}));r.storeItems(o,(e,r)=>{if(e)return n(e);const o={cid:new i(r.multihash)};t.put(r,o,(t,e)=>{if(t)return n(t);n(null,r)})})},storeItems:(r,n)=>{return function r(n,o,h){const g=y.Set.encode({version:1,fanout:p,seed:o});const b=e.concat([e.from(a.encode(g.length)),g]);const v=[];for(let t=0;t<p;t++)v.push(new c(\"\",1,l));if(n.length<=d){const t=n.map(t=>({link:new c(\"\",1,t.key),data:t.data||e.alloc(0)})).sort((t,r)=>e.compare(t.link.multihash,r.link.multihash)),r=v.concat(t.map(t=>t.link)),i=e.concat([b].concat(t.map(t=>t.data)));u.create(i,r,(t,e)=>t?h(t):h(null,e))}else{const a=n.reduce((t,r)=>{const n=function(t,r){const n=e.alloc(4);n.writeUInt32LE(t,0);const i=e.concat([n,e.from(m(r))]);return s(i.toString(\"binary\"))}(o,r.key)%p;return t[n]=n in t?t[n].concat([r]):[r],t},{});f.eachOf(a,(e,n,s)=>{r(e,o+1,(e,r)=>(function(e,r,n,o){if(e)return o(e);t.put(r,{cid:new i(r._multihash)},t=>{if(t)return o(t);v[n]=new c(\"\",r.size,r.multihash),o(null)})})(e,r,n,s))},t=>{if(t)return h(t);u.create(b,v,(t,e)=>t?h(t):h(null,e))})}}(r,0,n)},loadSet:(e,n,i)=>{const o=e.links.find(t=>t.name===n);if(!o)return i(new Error(\"No link found with name \"+n));t.get(o.multihash,(t,e)=>{if(t)return i(t);const n=[];r.walkItems(e.value,t=>n.push(t.multihash),t=>t?i(t):i(null,n))})},walkItems:(e,n,i)=>{let o;try{o=function(t){const e=t.data,r=a.decode(e),n=a.decode.bytes;if(n<=0)throw new Error(\"Invalid Set header length\");if(n+r>e.length)throw new Error(\"Impossibly large set header length\");const i=e.slice(n,r+n),o=y.Set.decode(i);if(1!==o.version)throw new Error(`Unsupported Set version: ${o.version}`);if(o.fanout>t.links.length)throw new Error(\"Impossibly large fanout\");return{header:o,data:e.slice(r+n)}}(e)}catch(t){return i(t)}f.eachOf(e.links,(e,i,s)=>{if(i<o.header.fanout){const i=e.multihash;if(!l.equals(i))return t.get(i,(t,e)=>{if(t)return s(t);r.walkItems(e.value,n,s)})}else n(e,i,o.data);s(null)},i)}};return r}}).call(this,r(0).Buffer)},function(t,e){function r(t){for(var e=r.BASE,n=0,i=t.length;n<i;n++)e^=t.charCodeAt(n),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}r.BASE=2166136261,t.exports=r},function(t,e,r){\"use strict\";t.exports='\\n  syntax = \"proto2\";\\n\\n  package ipfs.pin;\\n\\n  option go_package = \"pb\";\\n\\n  message Set {\\n    optional uint32 version = 1;\\n    optional uint32 fanout = 2;\\n    optional fixed32 seed = 3;\\n  }\\n'},function(t,e,r){\"use strict\";(function(e,n){const i=r(175),o=i.importer,s=i.exporter,a=r(22),u=r(9),c=r(1701),f=r(56),h=r(164),l=r(221),p=r(258),d=r(4),y=r(694),m=r(695).isSource,g=r(58).Duplex,b=r(0).Buffer,v=r(13),_=r(10).toB58String,w=\"wrapper/\";function S(){}function k(t){return e.isBuffer(t)&&(t=_(t)),v.isCID(t)&&(t=t.toBaseEncodedString()),0===t.indexOf(\"/ipfs/\")&&(t=t.substring(\"/ipfs/\".length)),\"/\"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t}t.exports=function(t){function r(r){const n=Object.assign({},{shardSplitThreshold:t._options.EXPERIMENTAL.sharding?1e3:1/0},r);n.hashAlg&&1!==n.cidVersion&&(n.cidVersion=1);let i=0;const s=n.progress||S;return n.progress=(t=>{s(i+=t)}),u(u.map(function(t,r){return Array.isArray(r)||(r=[r]),r.map(r=>{if(e.isBuffer(r)&&(r={path:\"\",content:u.values([r])}),y.readable(r)&&(r={path:\"\",content:l.source(r)}),m(r)&&(r={path:\"\",content:r}),r&&r.content&&\"function\"!=typeof r.content&&(e.isBuffer(r.content)&&(r.content=u.values([r.content])),y.readable(r.content)&&(r.content=l.source(r.content))),t.wrapWithDirectory&&!r.path)throw new Error(\"Must provide a path when wrapping with a directory\");return t.wrapWithDirectory&&(r.path=w+r.path),r})}.bind(null,n)),u.flatten(),o(t._ipld,n),u.asyncMap(function(t,e,r,n){e=e||{};let i=new v(r.multihash);1===e.cidVersion&&(i=i.toV1()),d([n=>e.onlyHash?n(null,r):t.object.get(r.multihash,e,n),(t,n)=>{const o=i.toBaseEncodedString();n(null,{path:e.wrapWithDirectory?r.path.substring(w.length):r.path||o,hash:o,size:t.size})}],n)}.bind(null,t,n)),u.asyncMap(function(t,e,r,n){const i=!(\"pin\"in e)||e.pin,o=!r.path.includes(\"/\");if(i&&o&&!e.onlyHash&&!e.hashAlg)return t.pin.add(r.hash,t=>n(t,r));n(null,r)}.bind(null,t,n)))}function i(e,r){if(\"function\"==typeof e)throw new Error(\"You must supply an ipfsPath\");const n=k((e=k(e)).split(\"/\").slice(1).join(\"/\")),i=t=>n&&t.path===n||t.path===e,o=p.source();return u(s(e,t._ipld,r),u.collect((t,e)=>{if(t)return o.abort(t);if(e&&e.length>1&&(e=e.filter(i)),!e||!e.length)return o.abort(new Error(\"No such file\"));const r=e[0],n=r.content;if(!n&&\"dir\"===r.type)return o.abort(new Error(\"this dag node is a directory\"));o.resolve(n)})),o}function _(e,r){const i=k(e),o=r&&r.recursive,a=i.split(\"/\").length,c=o?n.Infinity:a,f=Object.assign({},{maxDepth:c},r);return u(s(e,t._ipld,f),u.filter(t=>o?t.depth>=a:t.depth===a),u.map(t=>{const e=new v(t.hash);return delete(t=Object.assign({},t,{hash:e.toBaseEncodedString()})).content,t}))}return{add:(()=>{const t=a((t,n={},i)=>{if(\"function\"==typeof n?(i=n,n={}):i&&\"function\"==typeof i||(i=S),!(e.isBuffer(t)||y.readable(t)||Array.isArray(t)||b.isBuffer(t)||\"object\"==typeof t||m(t)))return i(new Error(\"first arg must be a buffer, readable stream, pull stream, an object or array of objects\"));n.hashAlg&&1!==n.cidVersion&&(n.cidVersion=1),u(u.values([t]),r(n),c((t,e)=>t.path<e.path?1:t.path>e.path?-1:0),u.collect(i))});return function(){const e=Array.from(arguments);return 1===e.length&&m(e[0])&&e.push({}),t.apply(null,e)}})(),addReadableStream:t=>{t=t||{};const e=f(),n=new class extends g{constructor(t,e,r){super(Object.assign({objectMode:!0},r)),this._pullStream=t,this._pushable=e,this._waitingPullFlush=[]}_read(){this._pullStream(null,(t,e)=>{for(;this._waitingPullFlush.length;)this._waitingPullFlush.shift()();t?t instanceof Error&&this.emit(\"error\",t):this.push(e)})}_write(t,e,r){this._waitingPullFlush.push(r),this._pushable.push(t)}}(u(e,r(t)),e);return n.once(\"finish\",()=>e.end()),n},addPullStream:r,cat:a((t,r,n)=>{if(\"function\"==typeof r&&(n=r,r={}),\"function\"!=typeof n)throw new Error(\"Please supply a callback to ipfs.files.cat\");u(i(t,r),u.collect((t,r)=>{if(t)return n(t);n(null,e.concat(r))}))}),catReadableStream:(t,e)=>h.source(i(t,e)),catPullStream:(t,e)=>i(t,e),get:a((r,n,i)=>{if(\"function\"==typeof n&&(i=n,n={}),\"function\"!=typeof i)throw new Error(\"Please supply a callback to ipfs.files.get\");u(s(r,t._ipld,n),u.asyncMap((t,r)=>{t.content?u(t.content,u.collect((n,i)=>{if(n)return r(n);t.content=e.concat(i),r(null,t)})):r(null,t)}),u.collect(i))}),getReadableStream:(e,r)=>h.source(u(s(e,t._ipld,r),u.map(t=>(t.content&&(t.content=h.source(t.content),t.content.pause()),t)))),getPullStream:(e,r)=>s(e,t._ipld,r),lsImmutable:a((t,e,r)=>{\"function\"==typeof e&&(r=e,e={}),u(_(t,e),u.collect((t,e)=>{t?r(t):r(null,e)}))}),lsReadableStreamImmutable:(t,e)=>h.source(_(t,e)),lsPullStreamImmutable:_}}}).call(this,r(0).Buffer,r(5))},function(t,e,r){\"use strict\";(function(e){const n=r(693),i=r(9),o=r(229),s=r(56),a=r(15),u=r(2),c=r(1673),f=r(1682),h={fixed:r(1691)},l={chunker:\"fixed\",rawLeaves:!1,hashOnly:!1,cidVersion:0,hash:null,leafType:\"file\",hashAlg:\"sha2-256\"};t.exports=function(t,r){const p=Object.assign({},l,r);p.cidVersion=p.cidVersion||0,p.cidVersion>0&&void 0===r.rawLeaves&&(p.rawLeaves=!0),r&&void 0!==r.hash&&void 0===r.rawLeaves&&(p.rawLeaves=!0);const d=h[p.chunker];a(d,\"Unknkown chunker named \"+p.chunker);let y=0;const m=[],g={sink:o((t,e)=>{y+=t.length,t.forEach(t=>g.source.push(t)),u(e)},null,1,t=>g.source.end(t)),source:s()},b=c(d,t,p),v=f(t,p),_=v.stream(),w=n(()=>{});return i(g,w,b,i.map(t=>(--y||e.nextTick(()=>{for(;m.length;)m.shift()()}),t)),_),{sink:g.sink,source:_.source,flush:function(t){w.pause(),y?m.push(e):e();function e(){v.flush((e,r)=>{if(e)return _.source.end(e),void t(e);w.resume(),t(null,r)})}}}}}).call(this,r(7))},function(t,e){t.exports=function(t){var e=!1,r=0;return function(){if(r=!0,!e){for(e=!0;r;)r=!1,t();e=!1}}}},function(t,e,r){\"use strict\";const n=r(15),i=r(1674),o=r(1675),s={flat:r(1677),balanced:r(1678),trickle:r(1680)},a={strategy:\"balanced\",highWaterMark:100,reduceSingleLeafToSelf:!0};t.exports=function(t,e,r){n(t,\"Missing chunker creator function\"),n(e,\"Missing IPLD\");const u=Object.assign({},a,r),c=u.strategy,f=s[c];n(f,\"Unknown importer build strategy name: \"+c);const h=o(t,e,f,u);return i(h,e,u)}},function(t,e,r){\"use strict\";const n=r(56),i=r(229);t.exports=function(t,e,r){const o=n(),s=i(t(o),null,r.highWaterMark,t=>o.end(t));return{source:o,sink:s}}},function(t,e,r){\"use strict\";(function(e){const n=r(303),i=r(47),o=r(9),s=r(230),a=r(66),u=r(4),c=r(48),f=r(13),h=r(67),l=r(1676),p=c.DAGNode,d={chunkerOptions:{maxChunkSize:262144},rawLeaves:!1,hashAlg:\"sha2-256\",leafType:\"file\",cidVersion:0};t.exports=function(t,r,c,y){const m=n({},d,y);return m.cidVersion=m.cidVersion||0,function(n){return function(d,y){a(d.map(a=>d=>{if(!a.content)return function(t,e){const n=new i(\"directory\");u([t=>p.create(n.marshal(),[],m.hashAlg,t),(t,e)=>{if(m.onlyHash)return e(null,t);r.put(t,{cid:new f(m.cidVersion,\"dag-pb\",t.multihash)},r=>e(r,t))}],(r,n)=>{if(r)return e(r);e(null,{path:t.path,multihash:n.multihash,size:n.size})})}(a,(t,e)=>{if(t)return d(t);e&&n.push(e),d()});!function(n,a){e.isBuffer(n.content)&&(n.content=o.values([n.content]));if(\"function\"!=typeof n.content)return a(new Error(\"invalid content\"));const u=c(l(n,r,m),m);let d,y=0;o(n.content,t(m.chunkerOptions),o.map(t=>(m.progress&&\"function\"==typeof m.progress&&m.progress(t.byteLength),e.from(t))),o.asyncMap((t,e)=>{if(m.rawLeaves)return h(t,m.hashAlg,(r,n)=>r?e(r):e(null,{multihash:n,size:t.length,leafSize:t.length,cid:new f(1,\"raw\",n),data:t}));const r=new i(m.leafType,t);p.create(r.marshal(),[],m.hashAlg,(t,n)=>{if(t)return e(t);e(null,{multihash:n.multihash,size:n.size,leafSize:r.fileSize(),cid:new f(m.cidVersion,\"dag-pb\",n.multihash),data:n})})}),o.asyncMap((t,e)=>{if(m.onlyHash)return e(null,t);r.put(t.data,{cid:t.cid},r=>e(r,t))}),o.map(t=>({path:n.path,multihash:t.multihash,size:t.size,leafSize:t.leafSize,name:\"\",cid:t.cid})),s(function(t){y++,d&&this.queue(d),d=t},function(){d&&(1===y&&(d.single=!0),this.queue(d)),this.queue(null)}),u,o.collect((t,e)=>{t?a(t):a(null,e[0])}))}(a,(t,e)=>{if(t)return d(t);e&&n.push(e),d()})}),y)}}}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(4),i=r(48),o=r(47),s=r(13),a=i.DAGLink,u=i.DAGNode;t.exports=function(t,e,r){return function(i,c){if(1===i.length&&i[0].single&&r.reduceSingleLeafToSelf){const a=i[0];return\"file\"!==r.leafType||r.rawLeaves?n([t=>e.get(a.cid,t),(t,e)=>{const n=t.value.data,i=new o(\"file\",n);u.create(i.marshal(),[],r.hashAlg,(t,r)=>{e(t,{DAGNode:r,fileNode:i})})},(t,n)=>{if(r.onlyHash)return n(null,t);let i=new s(t.DAGNode.multihash);1===r.cidVersion&&(i=i.toV1()),e.put(t.DAGNode,{cid:i},e=>n(e,t))},(e,r)=>{r(null,{path:t.path,multihash:e.DAGNode.multihash,size:e.DAGNode.size,leafSize:e.fileNode.fileSize(),name:a.name})}],c):c(null,{path:t.path,multihash:a.multihash,size:a.size,leafSize:a.leafSize,name:a.name})}const f=new o(\"file\"),h=i.map(t=>{f.addBlockSize(t.leafSize);let e=t.cid;return e||(e=new s(r.cidVersion,\"dag-pb\",t.multihash)),new a(t.name,t.size,e.buffer)});n([t=>u.create(f.marshal(),h,r.hashAlg,t),(t,n)=>{const i=new s(r.cidVersion,\"dag-pb\",t.multihash);if(r.onlyHash)return n(null,{node:t,cid:i});e.put(t,{cid:i},e=>n(e,{node:t,cid:i}))}],(e,r)=>{if(e)return c(e);c(null,{name:\"\",path:t.path,multihash:r.cid.buffer,size:r.node.size,leafSize:f.fileSize()})})}}},function(t,e,r){\"use strict\";const n=r(9),i=r(56),o=r(222),s=r(352);t.exports=function(t,e){const r=o(),a=r.source,u=i();return n(a,s(1/0),n.asyncMap(t),n.collect((t,e)=>{t?u.end(t):1===e.length?(u.push(e[0]),u.end()):e.length>1?u.end(new Error(\"expected a maximum of 1 roots and got \"+e.length)):u.end()})),{sink:r.sink,source:u}}},function(t,e,r){\"use strict\";const n=r(1679),i={maxChildrenPerNode:174};t.exports=function(t,e){const r=Object.assign({},i,e);return n(t,r)}},function(t,e,r){\"use strict\";const n=r(9),i=r(56),o=r(222),s=r(352);t.exports=function(t,e){const r=o(),a=r.source,u=i();return function r(i,o){let a=i;Array.isArray(a)&&(a=n.values(a));n(a,s(e.maxChildrenPerNode),n.asyncMap(t),n.collect(function u(r,i){r?o(r):i.length>1?function r(i,o){let a=i;Array.isArray(a)&&(a=n.values(a));n(a,s(e.maxChildrenPerNode),n.asyncMap(t),n.collect(u));function u(t,e){t?o(t):e.length>1?r(e,o):o(null,e)}}(i,o):o(null,i)}));function u(t,e){t?o(t):e.length>1?r(e,o):o(null,e)}}(a,(t,e)=>{t?u.end(t):1===e.length?(u.push(e[0]),u.end()):e.length>1?u.end(new Error(\"expected a maximum of 1 roots and got \"+e.length)):u.end()}),{sink:r.sink,source:u}}},function(t,e,r){\"use strict\";const n=r(1681),i={maxChildrenPerNode:174,layerRepeat:4};t.exports=function(t,e){const r=Object.assign({},i,e);return n(t,r)}},function(t,e,r){\"use strict\";const n=r(9),i=r(56),o=r(352),s=r(222),a=r(230),u=r(229),c=r(693);t.exports=function(t,e){const r=s(),f=i(),h=c(()=>{});let l=0;return n(r.source,h,function r(s,c){let f=0;let p=0;let d;let y=!1;const m=i();return{source:m,sink:u(function g(r,c){let f=!1;const y=r[0];p&&!d&&(d=i(),n(d,function r(s,c){let f=0;let p=0;let d;let y=!1;const m=i();return{source:m,sink:u(g,null,1,function(t){if(t)return void m.end(t);d?y||(y=!0,d.end()):m.end()})};function g(e,u){let c=!1;const f=e[0];p&&!d&&(d=i(),n(d,r(s+1,p-1),a(function(t){this.queue(t)},function(t){t?this.emit(\"error\",t):(c||(c=!0,l++,h.pause()),this.queue(null))}),o(1/0),n.asyncMap(t),n.collect((t,e)=>{l--,t?m.end(t):(e.forEach(t=>{m.push(t)}),b())}))),d?d.push(f):(m.push(f),b()),u()}function b(){d=null,f++,(0===p&&f===e.maxChildrenPerNode||p>0&&f===e.layerRepeat)&&(f=0,p++),(!y&&c>=0&&p>c||y&&!l)&&(y=!0,m.end()),l||h.resume()}}(s+1,p-1),a(function(t){this.queue(t)},function(t){t?this.emit(\"error\",t):(f||(f=!0,l++,h.pause()),this.queue(null))}),o(1/0),n.asyncMap(t),n.collect((t,e)=>{l--,t?m.end(t):(e.forEach(t=>{m.push(t)}),b())})));d?d.push(y):(m.push(y),b());c()},null,1,function(t){if(t)return void m.end(t);d?y||(y=!0,d.end()):m.end()})};function g(e,u){let c=!1;const f=e[0];p&&!d&&(d=i(),n(d,r(s+1,p-1),a(function(t){this.queue(t)},function(t){t?this.emit(\"error\",t):(c||(c=!0,l++,h.pause()),this.queue(null))}),o(1/0),n.asyncMap(t),n.collect((t,e)=>{l--,t?m.end(t):(e.forEach(t=>{m.push(t)}),b())}))),d?d.push(f):(m.push(f),b()),u()}function b(){d=null,f++,(0===p&&f===e.maxChildrenPerNode||p>0&&f===e.layerRepeat)&&(f=0,p++),(!y&&c>=0&&p>c||y&&!l)&&(y=!0,m.end()),l||h.resume()}}(0,-1),o(1/0),n.asyncMap(t),n.collect((t,e)=>{t?f.end(t):1===e.length?(f.push(e[0]),f.end()):e.length>1?f.end(new Error(\"expected a maximum of 1 roots and got \"+e.length)):f.end()})),{sink:r.sink,source:f}}},function(t,e,r){\"use strict\";(function(e){const n=r(218),i=r(249),o=r(4),s=r(255),a=r(229),u=r(56),c=r(1683),f=r(1684),h=r(353);t.exports=function(t,r){const d=Object.assign({},l,r),y=s(function(t,e){const r=t.args.concat(function(){t.cb.apply(null,arguments),e()});t.fn.apply(null,r)},1);let m=function(){const t=a(function(t,r){n(t,(t,r)=>{y.push({fn:b,args:[t],cb:n=>{n?r(n):(e.push(t),r())}})},r)},null,1,function(t){v(r=>{e.end(r||t)})}),e=u();return{sink:t,source:e}}(),g=c({path:\"\",root:!0,dir:!0,dirty:!1,flat:!0},d);return{flush:v,stream:function(){return m}};function b(t,e){const r=(t.path||\"\").split(\"/\").filter(p);let n=g;const s=r.length-1;let a=\"\";i(r,(e,r,i)=>{a&&(a+=\"/\"),a+=e;const u=r===s;n.dirty=!0,n.multihash=null,n.size=null,u?o([r=>n.put(e,t,r),t=>f(null,n,d.shardSplitThreshold,d,t),(t,e)=>{g=t,e()}],i):n.get(e,(t,r)=>{if(t)return void i(t);let o=r;o&&o instanceof h||(o=c({dir:!0,parent:n,parentKey:e,path:a,dirty:!0,flat:!0},d));const s=n;n=o,s.put(e,o,i)})},e)}function v(t){y.push({fn:_,args:[\"\",g],cb:(e,r)=>{e?t(e):t(null,r&&r.multihash)}})}function _(r,n,i){if(n.dir){if(n.root&&n.childCount()>1&&!d.wrap)return void i(new Error(\"detected more than one root\"));n.eachChildSeries((t,e,n)=>{_(r?r+\"/\"+t:t,e,n)},e=>{e?i(e):function(e,r,n){if(r.root&&!d.wrap)return void r.onlyChild((t,e)=>{t?n(t):n(null,e)});if(!r.dirty)return void n(null,r.multihash);r.dirty=!1,r.flush(e,t,m.source,(t,e)=>{t?n(t):n(null,e)})}(r,n,i)})}else e.nextTick(i)}};const l={wrap:!1,shardSplitThreshold:1e3,onlyHash:!1};function p(t){return Boolean(t)}}).call(this,r(7))},function(t,e,r){\"use strict\";(function(e){const n=r(218),i=r(4),o=r(13),s=r(48),a=r(47),u=s.DAGLink,c=s.DAGNode,f=r(353);class h extends f{constructor(t,e){super(t,e),this._children={}}put(t,r,n){this.multihash=void 0,this.size=void 0,this._children[t]=r,e.nextTick(n)}get(t,r){e.nextTick(()=>r(null,this._children[t]))}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(t){e.nextTick(()=>t(null,this._children[Object.keys(this._children)[0]]))}eachChildSeries(t,e){n(Object.keys(this._children),(e,r)=>{t(e,this._children[e],r)},e)}flush(t,e,r,n){const s=Object.keys(this._children).map(t=>{const e=this._children[t];return new u(t,e.size,e.multihash)}),f=new a(\"directory\"),h=this._options;i([t=>c.create(f.marshal(),s,h.hashAlg,t),(t,r)=>{if(h.onlyHash)return r(null,t);let n=new o(t.multihash);1===h.cidVersion&&(n=n.toV1()),e.put(t,{cid:n},e=>r(e,t))},(e,n)=>{this.multihash=e.multihash,this.size=e.size;const i={path:t,multihash:e.multihash,size:e.size};r.push(i),n(null,e)}],n)}}t.exports=function(t,e){return new h(t,e)}}).call(this,r(7))},function(t,e,r){\"use strict\";const n=r(4),i=r(1685);t.exports=function t(e,r,o,s,a){!function(t,e,r,n){t.flat&&t.directChildrenCount()>=e?function(t,e,r){const n=i({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1},e);t.eachChildSeries((t,e,r)=>{n.put(t,e,r)},t=>{t?r(t):r(t,n)})}(t,r,n):n(null,t)}(r,o,s,(i,u)=>{if(i)return void a(i);const c=u.parent;c?n([t=>{u!==r?(e&&(e.parent=u),c.put(u.parentKey,u,t)):t()},e=>{c?t(u,c,o,s,e):e(null,u)}],a):a(null,u)})}},function(t,e,r){\"use strict\";(function(e){const n=r(444),i=r(39),o=r(4),s=r(13),a=r(48),u=r(47),c=a.DAGLink,f=a.DAGNode,h=r(67),l=r(353),p=r(1686),d=function(t,r){h(t,\"murmur3-128\",(t,n)=>{if(t)r(t);else{const t=n.slice(2,10),i=t.length,o=e.alloc(i);for(let e=0;e<i;e++)o[i-e-1]=t[e];r(null,o)}})};d.code=34;const y={hashFn:d};class m extends l{constructor(t,e){const r=Object.assign({},y,e);super(t,r),this._bucket=p(r)}put(t,e,r){this._bucket.put(t,e,r)}get(t,e){this._bucket.get(t,e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(t){this._bucket.onlyChild(t)}eachChildSeries(t,e){this._bucket.eachLeafSeries(t,e)}flush(t,r,a,h){!function(t,r,a,h,l,d){const y=r._children;let m=0;const b=[];i(()=>m<y.length,e=>{const r=y.get(m);r?function(e,r,i){const o=n(r.toString(16).toUpperCase(),2,\"0\");if(p.isBucket(e))g(t,e,a,h,null,(t,e)=>{t?i(t):(b.push(new c(o,e.size,e.multihash)),i())});else{const t=e.value,r=o+e.key;b.push(new c(r,t.size,t.multihash)),i()}}(r,m,t=>{m++,e(t)}):(m++,e())},n=>{n?d(n):function(n){const i=e.from(y.bitField().reverse()),c=new u(\"hamt-sharded-directory\",i);c.fanout=r.tableSize(),c.hashType=t.hashFn.code,o([e=>f.create(c.marshal(),n,t.hashAlg,e),(e,r)=>{if(t.onlyHash)return r(null,e);let n=new s(e.multihash);1===t.cidVersion&&(n=n.toV1()),h.put(e,{cid:n},t=>r(t,e))},(t,e)=>{const r={path:a,multihash:t.multihash,size:t.size};l&&l.push(r),e(null,t)}],d)}(b)})}(this._options,this._bucket,t,r,a,(t,e)=>{t?h(t):(this.multihash=e.multihash,this.size=e.size),h(null,e)})}}function g(t,r,a,h,l,d){const y=r._children;let m=0;const b=[];i(()=>m<y.length,t=>{const e=y.get(m);if(e){v(e,m,e=>{m++;t(e)})}else{m++;t()}},t=>{if(t){d(t);return}_(b)});function v(e,r,i){const o=n(r.toString(16).toUpperCase(),2,\"0\");if(p.isBucket(e)){g(t,e,a,h,null,(t,e)=>{if(t){i(t);return}b.push(new c(o,e.size,e.multihash));i()})}else{const t=e.value;const r=o+e.key;b.push(new c(r,t.size,t.multihash));i()}}function _(n){const i=e.from(y.bitField().reverse()),c=new u(\"hamt-sharded-directory\",i);c.fanout=r.tableSize(),c.hashType=t.hashFn.code,o([e=>f.create(c.marshal(),n,t.hashAlg,e),(e,r)=>{if(t.onlyHash)return r(null,e);let n=new s(e.multihash);if(t.cidVersion===1){n=n.toV1()}h.put(e,{cid:n},t=>r(t,e))},(t,e)=>{const r={path:a,multihash:t.multihash,size:t.size};if(l){l.push(r)}e(null,t)}],d)}}t.exports=function(t,e){return new m(t,e)}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(1687);t.exports=function(t){return new n(t)},t.exports.isBucket=n.isBucket},function(t,e,r){\"use strict\";(function(e){const n=r(1688),i=r(88),o=r(218),s=r(1689),a={bits:8};class u{constructor(t,e,r){if(this._options=Object.assign({},a,t),this._popCount=0,this._parent=e,this._posAtParent=r,!this._options.hashFn)throw new Error(\"please define an options.hashFn\");this._options.hash||(this._options.hash=s(this._options.hashFn)),this._children=new n}static isBucket(t){return t instanceof u}put(t,e,r){this._findNewBucketAndPos(t,(n,i)=>{n?r(n):(i.bucket._putAt(i,t,e),r())})}get(t,e){this._findChild(t,(t,r)=>{t?e(t):e(null,r&&r.value)})}del(t,e){this._findPlace(t,(r,n)=>{if(r)return void e(r);const i=n.bucket._at(n.pos);i&&i.key===t&&n.bucket._delAt(n.pos),e(null)})}leafCount(){this._children.reduce((t,e)=>e instanceof u?t+e.leafCount():t+1,0)}childrenCount(){return this._children.length}onlyChild(t){e.nextTick(()=>t(null,this._children.get(0)))}eachLeafSeries(t,e){o(this._children.compactArray(),(e,r)=>{e instanceof u?e.eachLeafSeries(t,r):t(e.key,e.value,r)},e)}serialize(t,e){return e(this._children.reduce((r,n,i)=>(n&&(n instanceof u?r.push(n.serialize(t,e)):r.push(t(n,i))),r),[]))}asyncTransform(t,e,r){!function t(e,r,n,o){i(e._children.compactArray(),(i,o)=>{i instanceof u?t(i,r,n,o):r(i,(t,r)=>{t?o(t):o(null,{bitField:e._children.bitField(),children:r})})},(t,e)=>{t?o(t):n(e,o)})}(this,t,e,r)}toJSON(){return this.serialize(f,h)}prettyPrint(){return JSON.stringify(this.toJSON(),null,\"  \")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t,e){this._findPlace(t,(r,n)=>{if(r)return void e(r);const i=n.bucket._at(n.pos);i&&i.key===t?e(null,i):e(null,void 0)})}_findPlace(t,e){const r=this._options.hash(t);r.take(this._options.bits,(t,n)=>{if(t)return void e(t);const i=this._children.get(n);if(i instanceof u)i._findPlace(r,e);else{e(null,{bucket:this,pos:n,hash:r})}})}_findNewBucketAndPos(t,e){this._findPlace(t,(r,n)=>{if(r)return void e(r);const i=n.bucket._at(n.pos);if(i&&i.key!==t){const t=new u(this._options,n.bucket,n.pos);n.bucket._putObjectAt(n.pos,t),t._findPlace(i.hash,(r,o)=>{r?e(r):(o.bucket._putAt(o,i.key,i.value),t._findNewBucketAndPos(n.hash,e))})}else e(null,n)})}_putAt(t,e,r){this._putObjectAt(t.pos,{key:e,value:r,hash:t.hash})}_putObjectAt(t,e){this._children.get(t)||this._popCount++,this._children.set(t,e)}_delAt(t){this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(c);if(!(t instanceof u)){const e=t.hash;e.untake(this._options.bits);const r={pos:this._posAtParent,hash:e};this._parent._putAt(r,t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function c(t){return Boolean(t)}function f(t,e){return t.key}function h(t){return t}t.exports=u}).call(this,r(7))},function(t,e,r){\"use strict\";function n(t,e){return t+i(e)}function i(t){let e=t;return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>24}function o(t,e){return t[0]-e[0]}function s(t){return t[1]}t.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(t,e){let r=this._internalPositionFor(t,!1);if(void 0===e)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(t),this._changedLength=!0,this._changedData=!0);else{let n=!1;-1===r?(r=this._data.length,this._setBit(t),this._changedData=!0):n=!0,this._setInternalPos(r,t,e,n),this._changedLength=!0}}unset(t){this.set(t,void 0)}get(t){this._sortData();const e=this._internalPositionFor(t,!0);if(-1!==e)return this._data[e][1]}push(t){return this.set(this.length,t),this.length}get length(){if(this._sortData(),this._changedLength){const t=this._data[this._data.length-1];this._length=t?t[0]+1:0,this._changedLength=!1}return this._length}forEach(t){let e=0;for(;e<this.length;)t(this.get(e),e,this),e++}map(t){let e=0,r=new Array(this.length);for(;e<this.length;)r[e]=t(this.get(e),e,this),e++;return r}reduce(t,e){let r=0,n=e;for(;r<this.length;){n=t(n,this.get(r),r),r++}return n}find(t){let e,r,n=0;for(;n<this.length&&!e;)e=t(r=this.get(n)),n++;return e?r:void 0}_internalPositionFor(t,e){const r=this._bytePosFor(t,e);if(r>=this._bitArrays.length)return-1;const o=this._bitArrays[r],s=t-7*r;return(o&1<<s)>0?this._bitArrays.slice(0,r).reduce(n,0)+i(o&~(4294967295<<s+1))-1:-1}_bytePosFor(t,e){const r=Math.floor(t/7),n=r+1;for(;!e&&this._bitArrays.length<n;)this._bitArrays.push(0);return r}_setBit(t){const e=this._bytePosFor(t,!1);this._bitArrays[e]|=1<<t-7*e}_unsetBit(t){const e=this._bytePosFor(t,!1);this._bitArrays[e]&=~(1<<t-7*e)}_setInternalPos(t,e,r,n){const i=this._data,o=[e,r];if(n)this._sortData(),i[t]=o;else{if(i.length)if(i[i.length-1][0]>=e)i.push(o);else if(i[0][0]<=e)i.unshift(o);else{const t=Math.round(i.length/2);this._data=i.slice(0,t).concat(o).concat(i.slice(t))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(t){this._data.splice(t,1)}_sortData(){this._changedData&&this._data.sort(o)}bitField(){const t=[];let e,r=8,n=0,i=0;const o=this._bitArrays.slice();for(;o.length||n;){0===n&&(e=o.shift(),n=7);const s=Math.min(n,r);i|=(e&~(255<<s))<<8-r,e>>>=s,n-=s,(r-=s)&&(n||o.length)||(t.push(i),i=0,r=8)}for(var s=t.length-1;s>0;s--){if(0!==t[s])break;t.pop()}return t}compactArray(){return this._sortData(),this._data.map(s)}}},function(t,e,r){\"use strict\";(function(e,n){const i=r(39),o=r(1690);t.exports=function(t){return function(e){return e instanceof s?e:new s(e,t)}};class s{constructor(t,r){if(\"string\"!=typeof t&&!e.isBuffer(t))throw new Error(\"can only hash strings or buffers\");this._value=t,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t,e){let r=t;i(()=>this._availableBits<r,t=>{this._produceMoreBits(t)},t=>{if(t)return void e(t);let o=0;i(()=>r>0,t=>{const e=this._buffers[this._currentBufferIndex],n=Math.min(e.availableBits(),r),i=e.take(n);o=(o<<n)+i,r-=n,this._availableBits-=n,0===e.availableBits()&&this._currentBufferIndex++,t()},t=>{t?e(t):n.nextTick(()=>e(null,o))})})}untake(t){let e=t;for(;e>0;){const t=this._buffers[this._currentBufferIndex],r=Math.min(t.totalBits()-t.availableBits(),e);t.untake(r),e-=r,this._availableBits+=r,this._currentBufferIndex>0&&t.totalBits()===t.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(t){this._depth++;const e=this._depth?this._value+this._depth:this._value;this._hashFn(e,(e,r)=>{if(e)return void t(e);const n=new o(r);this._buffers.push(n),this._availableBits+=n.availableBits(),t()})}}}).call(this,r(0).Buffer,r(7))},function(t,e,r){\"use strict\";const n=[255,254,252,248,240,224,192,128],i=[1,3,7,15,31,63,127,255];function o(t,e,r){return(t&function(t,e){return n[t]&i[Math.min(e+t-1,7)]}(e,r))>>>e}t.exports=class{constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let e=t,r=0;for(;e&&this._haveBits();){const t=this._value[this._currentBytePos],n=this._currentBitPos+1,i=Math.min(n,e);r=(r<<i)+o(t,n-i,i),e-=i,this._currentBitPos-=i,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}},function(t,e,r){\"use strict\";const n=r(1692);t.exports=(t=>{let e=\"number\"==typeof t?t:t.maxChunkSize;return n(e,{zeroPadding:!1,emitEmpty:!0})})},function(t,e,r){\"use strict\";(function(e){var n=r(230);function i(t){return 1===t.length?t[0]:e.concat(t)}function o(t,e,r){return 0===e&&r===t.length?t:t.slice(e,r)}t.exports=function(t,r){var s;r||(r={}),\"object\"==typeof t&&(t=(r=t).size),t=t||512,s=!r.nopad&&(void 0===r.zeroPadding||r.zeroPadding);var a=[],u=0,c=0,f=!1;return n(function(r){for(\"number\"==typeof r&&(r=e.from([r])),u+=r.length,a.push(r);u>=t;){for(var n,s,h,l=0,p=[],d=0;l<t;)n=a[d],s=Math.min(c+t-l,n.length),l+=(h=o(n,c,s)).length,p.push(h),s===n.length?(d++,c=0):c+=h.length;a=a.slice(d),u-=l,this.queue(i(p)),f=!0}},function(n){if(r.emitEmpty&&!f||u){if(s){var o=e.alloc(t-u);o.fill(0),a.push(o)}a&&(a.length>0&&(a[0]=a[0].slice(c)),this.queue(i(a)),a=null)}this.queue(null)})}}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(9),i=r(13),o=r(1694).createResolver;const s={maxDepth:1/0,offset:void 0,length:void 0};t.exports=((t,r,a)=>{let u;a=Object.assign({},s,a);try{u=function(t){let r=t,n=\"/\";if(e.isBuffer(t)&&(r=new i(t).toBaseEncodedString()),\"string\"==typeof t){0===t.indexOf(\"/ipfs/\")&&(t=r=t.substring(6));const e=t.indexOf(\"/\");e>0&&(r=t.substring(0,e),n=t.substring(e))}else i.isCID(r)&&(r=r.toBaseEncodedString());return{base:r=new i(r).toBaseEncodedString(),rest:n.split(\"/\").filter(Boolean)}}(t)}catch(t){return n.error(t)}const c=function(t){return t.reduce((t,e)=>(t.length&&(t+=\"/\"),t+e),\"\")}([u.base].concat(u.rest.slice(0,u.rest.length-1))).length;return n(n.values([{multihash:new i(u.base),name:u.base,path:u.base,pathRest:u.rest,depth:0}]),o(r,a),n.filter(Boolean),n.map(t=>({depth:t.depth,name:t.name,path:function(t){if(!u.rest.length)return t.path;let e=t.path.substring(c);\"/\"===e.charAt(0)&&(e=e.substring(1));e||(e=u.rest[u.rest.length-1]||u.base);return e}(t),size:t.size,hash:t.hash||t.multihash,content:t.content,type:t.type})))})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(47),i=r(9),o=r(354),s=r(13),a={directory:r(1696),\"hamt-sharded-directory\":r(1697),file:r(1699),object:r(1700)};function u(t,e,r,n){if(!r){r=0}if(r>e.maxDepth){return i.map(f)}return i(o((r,n)=>{if(typeof r.depth!==\"number\"){return i.error(new Error(\"no depth\"))}if(r.object){return n(null,h(r.object,r,e.offset,e.length))}t.get(new s(r.multihash),(t,i)=>{if(t){return n(t)}n(null,h(i.value,r,e.offset,e.length))})}),i.flatten(),i.filter(Boolean),i.filter(t=>t.depth<=e.maxDepth));function h(e,r,i,o){return l(e,r.name,r.path,r.pathRest,r.size,t,r.parent||n,r.depth,i,o)}function l(t,r,n,o,s,f,h,l,p,d){const y=c(t),m=a[y];if(!m){return i.error(new Error(\"Unkown node type \"+y))}const g=u(f,e,l,t);return m(t,r,n,o,g,s,f,h,l,p,d)}}function c(t){return e.isBuffer(t.data)?n.unmarshal(t.data).type:\"object\"}function f(t){return t}t.exports=Object.assign({createResolver:function(t,e,r,n){r||(r=0);if(r>e.maxDepth)return i.map(f);return i(o((r,n)=>\"number\"!=typeof r.depth?i.error(new Error(\"no depth\")):r.object?n(null,h(r.object,r,e.offset,e.length)):void t.get(new s(r.multihash),(t,i)=>{if(t)return n(t);n(null,h(i.value,r,e.offset,e.length))})),i.flatten(),i.filter(Boolean),i.filter(t=>t.depth<=e.maxDepth));function h(r,o,s,f){return function(t,r,n,o,s,f,h,l,p,d){const y=c(t),m=a[y];if(!m)return i.error(new Error(\"Unkown node type \"+y));const g=u(f,e,l,t);return m(t,r,n,o,g,s,f,h,l,p,d)}(r,o.name,o.path,o.pathRest,o.size,t,o.parent||n,o.depth,s,f)}},typeOf:c},a)}).call(this,r(0).Buffer)},function(t,e){t.exports=function(t){var e=!1,r=0;return function(){if(r=!0,!e){for(e=!0;r;)r=!1,t();e=!1}}}},function(t,e,r){\"use strict\";const n=r(9),i=r(166);t.exports=function(t,e,r,o,s,a,u,c,f){const h=o[0],l={name:e,depth:f,path:r,hash:t.multihash,size:t.size,type:\"dir\"},p=[n(n.values(t.links),n.map(t=>({depth:f+1,size:t.size,name:t.name,path:r+\"/\"+t.name,multihash:t.multihash,linkName:t.name,pathRest:o.slice(1),type:\"dir\"})),n.filter(t=>void 0===h||t.linkName===h),s)];o.length||p.unshift(n.values([l]));return i(p)}},function(t,e,r){\"use strict\";const n=r(9),i=r(166),o=r(1698);t.exports=function(t,e,r,s,a,u,c,f,h){let l;f&&f.path===r||(l={name:e,depth:h,path:r,hash:o(t.multihash),size:t.size,type:\"dir\"});const p=[n(n.values(t.links),n.map(t=>{const e=t.name.substring(2),n=e?r+\"/\"+e:r;let i=!0;return e&&s.length&&(i=e===s[0]),i?{depth:h+1,name:e,path:n,multihash:t.multihash,pathRest:e?s.slice(1):s,parent:l||f}:\"\"}),n.filter(Boolean),a)];s.length||p.unshift(n.values([l]));return i(p)}},function(t,e,r){\"use strict\";(function(e){const n=r(10);t.exports=(t=>e.isBuffer(t)?n.toB58String(t):t)}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";(function(e){const n=r(259),i=r(47),o=r(13),s=r(9),a=r(354);function u(t,r,n,i){const o=t.length;return n>=r+o?e.alloc(0):(i-r<o&&(t=t.slice(0,i-r)),n>r&&n<r+o&&(t=t.slice(n-r)),t)}t.exports=((t,r,c,f,h,l,p,d,y,m,g)=>{const b=f[0];if(void 0!==b&&b!==c)return s.empty();const v=i.unmarshal(t.data),_=l||v.fileSize();if(m<0)return s.error(new Error(\"Offset must be greater than 0\"));if(m>_)return s.error(new Error(\"Offset must be less than the file size\"));if(g<0)return s.error(new Error(\"Length must be greater than or equal to 0\"));if(0===g)return s.once(e.alloc(0));m||(m=0),(!g||m+g>_)&&(g=_-m);const w=function(t,r,c,f,h){if(f===c||0===h)return s.once(e.alloc(0));const l=f+h;let p=0;return s(n.depthFirst({node:r,start:0,end:c},function({node:r}){if(e.isBuffer(r))return s.empty();const n=i.unmarshal(r.data);Boolean(n.data&&n.data.length)&&r.links.length&&(p+=n.data.length);const u=r.links.map((t,e)=>{const r={link:t,start:p,end:p+n.blockSizes[e]};return p=r.end,r}).filter(t=>f>=t.start&&f<t.end||l>t.start&&l<=t.end||f<t.start&&l>t.end);u.length&&(p=u[0].start);return s(s.values(u),a((e,r)=>{t.get(new o(e.link.multihash),(t,n)=>r(t,{start:e.start,end:e.end,node:n&&n.value,size:e.size}))}))}),s.map(function({node:t,start:r}){try{if(e.isBuffer(t))return u(t,r,f,l);const n=i.unmarshal(t.data);return n.data?u(n.data,r,f,l):e.alloc(0)}catch(t){throw new Error(`Failed to unmarshal node - ${t.message}`)}}),s.filter(Boolean))}(p,t,_,m,g);return s.values([{depth:y,content:w,name:r,path:c,hash:t.multihash,size:_,type:\"file\"}])})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(13),i=r(9);t.exports=((t,e,r,o,s,a,u,c,f)=>{let h;if(o.length){const e=o[0],a=r+\"/\"+e;if(!(h=t[e]))return i.error(\"not found\");const u=n.isCID(h);return i(i.values([{depth:f,name:e,path:a,pathRest:o.slice(1),multihash:u&&h,object:!u&&h,parent:c}]),s)}return i.error(new Error(\"invalid node type\"))})},function(t,e,r){var n=r(194),i=r(9);t.exports=function(t){var e=n(),r=i.collect(function(r,n){e.resolve(i.values(n.sort(t)))});return function(t){return r(t),e}}},function(t,e,r){\"use strict\";const n=r(22),i=r(2);t.exports=function(t){return{subscribe:(e,r,n,i)=>{if(\"function\"==typeof n&&(i=n,n={}),!i)return new Promise((i,o)=>{t._libp2pNode.pubsub.subscribe(e,n,r,t=>{if(t)return o(t);i()})});t._libp2pNode.pubsub.subscribe(e,n,r,i)},unsubscribe:(e,r,n)=>{if(t._libp2pNode.pubsub.unsubscribe(e,r),!n)return Promise.resolve();i(()=>n())},publish:n((e,r,n)=>{t._libp2pNode.pubsub.publish(e,r,n)}),ls:n(e=>{t._libp2pNode.pubsub.ls(e)}),peers:n((e,r)=>{t._libp2pNode.pubsub.peers(e,r)}),setMaxListeners(e){t._libp2pNode.pubsub.setMaxListeners(e)}}}},function(t,e,r){\"use strict\";(function(e){const n=r(22),i=r(1704),o=r(116),s=r(13),a=r(53);t.exports=(t=>({get:n((r,n,i)=>{if(!e.isBuffer(r))return i(new Error(\"Not valid key\"));\"function\"==typeof n&&(i=n,n={}),t._libp2pNode.dht.get(r,n.timeout,i)}),put:n((r,n,i)=>{if(!e.isBuffer(r))return i(new Error(\"Not valid key\"));t._libp2pNode.dht.put(r,n,i)}),findprovs:n((e,r)=>{\"string\"==typeof e&&(e=new s(e)),t._libp2pNode.contentRouting.findProviders(e,r)}),findpeer:n((e,r)=>{\"string\"==typeof e&&(e=o.createFromB58String(e)),t._libp2pNode.peerRouting.findPeer(e,(t,e)=>{if(t)return r(t);const n=[{Responses:[{ID:e.id.toB58String(),Addresses:e.multiaddrs.toArray().map(t=>t.toString())}]}];r(null,n)})}),provide:n((e,r,n)=>{Array.isArray(e)||(e=[e]),\"function\"==typeof r&&(n=r,r={}),i(e,(e,r)=>{t._repo.blocks.has(e,r)},(i,o)=>i?n(i):o?void(r.recursive||a(e,(e,r)=>{t._libp2pNode.contentRouting.provide(e,r)},n)):n(new Error(\"block(s) not found locally, cannot provide\")))}),query:n((e,r)=>{\"string\"==typeof e&&(e=o.createFromB58String(e)),t._libp2pNode._dht.getClosestPeers(e.toBytes(),(t,e)=>{if(t)return r(t);r(null,e.map(t=>({ID:t.toB58String()})))})})}))}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=s(r(650)),i=s(r(196)),o=s(r(1705));function s(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((0,n.default)(o.default,o.default)),t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t){return!t},t.exports=e.default},function(t,e,r){\"use strict\";const n=r(1707),i=r(22);t.exports=(()=>i((t,e,r)=>{if(\"string\"!=typeof t)return r(new Error(\"Invalid arguments, domain must be a string\"));\"function\"==typeof e&&(r=e,e={}),n(t,e,r)}))},function(t,e,r){\"use strict\";t.exports=((t,e,r)=>{let n=`https://ipfs.io/api/v0/dns?arg=${t=encodeURIComponent(t)}`;for(const t in e)n+=`&${t}=${e[t]}`;self.fetch(n,{mode:\"cors\"}).then(t=>t.json()).then(t=>t.Path?r(null,t.Path):r(new Error(t.Message))).catch(t=>{r(t)})})},function(t,e,r){\"use strict\";const n=r(22);t.exports=function(t){return{gen:n((e,r,n)=>{t._keychain.createKey(e,r.type,r.size,n)}),info:n((e,r)=>{t._keychain.findKeyByName(e,r)}),list:n(e=>{t._keychain.listKeys(e)}),rm:n((e,r)=>{t._keychain.removeKey(e,r)}),rename:n((e,r,n)=>{t._keychain.renameKey(e,r,(t,r)=>{if(t)return n(t);const i={was:e,now:r.name,id:r.id,overwrite:!1};n(null,i)})}),import:n((e,r,n,i)=>{t._keychain.importKey(e,r,n,i)}),export:n((e,r,n)=>{t._keychain.exportKey(e,r,n)})}}},function(t,e,r){\"use strict\";const n=r(22),i=r(697),o=r(56),s=r(1710),a=r(164);function u(t,e){return new Promise((r,n)=>{let o;(o=e.peer?t._libp2pNode.stats.forPeer(e.peer):e.proto?t._libp2pNode.stats.forProtocol(e.proto):t._libp2pNode.stats.global)?r({totalIn:o.snapshot.dataReceived,totalOut:o.snapshot.dataSent,rateIn:new i(o.movingAverages.dataReceived[6e4].movingAverage()/60),rateOut:new i(o.movingAverages.dataSent[6e4].movingAverage()/60)}):r({totalIn:new i(0),totalOut:new i(0),rateIn:new i(0),rateOut:new i(0)})})}t.exports=function(t){const e=e=>{e=e||{};let r=null,n=o(!0,()=>{r&&clearInterval(r)});return e.poll?s(e.interval||\"1s\",(i,o)=>{if(i)throw i;r=setInterval(()=>{u(t,e).then(t=>n.push(t)).catch(t=>n.end(t))},o)}):u(t,e).then(t=>{n.push(t),n.end()}).catch(t=>n.end(t)),n.source};return{bitswap:r(696)(t).stat,repo:r(578)(t).stat,bw:n((e,r)=>{\"function\"==typeof e&&(r=e,e={}),u(t,e).then(t=>r(null,t)).catch(t=>r(t))}),bwReadableStream:t=>a.source(e(t)),bwPullStream:e}}},function(t,e,r){\"use strict\";const n=r(22),i=/^((\\d+(\\.\\d+)*)(ns|ms|us|µs|m|s|h))+$/,o=/((\\d+(\\.\\d+)*)(ns|ms|us|µs|m|s|h))/g,s=/(ns|ms|us|µs|m|s|h)/g,a={ns:1e-6,us:.001,\"µs\":.001,ms:1,s:1e3,m:6e4,h:36e5};t.exports=n(function(t,e){return\"string\"!=typeof t?e(new Error(\"the first argument must be a string\")):i.test(t)?void e(null,t.match(o).reduce((t,e)=>t+function(t){let e=t.match(s)[0];return t=t.substring(0,t.length-e.length),parseFloat(t)*a[e]}(e),0)):e(new Error(\"invalid time\"))})},function(t,e,r){\"use strict\";t.exports=r(1712)},function(t,e,r){\"use strict\";const n=r(22),{createLock:i}=r(50),o={ls:r(1738),read:r(1739),readPullStream:r(356),readReadableStream:r(1740),stat:r(706)},s={cp:r(707),flush:r(1741),mkdir:r(1742),mv:r(1743),rm:r(708),write:r(1744)},a=(t,e,r,i)=>{Object.keys(r).forEach(o=>{r.hasOwnProperty(o)&&(e[o]=n(i(r[o](t))))})},u={repoOwner:!0};t.exports=((t,e)=>{const{repoOwner:r}=Object.assign({},u||{},e),n=i(r),c={};return a(t,c,o,t=>n.readLock(t)),a(t,c,s,t=>n.writeLock(t)),c})},function(t,e,r){\"use strict\";(function(e){t.exports=(t=>{let r=e.alloc(0);const n=(i,o)=>{t(null,(t,s)=>{if(t)return!0===t?o(null,r):o(t);if((r=e.concat([r,s])).length<i)return n(i,o);const a=r.slice(0,i);r=r.slice(i),o(null,a)})};return n})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(424);t.exports=(t=>{let e=0;return n(t=>{e+=t.length},()=>{t(e)})})},function(t,e,r){\"use strict\";const n=r(1716),i=r(6)(\"ipfs:mfs:lock\");t.exports=(t=>{const e=n({singleProcess:t}),r=(t,r,n,o)=>{i(`Queuing ${t} operation`),e[`${t}Lock`](()=>new Promise((e,o)=>{n.push((r,n)=>{if(i(`${t} operation callback invoked${r?\" with error\":\"\"}`),r)return o(r);e(n)}),i(`Starting ${t} operation`),r.apply(null,n)})).then(e=>{i(`Finished ${t} operation`);const r=o;o=null,r(null,e)}).catch(e=>{if(i(`Finished ${t} operation with error`),o)return o(e);throw i(`Callback already invoked for ${t} operation`),e})};return{readLock:t=>(function(){const e=Array.from(arguments);let n=e.pop();r(\"read\",t,e,n)}),writeLock:t=>(function(){const e=Array.from(arguments);let n=e.pop();r(\"write\",t,e,n)})}})},function(t,e,r){(function(e){const n=r(1717),i=r(1727),o=r(1728),{timeout:s}=r(1729),a=r(700),u={};let c;const f={concurrency:1/0,timeout:846e5,global:e,singleProcess:!1};t.exports=((t,e)=>(e||(e={}),\"object\"==typeof t&&(e=t,t=\"lock\"),t||(t=\"lock\"),e=Object.assign({},f,e),c||(c=n(e)||i(e)).isWorker||(c.on(\"requestReadLock\",(t,e)=>{u[t]&&u[t].readLock(e)}),c.on(\"requestWriteLock\",(t,e)=>{u[t]&&u[t].writeLock(e)})),u[t]||(u[t]=((t,e)=>{if(c.isWorker)return{readLock:c.readLock(t,e),writeLock:c.writeLock(t,e)};const r=new o({concurrency:1});let n=null;return{readLock:t=>{if(!n){const t=n=new o({concurrency:e.concurrency,autoStart:!1});r.add(()=>(t.start(),t.onIdle().then(()=>{n===t&&(n=null)})))}return n.add(()=>s(t(),e.timeout))},writeLock:t=>(n=null,r.add(()=>s(t(),e.timeout)))}})(t,e)),u[t])),t.exports.Worker=function(t,r){let n;r=r||e.Worker;try{n=new r(t)}catch(e){e.message.includes(\"not a constructor\")&&(n=r(t))}if(!n)throw new Error(\"Could not create Worker from\",r);return a(n),n}}).call(this,r(5))},function(t,e,r){(function(e){const n=r(19).EventEmitter,i=r(698),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:s,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:u,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:f}=r(699);let h;const l=(t,e,r,n,i)=>(o,s)=>{s&&s.type===r&&t.emit(e,s.name,()=>(o.send({type:i,name:s.name,identifier:s.identifier}),new Promise(t=>{const e=r=>{r&&r.type===n&&r.identifier===s.identifier&&(o.removeListener(\"message\",e),t())};o.on(\"message\",e)})))},p=(t,r,n,o)=>s=>{const a=i.generate();return e.send({type:r,identifier:a,name:t}),new Promise((r,i)=>{const u=c=>{if(c&&c.type===n&&c.identifier===a){e.removeListener(\"message\",u);let n=null;s().catch(t=>{n=t}).then(s=>{if(e.send({type:o,identifier:a,name:t}),n)return i(n);r(s)})}};e.on(\"message\",u)})};t.exports=(t=>{try{if(h=r(1726),!Object.keys(h).length)return}catch(t){return}if(h.isMaster||t.singleProcess){const t=new n;return h.on(\"message\",l(t,\"requestReadLock\",o,s,a)),h.on(\"message\",l(t,\"requestWriteLock\",u,c,f)),t}return{isWorker:!0,readLock:(t,e)=>p(t,o,a,s),writeLock:(t,e)=>p(t,u,f,c)}})}).call(this,r(7))},function(t,e,r){\"use strict\";var n=r(231),i=r(1720),o=r(1724),s=r(1725)||0;function a(){return i(s)}t.exports=a,t.exports.generate=a,t.exports.seed=function(e){return n.seed(e),t.exports},t.exports.worker=function(e){return s=e,t.exports},t.exports.characters=function(t){return void 0!==t&&n.characters(t),n.shuffled()},t.exports.isValid=o},function(t,e,r){\"use strict\";var n=1;t.exports={nextValue:function(){return(n=(9301*n+49297)%233280)/233280},seed:function(t){n=t}}},function(t,e,r){\"use strict\";var n,i,o=r(1721),s=(r(231),1459707606518),a=6;t.exports=function(t){var e=\"\",r=Math.floor(.001*(Date.now()-s));return r===i?n++:(n=0,i=r),e+=o(a),e+=o(t),n>0&&(e+=o(n)),e+=o(r)}},function(t,e,r){\"use strict\";var n=r(231),i=r(1722),o=r(1723);t.exports=function(t){for(var e,r=0,s=\"\";!e;)s+=o(i,n.get(),1),e=t<Math.pow(16,r+1),r++;return s}},function(t,e,r){\"use strict\";var n,i=\"object\"==typeof window&&(window.crypto||window.msCrypto);n=i&&i.getRandomValues?function(t){return i.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],r=0;r<t;r++)e.push(Math.floor(256*Math.random()));return e},t.exports=n},function(t,e){t.exports=function(t,e,r){for(var n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=Math.ceil(1.6*n*r/e.length),o=\"\";;)for(var s=t(i),a=0;a<i;a++){var u=s[a]&n;if(e[u]&&(o+=e[u]).length===r)return o}}},function(t,e,r){\"use strict\";var n=r(231);t.exports=function(t){return!(!t||\"string\"!=typeof t||t.length<6||new RegExp(\"[^\"+n.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t))}},function(t,e,r){\"use strict\";t.exports=0},function(t,e){},function(t,e,r){(function(e){const n=r(19).EventEmitter,i=r(698),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:s,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:u,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:f}=r(699),h=r(700),l=(t,e,r,n,i)=>(o,s)=>{if(!s||!s.data||s.data.type!==r)return;const a={type:s.data.type,name:s.data.name,identifier:s.data.identifier};t.emit(e,a.name,()=>(o.postMessage({type:i,name:a.name,identifier:a.identifier}),new Promise(t=>{const e=r=>{if(!r||!r.data)return;const i={type:r.data.type,name:r.data.name,identifier:r.data.identifier};i&&i.type===n&&i.identifier===a.identifier&&(o.removeEventListener(\"message\",e),t())};o.addEventListener(\"message\",e)})))},p=(t,e,r,n,o)=>s=>{const a=i.generate();return t.postMessage({type:r,identifier:a,name:e}),new Promise((r,i)=>{const u=c=>{if(!c||!c.data)return;const f={type:c.data.type,identifier:c.data.identifier};if(f&&f.type===n&&f.identifier===a){let n;t.removeEventListener(\"message\",u),s().catch(t=>{n=t}).then(s=>(t.postMessage({type:o,identifier:a,name:e}),n?i(n):r(s)))}};t.addEventListener(\"message\",u)})},d={global:e,singleProcess:!1};t.exports=(t=>{if(!!(t=Object.assign({},d,t)).global.document||t.singleProcess){const t=new n;return h.addEventListener(\"message\",l(t,\"requestReadLock\",o,s,a)),h.addEventListener(\"message\",l(t,\"requestWriteLock\",u,c,f)),t}return{isWorker:!0,readLock:(t,e)=>p(e.global,t,o,a,s),writeLock:(t,e)=>p(e.global,t,u,f,c)}})}).call(this,r(5))},function(t,e,r){\"use strict\";class n{constructor(){this._queue=[]}enqueue(t,e){const r={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)return void this._queue.push(r);const n=function(t,e,r){let n=0,i=t.length;for(;i>0;){const o=i/2|0;let s=n+o;r(t[s],e)<=0?(n=++s,i-=o+1):i=o}return n}(this._queue,r,(t,e)=>e.priority-t.priority);this._queue.splice(n,0,r)}dequeue(){return this._queue.shift().run}get size(){return this._queue.length}}t.exports=class{constructor(t){if(!(\"number\"==typeof(t=Object.assign({concurrency:1/0,autoStart:!0,queueClass:n},t)).concurrency&&t.concurrency>=1))throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${t.concurrency}\\` (${typeof t.concurrency})`);this.queue=new t.queueClass,this._queueClass=t.queueClass,this._pendingCount=0,this._concurrency=t.concurrency,this._isPaused=!1===t.autoStart,this._resolveEmpty=(()=>{}),this._resolveIdle=(()=>{})}_next(){this._pendingCount--,this.queue.size>0?this._isPaused||this.queue.dequeue()():(this._resolveEmpty(),this._resolveEmpty=(()=>{}),0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=(()=>{})))}add(t,e){return new Promise((r,n)=>{const i=()=>{this._pendingCount++;try{Promise.resolve(t()).then(t=>{r(t),this._next()},t=>{n(t),this._next()})}catch(t){n(t),this._next()}};!this._isPaused&&this._pendingCount<this._concurrency?i():this.queue.enqueue(i,e)})}addAll(t,e){return Promise.all(t.map(t=>this.add(t,e)))}start(){if(this._isPaused)for(this._isPaused=!1;this.queue.size>0&&this._pendingCount<this._concurrency;)this.queue.dequeue()()}pause(){this._isPaused=!0}clear(){this.queue=new this._queueClass}onEmpty(){return 0===this.queue.size?Promise.resolve():new Promise(t=>{const e=this._resolveEmpty;this._resolveEmpty=(()=>{e(),t()})})}onIdle(){return 0===this._pendingCount?Promise.resolve():new Promise(t=>{const e=this._resolveIdle;this._resolveIdle=(()=>{e(),t()})})}get size(){return this.queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}}},function(t,e,r){\"use strict\";var n;t.exports.timeout=function(t,e){var r,i=new n;return Promise.race([t,new Promise(function(t,n){r=setTimeout(function(){n(i)},e)})]).then(function(t){return clearTimeout(r),t},function(t){throw clearTimeout(r),t})};(n=t.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message=\"Timeout\"}).prototype=Object.create(Error.prototype),n.prototype.name=\"TimeoutError\"},function(t,e,r){\"use strict\";const n=r(186),i=r(702);t.exports=(t=>{let e=0;return n((r,n)=>{e>t&&i(n),e+r.length>t&&(r=r.slice(0,t-e)),e+=r.length,n(null,r)})})},function(t,e,r){\"use strict\";const n=r(4),i=r(13),o=r(6)(\"ipfs:mfs:utils:load-node\"),s=r(8);t.exports=((t,e,r)=>{const a=e&&(e.multihash||e.hash);if(!a)return o(\"No multihash passed so cannot load DAGNode\"),r();o(`Loading DAGNode for child ${s.encode(a)}`),n([e=>t.dag.get(new i(a),e),(t,e)=>e(null,t.value)],r)})},function(t,e,r){\"use strict\";const n=r(703);t.exports=function(t,e){const{sources:r,options:i,callback:o}=n(t,e);return{sources:r,destination:r.pop(),options:i,callback:o}}},function(t,e,r){\"use strict\";const n=r(8),i=r(13),o=r(6)(\"ipfs:mfs:utils:traverse-to\"),s=r(47),a=r(4),u=r(1734),c=r(704),f=r(705),h=r(355),{FILE_SEPARATOR:l}=r(176),p=r(701),d={parents:!1,flush:!0,createLastComponent:!1,withCreateHint:!0},y=(t,e,r,n)=>{o(\"IPFS\",e),a([r=>t.dag.get(e.path,r),(t,r)=>r(null,{name:e.name,node:t&&t.value,parent:null})],n)},m=(t,e,r,f)=>{a([e=>c(t,e),(c,f)=>{const d=e.path.split(l).filter(Boolean),y=[];a([e=>t.dag.get(c,e),(c,f)=>{const m=c.value;y.push({name:l,node:m,parent:null}),u(d.map((t,e)=>({pathSegment:t,index:e})),{name:l,node:m,parent:null},(u,{pathSegment:c,index:f},l)=>{o(`Looking for ${c} in ${u.name} ${n.encode(u.node.multihash)}`);const m=u.node.links.find(t=>t.name===c);if(!m){const n=f===d.length-1;if(o(`index ${f} pathSegments.length ${d.length} pathSegment ${c} lastComponent ${n}`,r),n&&!r.createLastComponent)return l(new Error(`Path ${e.path} did not exist`));if(!n&&!r.parents){let t=`Cannot find ${e.path} - ${c} did not exist`;return r.withCreateHint&&(t+=\": Try again with the --parents flag to create it\"),l(new Error(t))}return o(`Adding empty directory '${c}' to parent ${u.name}`),a([e=>p(t,new s(\"directory\").marshal(),[],r,e),(e,n)=>{h(t,{parent:u.node,child:e,name:c,flush:r.flush},(t,r)=>{u.node=r,n(t,{name:c,node:e,parent:u})})}],(t,e)=>{y.push(e),l(t,e)})}let g=m.hash||m.multihash;t.dag.get(new i(g),(t,e)=>{o(`Loaded ${n.encode(e.value.multihash)} from ${n.encode(g)}`);const r={name:c,node:e&&e.value,parent:u};y.push(r),l(t,r)})},f)}],f)}],(t,e)=>{if(!t){let t=e,r=[];for(;t;)r.push(`${t.name} ${n.encode(t.node.multihash)}`),t=t.parent;o(\"Path:\"),r.reverse().forEach(t=>o(t))}f(t,e)})};t.exports=((t,e,r,n)=>{r=Object.assign({},d,r),o(\"Traversing to\",e),a([t=>f(e,t),(e,n)=>\"mfs\"===e.type?m(t,e,r,n):y(t,e,r,n)],n)})},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,e,r,a){a=(0,o.default)(a||i.default);var u=(0,s.default)(r);(0,n.default)(t,function(t,r,n){u(e,t,function(t,r){e=r,n(t)})},function(t){a(t,e)})};var n=a(r(249)),i=a(r(65)),o=a(r(189)),s=a(r(38));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){\"use strict\";const n=r(8),i=r(6)(\"ipfs:mfs:utils:update-mfs:root\"),o=r(4),{MFS_ROOT_KEY:s}=r(176);t.exports=((t,e,r)=>{const a=t._repo,u=a&&a.datastore;if(!a||!u)return r(new Error(\"Please run jsipfs init first\"));(\"string\"==typeof e||e instanceof String)&&(e=n.decode(e)),i(`New MFS root will be ${n.encode(e)}`),o([t=>{if(a.closed)return i(\"Opening datastore\"),u.open(e=>t(e));i(\"Datastore was already open\"),t()},t=>u.put(s,e,e=>t(e))],t=>r(t,e))})},function(t,e,r){\"use strict\";const n=r(426),i=r(355);t.exports=((t,e,r)=>{n(r=>{if(!e.parent){const t=e;return e=null,r(null,t)}i(t,{parent:e.parent.node,child:e.node,name:e.name,flush:!0},(t,n)=>{e.parent.node=n;const i=e;e=e.parent,r(t,i)})},()=>Boolean(e),r)})},function(t,e,r){\"use strict\";(function(e){t.exports=((t=1/0,r=4096)=>{let n=0;return(i,o)=>{if(i)return o&&o(i);if(n>=t)return o(!0);let s=r;n+s>t&&(s=t-n),n+=s,o(null,e.alloc(s,0))}})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(4),i=r(88),o=r(8),s=r(47),{traverseTo:a,loadNode:u,FILE_SEPARATOR:c,FILE_TYPES:f}=r(50),h={long:!1};t.exports=(t=>(function(e,r,l){\"function\"==typeof e&&(l=e,e=c,r={}),\"function\"==typeof r&&(l=r,r={}),(r=Object.assign({},h,r)).long=r.l||r.long,n([r=>a(t,e,{},r),(e,r)=>{const a=s.unmarshal(e.node.data);\"directory\"===a.type?i(e.node.links,(e,r)=>{n([r=>u(t,e,r),(t,r)=>{const n=s.unmarshal(t.data);r(null,{name:e.name,type:n.type,hash:o.encode(t.multihash),size:n.fileSize()||0})}],r)},r):r(null,[{name:e.name,type:a.type,hash:o.encode(e.node.multihash),size:a.fileSize()||0}])},(t,e)=>e(null,t.map(t=>(f.hasOwnProperty(t.type)&&(t.type=f[t.type]),r.long||(t.type=0,t.size=0,t.hash=\"\"),t))),(t,e)=>{if(r.long)return e(null,t.sort((t,e)=>e.name.localeCompare(t.name)));e(null,t)}],l)}))},function(t,e,r){\"use strict\";(function(e){const n=r(76),i=r(98),o=r(4),s=r(356);t.exports=(t=>(function(r,a,u){\"function\"==typeof a&&(u=a,a={}),o([e=>s(t)(r,a,e),(t,e)=>n(t,i(e)),(t,r)=>{r(null,e.concat(t))}],u)}))}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(4),i=r(356),o=r(164);t.exports=(t=>(function(e,r,s){\"function\"==typeof r&&(s=r,r={}),n([n=>i(t)(e,r,n),(t,e)=>e(null,o.source(t))],s)}))},function(t,e,r){\"use strict\";const n=r(4),{traverseTo:i,FILE_SEPARATOR:o}=r(50),s={};t.exports=(t=>(function(e,r,a){\"function\"==typeof r&&(a=r,r={}),\"function\"==typeof e&&(a=e,r={},e=o),e||(e=o),r=Object.assign({},s,r),n([r=>i(t,e,{},r),(t,e)=>{e()}],a)}))},function(t,e,r){\"use strict\";const n=r(4),i=r(6)(\"ipfs:mfs:mkdir\"),{updateMfsRoot:o,updateTree:s,traverseTo:a,FILE_SEPARATOR:u}=r(50),c={parents:!1,hash:void 0,cidVersion:void 0};t.exports=(t=>(function(e,r,f){return\"function\"==typeof r&&(f=r,r={}),(r=Object.assign({},c,r)).parents=r.p||r.parents,e?(e=e.trim())===u?f(r.parents?null:new Error(`cannot create directory '${u}': Already exists`)):(i(`Creating ${e}`),void n([r=>{a(t,e,{parents:!1,createLastComponent:!1},t=>t?t.message.includes(\"did not exist\")?(i(`${e} did not exist`),r()):r(t):(i(`${e} already exists`),r(new Error(\"file already exists\"))))},n=>a(t,e,{parents:r.parents,flush:r.flush,createLastComponent:!0},n),(e,r)=>s(t,e,r),(e,r)=>o(t,e.node.multihash,r)],t=>{t&&t.message.includes(\"file already exists\")&&r.parents&&(t=null),f(t)})):f(new Error(\"no path given to Mkdir\"))}))},function(t,e,r){\"use strict\";const n=r(52),{toSources:i}=r(50),o=r(707),s=r(708),a={parents:!1,recursive:!1,flush:!0,format:\"dag-pb\",hashAlg:\"sha2-256\"};t.exports=(t=>(function(){let e=Array.from(arguments);Array.isArray(e[0])&&(e=e[0].concat(e.slice(1)));const{sources:r,options:u,callback:c}=i(e,a),f=r.map(t=>t.path).concat(u),h=r.slice(0,-1).map(t=>t.path).concat(Object.assign(u,{recursive:!0}));n([e=>o(t).apply(null,f.concat(e)),e=>s(t).apply(null,h.concat(e))],c)}))},function(t,e,r){\"use strict\";(function(e,n){const i=r(22),o=r(13),s=r(4),a=r(66),{updateMfsRoot:u,validatePath:c,traverseTo:f,addLink:h,updateTree:l,limitStreamBytes:p}=r(50),d=r(97),y=r(6)(\"ipfs:mfs:write\"),m=r(8),g=r(709),b=r(1745),v=r(221),_=r(694),w=r(1748),S=r(1749),k=r(695),E=r(166),A=r(76);let x;w&&(x=r(1753));const T={offset:0,length:void 0,create:!1,truncate:!1,rawLeafNodes:!0,reduceSingleLeafToSelf:!1,cidVersion:void 0,hashAlg:\"sha2-256\",format:\"dag-pb\",parents:!1,progress:void 0,strategy:\"trickle\",flush:!0};t.exports=function(t){return i((r,i,o,u)=>(\"function\"==typeof o&&(u=o,o={}),(o=Object.assign({},T,o)).offset<0?u(new Error(\"cannot have negative write offset\")):o.length<0?u(new Error(\"cannot have negative byte count\")):0!==o.length||o.truncate?(o.length||(o.length=1/0),void s([t=>{a([t=>((t,r,i)=>t?e.isBuffer(t)?(y(\"Content was a buffer\"),r.length=r.length||t.length,i(null,d([t]))):\"string\"==typeof t||t instanceof String?(y(\"Content was a path\"),s([e=>r.length?e(null,{size:r.length}):x.stat(t,e),(e,n)=>{r.length=e.size,n(null,v.source(x.createReadStream(t)))}],i)):(n.Blob&&t instanceof n.Blob&&(y(\"Content was an HTML5 Blob\"),r.length=r.length||t.size,t=S(t)),_(t)?(y(\"Content was a Node stream\"),i(null,v.source(t))):k.isSource(t)?(y(\"Content was a pull-stream\"),i(null,t)):void i(new Error(`Don't know how to convert ${t} into a pull stream source`))):i(new Error(\"paths must start with a leading /\")))(i,o,t),t=>c(r,t)],t)},([e,r],n)=>{s([n=>f(t,r.directory,Object.assign({},o,{createLastComponent:o.parents}),(t,r)=>n(t,e,r)),(e,n,i)=>{B(t,o,r,e,n,i)}],n)}],t=>u(t))):u()))};const B=(t,r,n,i,a,c)=>{s([s=>{const u=a.node.links.reduce((t,e)=>e.name===n.name?e:t,null);if(u)y(\"Updating linked DAGNode\",m.encode(u.multihash)),b(t,new o(u.multihash),i,r,s);else{if(!r.create)return s(new Error(\"file does not exist\"));r.offset&&(r.length+=r.offset,i=E([d([e.alloc(r.offset,0)]),i])),i=A(i,p(r.length)),y(\"Importing file\",n.name),g(t,i,r,(t,e)=>{y(`Imported file ${n.name} ${m.encode(e.multihash)}`),s(t,e)})}},(e,i)=>h(t,{parent:a.node,name:n.name,child:{multihash:e.multihash||e.hash,size:e.size},flush:r.flush},(t,e)=>{a.node=e,y(`New CID for the containing folder is ${m.encode(e.multihash)}`),e.links.forEach(t=>{y(`${t.name} ${m.encode(t.multihash)}`)}),i(t)}),e=>l(t,a,e),(e,r)=>u(t,e.node.multihash,r)],c)}}).call(this,r(0).Buffer,r(5))},function(t,e,r){\"use strict\";const n=r(47),{unmarshal:i}=n,o=r(76),s=r(166),a=r(98),u=r(56),c=r(422),f=r(142),h=r(4),l=r(66),p=r(6)(\"ipfs:mfs:write:update-node\"),{limitStreamBytes:d,countStreamBytes:y,createNode:m,zeros:g,loadNode:b}=r(50),v=r(709),_=r(1746),w=r(1747),{DAGLink:S}=r(48);t.exports=((t,e,r,n,k)=>{let E=n.offset||0,A=E,x=E+n.length,T=A;h([r=>b(t,e,r),(b,k)=>{const B=i(b.data).fileSize();p(`Updating bytes ${A}-${x} of ${B} bytes from ${e.toBaseEncodedString()} with source`);let I=0;A>B&&(p(`Adding ${I=A-B} 0s to the start of the block`),r=s([g(I),r]));const C=u(),M=u();o(r,f(Boolean),d(n.length+I),y(t=>{x===1/0&&(x=E+t)}),c(t=>{p(`Writing ${t.length} at ${T} of ${B}`),T<B?T+t.length>B?(C.push(t.slice(0,B-T)),M.push(t.slice(B-T))):C.push(t):M.push(t),T+=t.length}),a(t=>{C.end(t),M.end()})),h([e=>{l([e=>_(t,b,B,A,x,C,n,e),e=>v(t,M,n,e)],e)},([e,r],o)=>{const s=i((e=e||b).data),a=i(r.data);if(a.fileSize()){const i=e.links;return a.data&&a.data.length?(p(\"New data was found on appended node\"),r.links&&r.links.length&&p(\"New data was also found on appended node children\"),s.addBlockSize(a.fileSize()),i.push(new S(\"\",r.size,r.multihash))):r.links&&r.links.length&&(p(\"New data required multiple DAGNodes\"),r.links.forEach((t,e)=>{s.addBlockSize(a.blockSizes[e]),i.push(t)})),m(t,s.marshal(),i,n,o)}o(null,e)},(e,r)=>{if(n.truncate)return w(t,e,x,n,r);r(null,e)}],k)}],k)})},function(t,e,r){\"use strict\";(function(e){const n=r(4),i=r(76),o=r(97),s=r(186),a=r(142),u=r(98),c=r(354),f=r(6)(\"ipfs:mfs:write:update-tree\"),h=r(47),{unmarshal:l}=h,p=r(8),{leafFirst:d}=r(259),{DAGLink:y}=r(48),{createNode:m,loadNode:g,bufferPullStreamSource:b}=r(50);t.exports=((t,r,v,_,w,S,k,E)=>{let A=0;function x({node:e}){const r=l(e.data);f(`Node links ${e.links.length}${r.blockSizes.length?`, block sizes ${r.blockSizes.join(\", \")}`:\"\"} with ${r.data?`${r.data.length} bytes of`:\"no\"} data`);const n={node:e},s=e.links.map((t,e)=>{const i={parent:n,link:t,index:e,nodeStart:A,nodeEnd:A+r.blockSizes[e]};return A=i.nodeEnd,i}).filter((t,e)=>(f(\"child.nodeStart\",t.nodeStart,\"child.nodeEnd\",t.nodeEnd,\"streamStart\",_,\"streamEnd\",w),_>=t.nodeStart&&_<t.nodeEnd||w>t.nodeStart&&w<=t.nodeEnd||_<t.nodeStart&&w>t.nodeEnd));return s.length?(A=s[0].nodeStart,f(`Updating links with index(es) ${s.map(t=>t.index).join(\",\")}`)):f(\"No links to update\"),i(o(s),c((e,r)=>{g(t,e.link,(t,n)=>{r(t,Object.assign({},e,{node:n}))})}))}n([o=>i(d({parent:null,link:null,index:null,node:r,nodeStart:A,nodeEnd:v},x),c(function(r){const i=b(r);return({parent:r,link:o,nodeStart:s,node:a,index:u},c)=>{if(!a||!a.data)return c();const d=l(a.data);if(!d||!d.data||!d.data.length)return c();n([t=>i(d.data.length,t),(t,r)=>{const n=_-s;let i=w-_;d.data.length<i&&(_+=d.data.length);const o=e.from(d.data);i===1/0&&(i=void 0),t.copy(o,n,0,i),r(null,new h(d.type,o).marshal())},(e,r)=>m(t,e,[],k,r),(t,e)=>{f(`Created DAGNode with new data with hash ${p.encode(t.multihash)} to replace ${p.encode(a.multihash)}`),e(null,{parent:r,index:u,multihash:t.multihash,size:t.size})}],c)}}(S)),a(Boolean),s((e,r)=>{if(!e.parent||void 0===e.index)return r(null,e);const i=e.parent.node.links.map((t,r)=>r===e.index?new y(\"\",e.size,e.multihash):t);n([r=>m(t,e.parent.node.data,i,k,r),(t,r)=>{e.parent.node=t,r(null,e)}],r)}),u((t,e)=>{let r;if(!t&&e&&e.length){for(r=e[0];r.parent;)r=r.parent;r.node&&(r=r.node),f(`Updated root is ${p.encode(r.multihash)}`)}o(t,r)})),(e,r)=>g(t,e,r)],E)})}).call(this,r(0).Buffer)},function(t,e,r){\"use strict\";const n=r(175).exporter,i=r(175).importer,o=r(76),s=r(97),a=r(186),u=r(98),c=r(6)(\"ipfs:mfs:write:truncate-node\"),{loadNode:f}=r(50);t.exports=((t,e,r,h,l)=>{c(`Truncating ${e.multihash} to ${r} bytes`),o(n(e.multihash,t._ipld,{offset:0,length:r}),a((e,r)=>{o(s([{content:e.content}]),i(t._ipld,{progress:h.progress,hashAlg:h.hash,cidVersion:h.cidVersion,strategy:h.strategy,rawLeafNodes:!0,reduceSingleLeafToSelf:!1}),u(r))}),a((e,r)=>f(t,e[0],r)),u((t,e)=>{l(t,e.pop())}))})},function(t,e,r){(function(e){t.exports=!1;try{t.exports=\"[object process]\"===Object.prototype.toString.call(e.process)}catch(t){}}).call(this,r(5))},function(t,e,r){var n=r(1750),i=r(1751);t.exports=function(t,e){var r=(e=e||{}).offset||0,o=e.chunkSize||1048576,s=new FileReader(t),a=n(function(e,n){if(r>=t.size)return n(null,null);s.onloadend=function(t){var e=t.target.result;e instanceof ArrayBuffer&&(e=i(new Uint8Array(t.target.result))),n(null,e)};var a=r+o,u=t.slice(r,a);s.readAsArrayBuffer(u),r=a});return a.name=t.name,a.size=t.size,a.type=t.type,a.lastModified=t.lastModified,s.onerror=function(t){a.destroy(t)},a}},function(t,e,r){(function(e){var n=r(58).Readable,i=r(1);t.exports=s,s.ctor=a,s.obj=function(t,e){(\"function\"==typeof t||Array.isArray(t))&&(e=t,t={});return(t=c(t)).objectMode=!0,t.highWaterMark=16,s(t,e)};var o=a();function s(t,e){(\"object\"!=typeof t||Array.isArray(t))&&(e=t,t={});var r=new o(t);return r._from=Array.isArray(e)?function(t){return t=t.slice(),function(e,r){var n=null,i=t.length?t.shift():null;i instanceof Error&&(n=i,i=null),r(n,i)}}(e):e||u,r}function a(t,r){function o(e){if(!(this instanceof o))return new o(e);this._reading=!1,this._callback=function(t,e){if(r.destroyed)return;if(t)return r.destroy(t);if(null===e)return r.push(null);r._reading=!1,r.push(e)&&r._read(i)},this.destroyed=!1,n.call(this,e||t);var r=this,i=this._readableState.highWaterMark}return\"function\"==typeof t&&(r=t,t={}),t=c(t),i(o,n),o.prototype._from=r||u,o.prototype._read=function(t){this._reading||this.destroyed||(this._reading=!0,this._from(t,this._callback))},o.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var r=this;e.nextTick(function(){t&&r.emit(\"error\",t),r.emit(\"close\")})}},o}function u(){}function c(t){return t=t||{}}}).call(this,r(7))},function(t,e,r){(function(e){var n=r(1752).strict;t.exports=function(t){if(n(t)){var r=e.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)),r}return e.from(t)}}).call(this,r(0).Buffer)},function(t,e){t.exports=i,i.strict=o,i.loose=s;var r=Object.prototype.toString,n={\"[object Int8Array]\":!0,\"[object Int16Array]\":!0,\"[object Int32Array]\":!0,\"[object Uint8Array]\":!0,\"[object Uint8ClampedArray]\":!0,\"[object Uint16Array]\":!0,\"[object Uint32Array]\":!0,\"[object Float32Array]\":!0,\"[object Float64Array]\":!0};function i(t){return o(t)||s(t)}function o(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function s(t){return n[r.call(t)]}},function(t,e){},function(t,e,r){\"use strict\";const n=r(188);t.exports=(t=>{return new n(t||\"ipfs\")})},function(t,e,r){\"use strict\";const n=r(6),i=n(\"jsipfs:state\");i.error=n(\"jsipfs:state:error\");const o=r(1756);t.exports=(t=>{const e=o(\"uninitialized\",{uninitialized:{init:\"initializing\",initialized:\"stopped\"},initializing:{initialized:\"stopped\"},stopped:{start:\"starting\"},starting:{started:\"running\"},running:{stop:\"stopping\"},stopping:{stopped:\"stopped\"}});return e.on(\"error\",t=>i.error(t)),e.on(\"done\",()=>i(\"-> \"+e._state)),e.init=(()=>{e(\"init\")}),e.initialized=(()=>{e(\"initialized\")}),e.stop=(()=>{e(\"stop\")}),e.stopped=(()=>{e(\"stopped\")}),e.start=(()=>{e(\"start\")}),e.started=(()=>{e(\"started\")}),e.state=(()=>e._state),e})},function(t,e,r){const n=r(19).EventEmitter,i=r(15),o=r(1757);t.exports=function(t,e){\"object\"==typeof t&&(e=t,t=\"START\");i.equal(typeof t,\"string\"),i.equal(typeof e,\"object\"),i.ok(e[t],\"invalid starting state \"+t),i.ok(o.validate(e));const r=new n;return s._graph=o.reachable(e),s._emitter=r,s._events=e,s._state=t,s.emit=s,s.on=function(t,e){r.on(t,e)},s;function s(t){const e=s._events[s._state][t];if(!function(t,e,r){if(!e)return!1;if(!t)return!0;const n=r[t];return!(!n||!n[e])&&1===n[e].length}(s._state,e,s._graph)){const e=\"invalid transition: \"+s._state+\" -> \"+t;return r.emit(\"error\",e)}const n=s._state+\":leave\",i=e+\":enter\";return s._state?void(r._events[n]?r.emit(n,o):o()):o();function o(){r._events[i]?r.emit(i,a):a()}function a(){s._state=e,r.emit(e),r.emit(\"done\")}}}},function(t,e){function r(t,e){for(var r in t){e(t[r],r,t)}}function n(t){return Object.keys(t).sort()}function i(t,e){return~t.indexOf(e)}function o(t,e){return t.filter(function(t){return i(e,t)})}e.validate=function(t){Object.keys(t);return r(t,function(e,n){r(e,function(e,r){if(!t[e])throw new Error(\"invalid transition from state:\"+n+\" to state:\"+e+\" on event:\"+r)})}),!0};var s=e.reachable=function(t){var e={},n=!1;do{n=!1,r(t,function(t,i){var o=e[i]=e[i]||{};r(t,function(t,e){o[t]||(o[t]=[e],n=!0)}),r(t,function(t,i){r(e[t],function(t,e){o[e]||(o[e]=[i].concat(t),n=!0)})})})}while(n);return e};e.terminal=e.deadlock=function(t){var e=[];return r(t,function(t,r){(function(t){for(var e in t)return!1;return!0})(t)&&e.push(r)}),e};e.livelock=function(t,e){var n=[];return r(s(t),function(t,o){i(e,o)||r(e,function(e){t[e]||i(n,o)||n.push(o)})}),n.sort()};function a(t){var e=[];return r(t,function(t,n){r(t,function(t,r){i(e,r)||e.push(r)})}),e.sort()}e.combine=function(t,e,r,s){var u={},c=function(t,e){return t.filter(function(t){return!i(e,t)}).concat(e.filter(function(e){return!i(t,e)})).sort()}(a(t),a(e));return function r(i,s){var a,f=i+\"-\"+s;u[f]||(u[f]={}),a=u[f];var h=n(t[i]),l=n(e[s]);return o(h,l).forEach(function(n){a[n]=t[i][n]+\"-\"+e[s][n],u[a[n]]||r(t[i][n],e[s][n])}),o(c,h).forEach(function(e){a[e]=t[i][e]+\"-\"+s,u[a[e]]||r(t[i][e],s)}),o(c,l).forEach(function(t){a[t]=i+\"-\"+e[s][t],u[a[t]]||r(i,e[s][t])}),u[f]}(r,s),u}}]);","extractedComments":[]}